<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‡ ì—˜ë”ë² ë¦¬ ê°œë°œ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .header h1 {
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header .subtitle {
            color: #666;
            margin-top: 5px;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 8px 0;
            padding: 8px;
            background: #f8fafc;
            border-radius: 8px;
        }

        .metric-value {
            font-weight: bold;
            color: #333;
        }

        .metric-value.success { color: #10b981; }
        .metric-value.warning { color: #f59e0b; }
        .metric-value.error { color: #ef4444; }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            transition: width 0.3s ease;
        }

        .actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .action-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .logs {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .logs h3 {
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .log-entry {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-time {
            color: #64748b;
            font-size: 12px;
            white-space: nowrap;
        }

        .log-level {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .log-level.info { background: #dbeafe; color: #1e40af; }
        .log-level.warn { background: #fef3c7; color: #92400e; }
        .log-level.error { background: #fee2e2; color: #991b1b; }
        .log-level.success { background: #d1fae5; color: #065f46; }

        .log-message {
            flex: 1;
            font-size: 13px;
            line-height: 1.4;
        }

        .refresh-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .refresh-indicator.show {
            opacity: 1;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-badge.healthy {
            background: #d1fae5;
            color: #065f46;
        }

        .status-badge.warning {
            background: #fef3c7;
            color: #92400e;
        }

        .status-badge.critical {
            background: #fee2e2;
            color: #991b1b;
        }

        .chart-container {
            height: 200px;
            background: #f8fafc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .dashboard {
                padding: 10px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .actions {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>ğŸ‡ ì—˜ë”ë² ë¦¬ ê°œë°œ ëŒ€ì‹œë³´ë“œ</h1>
            <div class="subtitle">Elderberry-Intellect ìê¸° ì§„í™”í˜• ê°œë°œ ì§€ì› ì‹œìŠ¤í…œ</div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>ğŸ¥ ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                <div class="metric">
                    <span>ì „ì²´ í—¬ìŠ¤ ì ìˆ˜</span>
                    <span class="metric-value success" id="health-score">85ì </span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 85%"></div>
                </div>
                <div class="metric">
                    <span>Spring Boot ìƒíƒœ</span>
                    <span class="status-badge warning">âš ï¸ 67ê°œ ì—ëŸ¬</span>
                </div>
                <div class="metric">
                    <span>React í”„ë¡ íŠ¸ì—”ë“œ</span>
                    <span class="status-badge healthy">âœ… ì •ìƒ</span>
                </div>
                <div class="metric">
                    <span>Git ìƒíƒœ</span>
                    <span class="status-badge healthy">âœ… ê¹¨ë—í•¨</span>
                </div>
            </div>

            <div class="stat-card">
                <h3>ğŸ§  AI ì§€ëŠ¥í˜• ì‹œìŠ¤í…œ</h3>
                <div class="metric">
                    <span>Claude Guide</span>
                    <span class="metric-value success">v4.0.0</span>
                </div>
                <div class="metric">
                    <span>ë™ì  ì²´í¬ë¦¬ìŠ¤íŠ¸</span>
                    <span class="metric-value success">í™œì„±</span>
                </div>
                <div class="metric">
                    <span>ì˜ˆì¸¡ ë¶„ì„</span>
                    <span class="metric-value success">í™œì„±</span>
                </div>
                <div class="metric">
                    <span>í•™ìŠµëœ íŒ¨í„´</span>
                    <span class="metric-value">23ê°œ</span>
                </div>
            </div>

            <div class="stat-card">
                <h3>ğŸ“Š ê°œë°œ í†µê³„</h3>
                <div class="metric">
                    <span>ì´ í•´ê²°ëœ ì´ìŠˆ</span>
                    <span class="metric-value">47ê°œ</span>
                </div>
                <div class="metric">
                    <span>ì—ëŸ¬ íŒ¨í„´</span>
                    <span class="metric-value">12ê°œ</span>
                </div>
                <div class="metric">
                    <span>ì„±ëŠ¥ ìµœì í™”</span>
                    <span class="metric-value">8íšŒ</span>
                </div>
                <div class="metric">
                    <span>ì§€ì¹¨ ì¤€ìˆ˜ìœ¨</span>
                    <span class="metric-value success">92%</span>
                </div>
            </div>

            <div class="stat-card">
                <h3>ğŸ”„ ì›Œí¬í”Œë¡œìš°</h3>
                <div class="metric">
                    <span>í˜„ì¬ Phase</span>
                    <span class="metric-value">Phase 7</span>
                </div>
                <div class="metric">
                    <span>ì™„ë£Œëœ ì‘ì—…</span>
                    <span class="metric-value">38/45</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 84%"></div>
                </div>
                <div class="metric">
                    <span>ë§ˆì§€ë§‰ ì‹¤í–‰</span>
                    <span class="metric-value">2ë¶„ ì „</span>
                </div>
            </div>
        </div>

        <div class="actions">
            <button class="action-btn" onclick="runCommand('guide')">
                ğŸ§  ì§€ëŠ¥í˜• ê°€ì´ë“œ ì‹¤í–‰
            </button>
            <button class="action-btn" onclick="runCommand('health')">
                ğŸ¥ í—¬ìŠ¤ì²´í¬ ì‹¤í–‰
            </button>
            <button class="action-btn" onclick="runCommand('compliance')">
                ğŸ“Š ì§€ì¹¨ ì¤€ìˆ˜ ê²€ì¦
            </button>
            <button class="action-btn" onclick="runCommand('troubleshoot')">
                ğŸ”§ ìë™ ë¬¸ì œí•´ê²°
            </button>
            <button class="action-btn" onclick="runCommand('workflow')">
                ğŸ”„ ì›Œí¬í”Œë¡œìš° ì‹œì‘
            </button>
            <button class="action-btn" onclick="runCommand('predict')">
                ğŸ”® ìœ„í—˜ë„ ì˜ˆì¸¡
            </button>
        </div>

        <div class="logs">
            <h3>ğŸ“ ì‹¤ì‹œê°„ ë¡œê·¸</h3>
            <div id="log-container">
                <!-- ë¡œê·¸ ì—”íŠ¸ë¦¬ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <div class="refresh-indicator" id="refresh-indicator">
        ğŸ”„ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì¤‘...
    </div>

    <script>
        // ëŒ€ì‹œë³´ë“œ ìƒíƒœ ê´€ë¦¬
        class ElderberryDashboard {
            constructor() {
                this.isRefreshing = false;
                this.refreshInterval = 30000; // 30ì´ˆ
                this.logContainer = document.getElementById('log-container');
                this.refreshIndicator = document.getElementById('refresh-indicator');
                
                this.initializeDashboard();
                this.startAutoRefresh();
            }

            initializeDashboard() {
                console.log('ğŸ‡ ì—˜ë”ë² ë¦¬ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”');
                this.loadInitialLogs();
                this.updateStats();
            }

            loadInitialLogs() {
                const initialLogs = [
                    { time: '14:32:15', level: 'success', message: 'ğŸ‡ ì—˜ë”ë² ë¦¬ ëŒ€ì‹œë³´ë“œ ì‹œì‘ë¨' },
                    { time: '14:32:16', level: 'info', message: 'ğŸ§  Claude Guide System v4.0.0 ë¡œë“œ ì™„ë£Œ' },
                    { time: '14:32:17', level: 'info', message: 'ğŸ“‹ ë™ì  ì²´í¬ë¦¬ìŠ¤íŠ¸ ì„œë¹„ìŠ¤ í™œì„±í™”' },
                    { time: '14:32:18', level: 'info', message: 'ğŸ”® ì˜ˆì¸¡ ë¶„ì„ ì„œë¹„ìŠ¤ í™œì„±í™”' },
                    { time: '14:32:19', level: 'warn', message: 'âš ï¸ Spring Boot 67ê°œ ì»´íŒŒì¼ ì—ëŸ¬ ê°ì§€' },
                    { time: '14:32:20', level: 'info', message: 'âœ… React í”„ë¡ íŠ¸ì—”ë“œ ì •ìƒ ìƒíƒœ í™•ì¸' },
                    { time: '14:32:21', level: 'success', message: 'ğŸ¥ ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ ì™„ë£Œ - 85ì ' }
                ];

                initialLogs.forEach(log => this.addLogEntry(log));
            }

            addLogEntry(log) {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.innerHTML = `
                    <span class="log-time">${log.time}</span>
                    <span class="log-level ${log.level}">${log.level}</span>
                    <span class="log-message">${log.message}</span>
                `;
                
                this.logContainer.insertBefore(logEntry, this.logContainer.firstChild);
                
                // ìµœëŒ€ 50ê°œ ë¡œê·¸ë§Œ ìœ ì§€
                if (this.logContainer.children.length > 50) {
                    this.logContainer.removeChild(this.logContainer.lastChild);
                }
            }

            showRefreshIndicator() {
                this.refreshIndicator.classList.add('show');
                setTimeout(() => {
                    this.refreshIndicator.classList.remove('show');
                }, 2000);
            }

            updateStats() {
                // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ë°±ì—”ë“œ APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
                // í˜„ì¬ëŠ” ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ì‚¬ìš©
                
                const healthScore = Math.floor(Math.random() * 10) + 80; // 80-90 ì‚¬ì´
                document.getElementById('health-score').textContent = `${healthScore}ì `;
                
                // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach(bar => {
                    const currentWidth = parseInt(bar.style.width);
                    const newWidth = Math.max(currentWidth + Math.floor(Math.random() * 3) - 1, 0);
                    bar.style.width = `${Math.min(newWidth, 100)}%`;
                });
            }

            startAutoRefresh() {
                setInterval(() => {
                    if (!this.isRefreshing) {
                        this.refreshData();
                    }
                }, this.refreshInterval);
            }

            async refreshData() {
                this.isRefreshing = true;
                this.showRefreshIndicator();
                
                try {
                    // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” CLI ëª…ë ¹ì–´ ì‹¤í–‰ ë˜ëŠ” API í˜¸ì¶œ
                    await this.simulateDataRefresh();
                    this.updateStats();
                    
                    const now = new Date();
                    const timeString = now.toLocaleTimeString('ko-KR');
                    
                    this.addLogEntry({
                        time: timeString,
                        level: 'info',
                        message: 'ğŸ”„ ëŒ€ì‹œë³´ë“œ ë°ì´í„° ìë™ ê°±ì‹  ì™„ë£Œ'
                    });
                    
                } catch (error) {
                    this.addLogEntry({
                        time: new Date().toLocaleTimeString('ko-KR'),
                        level: 'error',
                        message: `âŒ ë°ì´í„° ê°±ì‹  ì‹¤íŒ¨: ${error.message}`
                    });
                } finally {
                    this.isRefreshing = false;
                }
            }

            async simulateDataRefresh() {
                // ì‹¤ì œ ë°ì´í„° ë¡œë”© ì‹œë®¬ë ˆì´ì…˜
                return new Promise(resolve => {
                    setTimeout(resolve, 1000);
                });
            }

            // CLI ëª…ë ¹ì–´ ì‹¤í–‰ (ì‹œë®¬ë ˆì´ì…˜)
            async executeCommand(command) {
                const now = new Date().toLocaleTimeString('ko-KR');
                
                this.addLogEntry({
                    time: now,
                    level: 'info',
                    message: `âš¡ ${command} ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œì‘`
                });

                // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì›¹ì†Œì¼“ì´ë‚˜ Server-Sent Eventsë¥¼ í†µí•´
                // ë°±ì—”ë“œì˜ CLI ì‹¤í–‰ ê²°ê³¼ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ì•„ì˜´
                setTimeout(() => {
                    this.addLogEntry({
                        time: new Date().toLocaleTimeString('ko-KR'),
                        level: 'success',
                        message: `âœ… ${command} ëª…ë ¹ì–´ ì‹¤í–‰ ì™„ë£Œ`
                    });
                }, 2000);

                return new Promise(resolve => {
                    setTimeout(resolve, 2000);
                });
            }
        }

        // ì „ì—­ í•¨ìˆ˜ë“¤
        let dashboard;

        function runCommand(command) {
            const commandMap = {
                'guide': 'ì§€ëŠ¥í˜• ê°€ì´ë“œ',
                'health': 'í—¬ìŠ¤ì²´í¬',
                'compliance': 'ì§€ì¹¨ ì¤€ìˆ˜ ê²€ì¦',
                'troubleshoot': 'ìë™ ë¬¸ì œí•´ê²°',
                'workflow': 'ì›Œí¬í”Œë¡œìš°',
                'predict': 'ìœ„í—˜ë„ ì˜ˆì¸¡'
            };

            const commandName = commandMap[command] || command;
            dashboard.executeCommand(commandName);
        }

        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œì‹œ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            dashboard = new ElderberryDashboard();
        });

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', (event) => {
            if (event.ctrlKey || event.metaKey) {
                switch (event.key) {
                    case 'g':
                        event.preventDefault();
                        runCommand('guide');
                        break;
                    case 'h':
                        event.preventDefault();
                        runCommand('health');
                        break;
                    case 'r':
                        event.preventDefault();
                        dashboard.refreshData();
                        break;
                }
            }
        });

        // í˜ì´ì§€ ê°€ì‹œì„± API - íƒ­ì´ í™œì„±í™”ë˜ë©´ ë°ì´í„° ê°±ì‹ 
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden && dashboard) {
                dashboard.refreshData();
            }
        });
    </script>
</body>
</html>