const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-BcRHt3Se.js","assets/react-vendor-NBmhJu69.js","assets/vendor-MoQSWkxU.js","assets/utils-cIyM4dU9.js","assets/state-management-DQx9wNSQ.js","assets/auth-pages-CET0Wacd.js","assets/ui-libs-DxRLeP0W.js","assets/board-pages-Dgl2uhfi.js","assets/profile-pages-CoRPQ_9l.js","assets/job-pages-CVWPFYvu.js","assets/health-pages-D7Y3mQMo.js","assets/facility-pages-B_M2czrp.js","assets/chat-pages-DmMwbQEe.js","assets/MyPage-BEv7kQzN.js","assets/CoordinatorMatchingWizard-B3d9rgHx.js","assets/UnauthorizedPage-Cs4RhtQy.js","assets/NotificationsPage-klb74LWA.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,i=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&l(e,a,s[a]);if(t)for(var a of t(s))n.call(s,a)&&l(e,a,s[a]);return e},o=(e,t)=>s(e,a(t)),c=(e,s)=>{var a={};for(var l in e)r.call(e,l)&&s.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&t)for(var l of t(e))s.indexOf(l)<0&&n.call(e,l)&&(a[l]=e[l]);return a},d=(e,s,a)=>l(e,"symbol"!=typeof s?s+"":s,a),h=(e,s,a)=>new Promise((t,r)=>{var n=e=>{try{i(a.next(e))}catch(s){r(s)}},l=e=>{try{i(a.throw(e))}catch(s){r(s)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,l);i((a=a.apply(e,s)).next())});import{b as m,r as x,j as u,aF as p,aG as f,c as g,aH as b,aI as j,aJ as y,af as N,_ as v,az as _,ay as w,aA as E,a5 as k,l as C,N as I,a1 as T,u as A,g as O,X as P,W as R,aK as D,S as L,aL as S,a7 as M,U as V,aM as U,T as F,a0 as H,aN as $,aO as z,aP as B,aQ as J}from"./react-vendor-NBmhJu69.js";import{b as W,M as G,n as Y,i as q,B as Q,T as K}from"./auth-pages-CET0Wacd.js";import{m as X,A as Z}from"./ui-libs-DxRLeP0W.js";import{p as ee}from"./state-management-DQx9wNSQ.js";import{u as se,L as ae,a as te}from"./facility-pages-B_M2czrp.js";import{a6 as re,a7 as ne}from"./vendor-MoQSWkxU.js";import{e as le,d as ie}from"./chat-pages-DmMwbQEe.js";import"./utils-cIyM4dU9.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const oe=({children:e,roles:s,fallbackPath:a="/login"})=>{const t=m(),{isAuthenticated:r,user:n,isLoading:l,validateToken:i}=W(),[o,c]=x.useState(!0);return x.useEffect(()=>{h(null,null,function*(){r&&n&&((yield i())||W.getState().logout()),c(!1)})},[r,n,i]),l||o?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-elderberry-600"})}):r&&n?s&&s.length>0&&!s.includes(n.role)?u.jsx(p,{to:"/unauthorized",state:{from:t.pathname,requiredRoles:s},replace:!0}):u.jsx(u.Fragment,{children:e}):u.jsx(p,{to:a,state:{from:t.pathname},replace:!0})},ce=({children:e})=>u.jsx(oe,{roles:[G.ADMIN],fallbackPath:"/unauthorized",children:e}),de=({children:e})=>u.jsx(oe,{roles:[G.COORDINATOR,G.ADMIN],fallbackPath:"/unauthorized",children:e}),he={},me=function(e,s,a){let t=Promise.resolve();if(s&&s.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=(null==a?void 0:a.nonce)||(null==a?void 0:a.getAttribute("nonce"));t=e(s.map(e=>{if((e=function(e){return"/"+e}(e))in he)return;he[e]=!0;const s=e.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const t=document.createElement("link");return t.rel=s?"stylesheet":"modulepreload",s||(t.as="script"),t.crossOrigin="",t.href=e,r&&t.setAttribute("nonce",r),document.head.appendChild(t),s?new Promise((s,a)=>{t.addEventListener("load",s),t.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return t.then(s=>{for(const e of s||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},xe={enabled:!0,reducedMotion:!1,performance:"high"},ue="elderberry_animation_config";const pe=new class{constructor(){d(this,"config"),this.config=this.loadConfig(),this.detectReducedMotion(),this.detectPerformance()}loadConfig(){try{const e=localStorage.getItem(ue);return e?i(i({},xe),JSON.parse(e)):xe}catch(e){return xe}}detectReducedMotion(){if("undefined"!=typeof window){const e=window.matchMedia("(prefers-reduced-motion: reduce)");this.config.reducedMotion=e.matches,e.addEventListener("change",e=>{this.config.reducedMotion=e.matches,this.saveConfig()})}}detectPerformance(){if("undefined"!=typeof navigator){const e=navigator.hardwareConcurrency||4,s=navigator.deviceMemory||4;this.config.performance=e>=8&&s>=8?"high":e>=4&&s>=4?"medium":"low"}}saveConfig(){try{localStorage.setItem(ue,JSON.stringify(this.config))}catch(e){}}isEnabled(){return this.config.enabled&&!this.config.reducedMotion}allowComplexAnimations(){return this.isEnabled()&&"low"!==this.config.performance}updateConfig(e){this.config=i(i({},this.config),e),this.saveConfig()}getConfig(){return i({},this.config)}},fe=(e,s={})=>pe.isEnabled()?e:s,ge=x.forwardRef((e,s)=>{var a=e,{as:t="div",children:r,className:n,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m}=a,x=c(a,["as","children","className","style","onClick","onMouseEnter","onMouseLeave"]);return u.jsx(t,o(i({ref:s,className:n,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m},x),{children:r}))});ge.displayName="StaticElement";const be=x.forwardRef((e,s)=>{var a=e,{as:t="div",children:r,className:n,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m,initial:p,animate:g,exit:b,transition:j,variants:y,whileHover:N,whileTap:v,fallbackClassName:_,enableCSSFallback:w=!0}=a,E=c(a,["as","children","className","style","onClick","onMouseEnter","onMouseLeave","initial","animate","exit","transition","variants","whileHover","whileTap","fallbackClassName","enableCSSFallback"]);if(!x.useMemo(()=>pe.isEnabled()&&pe.allowComplexAnimations(),[])){const e=w&&_?`${n||""} ${_}`:n;return u.jsx(ge,o(i({ref:s,as:t,className:e,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m},E),{children:r}))}try{const e=X[t];return e?f.createElement(e,i({ref:s,className:n,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m,initial:fe(p),animate:fe(g),exit:fe(b),transition:fe(j),variants:fe(y),whileHover:fe(N),whileTap:fe(v)},E),r):u.jsx(X.div,o(i({ref:s,className:n,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m,initial:fe(p),animate:fe(g),exit:fe(b),transition:fe(j),variants:fe(y),whileHover:fe(N),whileTap:fe(v)},E),{children:r}))}catch(k){return u.jsx(ge,o(i({ref:s,as:t,className:n,style:l,onClick:d,onMouseEnter:h,onMouseLeave:m},E),{children:r}))}});be.displayName="ConditionalMotion";const je=({children:e,mode:s,initial:a})=>x.useMemo(()=>pe.isEnabled(),[])?f.createElement(Z,{mode:s,initial:fe(a,!1)},e):u.jsx(u.Fragment,{children:e}),ye={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},fallbackClassName:"dropdown-enter"},Ne={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},fallbackClassName:"fade-in"},ve={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},fallbackClassName:"scale-in"},_e={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},fallbackClassName:"slide-up"},we=e=>u.jsx(be,i(i({},ye),e)),Ee=e=>u.jsx(be,i(i({},Ne),e)),ke=e=>u.jsx(be,i(i({},ve),e)),Ce=e=>u.jsx(be,i(i({},_e),e));var Ie=(e=>(e.FACILITY_MATCH_FOUND="facility_match_found",e.FACILITY_MATCH_CONFIRMED="facility_match_confirmed",e.FACILITY_MATCH_CANCELLED="facility_match_cancelled",e.REVIEW_APPROVED="review_approved",e.REVIEW_REJECTED="review_rejected",e.REVIEW_REPORTED="review_reported",e.JOB_APPLICATION_RECEIVED="job_application_received",e.JOB_APPLICATION_APPROVED="job_application_approved",e.JOB_APPLICATION_REJECTED="job_application_rejected",e.JOB_INTERVIEW_SCHEDULED="job_interview_scheduled",e.SYSTEM_MAINTENANCE="system_maintenance",e.SYSTEM_UPDATE="system_update",e.ACCOUNT_SECURITY="account_security",e.GENERAL_INFO="general_info",e.PROMOTION="promotion",e))(Ie||{}),Te=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(Te||{});const Ae={facility_match_found:{icon:"🏥",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},facility_match_confirmed:{icon:"✅",color:"green",bgColor:"bg-green-50",textColor:"text-green-600"},facility_match_cancelled:{icon:"❌",color:"red",bgColor:"bg-red-50",textColor:"text-red-600"},review_approved:{icon:"⭐",color:"yellow",bgColor:"bg-yellow-50",textColor:"text-yellow-600"},review_rejected:{icon:"⚠️",color:"orange",bgColor:"bg-orange-50",textColor:"text-orange-600"},review_reported:{icon:"🚨",color:"red",bgColor:"bg-red-50",textColor:"text-red-600"},job_application_received:{icon:"📝",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},job_application_approved:{icon:"🎉",color:"green",bgColor:"bg-green-50",textColor:"text-green-600"},job_application_rejected:{icon:"📋",color:"gray",bgColor:"bg-gray-50",textColor:"text-gray-600"},job_interview_scheduled:{icon:"📅",color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600"},system_maintenance:{icon:"🔧",color:"gray",bgColor:"bg-gray-50",textColor:"text-gray-600"},system_update:{icon:"🔄",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},account_security:{icon:"🔒",color:"red",bgColor:"bg-red-50",textColor:"text-red-600"},general_info:{icon:"ℹ️",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},promotion:{icon:"🎁",color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600"}},Oe={enabled:!0,email:!0,push:!0,sms:!1,types:{[Ie.FACILITY_MATCH_FOUND]:!0,[Ie.FACILITY_MATCH_CONFIRMED]:!0,[Ie.FACILITY_MATCH_CANCELLED]:!0,[Ie.REVIEW_APPROVED]:!0,[Ie.REVIEW_REJECTED]:!0,[Ie.REVIEW_REPORTED]:!1,[Ie.JOB_APPLICATION_RECEIVED]:!0,[Ie.JOB_APPLICATION_APPROVED]:!0,[Ie.JOB_APPLICATION_REJECTED]:!0,[Ie.JOB_INTERVIEW_SCHEDULED]:!0,[Ie.SYSTEM_MAINTENANCE]:!0,[Ie.SYSTEM_UPDATE]:!1,[Ie.ACCOUNT_SECURITY]:!0,[Ie.GENERAL_INFO]:!1,[Ie.PROMOTION]:!1},quietHours:{enabled:!1,start:"22:00",end:"08:00"}},Pe={total:0,unread:0,byType:Object.fromEntries(Object.values(Ie).map(e=>[e,0])),byPriority:{[Te.LOW]:0,[Te.MEDIUM]:0,[Te.HIGH]:0,[Te.URGENT]:0}},Re=g()(ee((e,s)=>({notifications:[],summary:Pe,settings:Oe,isLoading:!1,error:null,isDropdownOpen:!1,hasMore:!1,filter:{},isPolling:!1,fetchNotifications:(...a)=>h(null,[...a],function*(a={},t=!1){const r={operation:"fetchNotifications",context:{filter:a,loadMore:t}};try{t||e({isLoading:!0,error:null});let r,l=[],i=!1;try{throw new Error("API not implemented yet")}catch(n){l=[{id:"1",type:Ie.FACILITY_MATCH_FOUND,title:"새로운 시설 매칭",message:"조건에 맞는 요양시설이 발견되었습니다.",read:!1,createdAt:(new Date).toISOString(),priority:Te.HIGH,actionUrl:"/facilities/1"},{id:"2",type:Ie.JOB_APPLICATION_APPROVED,title:"구인 지원 승인",message:"지원하신 구인이 승인되었습니다.",read:!0,createdAt:new Date(Date.now()-864e5).toISOString(),readAt:(new Date).toISOString(),priority:Te.MEDIUM,actionUrl:"/jobs/applications"},{id:"3",type:Ie.REVIEW_APPROVED,title:"리뷰 승인됨",message:"작성하신 리뷰가 승인되어 게시되었습니다.",read:!1,createdAt:new Date(Date.now()-36e5).toISOString(),priority:Te.MEDIUM,actionUrl:"/reviews"}].filter(e=>{if(void 0!==a.read&&e.read!==a.read)return!1;if(a.types&&!a.types.includes(e.type))return!1;if(a.priority&&e.priority!==a.priority)return!1;if(a.dateFrom){if(new Date(e.createdAt)<new Date(a.dateFrom))return!1}if(a.dateTo){if(new Date(e.createdAt)>new Date(a.dateTo))return!1}return!0}),i=!1}const o=s(),c=t?[...o.notifications,...l]:l;e({notifications:c,hasMore:i,nextCursor:r,isLoading:!1,lastFetchTime:new Date}),s().updateSummary()}catch(l){const s=Y(l,r);q.logError(s,r),e({error:s,isLoading:!1})}}),markAsRead:a=>h(null,null,function*(){const t={operation:"markAsRead",context:{notificationId:a}};try{const t=s().notifications.map(e=>e.id===a?o(i({},e),{read:!0,readAt:(new Date).toISOString()}):e);e({notifications:t}),s().updateSummary()}catch(r){const s=Y(r,t);q.logError(s,t),e({error:s})}}),markAllAsRead:()=>h(null,null,function*(){const a={operation:"markAllAsRead",context:{}};try{const a=s(),t=(new Date).toISOString(),r=a.notifications.map(e=>o(i({},e),{read:!0,readAt:e.readAt||t}));e({notifications:r}),s().updateSummary()}catch(t){const s=Y(t,a);q.logError(s,a),e({error:s})}}),deleteNotification:a=>h(null,null,function*(){const t={operation:"deleteNotification",context:{notificationId:a}};try{const t=s().notifications.filter(e=>e.id!==a);e({notifications:t}),s().updateSummary()}catch(r){const s=Y(r,t);q.logError(s,t),e({error:s})}}),clearAllNotifications:()=>h(null,null,function*(){const s={operation:"clearAllNotifications",context:{}};try{e({notifications:[],summary:Pe})}catch(a){const t=Y(a,s);q.logError(t,s),e({error:t})}}),updateSettings:a=>h(null,null,function*(){const t={operation:"updateSettings",context:{settings:a}};try{const t=s(),r=i(i({},t.settings),a);e({settings:r})}catch(r){const s=Y(r,t);q.logError(s,t),e({error:s})}}),toggleDropdown:()=>{e(e=>({isDropdownOpen:!e.isDropdownOpen}))},closeDropdown:()=>{e({isDropdownOpen:!1})},setFilter:a=>{const t=s();e({filter:i(i({},t.filter),a)})},clearFilter:()=>{e({filter:{}})},startPolling:()=>{if(s().isPolling)return;e({isPolling:!0});const a=setInterval(()=>{const e=s();e.isPolling?e.fetchNotifications(e.filter,!1):clearInterval(a)},3e4);window.notificationPollingInterval=a},stopPolling:()=>{e({isPolling:!1}),window.notificationPollingInterval&&(clearInterval(window.notificationPollingInterval),delete window.notificationPollingInterval)},addNotification:a=>{const t=s();e({notifications:[a,...t.notifications]}),s().updateSummary()},clearError:()=>{e({error:null})},setLoading:s=>{e({isLoading:s})},updateSummary:()=>{const a=s().notifications,t={total:a.length,unread:a.filter(e=>!e.read).length,byType:Object.fromEntries(Object.values(Ie).map(e=>[e,a.filter(s=>s.type===e).length])),byPriority:{[Te.LOW]:a.filter(e=>e.priority===Te.LOW).length,[Te.MEDIUM]:a.filter(e=>e.priority===Te.MEDIUM).length,[Te.HIGH]:a.filter(e=>e.priority===Te.HIGH).length,[Te.URGENT]:a.filter(e=>e.priority===Te.URGENT).length}};e({summary:t})}}),{name:"notification-store",partialize:e=>({settings:e.settings,filter:e.filter})})),De=()=>{const{skipToContent:e}=se();return u.jsx("button",{onClick:e,className:"\r\n        sr-only focus:not-sr-only\r\n        fixed top-4 left-4 z-[9999]\r\n        bg-elderberry-600 text-white px-4 py-2 rounded-md\r\n        focus:ring-2 focus:ring-elderberry-300 focus:ring-offset-2\r\n        transition-all duration-200\r\n        text-sm font-medium\r\n      ","aria-label":"메인 콘텐츠로 건너뛰기",children:"메인 콘텐츠로 건너뛰기"})};const Le=({variant:e="button",className:s=""})=>{const{theme:a,resolvedTheme:t,setTheme:r}=function(){const[e,s]=x.useState("system"),[a,t]=x.useState("light");x.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{if("system"===e){const e=s.matches?"dark":"light";t(e),r(e)}};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[e]),x.useEffect(()=>{const e=localStorage.getItem("theme")||"system";s(e);const a="system"===(n=e)?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":n;var n;t(a),r(a)},[]);const r=e=>{const s=document.documentElement;"dark"===e?s.classList.add("dark"):s.classList.remove("dark");const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content","dark"===e?"#1f2937":"#ffffff")},n=e=>{s(e),localStorage.setItem("theme",e);const a="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;t(a),r(a)};return{theme:e,resolvedTheme:a,setTheme:n,toggleTheme:()=>{n("system"===e?"dark"===a?"light":"dark":"light"===e?"dark":"light")}}}(),n=[{value:"light",label:"라이트 모드",icon:j},{value:"dark",label:"다크 모드",icon:b},{value:"system",label:"시스템 설정",icon:y}];if("button"===e){const e="dark"===t?b:j;return u.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>r("dark"===t?"light":"dark"),className:s,"aria-label":("dark"===t?"라이트":"다크")+" 모드로 전환",children:u.jsx(e,{className:"w-5 h-5"})})}return u.jsxs("div",{className:`relative ${s}`,children:[u.jsx("select",{value:a,onChange:e=>r(e.target.value),className:"\r\n          appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600\r\n          rounded-lg px-3 py-2 pr-8 text-sm\r\n          focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500\r\n          dark:text-gray-100\r\n        ","aria-label":"테마 선택",children:n.map(({value:e,label:s})=>u.jsx("option",{value:e,children:s},e))}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})},Se=({notification:e,onClick:s,showActions:a=!0,compact:t=!1})=>{const{markAsRead:r,deleteNotification:n}=Re(),l=Ae[e.type],i=()=>{e.read||r(e.id),s?s(e):e.actionUrl&&(window.location.href=e.actionUrl)},o=re(new Date(e.createdAt),{addSuffix:!0,locale:ne}),c={[Te.LOW]:"border-l-gray-300",[Te.MEDIUM]:"border-l-blue-400",[Te.HIGH]:"border-l-orange-400",[Te.URGENT]:"border-l-red-500"};return u.jsx(be,{animation:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2}},children:u.jsxs("div",{className:`\n          relative p-4 border-l-4 cursor-pointer transition-all duration-200\n          ${c[e.priority]}\n          ${e.read?"bg-gray-50 opacity-75":`${l.bgColor} hover:shadow-md`}\n          ${t?"p-3":"p-4"}\n          hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-blue-500\n        `,onClick:i,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())},tabIndex:0,role:"button","aria-label":`알림: ${e.title}. ${e.read?"읽음":"읽지 않음"}`,children:[!e.read&&u.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-500 rounded-full","aria-label":"읽지 않은 알림"}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`text-lg ${l.textColor} flex-shrink-0`,children:l.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h3",{className:`\n                font-medium text-sm ${e.read?"text-gray-600":"text-gray-900"}\n                ${t?"text-xs":"text-sm"}\n                truncate\n              `,children:e.title}),!t&&u.jsx("span",{className:`\n                  text-xs ${e.read?"text-gray-400":"text-gray-500"}\n                  flex-shrink-0 ml-2\n                `,children:o})]}),u.jsx("p",{className:`\n              text-sm ${e.read?"text-gray-500":"text-gray-700"}\n              ${t?"text-xs line-clamp-1":"line-clamp-2"}\n            `,children:e.message}),e.priority===Te.URGENT&&u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"🚨 긴급"})}),a&&!t&&u.jsxs("div",{className:"mt-3 flex gap-2",children:[!e.read&&u.jsx("button",{onClick:s=>{s.stopPropagation(),r(e.id)},className:"text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline","aria-label":"읽음으로 표시",children:"읽음 표시"}),u.jsx("button",{onClick:s=>{s.stopPropagation(),n(e.id)},className:"text-xs text-red-600 hover:text-red-800 focus:outline-none focus:underline","aria-label":"알림 삭제",children:"삭제"})]})]})]})]})})},Me=({isOpen:e,onClose:s,className:a=""})=>{const{notifications:t,summary:r,isLoading:n,error:l,fetchNotifications:i,markAllAsRead:o,clearAllNotifications:c}=Re(),d=x.useRef(null);if(x.useEffect(()=>{const a=e=>{d.current&&!d.current.contains(e.target)&&s()};if(e)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[e,s]),x.useEffect(()=>{e&&i()},[e,i]),x.useEffect(()=>{const a=e=>{"Escape"===e.key&&s()};if(e)return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,s]),!e)return null;const h=e=>{s()};return u.jsx(be,{animation:{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15}},children:u.jsxs("div",{ref:d,className:`\n          absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50\n          max-h-96 overflow-hidden\n          ${a}\n        `,role:"dialog","aria-label":"알림 목록","aria-modal":"false",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-sm font-semibold text-gray-900",children:["알림",r.unread>0&&u.jsxs("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[r.unread,"개 읽지 않음"]})]}),u.jsxs("div",{className:"flex gap-2",children:[r.unread>0&&u.jsx("button",{onClick:()=>{o()},className:"text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline","aria-label":"모든 알림을 읽음으로 표시",children:"모두 읽음"}),t.length>0&&u.jsx("button",{onClick:()=>{window.confirm("모든 알림을 삭제하시겠습니까?")&&c()},className:"text-xs text-red-600 hover:text-red-800 focus:outline-none focus:underline","aria-label":"모든 알림 삭제",children:"모두 삭제"})]})]})}),u.jsx("div",{className:"max-h-80 overflow-y-auto",children:n?u.jsxs("div",{className:"flex items-center justify-center py-8",children:[u.jsx(ae,{size:"small"}),u.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"알림을 불러오는 중..."})]}):l?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx("p",{className:"text-sm text-red-600 mb-2",children:"알림을 불러오는데 실패했습니다."}),u.jsx(Q,{variant:"outline",size:"small",onClick:()=>i(),children:"다시 시도"})]}):0===t.length?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("div",{className:"text-4xl mb-3",children:"🔔"}),u.jsx("p",{className:"text-sm text-gray-600",children:"새로운 알림이 없습니다."})]}):u.jsxs("div",{className:"divide-y divide-gray-100",children:[t.slice(0,10).map(e=>u.jsx(Se,{notification:e,onClick:h,showActions:!1,compact:!0},e.id)),t.length>10&&u.jsx("div",{className:"p-3 text-center border-t border-gray-200",children:u.jsxs(Q,{variant:"ghost",size:"small",onClick:()=>{s(),window.location.href="/notifications"},children:["모든 알림 보기 (",t.length,")"]})})]})})]})})},Ve={CAREGIVER:["dashboard","jobs","profiles","health-assessment","facility-search"],EMPLOYER:["dashboard","profiles","boards","jobs"],COORDINATOR:["dashboard","profiles","boards","facility-search"],ADMIN:["dashboard","profiles","boards"]};const Ue=new class{constructor(){d(this,"preloadedRoutes",new Set),d(this,"preloadQueue",[]),d(this,"isPreloading",!1)}preloadRoute(e){return h(this,null,function*(){if(!this.preloadedRoutes.has(e))try{const s=performance.now();switch(e){case"dashboard":yield me(()=>import("./DashboardPage-BcRHt3Se.js"),__vite__mapDeps([0,1,2,3,4,5,6]));break;case"boards":yield Promise.all([me(()=>import("./board-pages-Dgl2uhfi.js").then(e=>e.B),__vite__mapDeps([7,1,2,3,4,5,6])),me(()=>import("./board-pages-Dgl2uhfi.js").then(e=>e.P),__vite__mapDeps([7,1,2,3,4,5,6]))]);break;case"profiles":yield Promise.all([me(()=>import("./profile-pages-CoRPQ_9l.js").then(e=>e.P),__vite__mapDeps([8,1,2,3,4,5,6])),me(()=>import("./profile-pages-CoRPQ_9l.js").then(e=>e.a),__vite__mapDeps([8,1,2,3,4,5,6]))]);break;case"jobs":yield Promise.all([me(()=>import("./job-pages-CVWPFYvu.js").then(e=>e.J),__vite__mapDeps([9,1,2,3,4,5,6])),me(()=>import("./job-pages-CVWPFYvu.js").then(e=>e.a),__vite__mapDeps([9,1,2,3,4,5,6]))]);break;case"health-assessment":yield me(()=>import("./health-pages-D7Y3mQMo.js"),__vite__mapDeps([10,1,2,3,4,5,6]));break;case"facility-search":yield me(()=>import("./facility-pages-B_M2czrp.js").then(e=>e.F),__vite__mapDeps([11,1,2,3,4,5,6]));break;case"chat":yield Promise.all([me(()=>import("./chat-pages-DmMwbQEe.js").then(e=>e.C),__vite__mapDeps([12,1,2,3,4,5,6])),me(()=>import("./chat-pages-DmMwbQEe.js").then(e=>e.a),__vite__mapDeps([12,1,2,3,4,5,6]))]);break;default:return}performance.now();this.preloadedRoutes.add(e)}catch(s){}})}preloadByRole(e){return h(this,null,function*(){const s=Ve[e]||[];if(this.preloadQueue=s.filter(e=>!this.preloadedRoutes.has(e)),!this.isPreloading&&0!==this.preloadQueue.length){this.isPreloading=!0;try{for(const e of this.preloadQueue)yield this.preloadRoute(e),yield new Promise(e=>setTimeout(e,100))}finally{this.isPreloading=!1,this.preloadQueue=[]}}})}preloadOnHover(e){this.preloadedRoutes.has(e)||setTimeout(()=>{this.preloadRoute(e)},200)}shouldPreload(){if("connection"in navigator){const e=navigator.connection;if("2g"===e.effectiveType||"slow-2g"===e.effectiveType)return!1;if(e.saveData)return!1}return!0}isRoutePreloaded(e){return this.preloadedRoutes.has(e)}getPreloadStats(){return{preloadedCount:this.preloadedRoutes.size,preloadedRoutes:Array.from(this.preloadedRoutes),isPreloading:this.isPreloading,queueLength:this.preloadQueue.length}}};const Fe={[G.USER_DOMESTIC]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:T,label:"건강평가",path:"/health-assessment",badge:null},{icon:_,label:"시설검색",path:"/facility-search",badge:null},{icon:w,label:"구인정보",path:"/jobs",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null}],[G.USER_OVERSEAS]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:T,label:"건강평가",path:"/health-assessment",badge:null},{icon:_,label:"시설검색",path:"/facility-search",badge:null},{icon:w,label:"구인정보",path:"/jobs",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null}],[G.JOB_SEEKER_DOMESTIC]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:w,label:"구인정보",path:"/jobs",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null},{icon:T,label:"건강평가",path:"/health-assessment",badge:null},{icon:_,label:"시설검색",path:"/facility-search",badge:null}],[G.JOB_SEEKER_OVERSEAS]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:w,label:"구인정보",path:"/jobs",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null},{icon:T,label:"건강평가",path:"/health-assessment",badge:null},{icon:_,label:"시설검색",path:"/facility-search",badge:null}],[G.FACILITY]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:_,label:"시설관리",path:"/facilities/manage",badge:null},{icon:v,label:"간병인 찾기",path:"/caregivers",badge:null},{icon:w,label:"구인관리",path:"/jobs/manage",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:I,label:"프로필 관리",path:"/profiles",badge:null}],[G.COORDINATOR]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:v,label:"회원 관리",path:"/coordinator/members",badge:null},{icon:w,label:"매칭관리",path:"/coordinator/matching",badge:null},{icon:E,label:"통계",path:"/coordinator/statistics",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:_,label:"시설관리",path:"/coordinator/facilities",badge:null}],[G.ADMIN]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:v,label:"회원 관리",path:"/admin/members",badge:null},{icon:_,label:"시설관리",path:"/admin/facilities",badge:null},{icon:w,label:"구인관리",path:"/admin/jobs",badge:null},{icon:E,label:"시스템 통계",path:"/admin/statistics",badge:null},{icon:k,label:"시스템 설정",path:"/admin/settings",badge:null},{icon:C,label:"게시판",path:"/boards",badge:null},{icon:I,label:"프로필 관리",path:"/profiles",badge:null}]};function He({children:e}){var s,a;const t=m(),r=A(),{user:n,logout:l}=W(),{summary:i,isDropdownOpen:o,toggleDropdown:c,closeDropdown:d,fetchNotifications:p,startPolling:f}=Re(),[g,b]=x.useState(!1),[j,y]=x.useState(!1),N=te({isActive:j,initialFocus:"a, button",returnFocus:!0}),v=e=>{Ue.shouldPreload()&&Ue.preloadOnHover(e)},_=n&&Fe[n.role]||[],w=()=>{b(!g)};return x.useEffect(()=>{n&&(p(),f())},[n,p,f]),x.useEffect(()=>{const e=e=>{g&&!e.target.closest(".sidebar")&&b(!1),j&&!e.target.closest(".profile-menu")&&y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[g,j]),n?u.jsxs("div",{className:"min-h-screen bg-gray-50 flex",role:"application","aria-label":"엘더베리 메인 애플리케이션",children:[u.jsx(De,{}),u.jsxs("aside",{className:`\n          sidebar fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n          lg:relative lg:translate-x-0\n          ${g?"translate-x-0":"-translate-x-full"}\n        `,role:"navigation","aria-label":"주 네비게이션","aria-hidden":g?"false":"true",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[u.jsxs(O,{to:"/dashboard",className:"flex items-center space-x-3 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2 rounded-lg","aria-label":"엘더베리 홈으로 이동",children:[u.jsx("div",{className:"w-8 h-8 bg-elderberry-600 rounded-lg flex items-center justify-center","aria-hidden":"true",children:u.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),u.jsx("span",{className:"text-xl font-bold text-elderberry-900",children:"Elderberry"})]}),u.jsx("button",{onClick:w,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":"사이드바 닫기",children:u.jsx(P,{className:"w-5 h-5","aria-hidden":"true"})})]}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",role:"menubar","aria-label":"주 메뉴",children:_.map(e=>{const s=e.icon,a=t.pathname===e.path||t.pathname.startsWith(e.path+"/");return u.jsxs(O,{to:e.path,onClick:()=>b(!1),onMouseEnter:()=>{const s=e.path.substring(1);v(s)},className:`\n                  flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2\n                  ${a?"bg-elderberry-50 text-elderberry-700 border-r-2 border-elderberry-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}\n                `,role:"menuitem","aria-current":a?"page":void 0,children:[u.jsx(s,{className:"w-5 h-5 "+(a?"text-elderberry-600":""),"aria-hidden":"true"}),u.jsx("span",{className:"font-medium",children:e.label}),e.badge&&u.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:e.badge})]},e.path)})}),u.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",role:"menubar","aria-label":"보조 메뉴",children:[u.jsxs(O,{to:"/chat-home",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2",role:"menuitem",children:[u.jsx(C,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("span",{className:"font-medium",children:"AI 챗봇"})]}),u.jsxs(O,{to:"/help",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2",role:"menuitem",children:[u.jsx(R,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("span",{className:"font-medium",children:"도움말"})]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 h-16 flex items-center justify-between px-6",role:"banner",children:[u.jsx("button",{onClick:w,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":"메뉴 열기","aria-expanded":g,"aria-controls":"main-navigation",children:u.jsx(D,{className:"w-5 h-5","aria-hidden":"true"})}),u.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-lg mx-4",role:"search",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4","aria-hidden":"true"}),u.jsx("input",{type:"text",placeholder:"검색어를 입력하세요...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors","aria-label":"사이트 내 검색"})]})}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(Le,{}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:c,className:"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":i.unread>0?`알림 ${i.unread}개`:"알림","aria-describedby":i.unread>0?"notification-count":void 0,"aria-expanded":o,"aria-haspopup":"menu",children:[u.jsx(S,{className:"w-5 h-5","aria-hidden":"true"}),i.unread>0&&u.jsx("span",{id:"notification-count",className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center","aria-label":`${i.unread}개의 읽지 않은 알림`,children:i.unread>99?"99+":i.unread})]}),u.jsx(Me,{isOpen:o,onClose:d})]}),u.jsxs("div",{className:"relative profile-menu",ref:N,children:[u.jsxs("button",{onClick:()=>{y(!j)},className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":`프로필 메뉴, ${n.name}`,"aria-expanded":j,"aria-haspopup":"menu",children:[u.jsx("div",{className:"w-8 h-8 bg-elderberry-600 rounded-full flex items-center justify-center","aria-hidden":"true",children:u.jsx("span",{className:"text-white text-sm font-semibold",children:(null==(a=null==(s=n.name)?void 0:s.charAt(0))?void 0:a.toUpperCase())||"U"})}),u.jsxs("div",{className:"hidden md:block text-left",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),u.jsx("div",{className:"text-xs text-gray-500",children:n.role})]}),u.jsx(M,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"})]}),u.jsx(je,{children:j&&u.jsxs(we,{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",role:"menu","aria-labelledby":"profile-menu-button",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),u.jsx("div",{className:"text-sm text-gray-500",children:n.email}),u.jsxs("div",{className:"text-xs text-elderberry-600 mt-1",children:["프로필 완성도: ",n.profileCompletionRate,"%"]})]}),u.jsxs(O,{to:"/mypage",onClick:()=>y(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[u.jsx(V,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{children:"마이페이지"})]}),u.jsxs(O,{to:"/profiles",onClick:()=>y(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[u.jsx(I,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{children:"프로필 관리"})]}),u.jsxs(O,{to:"/settings",onClick:()=>y(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[u.jsx(k,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{children:"설정"})]}),u.jsxs("div",{className:"px-4 py-2",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"테마"}),u.jsx(Le,{variant:"dropdown",className:"w-full"})]}),u.jsx("hr",{className:"my-2"}),u.jsxs("button",{onClick:()=>{y(!1),h(null,null,function*(){try{yield l(),r("/login",{replace:!0})}catch(e){}})},className:"flex items-center space-x-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 focus:outline-none focus:bg-red-50 w-full text-left",role:"menuitem",children:[u.jsx(U,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{children:"로그아웃"})]})]})})]})]})]}),u.jsx("main",{className:"flex-1 p-6",role:"main","aria-label":"주요 콘텐츠",tabIndex:-1,children:e})]}),g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>b(!1)})]}):u.jsx(u.Fragment,{children:e})}const $e=({className:e=""})=>u.jsx("div",{className:`skeleton-shimmer rounded ${e}`}),ze=()=>u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-4",children:[u.jsx($e,{className:"h-4 w-3/4"}),u.jsx($e,{className:"h-3 w-full"}),u.jsx($e,{className:"h-3 w-5/6"}),u.jsxs("div",{className:"flex space-x-2 pt-2",children:[u.jsx($e,{className:"h-6 w-16"}),u.jsx($e,{className:"h-6 w-20"})]})]}),Be=()=>u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white border-b border-gray-100",children:[u.jsx($e,{className:"w-12 h-12 rounded-full"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx($e,{className:"h-4 w-1/3"}),u.jsx($e,{className:"h-3 w-3/4"})]}),u.jsx($e,{className:"h-8 w-20 rounded"})]});function Je({type:e="default"}){return u.jsx(Ee,{className:"p-6",children:(()=>{switch(e){case"dashboard":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx($e,{className:"h-8 w-1/3"}),u.jsx($e,{className:"h-4 w-2/3"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,s)=>u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx($e,{className:"h-4 w-2/3 mb-2"}),u.jsx($e,{className:"h-8 w-1/2 mb-1"}),u.jsx($e,{className:"h-3 w-3/4"})]},s))}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((e,s)=>u.jsx(ze,{},s))})]});case"list":return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx($e,{className:"h-8 w-1/4"}),u.jsx($e,{className:"h-10 w-32 rounded"})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx($e,{className:"h-10 flex-1 rounded"}),u.jsx($e,{className:"h-10 w-24 rounded"})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 divide-y divide-gray-100",children:[...Array(8)].map((e,s)=>u.jsx(Be,{},s))})]});case"detail":return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx($e,{className:"h-10 w-3/4"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx($e,{className:"h-6 w-20"}),u.jsx($e,{className:"h-6 w-24"}),u.jsx($e,{className:"h-6 w-16"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx($e,{className:"h-4 w-full"}),u.jsx($e,{className:"h-4 w-5/6"}),u.jsx($e,{className:"h-4 w-4/5"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,s)=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx($e,{className:"h-4 w-1/3"}),u.jsx($e,{className:"h-4 w-1/2"})]},s))}),u.jsx($e,{className:"h-48 rounded"})]})]})]});case"form":return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx($e,{className:"h-8 w-1/3"}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[[...Array(6)].map((e,s)=>u.jsxs("div",{className:"space-y-2",children:[u.jsx($e,{className:"h-4 w-1/4"}),u.jsx($e,{className:"h-10 w-full rounded"})]},s)),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx($e,{className:"h-10 w-20 rounded"}),u.jsx($e,{className:"h-10 w-24 rounded"})]})]})]});default:return u.jsxs("div",{className:"space-y-6",children:[u.jsx($e,{className:"h-8 w-1/3"}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[...Array(3)].map((e,s)=>u.jsx(ze,{},s))})]})}})()})}function We({type:e="skeleton",skeletonType:s="default",message:a="페이지를 로딩 중입니다..."}){return"spinner"===e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx(ae,{size:"large",color:"primary",text:a})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 h-16 flex items-center justify-between px-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),u.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}),u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})]})]}),u.jsx(Je,{type:s})]})}class Ge extends x.Component{constructor(){super(...arguments),d(this,"retryTimer"),d(this,"state",{hasError:!1,retryCount:0}),d(this,"handleRetry",()=>{if(this.state.retryCount>=3)return void le.warn("LazyLoadErrorBoundary 최대 재시도 횟수 초과");this.setState(e=>({retryCount:e.retryCount+1}));const e=1e3*Math.pow(2,this.state.retryCount);this.retryTimer=setTimeout(()=>{this.setState({hasError:!1,error:void 0})},e)}),d(this,"handleGoHome",()=>{window.location.href="/dashboard"})}static getDerivedStateFromError(e){return{hasError:!0,error:e,retryCount:0}}componentDidCatch(e,s){var a,t;le.component("LazyLoadErrorBoundary 페이지 로딩 실패",e,s),ie.log("Component Stack:",s.componentStack),null==(t=(a=this.props).onError)||t.call(a,e,s)}componentWillUnmount(){this.retryTimer&&clearTimeout(this.retryTimer)}renderError(){const{error:e,retryCount:s}=this.state,a=s<3;return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:u.jsxs(ke,{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[u.jsx(ke,{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-6",children:u.jsx(F,{className:"w-8 h-8 text-red-600"})}),u.jsxs(Ce,{className:"space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"페이지 로딩 실패"}),u.jsxs("p",{className:"text-gray-600",children:["페이지를 불러오는 중 문제가 발생했습니다.",s>0&&u.jsxs("span",{className:"block text-sm text-orange-600 mt-2",children:["재시도 ",s,"/",3]})]}),!1]}),u.jsxs(Ce,{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[a&&u.jsxs(Q,{onClick:this.handleRetry,className:"flex items-center justify-center space-x-2 bg-elderberry-600 hover:bg-elderberry-700",disabled:void 0!==this.retryTimer,children:[u.jsx(H,{className:"w-4 h-4"}),u.jsx("span",{children:"다시 시도"})]}),u.jsxs(Q,{onClick:this.handleGoHome,variant:"outline",className:"flex items-center justify-center space-x-2",children:[u.jsx(N,{className:"w-4 h-4"}),u.jsx("span",{children:"홈으로 이동"})]})]}),u.jsx(Ee,{className:"mt-6 pt-6 border-t border-gray-200",children:u.jsxs("p",{className:"text-xs text-gray-500",children:["문제가 계속 발생하면"," ",u.jsx("a",{href:"/help",className:"text-elderberry-600 hover:text-elderberry-700 underline",children:"고객지원"}),"에 문의하세요."]})})]})})}render(){return this.state.hasError?this.props.fallback||this.renderError():this.props.children}}function Ye(e,s=200){return x.lazy(()=>{const a=Date.now();return e().then(e=>{const t=Date.now()-a,r=Math.max(0,s-t);return r>0?new Promise(s=>{setTimeout(()=>s(e),r)}):e})})}const qe=Ye(()=>me(()=>import("./auth-pages-CET0Wacd.js").then(e=>e.L),__vite__mapDeps([5,1,2,3,4,6])),100),Qe=Ye(()=>me(()=>import("./auth-pages-CET0Wacd.js").then(e=>e.R),__vite__mapDeps([5,1,2,3,4,6])),100),Ke=Ye(()=>me(()=>import("./DashboardPage-BcRHt3Se.js"),__vite__mapDeps([0,1,2,3,4,5,6])),150),Xe=Ye(()=>me(()=>import("./MyPage-BEv7kQzN.js"),__vite__mapDeps([13,1,2,3,4,5,6,8,11,9,12])),150),Ze=Ye(()=>me(()=>import("./board-pages-Dgl2uhfi.js").then(e=>e.B),__vite__mapDeps([7,1,2,3,4,5,6]))),es=Ye(()=>me(()=>import("./board-pages-Dgl2uhfi.js").then(e=>e.P),__vite__mapDeps([7,1,2,3,4,5,6]))),ss=Ye(()=>me(()=>import("./board-pages-Dgl2uhfi.js").then(e=>e.a),__vite__mapDeps([7,1,2,3,4,5,6]))),as=Ye(()=>me(()=>import("./profile-pages-CoRPQ_9l.js").then(e=>e.P),__vite__mapDeps([8,1,2,3,4,5,6]))),ts=Ye(()=>me(()=>import("./profile-pages-CoRPQ_9l.js").then(e=>e.a),__vite__mapDeps([8,1,2,3,4,5,6])));Ye(()=>me(()=>import("./job-pages-CVWPFYvu.js").then(e=>e.J),__vite__mapDeps([9,1,2,3,4,5,6]))),Ye(()=>me(()=>import("./job-pages-CVWPFYvu.js").then(e=>e.a),__vite__mapDeps([9,1,2,3,4,5,6])));const rs=Ye(()=>me(()=>import("./health-pages-D7Y3mQMo.js"),__vite__mapDeps([10,1,2,3,4,5,6])),300),ns=Ye(()=>me(()=>import("./facility-pages-B_M2czrp.js").then(e=>e.F),__vite__mapDeps([11,1,2,3,4,5,6])),250);Ye(()=>me(()=>import("./CoordinatorMatchingWizard-B3d9rgHx.js"),__vite__mapDeps([14,1,2,3,4,5,6])),300);const ls=Ye(()=>me(()=>import("./chat-pages-DmMwbQEe.js").then(e=>e.C),__vite__mapDeps([12,1,2,3,4,5,6])),200),is=Ye(()=>me(()=>import("./chat-pages-DmMwbQEe.js").then(e=>e.a),__vite__mapDeps([12,1,2,3,4,5,6])),200),os=Ye(()=>me(()=>import("./UnauthorizedPage-Cs4RhtQy.js"),__vite__mapDeps([15,1,2,3,4,5,6])),100),cs=Ye(()=>me(()=>import("./NotificationsPage-klb74LWA.js"),__vite__mapDeps([16,1,2,3,4,11,5,6,12])),150),ds=()=>{const{isAuthenticated:e}=W();return u.jsx(p,{to:e?"/dashboard":"/login",replace:!0})};function hs(){return u.jsx(Ge,{children:u.jsx(K,{children:u.jsx($,{children:u.jsx("main",{className:"min-h-screen bg-gray-50",role:"main",children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"spinner",message:"로그인 페이지를 로딩 중..."}),children:u.jsxs(z,{children:[u.jsx(B,{path:"/login",element:u.jsx(qe,{})}),u.jsx(B,{path:"/register",element:u.jsx(Qe,{})}),u.jsx(B,{path:"/unauthorized",element:u.jsx(os,{})}),u.jsx(B,{path:"/chat-home",element:u.jsx(ls,{})}),u.jsx(B,{path:"/chat",element:u.jsx(is,{})}),u.jsx(B,{path:"/dashboard",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"dashboard"}),children:u.jsx(Ke,{})})})})}),u.jsx(B,{path:"/mypage",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"dashboard"}),children:u.jsx(Xe,{})})})})}),u.jsx(B,{path:"/notifications",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsx(cs,{})})})})}),u.jsx(B,{path:"/health-assessment",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"form"}),children:u.jsx(rs,{memberId:"1",onComplete:e=>{window.location.href="/facility-search"},onCancel:()=>{}})})})})}),u.jsx(B,{path:"/facility-search",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsx(ns,{memberId:1,coordinatorId:"coordinator-1",showRecommendations:!0})})})})}),u.jsx(B,{path:"/boards",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsx(Ze,{})})})})}),u.jsx(B,{path:"/boards/create-post",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"form"}),children:u.jsx(ss,{})})})})}),u.jsx(B,{path:"/boards/:boardId",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsx(Ze,{})})})})}),u.jsx(B,{path:"/boards/:boardId/posts/:postId",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"detail"}),children:u.jsx(es,{})})})})}),u.jsx(B,{path:"/profiles",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsx(as,{})})})})}),u.jsx(B,{path:"/profiles/:profileType/:profileId",element:u.jsx(oe,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"detail"}),children:u.jsx(ts,{})})})})}),u.jsx(B,{path:"/admin/members",element:u.jsx(ce,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"회원 관리"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"관리자만 접근 가능한 회원 관리 페이지입니다."})]})})})})}),u.jsx(B,{path:"/admin/facilities",element:u.jsx(ce,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"시설 관리"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"관리자만 접근 가능한 시설 관리 페이지입니다."})]})})})})}),u.jsx(B,{path:"/admin/statistics",element:u.jsx(ce,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"dashboard"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"시스템 통계"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"관리자만 접근 가능한 시스템 통계 페이지입니다."})]})})})})}),u.jsx(B,{path:"/admin/settings",element:u.jsx(ce,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"form"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"시스템 설정"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"관리자만 접근 가능한 시스템 설정 페이지입니다."})]})})})})}),u.jsx(B,{path:"/coordinator/members",element:u.jsx(de,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"회원 관리"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"코디네이터만 접근 가능한 회원 관리 페이지입니다."})]})})})})}),u.jsx(B,{path:"/coordinator/matching",element:u.jsx(de,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"매칭 관리"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"코디네이터만 접근 가능한 매칭 관리 페이지입니다."})]})})})})}),u.jsx(B,{path:"/coordinator/statistics",element:u.jsx(de,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"dashboard"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"통계"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"코디네이터만 접근 가능한 통계 페이지입니다."})]})})})})}),u.jsx(B,{path:"/coordinator/facilities",element:u.jsx(de,{children:u.jsx(He,{children:u.jsx(x.Suspense,{fallback:u.jsx(We,{type:"skeleton",skeletonType:"list"}),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"시설 관리"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"코디네이터만 접규 가능한 시설 관리 페이지입니다."})]})})})})}),u.jsx(B,{path:"/",element:u.jsx(ds,{})}),u.jsx(B,{path:"*",element:u.jsx(p,{to:"/dashboard",replace:!0})})]})})})})})})}J.createRoot(document.getElementById("root")).render(u.jsx(f.StrictMode,{children:u.jsx(hs,{})}));export{Ie as N,Te as a,Se as b,Re as u};
