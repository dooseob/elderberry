var e=Object.defineProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(s,r,t)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,a=(e,a)=>{for(var i in a||(a={}))r.call(a,i)&&l(e,i,a[i]);if(s)for(var i of s(a))t.call(a,i)&&l(e,i,a[i]);return e},i=(e,s,r)=>new Promise((t,l)=>{var a=e=>{try{n(r.next(e))}catch(s){l(s)}},i=e=>{try{n(r.throw(e))}catch(s){l(s)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,i);n((r=r.apply(e,s)).next())});import{c as n,j as d,U as c,av as o,t as m,ak as x,C as h,aw as b,aj as j,I as u,ax as p,ao as g,am as y,N,T as v,r as f,D as w,L as C,ar as L,as as S}from"./react-vendor-BYDInCC8.js";import{d as $,s as T,i as A}from"./state-management-DUuJHh35.js";import{C as I,b as D,c as O,a as k,B as G,e as R,f as q}from"./auth-pages-Bhc19LUF.js";import{m as E,A as M}from"./ui-libs-B_iLp8lQ.js";import{a as Y}from"./utils-vhTAaM2j.js";import"./vendor-CMX8VuvJ.js";const P={memberId:"",gender:void 0,birthYear:void 0,mobilityLevel:1,eatingLevel:1,toiletLevel:1,communicationLevel:1,ltciGrade:void 0,careTargetStatus:void 0,mealType:void 0,diseaseTypes:"",notes:"",assessorName:"",assessorRelation:""},F={0:["memberId","gender","birthYear"],1:["mobilityLevel"],2:["eatingLevel"],3:["toiletLevel"],4:["communicationLevel"],5:["ltciGrade"],6:[]},B=n()($(T(A((e,s)=>({formData:a({},P),currentStep:0,isSubmitting:!1,errors:{},updateFormData:s=>e(e=>{Object.assign(e.formData,s)}),setCurrentStep:s=>e(e=>{s>=0&&s<=6&&(e.currentStep=s)}),nextStep:()=>e(e=>{e.currentStep<6&&(e.currentStep+=1)}),previousStep:()=>e(e=>{e.currentStep>0&&(e.currentStep-=1)}),goToStep:s=>e(e=>{s>=0&&s<=6&&(e.currentStep=s)}),setSubmitting:s=>e(e=>{e.isSubmitting=s}),setError:(s,r)=>e(e=>{e.errors[s]=r}),clearError:s=>e(e=>{delete e.errors[s]}),clearAllErrors:()=>e(e=>{e.errors={}}),resetForm:()=>e(e=>{e.formData=a({},P),e.currentStep=0,e.isSubmitting=!1,e.errors={}}),isStepValid:e=>{const{formData:r}=s();return(F[e]||[]).every(e=>{const s=r[e];return null!=s&&""!==s})}}))),{name:"health-assessment-store",enabled:!1})),z=({progress:e,steps:s=[],currentStep:r=0,showPercentage:t=!0,showSteps:l=!1,className:a=""})=>{const i=Math.max(0,Math.min(100,e));return d.jsxs("div",{className:`w-full ${a}`,children:[t&&d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-elderberry-700",children:"진행률"}),d.jsxs("span",{className:"text-sm font-semibold text-elderberry-900",children:[Math.round(i),"%"]})]}),d.jsx("div",{className:"w-full bg-elderberry-100 rounded-full h-3 overflow-hidden",children:d.jsx(E.div,{className:"h-full bg-gradient-to-r from-elderberry-500 to-elderberry-600 rounded-full",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.8,ease:"easeOut"}})}),l&&s.length>0&&d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"flex justify-between items-center",children:s.map((e,s)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`\n                    w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold\n                    transition-all duration-300\n                    ${s<=r?"bg-elderberry-600 text-white":"bg-elderberry-100 text-elderberry-400"}\n                  `,children:s+1}),d.jsx("span",{className:`\n                    mt-2 text-xs text-center max-w-16\n                    ${s<=r?"text-elderberry-700 font-medium":"text-elderberry-400"}\n                  `,children:e})]},s))}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-elderberry-100"}),d.jsx(E.div,{className:"absolute top-0 left-0 h-0.5 bg-elderberry-600",initial:{width:0},animate:{width:s.length>1?r/(s.length-1)*100+"%":"0%"},transition:{duration:.8,ease:"easeOut"}})]})]})]})},H=({name:e,value:s,options:r,onChange:t,error:l,required:a=!1,className:i="",direction:n="vertical","aria-label":c,"aria-describedby":o})=>{const m="vertical"===n?"space-y-3":"space-x-4 flex flex-wrap",x=l?`${e}-error`:void 0,h=[o,x].filter(Boolean).join(" ")||void 0;return d.jsxs("div",{className:i,children:[d.jsx("div",{className:m,role:"radiogroup","aria-label":c,"aria-describedby":h,"aria-required":a,"aria-invalid":!!l,children:r.map(r=>{const i=s===r.value,n=r.disabled;return d.jsxs(E.label,{className:`\n                relative flex items-start cursor-pointer p-4 rounded-lg border-2 transition-all duration-200\n                ${i?"border-elderberry-500 bg-elderberry-50":"border-elderberry-200 bg-white hover:border-elderberry-300"}\n                ${n?"opacity-50 cursor-not-allowed":"hover:bg-elderberry-25"}\n                ${l?"border-red-300":""}\n              `,whileHover:n?{}:{scale:1.02},whileTap:n?{}:{scale:.98},children:[d.jsx("input",{type:"radio",name:e,value:r.value,checked:i,onChange:()=>!n&&t(r.value),disabled:n,required:a,className:"sr-only","aria-describedby":r.description?`${e}-${r.value}-desc`:void 0}),d.jsx("div",{className:`\n                flex-shrink-0 w-5 h-5 rounded-full border-2 mr-4 mt-0.5 relative\n                ${i?"border-elderberry-500":"border-elderberry-300"}\n              `,children:i&&d.jsx(E.div,{className:"absolute inset-1 bg-elderberry-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{duration:.2}})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`\n                  text-sm font-medium\n                  ${i?"text-elderberry-900":"text-elderberry-700"}\n                  ${n?"text-elderberry-400":""}\n                `,children:r.label}),r.description&&d.jsx("div",{id:`${e}-${r.value}-desc`,className:`\n                      text-xs mt-1\n                      ${i?"text-elderberry-600":"text-elderberry-500"}\n                      ${n?"text-elderberry-300":""}\n                    `,children:r.description})]}),i&&d.jsx(E.div,{className:"flex-shrink-0 ml-4",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.2},children:d.jsx("div",{className:"w-5 h-5 bg-elderberry-500 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]},r.value)})}),l&&d.jsx(E.div,{id:x,className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},role:"alert","aria-live":"polite",children:l})]})},K=()=>{const{formData:e,errors:s,updateFormData:r,clearError:t}=B(),l=(new Date).getFullYear(),a=Array.from({length:100},(e,s)=>({value:l-s,label:l-s+"년"}));return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-elderberry-700 mb-3",children:[d.jsx(c,{className:"w-4 h-4"}),"회원 ID",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"p-4 bg-elderberry-50 border border-elderberry-200 rounded-lg",children:[d.jsx("span",{className:"text-elderberry-800 font-medium",children:e.memberId||"회원 ID가 설정되지 않았습니다"}),d.jsx("p",{className:"text-xs text-elderberry-500 mt-1",children:"평가 대상자의 회원 ID입니다 (자동 설정됨)"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-elderberry-700 mb-3",children:[d.jsx(o,{className:"w-4 h-4"}),"성별 (선택사항)"]}),d.jsx(H,{name:"gender",value:e.gender,options:[{value:"M",label:"남성",description:"생물학적 남성"},{value:"F",label:"여성",description:"생물학적 여성"}],onChange:e=>{r({gender:e}),t("gender")},error:s.gender,direction:"horizontal"}),d.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"성별 정보는 통계 분석 및 맞춤형 추천에 활용됩니다"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-elderberry-700 mb-3",children:[d.jsx(m,{className:"w-4 h-4"}),"출생년도 (선택사항)"]}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:e.birthYear||"",onChange:e=>{const s=e.target.value?parseInt(e.target.value):void 0;r({birthYear:s}),t("birthYear")},className:`\n              w-full p-4 border-2 rounded-lg transition-all duration-200\n              ${s.birthYear?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}\n              focus:outline-none focus:ring-0 bg-white\n            `,children:[d.jsx("option",{value:"",children:"출생년도를 선택하세요"}),a.map(e=>d.jsx("option",{value:e.value,children:e.label},e.value))]})}),s.birthYear&&d.jsx(E.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s.birthYear}),d.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"연령대별 케어 등급 분석에 활용됩니다"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-3",children:"평가자 이름 (선택사항)"}),d.jsx("input",{type:"text",value:e.assessorName||"",onChange:e=>{r({assessorName:e.target.value}),t("assessorName")},placeholder:"평가를 진행하는 분의 성함을 입력하세요",className:`\n            w-full p-4 border-2 rounded-lg transition-all duration-200\n            ${s.assessorName?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}\n            focus:outline-none focus:ring-0\n          `}),s.assessorName&&d.jsx(E.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s.assessorName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-3",children:"평가자와 대상자의 관계 (선택사항)"}),d.jsx(H,{name:"assessorRelation",value:e.assessorRelation,options:[{value:"본인",label:"본인",description:"평가 대상자 본인이 직접 평가"},{value:"배우자",label:"배우자",description:"배우자가 평가"},{value:"자녀",label:"자녀",description:"자녀가 평가"},{value:"가족",label:"기타 가족",description:"기타 가족구성원이 평가"},{value:"간병인",label:"간병인",description:"전문 간병인이 평가"},{value:"기타",label:"기타",description:"기타 관계자가 평가"}],onChange:e=>{r({assessorRelation:e}),t("assessorRelation")},error:s.assessorRelation,direction:"vertical"}),d.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"평가의 신뢰성 검증과 맞춤형 추천에 활용됩니다"})]}),d.jsx(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"개인정보 보호 안내"}),d.jsx("p",{className:"text-sm text-blue-600",children:"입력하신 모든 정보는 암호화되어 안전하게 보관되며, 건강 상태 평가 및 맞춤형 서비스 제공 목적으로만 사용됩니다."})]})]})})]})},U={mobility:{1:"혼자서 가능해요",2:"부분적인 도움이 필요해요 (타인의 부축, 지팡이 이용 등)",3:"혼자서는 보행이 어려워요 (휠체어 사용 등)"},eating:{1:"혼자서 가능해요",2:"부분적인 도움이 필요해요 (반찬 집기, 자르기 등 일부 도움)",3:"완전한 도움이 필요해요 (음식을 떠 먹여줌)"},toilet:{1:"혼자서 화장실을 이용할 수 있어요",2:"화장실 이용 시 부분적인 도움이 필요해요",3:"완전한 도움이 필요해요 (간이변기, 기저귀 착용 등)"},communication:{1:"정상적으로 가능해요",2:"때때로 어려워요 (화장실 이용의사 표현 가능)",3:"소통이 어려워요 (화장실 이용의사 표현 잘 못함)"}},V={1:{name:"1등급",description:"가장 중증 (95점 이상)"},2:{name:"2등급",description:"중증 (75점~94점)"},3:{name:"3등급",description:"중등증 (60점~74점)"},4:{name:"4등급",description:"경증 (51점~59점)"},5:{name:"5등급",description:"경증 (45점~50점)"},6:{name:"인지지원등급",description:"치매 특화 (45점 미만, 인지기능 저하)"},7:{name:"모름",description:"등급을 모르겠어요"},8:{name:"없음",description:"장기요양보험 미신청"}},J={1:{name:"상태 1",description:"6개월 이하의 기대수명 상태 (호스피스 케어)"},2:{name:"상태 2",description:"질병이 회복하기 어려운 상황으로 수명이 얼마 남지 않음"},3:{name:"상태 3",description:"완전히 타인 의존적인 상태이나 사망위험이 높지 않음"},4:{name:"상태 4",description:"해당사항 없음 (일반 요양)"}},Q={1:{name:"일반식",description:"정상적인 고체 음식 섭취 가능"},2:{name:"잘게 썬 음식",description:"음식을 잘게 썰어서 섭취"},3:{name:"관급식",description:"튜브를 통한 영양 공급"}},W=({icon:e,title:s,description:r,questionText:t,adlCategory:l,fieldName:a,getDescription:i,renderAdditionalInfo:n,guidelines:c,infoSections:o,exampleSituations:m})=>{const{formData:x,errors:h,updateAdlScore:b,clearError:j}=B(),u=Object.entries(U[l]).map(([e,s])=>({value:parseInt(e),label:s,description:i(parseInt(e))})),p=x[a];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(e,{className:"w-6 h-6 text-elderberry-600"}),d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:s})]}),d.jsx("p",{className:"text-elderberry-600",children:r})]}),d.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:t}),d.jsx(H,{name:a,value:p,options:u,onChange:e=>{b(a,e),j(a)},error:h[a],required:!0,direction:"vertical"})]}),p&&n(p),o&&d.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o}),c&&d.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c}),d.jsxs(E.div,{className:"p-4 bg-green-50 border border-green-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"📊 점수 정보"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[d.jsxs("div",{className:"text-green-700",children:[d.jsx("span",{className:"font-medium",children:"1점:"})," 자립 가능"]}),d.jsxs("div",{className:"text-yellow-700",children:[d.jsx("span",{className:"font-medium",children:"2점:"})," 부분 도움"]}),d.jsxs("div",{className:"text-red-700",children:[d.jsx("span",{className:"font-medium",children:"3점:"})," 완전 도움"]})]}),d.jsx("p",{className:"text-xs text-green-600 mt-2",children:"* 점수가 낮을수록 자립도가 높으며, 전체 ADL 점수로 돌봄 등급을 평가합니다"})]}),m&&d.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m})]})},X=()=>{const e=d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),d.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"평상시 상태"}),"를 기준으로 평가해주세요"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"몸이 아픈 날"}),"이 아닌 일반적인 상태를 고려하세요"]}),d.jsx("li",{children:"• 보조기구를 사용하는 경우, 해당 기구를 사용한 상태로 평가하세요"}),d.jsx("li",{children:"• 안전상 이유로 제한하는 경우도 실제 능력을 기준으로 평가하세요"})]})]}),s=d.jsxs("details",{className:"group",children:[d.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),d.jsx(E.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsxs("div",{children:[d.jsx("strong",{className:"text-green-700",children:"1점 (독립):"}),d.jsx("p",{children:"마트에서 쇼핑을 하거나 산책을 혼자서 할 수 있음"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-700",children:"2점 (부분도움):"}),d.jsx("p",{children:"지팡이를 짚고 걷거나, 가족이 팔을 잡아주면 걸을 수 있음"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-red-700",children:"3점 (완전도움):"}),d.jsx("p",{children:"휠체어를 사용하거나 침대에서 대부분 생활함"})]})]})})]});return d.jsx(W,{icon:x,title:"걷기 활동 능력 평가",description:"평소 일상생활에서의 이동 능력을 가장 잘 나타내는 항목을 선택해주세요",questionText:"평상시 걷기나 이동을 할 때 어떤 상태인가요?",adlCategory:"mobility",fieldName:"mobilityLevel",getDescription:e=>{switch(e){case 1:return"보조기구 없이 자유롭게 걸을 수 있음";case 2:return"지팡이, 워커 등의 도움이나 타인의 부축이 필요함";case 3:return"휠체어를 주로 사용하거나 침상에서 생활함";default:return""}},renderAdditionalInfo:e=>{const s={1:{icon:d.jsx(b,{className:"w-5 h-5 text-green-500"}),title:"독립적 이동 가능",description:"대부분의 요양 시설에서 케어 가능한 수준입니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800"},2:{icon:d.jsx(h,{className:"w-5 h-5 text-orange-500"}),title:"부분적 도움 필요",description:"재활 프로그램이 있는 시설을 권장합니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800"},3:{icon:d.jsx(h,{className:"w-5 h-5 text-red-500"}),title:"전문적 케어 필요",description:"간호사가 상주하는 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800"}}[e];return d.jsx(E.div,{className:`p-4 rounded-lg border ${s.bgColor} ${s.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsxs("div",{className:"flex items-start gap-3",children:[s.icon,d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium ${s.textColor} mb-1`,children:s.title}),d.jsx("p",{className:`text-sm ${s.textColor}`,children:s.description})]})]})})},guidelines:e,exampleSituations:s})},Z=()=>{const{formData:e,errors:s,updateAdlScore:r,clearError:t}=B(),l=Object.entries(U.eating).map(([e,s])=>({value:parseInt(e),label:s,description:a(parseInt(e))}));function a(e){switch(e){case 1:return"젓가락, 숟가락을 사용해서 혼자 식사 가능";case 2:return"음식을 자르거나 떠주는 등의 부분적 도움 필요";case 3:return"음식을 입에 넣어주거나 관급식 필요";default:return""}}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(j,{className:"w-6 h-6 text-elderberry-600"}),d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"식사 활동 능력 평가"})]}),d.jsx("p",{className:"text-elderberry-600",children:"평소 식사를 할 때의 상태를 가장 잘 나타내는 항목을 선택해주세요"})]}),d.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:'"평상시 식사를 할 때 어떤 상태인가요?"'}),d.jsx(H,{name:"eatingLevel",value:e.eatingLevel,options:l,onChange:e=>{r("eatingLevel",e),t("eatingLevel")},error:s.eatingLevel,required:!0,direction:"vertical"})]}),e.eatingLevel&&(e=>{if(!e)return null;const s={1:{icon:d.jsx(b,{className:"w-5 h-5 text-green-500"}),title:"독립적 식사 가능",description:"일반식 제공이 가능한 모든 시설에서 케어 가능합니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",careAdvice:"균형잡힌 영양식단 관리가 중요합니다."},2:{icon:d.jsx(u,{className:"w-5 h-5 text-orange-500"}),title:"식사 보조 필요",description:"영양사가 있는 시설에서 적절한 식사 도움을 받을 수 있습니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",careAdvice:"음식을 잘게 썰거나 부드럽게 조리한 식단이 도움됩니다."},3:{icon:d.jsx(h,{className:"w-5 h-5 text-red-500"}),title:"전문적 급식 관리 필요",description:"간호사나 영양사가 상주하는 전문 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",careAdvice:"유동식, 관급식 등 전문적인 영양 공급이 필요할 수 있습니다."}}[e];return d.jsx(E.div,{className:`p-4 rounded-lg border ${s.bgColor} ${s.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsxs("div",{className:"flex items-start gap-3",children:[s.icon,d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:`font-medium ${s.textColor} mb-1`,children:s.title}),d.jsx("p",{className:`text-sm ${s.textColor} mb-2`,children:s.description}),d.jsxs("div",{className:`text-xs ${s.textColor} bg-white bg-opacity-50 p-2 rounded`,children:[d.jsx("strong",{children:"케어 조언:"})," ",s.careAdvice]})]})]})})})(e.eatingLevel),d.jsxs(E.div,{className:"grid md:grid-cols-3 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"🥄 일반식"}),d.jsx("p",{className:"text-sm text-green-700",children:"고체 음식을 씹어서 삼킬 수 있는 상태"})]}),d.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"🍲 연식/죽식"}),d.jsx("p",{className:"text-sm text-orange-700",children:"음식을 잘게 썰거나 부드럽게 조리한 식사"})]}),d.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"🩺 유동식/관급식"}),d.jsx("p",{className:"text-sm text-red-700",children:"액체 형태의 영양식이나 관을 통한 급식"})]})]}),d.jsxs(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),d.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"평상시 식사 상태"}),"를 기준으로 평가해주세요"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"식욕이 없는 날"}),"이 아닌 일반적인 상태를 고려하세요"]}),d.jsx("li",{children:"• 씹는 능력, 삼키는 능력, 손동작 능력을 종합적으로 판단하세요"}),d.jsx("li",{children:"• 의치나 보조기구를 사용하는 경우도 실제 가능한 정도로 평가하세요"})]})]}),e.eatingLevel&&d.jsxs(E.div,{className:"text-center text-sm text-elderberry-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[d.jsx("span",{children:"현재 점수:"}),d.jsxs("span",{className:"font-semibold text-elderberry-800",children:[e.eatingLevel," / 3점"]})]}),d.jsx("p",{className:"mt-2 text-xs",children:"점수가 높을수록 더 많은 식사 도움이 필요한 상태입니다"})]}),d.jsxs("details",{className:"group",children:[d.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),d.jsx(E.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsxs("div",{children:[d.jsx("strong",{className:"text-green-700",children:"1점 (독립):"}),d.jsx("p",{children:"젓가락으로 반찬을 집어먹고, 밥공기를 들어서 혼자 식사"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-700",children:"2점 (부분도움):"}),d.jsx("p",{children:"음식을 한 입 크기로 잘라주면 혼자 먹을 수 있음"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-red-700",children:"3점 (완전도움):"}),d.jsx("p",{children:"입에 음식을 넣어줘야 하거나 코위관 등으로 영양 공급"})]})]})})]})]})},_=()=>{const{formData:e,errors:s,updateAdlScore:r,clearError:t}=B(),l=Object.entries(U.toilet).map(([e,s])=>({value:parseInt(e),label:s,description:a(parseInt(e))}));function a(e){switch(e){case 1:return"혼자서 화장실에 가서 모든 과정을 처리 가능";case 2:return"화장실까지 가거나 옷을 입고 벗는데 도움 필요";case 3:return"기저귀 착용하거나 간이변기 사용, 전면적 도움 필요";default:return""}}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(p,{className:"w-6 h-6 text-elderberry-600"}),d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"배변 활동 능력 평가"})]}),d.jsx("p",{className:"text-elderberry-600",children:"평소 화장실 이용 시의 상태를 가장 잘 나타내는 항목을 선택해주세요"})]}),d.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:'"평상시 화장실을 이용할 때 어떤 상태인가요?"'}),d.jsx(H,{name:"toiletLevel",value:e.toiletLevel,options:l,onChange:e=>{r("toiletLevel",e),t("toiletLevel")},error:s.toiletLevel,required:!0,direction:"vertical"})]}),e.toiletLevel&&(e=>{if(!e)return null;const s={1:{icon:d.jsx(b,{className:"w-5 h-5 text-green-500"}),title:"독립적 화장실 이용",description:"개인 화장실이 있는 일반 시설에서 케어 가능합니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",careAdvice:"안전 손잡이가 설치된 화장실이 도움됩니다."},2:{icon:d.jsx(u,{className:"w-5 h-5 text-orange-500"}),title:"화장실 이용 보조 필요",description:"요양보호사의 도움을 받을 수 있는 시설이 적합합니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",careAdvice:"휠체어 접근 가능한 화장실과 이동 보조가 필요합니다."},3:{icon:d.jsx(h,{className:"w-5 h-5 text-red-500"}),title:"전문적 배변 관리 필요",description:"24시간 간호사가 상주하는 전문 케어 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",careAdvice:"위생 관리와 피부 케어에 특별한 주의가 필요합니다."}}[e];return d.jsx(E.div,{className:`p-4 rounded-lg border ${s.bgColor} ${s.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsxs("div",{className:"flex items-start gap-3",children:[s.icon,d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:`font-medium ${s.textColor} mb-1`,children:s.title}),d.jsx("p",{className:`text-sm ${s.textColor} mb-2`,children:s.description}),d.jsxs("div",{className:`text-xs ${s.textColor} bg-white bg-opacity-50 p-2 rounded`,children:[d.jsx("strong",{children:"케어 조언:"})," ",s.careAdvice]})]})]})})})(e.toiletLevel),d.jsxs(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),d.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"평상시 상태"}),"를 기준으로 평가해주세요"]}),d.jsxs("li",{children:["• 화장실까지 ",d.jsx("strong",{children:"이동하는 능력"}),"을 포함해서 판단하세요"]}),d.jsxs("li",{children:["• 옷을 ",d.jsx("strong",{children:"입고 벗는 능력"}),"도 함께 고려하세요"]}),d.jsx("li",{children:"• 안전상 이유로 제한하는 경우도 실제 능력을 기준으로 평가하세요"})]})]}),e.toiletLevel&&d.jsxs(E.div,{className:"text-center text-sm text-elderberry-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[d.jsx("span",{children:"현재 점수:"}),d.jsxs("span",{className:"font-semibold text-elderberry-800",children:[e.toiletLevel," / 3점"]})]}),d.jsx("p",{className:"mt-2 text-xs",children:"점수가 높을수록 더 많은 배변 도움이 필요한 상태입니다"})]}),d.jsxs("details",{className:"group",children:[d.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),d.jsx(E.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsxs("div",{children:[d.jsx("strong",{className:"text-green-700",children:"1점 (독립):"}),d.jsx("p",{children:"화장실에 혼자 가서 용변을 보고 뒤처리까지 혼자 처리"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-700",children:"2점 (부분도움):"}),d.jsx("p",{children:"화장실까지 도움을 받아가거나, 옷 입고 벗기에 도움 필요"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-red-700",children:"3점 (완전도움):"}),d.jsx("p",{children:"기저귀 사용하거나 간이변기 사용, 전면적인 도움 필요"})]})]})})]})]})},ee=()=>{const{formData:e,errors:s,updateAdlScore:r,clearError:t}=B(),l=Object.entries(U.communication).map(([e,s])=>({value:parseInt(e),label:s,description:a(parseInt(e))}));function a(e){switch(e){case 1:return"일상 대화와 의사표현이 자유롭게 가능함";case 2:return"기본적인 의사표현은 가능하나 때때로 어려움";case 3:return"의사소통이 매우 어렵거나 거의 불가능함";default:return""}}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(g,{className:"w-6 h-6 text-elderberry-600"}),d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"의사소통 능력 평가"})]}),d.jsx("p",{className:"text-elderberry-600",children:"평소 대화나 의사표현 시의 상태를 가장 잘 나타내는 항목을 선택해주세요"})]}),d.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:'"평상시 대화나 의사표현을 할 때 어떤 상태인가요?"'}),d.jsx(H,{name:"communicationLevel",value:e.communicationLevel,options:l,onChange:e=>{r("communicationLevel",e),t("communicationLevel")},error:s.communicationLevel,required:!0,direction:"vertical"})]}),e.communicationLevel&&(e=>{if(!e)return null;const s={1:{icon:d.jsx(b,{className:"w-5 h-5 text-green-500"}),title:"원활한 의사소통 가능",description:"일반적인 요양 시설에서 문제없이 지낼 수 있습니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",careAdvice:"다양한 여가활동과 사회적 교류 프로그램에 참여 가능합니다."},2:{icon:d.jsx(u,{className:"w-5 h-5 text-orange-500"}),title:"부분적 소통 장애",description:"인지케어 프로그램이 있는 시설이 적합합니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",careAdvice:"인지자극 활동과 규칙적인 일상 패턴 유지가 도움됩니다."},3:{icon:d.jsx(h,{className:"w-5 h-5 text-red-500"}),title:"전문적 인지케어 필요",description:"치매 전문 케어가 가능한 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",careAdvice:"24시간 전문 관찰과 행동증상 관리가 필요할 수 있습니다."}}[e];return d.jsx(E.div,{className:`p-4 rounded-lg border ${s.bgColor} ${s.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsxs("div",{className:"flex items-start gap-3",children:[s.icon,d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:`font-medium ${s.textColor} mb-1`,children:s.title}),d.jsx("p",{className:`text-sm ${s.textColor} mb-2`,children:s.description}),d.jsxs("div",{className:`text-xs ${s.textColor} bg-white bg-opacity-50 p-2 rounded`,children:[d.jsx("strong",{children:"케어 조언:"})," ",s.careAdvice]})]})]})})})(e.communicationLevel),d.jsxs(E.div,{className:"grid md:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🗣️ 언어 표현"}),d.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[d.jsx("li",{children:"• 원하는 것을 말로 표현"}),d.jsx("li",{children:"• 불편함이나 아픔 호소"}),d.jsx("li",{children:"• 기본적인 대화 참여"})]})]}),d.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"🧠 인지 능력"}),d.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[d.jsx("li",{children:"• 시간, 장소 인식"}),d.jsx("li",{children:"• 사람 구별 및 인식"}),d.jsx("li",{children:"• 상황 판단 능력"})]})]})]}),d.jsxs(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),d.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"평상시 상태"}),"를 기준으로 평가해주세요"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"언어 표현"}),"과 ",d.jsx("strong",{children:"이해 능력"}),"을 종합적으로 판단하세요"]}),d.jsx("li",{children:"• 치매나 인지장애가 있는 경우 현재 상태를 반영하세요"}),d.jsx("li",{children:"• 감정 상태가 좋지 않은 때가 아닌 일반적인 상태로 평가하세요"})]})]}),e.communicationLevel&&d.jsxs(E.div,{className:"text-center text-sm text-elderberry-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[d.jsx("span",{children:"현재 점수:"}),d.jsxs("span",{className:"font-semibold text-elderberry-800",children:[e.communicationLevel," / 3점"]})]}),d.jsx("p",{className:"mt-2 text-xs",children:"점수가 높을수록 더 많은 의사소통 지원이 필요한 상태입니다"})]}),d.jsxs("details",{className:"group",children:[d.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),d.jsx(E.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsxs("div",{children:[d.jsx("strong",{className:"text-green-700",children:"1점 (정상):"}),d.jsx("p",{children:"일상 대화가 자유롭고, 본인의 의견을 명확히 표현할 수 있음"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-orange-700",children:"2점 (부분제한):"}),d.jsx("p",{children:"화장실 가고 싶다는 의사는 표현할 수 있지만, 복잡한 대화는 어려움"})]}),d.jsxs("div",{children:[d.jsx("strong",{className:"text-red-700",children:"3점 (심각제한):"}),d.jsx("p",{children:"기본적인 의사표현도 어렵고, 사람이나 상황 인식에 문제가 있음"})]})]})})]})]})},se=()=>{var e;const{formData:s,errors:r,setLtciGrade:t,clearError:l}=B(),a=Object.entries(V).map(([e,s])=>({value:parseInt(e),label:s.name,description:s.description}));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(y,{className:"w-6 h-6 text-elderberry-600"}),d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"장기요양보험 등급"})]}),d.jsx("p",{className:"text-elderberry-600",children:"기존에 받으신 장기요양보험 등급이 있으시면 선택해주세요 (선택사항)"})]}),d.jsx(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(u,{className:"w-5 h-5 text-blue-500 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"장기요양보험 등급이란?"}),d.jsx("p",{className:"text-sm text-blue-600",children:"국민건강보험공단에서 신체기능·인지기능 상태를 평가하여 부여하는 등급입니다. 등급이 없으시거나 모르시는 경우 '해당없음'을 선택하시면 됩니다."})]})]})}),d.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:"현재 가지고 계신 장기요양보험 등급을 선택해주세요"}),d.jsx(H,{name:"ltciGrade",value:s.ltciGrade,options:a,onChange:e=>{t(e),l("ltciGrade")},error:r.ltciGrade,direction:"vertical"})]}),s.ltciGrade&&s.ltciGrade<=6&&d.jsxs(E.div,{className:"p-4 bg-green-50 border border-green-200 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[d.jsxs("h4",{className:"font-medium text-green-800 mb-2",children:["선택하신 등급: ",null==(e=V[s.ltciGrade])?void 0:e.name]}),d.jsx("p",{className:"text-sm text-green-600",children:"이 등급 정보는 더욱 정확한 케어 등급 산출과 시설 추천에 활용됩니다."})]}),d.jsxs(E.div,{className:"grid md:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"1-2등급 (중증)"}),d.jsx("p",{className:"text-sm text-red-700",children:"24시간 돌봄이 필요한 중증 상태"})]}),d.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"3-4등급 (중등증)"}),d.jsx("p",{className:"text-sm text-orange-700",children:"일상생활에 상당한 도움이 필요한 상태"})]}),d.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"5등급 (경증)"}),d.jsx("p",{className:"text-sm text-yellow-700",children:"부분적인 도움이 필요한 상태"})]}),d.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"인지지원등급"}),d.jsx("p",{className:"text-sm text-purple-700",children:"치매 등 인지기능 저하로 인한 특별 등급"})]})]}),d.jsxs(E.div,{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"💡 장기요양보험 신청 안내"}),d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"아직 장기요양보험을 신청하지 않으셨다면, 다음과 같은 경우 신청을 고려해보세요:"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[d.jsx("li",{children:"일상생활에 지속적인 도움이 필요한 경우"}),d.jsx("li",{children:"치매 진단을 받은 경우"}),d.jsx("li",{children:"요양원 입소를 검토 중인 경우"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"신청은 가까운 국민건강보험공단 지사에서 가능합니다."})]})]})},re=()=>{const{formData:e,errors:s,setCareTargetStatus:r,setMealType:t,setDiseaseTypes:l,setNotes:a,clearError:i}=B(),n=Object.entries(J).map(([e,s])=>({value:parseInt(e),label:s.name,description:s.description})),c=Object.entries(Q).map(([e,s])=>({value:parseInt(e),label:s.name,description:s.description}));return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(N,{className:"w-6 h-6 text-elderberry-600"}),d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"추가 정보 입력"})]}),d.jsx("p",{className:"text-elderberry-600",children:"더 정확한 평가를 위한 추가 정보를 입력해주세요 (모든 항목 선택사항)"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"돌봄대상자 상태 (선택사항)"}),d.jsx("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:d.jsx(H,{name:"careTargetStatus",value:e.careTargetStatus,options:n,onChange:e=>{r(e),i("careTargetStatus")},error:s.careTargetStatus,direction:"vertical"})}),1===e.careTargetStatus&&d.jsx(E.div,{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(v,{className:"w-5 h-5 text-red-500 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-red-800 mb-1",children:"호스피스 케어 권장"}),d.jsx("p",{className:"text-sm text-red-600",children:"이 상태에서는 호스피스 전문 시설이나 가정 호스피스 서비스를 권장합니다."})]})]})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"식사형태 (선택사항)"}),d.jsx("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:d.jsx(H,{name:"mealType",value:e.mealType,options:c,onChange:e=>{t(e),i("mealType")},error:s.mealType,direction:"vertical"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"주요 질환 및 병력 (선택사항)"}),d.jsx("textarea",{value:e.diseaseTypes||"",onChange:e=>{l(e.target.value),i("diseaseTypes")},placeholder:"예: 고혈압, 당뇨병, 치매, 뇌졸중, 관절염 등\n진단받은 질환이나 복용 중인 약물이 있으시면 입력해주세요",rows:4,className:`\n            w-full p-4 border-2 rounded-lg transition-all duration-200 resize-none\n            ${s.diseaseTypes?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}\n            focus:outline-none focus:ring-0\n          `}),s.diseaseTypes&&d.jsx(E.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s.diseaseTypes}),d.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"질환 정보는 적절한 의료 지원이 가능한 시설 추천에 활용됩니다"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"특이사항 및 기타 메모 (선택사항)"}),d.jsx("textarea",{value:e.notes||"",onChange:e=>{a(e.target.value),i("notes")},placeholder:"예: 특별한 케어가 필요한 사항, 주의할 점, 선호하는 환경 등\n평가에 도움이 될 추가 정보가 있으시면 자유롭게 입력해주세요",rows:4,className:`\n            w-full p-4 border-2 rounded-lg transition-all duration-200 resize-none\n            ${s.notes?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}\n            focus:outline-none focus:ring-0\n          `}),s.notes&&d.jsx(E.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s.notes}),d.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"이 정보는 더욱 맞춤화된 케어 계획 수립에 도움이 됩니다"})]}),d.jsxs(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📝 추가 정보의 활용"}),d.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[d.jsxs("li",{children:["• ",d.jsx("strong",{children:"질환 정보"}),": 의료진이 상주하는 시설 우선 추천"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"식사형태"}),": 적절한 급식 서비스가 가능한 시설 매칭"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"돌봄상태"}),": 호스피스나 전문 케어 시설 구분"]}),d.jsxs("li",{children:["• ",d.jsx("strong",{children:"특이사항"}),": 개별 맞춤형 케어 계획 수립"]})]})]})]})},te=Y.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});te.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e}),te.interceptors.response.use(e=>e,e=>{var s;return 401===(null==(s=e.response)?void 0:s.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});class le{static createAssessment(e){return i(this,null,function*(){return(yield te.post("/health-assessments",e)).data})}static getLatestAssessment(e){return i(this,null,function*(){var s;try{return(yield te.get(`/health-assessments/member/${e}/latest`)).data}catch(r){if(404===(null==(s=r.response)?void 0:s.status))return null;throw r}})}static getAssessmentHistory(e){return i(this,null,function*(){return(yield te.get(`/health-assessments/member/${e}/history`)).data})}static updateAssessment(e,s){return i(this,null,function*(){return(yield te.put(`/health-assessments/${e}`,s)).data})}static calculateCareGrade(e){return i(this,null,function*(){return(yield te.post(`/health-assessments/${e}/calculate`)).data})}static getAssessmentSummary(e){return i(this,null,function*(){return(yield te.get(`/health-assessments/${e}/summary`)).data})}static checkCompleteness(e){return i(this,null,function*(){return(yield te.get(`/health-assessments/${e}/completeness`)).data})}static deleteAssessment(e){return i(this,null,function*(){yield te.delete(`/health-assessments/${e}`)})}}const ae=({onComplete:e})=>{var s,r,t;const{formData:l,calculateCompletionPercentage:a,setSubmitting:n,isSubmitting:o,resetForm:m}=B(),[u,y]=f.useState(null),[v,L]=f.useState(!1),S=f.useMemo(()=>{const{mobilityLevel:e,eatingLevel:s,toiletLevel:r,communicationLevel:t}=l;return e&&s&&r&&t?e+s+r+t:null},[l]),$=f.useMemo(()=>S?S<=6?"1-2등급 (중증)":S<=9?"3-4등급 (중등증)":"5등급 또는 인지지원등급 (경증)":"계산 불가",[S]),T=f.useMemo(()=>{const{memberId:e,mobilityLevel:s,eatingLevel:r,toiletLevel:t,communicationLevel:a}=l;return!!(e&&s&&r&&t&&a)},[l]);return v?d.jsxs(E.div,{className:"text-center space-y-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(b,{className:"w-16 h-16 text-green-500"})}),d.jsx("h2",{className:"text-2xl font-bold text-elderberry-800",children:"건강 평가가 완료되었습니다!"}),d.jsx("p",{className:"text-elderberry-600",children:"입력해주신 정보를 바탕으로 맞춤형 케어 등급이 산출되었습니다."}),d.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-green-700",children:"잠시 후 결과 페이지로 이동합니다..."})})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-elderberry-800 mb-2",children:"입력 정보 검토 및 제출"}),d.jsx("p",{className:"text-elderberry-600",children:"아래 정보를 확인하신 후 평가를 완료해주세요"})]}),d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[d.jsx("span",{className:"text-sm text-elderberry-700",children:"완성도:"}),d.jsxs("span",{className:"font-semibold text-elderberry-800",children:[Math.round(a()),"%"]}),100===a()?d.jsx(b,{className:"w-4 h-4 text-green-500"}):d.jsx(h,{className:"w-4 h-4 text-orange-500"})]})}),d.jsxs(I,{children:[d.jsx(D,{children:d.jsxs(O,{className:"flex items-center gap-2",children:[d.jsx(c,{className:"w-5 h-5"}),"기본 정보"]})}),d.jsx(k,{children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"회원 ID:"}),d.jsx("span",{className:"ml-2",children:l.memberId})]}),l.gender&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"성별:"}),d.jsx("span",{className:"ml-2",children:"M"===l.gender?"남성":"여성"})]}),l.birthYear&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"출생년도:"}),d.jsxs("span",{className:"ml-2",children:[l.birthYear,"년"]})]}),l.assessorRelation&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"평가자 관계:"}),d.jsx("span",{className:"ml-2",children:l.assessorRelation})]})]})})]}),d.jsxs(I,{children:[d.jsx(D,{children:d.jsx(O,{children:"일상생활수행능력 (ADL) 평가"})}),d.jsxs(k,{children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[d.jsx(x,{className:"w-5 h-5 text-elderberry-600"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"걷기:"}),d.jsx("span",{className:"ml-2",children:l.mobilityLevel?U.mobility[l.mobilityLevel]:"미입력"}),d.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",l.mobilityLevel||0,"점)"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[d.jsx(j,{className:"w-5 h-5 text-elderberry-600"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"식사:"}),d.jsx("span",{className:"ml-2",children:l.eatingLevel?U.eating[l.eatingLevel]:"미입력"}),d.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",l.eatingLevel||0,"점)"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[d.jsx(p,{className:"w-5 h-5 text-elderberry-600"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"화장실:"}),d.jsx("span",{className:"ml-2",children:l.toiletLevel?U.toilet[l.toiletLevel]:"미입력"}),d.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",l.toiletLevel||0,"점)"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[d.jsx(g,{className:"w-5 h-5 text-elderberry-600"}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"의사소통:"}),d.jsx("span",{className:"ml-2",children:l.communicationLevel?U.communication[l.communicationLevel]:"미입력"}),d.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",l.communicationLevel||0,"점)"]})]})]})]}),S&&d.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-medium text-blue-800",children:"ADL 총점:"}),d.jsxs("span",{className:"text-lg font-bold text-blue-900",children:[S," / 12점"]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsx("span",{className:"font-medium text-blue-800",children:"예상 케어 등급:"}),d.jsx("span",{className:"font-semibold text-blue-900",children:$})]})]})]})]}),(l.ltciGrade||l.careTargetStatus||l.mealType||l.diseaseTypes||l.notes)&&d.jsxs(I,{children:[d.jsx(D,{children:d.jsxs(O,{className:"flex items-center gap-2",children:[d.jsx(N,{className:"w-5 h-5"}),"추가 정보"]})}),d.jsx(k,{children:d.jsxs("div",{className:"space-y-3 text-sm",children:[l.ltciGrade&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"장기요양보험 등급:"}),d.jsx("span",{className:"ml-2",children:null==(s=V[l.ltciGrade])?void 0:s.name})]}),l.careTargetStatus&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"돌봄대상자 상태:"}),d.jsx("span",{className:"ml-2",children:null==(r=J[l.careTargetStatus])?void 0:r.name})]}),l.mealType&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"식사형태:"}),d.jsx("span",{className:"ml-2",children:null==(t=Q[l.mealType])?void 0:t.name})]}),l.diseaseTypes&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"주요 질환:"}),d.jsx("span",{className:"ml-2",children:l.diseaseTypes})]}),l.notes&&d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-elderberry-700",children:"특이사항:"}),d.jsx("span",{className:"ml-2",children:l.notes})]})]})})]}),u&&d.jsxs(E.div,{className:"p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[d.jsx(h,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"제출 오류"})]}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsxs(G,{variant:"secondary",onClick:()=>window.print(),className:"flex items-center gap-2",children:[d.jsx(w,{className:"w-4 h-4"}),"요약 인쇄"]}),d.jsx(G,{variant:"primary",onClick:()=>i(null,null,function*(){var s,r;if(T){n(!0),y(null);try{const s=yield le.createAssessment(l);L(!0),setTimeout(()=>{null==e||e(s.id),m()},2e3)}catch(t){y((null==(r=null==(s=t.response)?void 0:s.data)?void 0:r.message)||"평가 제출에 실패했습니다. 다시 시도해주세요.")}finally{n(!1)}}else y("필수 항목이 누락되었습니다.")}),disabled:!T||o,loading:o,size:"lg",className:"px-8",children:o?d.jsxs(d.Fragment,{children:[d.jsx(C,{className:"w-4 h-4 mr-2 animate-spin"}),"평가 제출 중..."]}):"건강 평가 완료"})]}),d.jsxs(E.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"✅ 평가 완료 후 제공 서비스"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-blue-600",children:[d.jsx("div",{children:"• 개인별 맞춤 케어 등급 산출"}),d.jsx("div",{children:"• 적합한 요양 시설 추천"}),d.jsx("div",{children:"• 전문 코디네이터 매칭"}),d.jsx("div",{children:"• 케어 플랜 상담 제공"})]})]})]})},ie=({onComplete:e,onCancel:s,memberId:r})=>{const{currentStep:t,totalSteps:l,steps:a,formData:i,isSubmitting:n,errors:c,nextStep:o,previousStep:m,validateCurrentStep:x,calculateCompletionPercentage:j,setBasicInfo:u,loadFromLocalStorage:p,resetForm:g}=B();f.useEffect(()=>{u(r),p()},[r,u,p]);const y=a[t],N=t===l-1,v=0===t,w=j(),C=Object.keys(c).some(e=>{var s;return c[e]&&(null==(s=a[t])?void 0:s.id.includes(e.split(".")[0]))});return d.jsx("div",{className:"min-h-screen bg-elderberry-25 py-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-elderberry-900 mb-2",children:"건강 상태 평가"}),d.jsx("p",{className:"text-elderberry-600",children:"KB라이프생명 기반 돌봄지수 체크 시스템"})]}),d.jsx("div",{className:"mb-8",children:d.jsx(z,{progress:w,steps:a.map(e=>e.title),currentStep:t,showPercentage:!0,showSteps:!1})}),d.jsxs(I,{className:"mb-8",shadow:"md",children:[d.jsx(D,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs(O,{className:"flex items-center gap-2",children:[y.isCompleted&&d.jsx(b,{className:"w-5 h-5 text-green-500"}),y.title,y.isRequired&&d.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),d.jsx(R,{children:y.description})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-sm text-elderberry-500",children:[t+1," / ",l]}),d.jsxs("div",{className:"text-lg font-semibold text-elderberry-700",children:[Math.round(w),"%"]})]})]})}),d.jsxs(k,{children:[C&&d.jsxs(E.div,{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[d.jsx(h,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"입력 정보를 확인해주세요"})]}),d.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:Object.entries(c).map(([e,s])=>d.jsx("li",{children:s},e))})]}),d.jsx(M,{mode:"wait",children:d.jsx(E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:(()=>{switch(a[t].id){case"basic-info":return d.jsx(K,{});case"adl-mobility":return d.jsx(X,{});case"adl-eating":return d.jsx(Z,{});case"adl-toilet":return d.jsx(_,{});case"adl-communication":return d.jsx(ee,{});case"ltci-grade":return d.jsx(se,{});case"additional-info":return d.jsx(re,{});case"review":return d.jsx(ae,{onComplete:e});default:return d.jsx("div",{children:"알 수 없는 단계입니다."})}})()},t)})]}),d.jsx(q,{children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs(G,{variant:"outline",onClick:m,disabled:v,className:"flex items-center gap-2",children:[d.jsx(L,{className:"w-4 h-4"}),"이전"]}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-elderberry-600",children:[y.isRequired&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-red-500",children:"*"}),"필수 항목"]}),i.memberId&&d.jsxs("span",{children:["평가 대상: ",i.memberId]})]}),N?null:d.jsxs(G,{variant:"primary",onClick:()=>{x()&&o()},disabled:n,className:"flex items-center gap-2",children:["다음",d.jsx(S,{className:"w-4 h-4"})]})]})})]}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(G,{variant:"ghost",onClick:()=>{window.confirm("평가를 취소하시겠습니까? 입력한 데이터는 저장되지 않습니다.")&&(g(),null==s||s())},children:"평가 취소"}),d.jsx(G,{variant:"secondary",onClick:()=>{alert("진행 상황이 자동으로 저장되었습니다.")},children:"임시 저장"})]}),d.jsx(I,{className:"mt-8 bg-elderberry-50 border-elderberry-200",padding:"md",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"font-semibold text-elderberry-800 mb-2",children:"💡 평가 가이드"}),d.jsx("p",{className:"text-sm text-elderberry-600",children:"이 평가는 KB라이프생명의 돌봄지수 체크 시스템을 기반으로 합니다. 정확한 평가를 위해 평소 상태를 기준으로 답변해주세요."}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-elderberry-500",children:[d.jsx("div",{children:"📱 자동 저장"}),d.jsx("div",{children:"🔒 개인정보 보호"}),d.jsx("div",{children:"⚡ 실시간 계산"}),d.jsx("div",{children:"📊 맞춤 추천"})]})]})})]})})};export{ie as default};
