var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,o=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&l(e,a,t[a]);if(n)for(var a of n(t))i.call(t,a)&&l(e,a,t[a]);return e},s=(e,n)=>t(e,a(n)),c=(e,t,a)=>l(e,"symbol"!=typeof t?t+"":t,a),d=(e,t,a)=>new Promise((n,r)=>{var i=e=>{try{o(a.next(e))}catch(t){r(t)}},l=e=>{try{o(a.throw(e))}catch(t){r(t)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,l);o((a=a.apply(e,t)).next())});import{a as h}from"./facility-pages-BC3gCwIk.js";import{r as m,j as u,K as g,c as p,as as b,at as v,a2 as f,X as y,au as w,av as N,p as k,l as x,R as C}from"./react-vendor-l0S2e_aq.js";import{B as T}from"./core-ui-DWxtYFuZ.js";import{B as M,C as S,j as E}from"./board-pages-BfaHUs1j.js";import{p as L}from"./state-management-DFZwgI-2.js";const H={currentThemeId:"default-light",availableThemes:{"default-light":{core:{base:[95,2,266,1],accent:[44,99,307,1],contrast:30}},"default-dark":{core:{base:[18,11,280,1],accent:[72,40,311,1],contrast:30}},"catppuccin-latte":{core:{base:[95.07617314910061,2.1856276247566773,265.9705972968138,1],accent:[43.717135811988086,99.37386079300107,307.12305463765506,1],contrast:30}},"catppuccin-mocha":{core:{base:[16.02115422223583,13.102236978320558,282.51213623981425,1],accent:[71.7932136171783,46.50946588741101,305.26693753987405,1],contrast:30}},"github-light":{core:{base:[98,0,0,1],accent:[40,80,210,1],contrast:35}},"tokyo-night":{core:{base:[15,15,250,1],accent:[60,90,200,1],contrast:40}},"minimal-dark":{core:{base:[12,8,270,1],accent:[65,85,250,1],contrast:35,sidebar:{base:[8,5,270,1],accent:[65,85,250,1],contrast:35}}},"warm-light":{core:{base:[97,5,40,1],accent:[50,90,15,1],contrast:30,sidebar:{base:[94,8,40,1],accent:[50,90,15,1],contrast:30}}}},customThemes:{},isHighContrast:!1,isReducedMotion:!1,isSystemTheme:!1,loading:!1,error:null,history:[]},$=(e,t)=>{var a,l;switch(t.type){case"SET_THEME":return s(o({},e),{currentThemeId:t.payload.themeId,error:null});case"ADD_CUSTOM_THEME":return s(o({},e),{customThemes:s(o({},e.customThemes),{[t.payload.themeId]:t.payload.config})});case"REMOVE_CUSTOM_THEME":const c=e.customThemes,{[a=t.payload.themeId]:d}=c,h=((e,t)=>{var a={};for(var l in e)r.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&n)for(var l of n(e))t.indexOf(l)<0&&i.call(e,l)&&(a[l]=e[l]);return a})(c,[(l=a,"symbol"==typeof l?l:l+"")]);return s(o({},e),{customThemes:h,currentThemeId:e.currentThemeId===t.payload.themeId?"default-light":e.currentThemeId});case"TOGGLE_HIGH_CONTRAST":return s(o({},e),{isHighContrast:!e.isHighContrast});case"TOGGLE_REDUCED_MOTION":return s(o({},e),{isReducedMotion:!e.isReducedMotion});case"SET_SYSTEM_THEME":return s(o({},e),{isSystemTheme:t.payload.enabled});case"SET_LOADING":return s(o({},e),{loading:t.payload.loading});case"SET_ERROR":return s(o({},e),{error:t.payload.error,loading:!1});case"LOAD_THEMES":return s(o({},e),{availableThemes:o(o({},e.availableThemes),t.payload.themes)});case"ADD_HISTORY_ENTRY":return s(o({},e),{history:[t.payload.entry,...e.history.slice(0,49)]});case"CLEAR_HISTORY":return s(o({},e),{history:[]});default:return e}},B=m.createContext(null);class D{constructor(){c(this,"listeners",new Map)}addEventListener(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)}removeEventListener(e,t){const a=this.listeners.get(e);a&&a.delete(t)}emit(e,t){const a=this.listeners.get(e);if(a){const n={type:e,timestamp:new Date,data:t};a.forEach(e=>e(n))}}}const I=({children:e,initialTheme:t,enableSystemTheme:a=!0,enableAnimations:n=!0,storageKey:r="linear-theme-state"})=>{const[i,l]=m.useReducer($,H),s=m.useMemo(()=>new D,[]);m.useEffect(()=>{d(null,null,function*(){try{l({type:"SET_LOADING",payload:{loading:!0}});const e=localStorage.getItem(r);if(e){const t=JSON.parse(e);t.customThemes&&Object.entries(t.customThemes).forEach(([e,t])=>{l({type:"ADD_CUSTOM_THEME",payload:{themeId:e,config:t}})}),t.currentThemeId&&l({type:"SET_THEME",payload:{themeId:t.currentThemeId}}),void 0!==t.isHighContrast&&t.isHighContrast!==i.isHighContrast&&l({type:"TOGGLE_HIGH_CONTRAST"})}const a=t||i.currentThemeId;yield h(a),l({type:"SET_LOADING",payload:{loading:!1}})}catch(e){l({type:"SET_ERROR",payload:{error:"테마 상태를 로드하는 중 오류가 발생했습니다."}})}})},[t,r]),m.useEffect(()=>{const e={currentThemeId:i.currentThemeId,customThemes:i.customThemes,isHighContrast:i.isHighContrast,isReducedMotion:i.isReducedMotion,isSystemTheme:i.isSystemTheme};localStorage.setItem(r,JSON.stringify(e))},[i.currentThemeId,i.customThemes,i.isHighContrast,i.isReducedMotion,i.isSystemTheme,r]);const c=m.useCallback((e,t={})=>{var a;const r=document.documentElement,{animated:l=n,animationDuration:o=300}=t;l&&(r.style.setProperty("--theme-transition-duration",`${o}ms`),r.classList.add("theme-transitioning"));const{base:s,accent:c,contrast:d,sidebar:h}=e.core;r.style.setProperty("--linear-lch-base",`${s[0]} ${s[1]} ${s[2]}`),r.style.setProperty("--linear-lch-accent",`${c[0]} ${c[1]} ${c[2]}`),r.style.setProperty("--linear-contrast",d.toString()),h&&(r.style.setProperty("--linear-sidebar-lch-base",`${h.base[0]} ${h.base[1]} ${h.base[2]}`),r.style.setProperty("--linear-sidebar-lch-accent",`${h.accent[0]} ${h.accent[1]} ${h.accent[2]}`),r.style.setProperty("--linear-sidebar-contrast",h.contrast.toString()));const m=s[0]<=50;r.classList.remove("theme-light","theme-dark"),r.classList.add(m?"theme-dark":"theme-light"),i.isHighContrast?r.classList.add("theme-high-contrast"):r.classList.remove("theme-high-contrast"),i.isReducedMotion?r.classList.add("theme-reduced-motion"):r.classList.remove("theme-reduced-motion"),l?setTimeout(()=>{var e;r.classList.remove("theme-transitioning"),r.style.removeProperty("--theme-transition-duration"),null==(e=t.onComplete)||e.call(t)},o):null==(a=t.onComplete)||a.call(t)},[n,i.isHighContrast,i.isReducedMotion]),h=m.useCallback((e,...t)=>d(null,[e,...t],function*(e,t={}){var a;try{const a=o(o({},i.availableThemes),i.customThemes)[e];if(!a)throw new Error(`테마 '${e}'를 찾을 수 없습니다.`);const n=i.currentThemeId;l({type:"SET_THEME",payload:{themeId:e,options:t}}),c(a,t);const r={themeId:e,themeName:`Theme ${e}`,changedAt:new Date,reason:t.immediate?"immediate":"user-selection"};l({type:"ADD_HISTORY_ENTRY",payload:{entry:r}}),s.emit("theme-changed",{themeId:e,previousThemeId:n,config:a}),!1!==t.persist&&localStorage.setItem("linear-current-theme",e)}catch(n){const e=n instanceof Error?n.message:"알 수 없는 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),s.emit("theme-error",{error:e}),null==(a=t.onError)||a.call(t,n),n}}),[i.availableThemes,i.customThemes,i.currentThemeId,c,s]),g=m.useCallback((e,t)=>d(null,null,function*(){try{l({type:"ADD_CUSTOM_THEME",payload:{themeId:e,config:t}});const a=JSON.parse(localStorage.getItem("linear-custom-themes")||"{}");a[e]=t,localStorage.setItem("linear-custom-themes",JSON.stringify(a)),s.emit("custom-theme-created",{themeId:e,config:t})}catch(a){const e=a instanceof Error?a.message:"커스텀 테마 추가 중 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),a}}),[s]),p=m.useCallback(e=>d(null,null,function*(){try{l({type:"REMOVE_CUSTOM_THEME",payload:{themeId:e}});const t=JSON.parse(localStorage.getItem("linear-custom-themes")||"{}");delete t[e],localStorage.setItem("linear-custom-themes",JSON.stringify(t)),s.emit("custom-theme-deleted",{themeId:e})}catch(t){const e=t instanceof Error?t.message:"커스텀 테마 제거 중 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),t}}),[s]),b=m.useCallback(()=>{l({type:"TOGGLE_HIGH_CONTRAST"}),s.emit("contrast-toggled",{isHighContrast:!i.isHighContrast});const e=o(o({},i.availableThemes),i.customThemes)[i.currentThemeId];e&&c(e)},[i.isHighContrast,i.availableThemes,i.customThemes,i.currentThemeId,c,s]),v=m.useCallback(()=>{l({type:"TOGGLE_REDUCED_MOTION"})},[]),f=m.useCallback(e=>{if(l({type:"SET_SYSTEM_THEME",payload:{enabled:e}}),e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;h(e?"default-dark":"default-light")}},[h]),y=m.useCallback((e,t,a,n=30)=>d(null,null,function*(){const r=e.toLowerCase().replace(/\s+/g,"-"),i={core:{base:t,accent:a,contrast:n}};return yield g(r,i),r}),[g]),w=m.useCallback(e=>{const t=o(o({},i.availableThemes),i.customThemes)[e];if(!t)return null;const a={version:"2025.1.0",theme:t,exportedAt:(new Date).toISOString(),compatibility:{minVersion:"2025.1.0"}};return JSON.stringify(a,null,2)},[i.availableThemes,i.customThemes]),N=m.useCallback(e=>d(null,null,function*(){var t;try{const a=JSON.parse(e);if(!a.theme||!a.theme.core)throw new Error("유효하지 않은 테마 형식입니다.");const n=((null==(t=a.theme.metadata)?void 0:t.name)||"Imported Theme").toLowerCase().replace(/\s+/g,"-");return yield g(n,a.theme),n}catch(a){throw new Error("테마 가져오기에 실패했습니다: "+a.message)}}),[g]),k=m.useCallback(()=>d(null,null,function*(){l({type:"CLEAR_HISTORY"}),localStorage.removeItem(r),localStorage.removeItem("linear-custom-themes"),yield h("default-light")}),[r,h]),x=m.useCallback(()=>{l({type:"CLEAR_HISTORY"})},[]);m.useEffect(()=>{if(!a||!i.isSystemTheme)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{const t=e.matches?"default-dark":"default-light";h(t)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[a,i.isSystemTheme,h]),m.useEffect(()=>{const e=window.matchMedia("(prefers-contrast: high)"),t=e=>{e.matches&&!i.isHighContrast&&b()},a=window.matchMedia("(prefers-reduced-motion: reduce)"),n=e=>{e.matches!==i.isReducedMotion&&v()};return e.addEventListener("change",t),a.addEventListener("change",n),()=>{e.removeEventListener("change",t),a.removeEventListener("change",n)}},[i.isHighContrast,i.isReducedMotion,b,v]);const C=m.useMemo(()=>{const e=o(o({},i.availableThemes),i.customThemes),t=e[i.currentThemeId]||null,a=!!t&&t.core.base[0]<=50,n=Object.entries(e).map(([e,t])=>({id:e,name:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),description:`${t.core.base[0]<=50?"Dark":"Light"} theme with ${t.core.contrast}% contrast`,previewColors:{background:`lch(${t.core.base[0]} ${t.core.base[1]} ${t.core.base[2]})`,foreground:`lch(${t.core.base[0]<=50?"90":"20"} 5 ${t.core.base[2]})`,accent:`lch(${t.core.accent[0]} ${t.core.accent[1]} ${t.core.accent[2]})`,border:`lch(${t.core.base[0]<=50?"30":"85"} 5 ${t.core.base[2]})`},category:e.includes("catppuccin")?"pastel":e.includes("minimal")?"minimal":e.includes("tokyo")||e.includes("warm")?"vibrant":"classic",variant:t.core.base[0]<=50?"dark":"light"}));return{currentThemeId:i.currentThemeId,availableThemes:i.availableThemes,customThemes:i.customThemes,isHighContrast:i.isHighContrast,isReducedMotion:i.isReducedMotion,isSystemTheme:i.isSystemTheme,loading:i.loading,error:i.error,history:i.history,currentTheme:t,isDarkMode:a,allThemes:e,themePreview:n,setTheme:h,addCustomTheme:g,removeCustomTheme:p,toggleHighContrast:b,toggleReducedMotion:v,toggleSystemTheme:f,generateThemeFromColors:y,exportTheme:w,importTheme:N,resetToDefaults:k,clearHistory:x,addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}},[i,h,g,p,b,v,f,y,w,N,k,x,s]);return u.jsx(B.Provider,{value:C,children:e})},A=()=>{const e=m.useContext(B);if(!e)throw new Error("useThemeContext는 ThemeProvider 내에서 사용되어야 합니다.");return e},O=(e={})=>{const{debounceDelay:t=300,enableAnimations:a=!0,autoSave:n=!0,detectSystemTheme:r=!0,autoAccessibility:i=!0}=e,l=A(),[c,h]=m.useState({totalThemes:0,customThemes:0,sessionChanges:0,mostUsedTheme:null,averageUsageTime:0}),[u,g]=m.useState(!1),[p,b]=m.useState(null),v=m.useRef(),f=m.useRef(),y=m.useRef(Date.now()),w=m.useRef(new Map),N=m.useCallback((e,r)=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{l.setTheme(e,o({animated:a,persist:n},r)),y.current=Date.now()},t)},[l.setTheme,t,a,n]),k=m.useCallback((e,t)=>{v.current&&clearTimeout(v.current),l.setTheme(e,o({animated:a,persist:n,immediate:!0},t)),y.current=Date.now()},[l.setTheme,a,n]),x=m.useCallback((e,t={})=>{const{duration:n=3e3,autoRevert:r=!0,blockEvents:i=!0}=t;u&&f.current&&clearTimeout(f.current);const o=l.currentThemeId;g(!0),b(e),l.setTheme(e,{animated:a,persist:!1,immediate:!1}),r&&(f.current=setTimeout(()=>{l.setTheme(o,{animated:a,persist:!1}),g(!1),b(null)},n))},[l.setTheme,l.currentThemeId,a,u]),C=m.useCallback(()=>{if(f.current&&clearTimeout(f.current),u){const e=localStorage.getItem("linear-current-theme")||"default-light";l.setTheme(e,{animated:a,persist:!1})}g(!1),b(null)},[l.setTheme,a,u]),T=m.useCallback(e=>{const t=e||l.currentThemeId,a=l.allThemes[t];if(!a)return null;const{base:n,accent:r}=a.core,i=n[0],o=r[0],s=Math.abs(i-o)/100*21;let c;c=s>=7?"AAA":s>=4.5?"AA":"FAIL";const d=Math.abs(n[2]-r[2]);let h;h=d<30?"monochromatic":d<60?"analogous":d>150&&d<210?"complementary":d>100&&d<140?"triadic":"custom";const m=(n[2]+r[2])/2;let u;u=m>=0&&m<=60||m>=300?"warm":m>180&&m<300?"cool":"neutral";const g=(n[1]+r[1])/2;let p;return p=g<20?"low":g<60?"medium":"high",{contrastRatio:s,accessibilityGrade:c,harmony:h,temperature:u,saturationLevel:p}},[l.currentThemeId,l.allThemes]),M=m.useCallback((e,t,a,n=30)=>d(null,null,function*(){try{const r=yield l.generateThemeFromColors(e,t,a,n),o=T(r);return i&&(null==o||o.accessibilityGrade),r}catch(r){throw r}}),[l.generateThemeFromColors,T,i]),S=m.useCallback(()=>{var e;const t=l.currentTheme;if(!t)return;const a=t.core.base[0]<=50?"light":"dark",n=l.themePreview,r=null==(e=n.find(e=>e.id===l.currentThemeId))?void 0:e.category,i=n.find(e=>e.variant===a&&(e.category===r||e.id.includes(l.currentThemeId.replace(/-?(light|dark)$/,""))));k(i?i.id:"dark"===a?"default-dark":"default-light")},[l.currentTheme,l.currentThemeId,l.themePreview,k]),E=m.useCallback(()=>{const e=Object.keys(l.allThemes).filter(e=>e!==l.currentThemeId);if(0===e.length)return;const t=e[Math.floor(Math.random()*e.length)];k(t)},[l.allThemes,l.currentThemeId,k]),L=m.useCallback((e,t)=>{l.addEventListener(e,t),w.current.has(e)||w.current.set(e,new Set),w.current.get(e).add(t)},[l.addEventListener]),H=m.useCallback((e,t)=>{l.removeEventListener(e,t);const a=w.current.get(e);a&&a.delete(t)},[l.removeEventListener]),$=m.useMemo(()=>{const e=Object.keys(l.allThemes).length,t=Object.keys(l.customThemes).length,a=l.themePreview.find(e=>e.id===l.currentThemeId);return{totalThemes:e,customThemes:t,compatibleThemes:a?l.themePreview.filter(e=>e.id!==l.currentThemeId&&(e.category===a.category||e.variant===a.variant)):[],isValidTheme:null!==l.currentTheme,hasCustomThemes:t>0,canToggleDarkMode:!0}},[l.allThemes,l.customThemes,l.currentThemeId,l.currentTheme,l.themePreview]);return m.useEffect(()=>()=>{v.current&&clearTimeout(v.current),f.current&&clearTimeout(f.current)},[]),m.useMemo(()=>s(o({currentThemeId:l.currentThemeId,currentTheme:l.currentTheme,allThemes:l.allThemes,customThemes:l.customThemes,isDarkMode:l.isDarkMode,isHighContrast:l.isHighContrast,isReducedMotion:l.isReducedMotion,isSystemTheme:l.isSystemTheme,loading:l.loading,error:l.error,history:l.history,themePreview:l.themePreview},$),{currentAnalysis:l.currentTheme?T():null,sessionStats:c,isPreviewMode:u,previewThemeId:p,toggleHighContrast:l.toggleHighContrast,toggleReducedMotion:l.toggleReducedMotion,toggleSystemTheme:l.toggleSystemTheme,addCustomTheme:l.addCustomTheme,removeCustomTheme:l.removeCustomTheme,exportTheme:l.exportTheme,importTheme:l.importTheme,resetToDefaults:l.resetToDefaults,clearHistory:l.clearHistory,setTheme:N,setThemeImmediate:k,previewTheme:x,cancelPreview:C,analyzeTheme:T,createThemeFromColors:M,toggleDarkMode:S,randomTheme:E,addEventListener:L,removeEventListener:H,getThemeById:e=>l.allThemes[e]||null,getThemesByCategory:e=>l.themePreview.filter(t=>t.category===e),getThemesByVariant:e=>l.themePreview.filter(t=>t.variant===e),searchThemes:e=>l.themePreview.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())),lchToHex:e=>{const[t,a,n]=e;return`hsl(${n}, ${a}%, ${t}%)`},hexToLch:e=>[50,50,0,1],validateTheme:e=>{const{base:t,accent:a,contrast:n}=e.core;return Array.isArray(t)&&4===t.length&&Array.isArray(a)&&4===a.length&&"number"==typeof n&&n>=0&&n<=100}}),[l,$,c,u,p,N,k,x,C,T,M,S,E,L,H])},R=()=>{const e=A();return m.useMemo(()=>({themeId:e.currentThemeId,theme:e.currentTheme,isDark:e.isDarkMode,isHighContrast:e.isHighContrast}),[e.currentThemeId,e.currentTheme,e.isDarkMode,e.isHighContrast])},W={"/":{label:"홈",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),u.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]})},"/about":{label:"소개",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),u.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})},"/contact":{label:"문의",parent:"/",icon:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})},"/dashboard":{label:"대시보드",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"})]})},"/mypage":{label:"마이페이지",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"12",cy:"7",r:"4"})]})},"/settings":{label:"설정",parent:"/mypage",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"3"}),u.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},"/notifications":{label:"알림",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),u.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})},"/facility-search":{label:"시설 찾기",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),u.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},"/health-assessment":{label:"건강 평가",parent:"/",icon:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},"/boards":{label:"커뮤니티",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),u.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})},"/jobs":{label:"구인구직",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),u.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),u.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})},"/auth":{label:"인증",hidden:!0},"/auth/signin":{label:"로그인",parent:"/",hidden:!0},"/auth/signup":{label:"회원가입",parent:"/",hidden:!0},"/admin":{label:"관리자",parent:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"3"}),u.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}},_={"/boards/:boardId":e=>({label:`게시판 #${e[1]}`,parent:"/boards"}),"/boards/:boardId/posts/:postId":e=>({label:`게시글 #${e[3]}`,parent:`/boards/${e[1]}`}),"/jobs/:jobId":e=>({label:`채용공고 #${e[1]}`,parent:"/jobs"}),"/profiles/:profileType/:profileId":e=>({label:("member"===e[1]?"회원":"코디네이터")+" 프로필",parent:"/profiles"})},z=[{code:"ko",name:"한국어",nativeName:"한국어",flag:"🇰🇷"},{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"zh",name:"中文",nativeName:"中文",flag:"🇨🇳"}],j=p()(L((e,t)=>({currentLanguage:"ko",setLanguage:t=>{e({currentLanguage:t}),document.documentElement.lang=t,window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:t}}))},getCurrentLanguageOption:()=>{const e=t().currentLanguage;return z.find(t=>t.code===e)||z[0]}}),{name:"elderberry-language",partialize:e=>({currentLanguage:e.currentLanguage})}));var P=(e=>(e.MATCHING="MATCHING",e.FACILITY_UPDATE="FACILITY_UPDATE",e.CHAT="CHAT",e.SYSTEM="SYSTEM",e))(P||{}),V=(e=>(e.ALL="ALL",e.READ="read",e.UNREAD="UNREAD",e))(V||{});function G(e){return!e.isRead}function U(e){const t=new Date(e),a=new Date,n=Math.floor((a.getTime()-t.getTime())/6e4);return n<1?"방금 전":n<60?`${n}분 전`:n<1440?`${Math.floor(n/60)}시간 전`:n<10080?`${Math.floor(n/1440)}일 전`:t.toLocaleDateString("ko-KR")}const F={MATCHING:"매칭",FACILITY_UPDATE:"시설 업데이트",CHAT:"채팅",SYSTEM:"시스템"},Y={MATCHING:{icon:"👥",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-200"},FACILITY_UPDATE:{icon:"🏥",color:"green",bgColor:"bg-green-50",textColor:"text-green-600",borderColor:"border-green-200"},CHAT:{icon:"💬",color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600",borderColor:"border-purple-200"},SYSTEM:{icon:"⚙️",color:"gray",bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-200"}},J=()=>d(null,null,function*(){return(yield h.get("/notifications/unread-count")).data});class K{constructor(e){c(this,"intervalId",null),c(this,"lastCheckTime",null),c(this,"onNewNotifications"),this.onNewNotifications=e}start(e=3e4){this.intervalId&&this.stop(),this.checkNotifications(),this.intervalId=setInterval(()=>{this.checkNotifications()},e)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}checkNotifications(){return d(this,null,function*(){try{const t=yield(e=this.lastCheckTime||void 0,d(null,null,function*(){const t=yield J();let a=!1;if(e){const n=new Date(e);a=new Date(t.lastUpdated)>n}else a=t.unreadCount>0;return{hasNewNotifications:a,unreadCount:t.unreadCount,lastUpdated:t.lastUpdated}}));this.onNewNotifications&&this.onNewNotifications({unreadCount:t.unreadCount,hasNew:t.hasNewNotifications}),this.lastCheckTime=(new Date).toISOString()}catch(t){}var e})}resetLastCheckTime(){this.lastCheckTime=null}}const q={notifications:[],summary:{unreadCount:0,totalCount:0,unreadByType:{},lastUpdated:(new Date).toISOString()},settings:null,isLoading:!1,error:null,isDropdownOpen:!1,currentPage:0,totalPages:0,hasMore:!1,filter:{readStatus:V.ALL,page:0,size:20},isPolling:!1,lastFetchTime:null,poller:null},Q=p()(L((e,t)=>s(o({},q),{fetchNotifications:(...a)=>d(null,[...a],function*(a={},n=!1){try{n||e({isLoading:!0,error:null});const r=t(),i=o(o({},r.filter),a);i.page=n?(i.page||0)+1:0;const l=yield((...e)=>d(null,[...e],function*(e={}){const t={};return e.readStatus&&(t.readStatus=e.readStatus),e.notificationType&&(t.notificationType=e.notificationType),void 0!==e.page&&(t.page=e.page),void 0!==e.size&&(t.size=e.size),(yield h.get("/notifications",{params:t})).data}))(i);e(e=>({notifications:n?[...e.notifications,...l.content]:l.content,currentPage:l.page.number,totalPages:l.page.totalPages,hasMore:l.page.number<l.page.totalPages-1,filter:i,isLoading:!1,lastFetchTime:(new Date).toISOString()})),t().fetchUnreadCount()}catch(r){e({error:r instanceof Error?r.message:"알림을 불러오는데 실패했습니다.",isLoading:!1})}}),fetchUnreadCount:()=>d(null,null,function*(){try{const t=yield J();e({summary:t})}catch(t){}}),markAsRead:a=>d(null,null,function*(){try{yield(e=>d(null,null,function*(){return(yield h.put(`/notifications/${e}/read`)).data}))(a),e(e=>({notifications:e.notifications.map(e=>e.notificationId===a?s(o({},e),{isRead:!0,readAt:(new Date).toISOString()}):e)})),t().fetchUnreadCount()}catch(n){e({error:"알림 읽음 처리에 실패했습니다."})}}),markAllAsRead:()=>d(null,null,function*(){try{yield d(null,null,function*(){return(yield h.put("/notifications/read-all")).data});const a=(new Date).toISOString();e(e=>({notifications:e.notifications.map(e=>s(o({},e),{isRead:!0,readAt:e.readAt||a}))})),t().fetchUnreadCount()}catch(a){e({error:"모든 알림 읽음 처리에 실패했습니다."})}}),removeNotification:a=>d(null,null,function*(){try{yield(e=>d(null,null,function*(){return(yield h.delete(`/notifications/${e}`)).data}))(a),e(e=>({notifications:e.notifications.filter(e=>e.notificationId!==a)})),t().fetchUnreadCount()}catch(n){e({error:"알림 삭제에 실패했습니다."})}}),fetchSettings:()=>d(null,null,function*(){try{const t=yield d(null,null,function*(){return(yield h.get("/notifications/settings")).data});e({settings:t})}catch(t){e({error:"알림 설정을 불러오는데 실패했습니다."})}}),updateSettings:t=>d(null,null,function*(){try{const a=yield(e=>d(null,null,function*(){return(yield h.put("/notifications/settings",e)).data}))(t);e({settings:a})}catch(a){e({error:"알림 설정 업데이트에 실패했습니다."})}}),toggleDropdown:()=>{e(e=>({isDropdownOpen:!e.isDropdownOpen}))},closeDropdown:()=>{e({isDropdownOpen:!1})},setFilter:t=>{e(e=>({filter:o(o({},e.filter),t),currentPage:0,hasMore:!1}))},clearFilter:()=>{e({filter:{readStatus:V.ALL,page:0,size:20},currentPage:0,hasMore:!1})},startPolling:()=>{const a=t();if(a.isPolling||a.poller)return;const n=new K(a=>{a.hasNew&&t().fetchNotifications(t().filter,!1),e(e=>({summary:s(o({},e.summary),{unreadCount:a.unreadCount,lastUpdated:(new Date).toISOString()})}))});n.start(3e4),e({isPolling:!0,poller:n})},stopPolling:()=>{const a=t();a.poller&&a.poller.stop(),e({isPolling:!1,poller:null})},addRealtimeNotification:t=>{e(e=>({notifications:[t,...e.notifications],summary:s(o({},e.summary),{unreadCount:e.summary.unreadCount+(t.isRead?0:1),totalCount:e.summary.totalCount+1,lastUpdated:(new Date).toISOString()})}))},clearError:()=>{e({error:null})},setLoading:t=>{e({isLoading:t})},reset:()=>{const a=t();a.poller&&a.poller.stop(),e(q)}}),{name:"elderberry-notification-store",partialize:e=>({settings:e.settings,filter:e.filter})})),X=()=>Q(e=>({isOpen:e.isDropdownOpen,toggle:e.toggleDropdown,close:e.closeDropdown})),Z=()=>({isReducedMotion:!1,isDarkMode:!1,isHighContrast:!1,currentTheme:null,currentThemeId:"default-light",setTheme:()=>{},toggleDarkMode:()=>{}}),ee=({className:e="",showBadge:t=!0,autoStartPolling:a=!0,onBellClick:n})=>{const r=Q(e=>e.summary.unreadCount),{isOpen:i,toggle:l}=X(),{isPolling:o,startPolling:s,stopPolling:c}=Q(e=>({isPolling:e.isPolling,startPolling:e.startPolling,stopPolling:e.stopPolling,lastFetchTime:e.lastFetchTime}));m.useEffect(()=>(a&&!o&&s(),()=>{a&&c()}),[a,o,s,c]);const d=r>99?"99+":r.toString(),h=r>0?"animate-pulse text-blue-600":"text-gray-500 hover:text-gray-700";return u.jsxs("div",{className:`relative ${e}`,children:[u.jsx("button",{onClick:()=>{n?n():l()},className:`\n          p-2 rounded-full transition-colors duration-200 \n          hover:bg-gray-100 focus:outline-none focus:ring-2 \n          focus:ring-blue-500 focus:ring-offset-2\n          ${i?"bg-gray-100":""}\n        `,"aria-label":`알림 ${r}개`,"aria-expanded":i,children:r>0?u.jsx(b,{className:`h-6 w-6 ${h}`}):u.jsx(v,{className:`h-6 w-6 ${h}`})}),t&&r>0&&u.jsx(M,{variant:"destructive",className:"\n            absolute -top-1 -right-1 \n            min-w-[1.2rem] h-5 px-1\n            text-xs font-semibold\n            flex items-center justify-center\n            animate-bounce\n          ",children:d}),!1]})},te=({className:e="",maxHeight:t="max-h-96",onSettingsClick:a,onNotificationClick:n})=>{const r=m.useRef(null),[i,l]=m.useState(V.ALL),{isOpen:o,close:s}=X(),{filter:c,setFilter:h}=Q(e=>({filter:e.filter,setFilter:e.setFilter,clearFilter:e.clearFilter})),{notifications:g,isLoading:p,error:b,hasMore:v,fetchNotifications:x,markAsRead:C,markAllAsRead:E,removeNotification:L}=Q();return m.useEffect(()=>{o&&x(c)},[o,x,c]),m.useEffect(()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&s()};if(o)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o,s]),o?u.jsx("div",{className:`\n      absolute right-0 top-full mt-2 w-96 z-50\n      ${e}\n    `,children:u.jsxs(S,{ref:r,className:"shadow-lg border-0 ring-1 ring-black/5",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"알림"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[a&&u.jsx(T,{variant:"ghost",size:"sm",onClick:a,className:"p-1",children:u.jsx(f,{className:"h-4 w-4"})}),u.jsx(T,{variant:"ghost",size:"sm",onClick:s,className:"p-1",children:u.jsx(y,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"flex border-b",children:[{key:V.ALL,label:"전체"},{key:V.UNREAD,label:"읽지 않음"},{key:V.read,label:"읽음"}].map(({key:e,label:t})=>u.jsx("button",{onClick:()=>{return l(t=e),h({readStatus:t,page:0}),void x({readStatus:t,page:0});var t},className:`\n                flex-1 px-3 py-2 text-sm font-medium transition-colors\n                ${i===e?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}\n              `,children:t},e))}),g.some(G)&&u.jsx("div",{className:"p-3 border-b bg-gray-50",children:u.jsxs(T,{variant:"outline",size:"sm",onClick:E,className:"w-full",children:[u.jsx(w,{className:"h-4 w-4 mr-2"}),"모두 읽음으로 표시"]})}),u.jsxs("div",{className:`${t} overflow-y-auto`,children:[b&&u.jsx("div",{className:"p-4 text-sm text-red-600 bg-red-50",children:b}),p&&0===g.length&&u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),"알림을 불러오는 중..."]}),!p&&0===g.length&&u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(Bell,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),u.jsx("p",{children:"알림이 없습니다."})]}),g.map(e=>{const t=Y[e.type]||Y[P.SYSTEM],a=G(e),r=function(e){return"HIGH"===e.priority}(e);return u.jsx("div",{className:`\n                  group relative p-4 border-b cursor-pointer transition-colors\n                  hover:bg-gray-50\n                  ${a?"bg-blue-50/50":""}\n                `,onClick:()=>(e=>d(null,null,function*(){G(e)&&(yield C(e.notificationId)),n&&n(e),e.actionUrl&&(window.location.href=e.actionUrl),s()}))(e),children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:`\n                    flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-lg\n                    ${t.bgColor} ${t.textColor}\n                    ${r?"ring-2 ring-red-200":""}\n                  `,children:t.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("h4",{className:`\n                        text-sm font-medium truncate\n                        ${a?"text-gray-900":"text-gray-700"}\n                      `,children:e.title}),r&&u.jsx(M,{variant:"destructive",className:"ml-2 text-xs",children:"중요"})]}),u.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.content}),u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsx("span",{className:"text-xs text-gray-400",children:U(e.createdAt)}),a&&u.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})]}),u.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsxs("div",{className:"flex space-x-1",children:[a&&u.jsx("button",{onClick:t=>{t.stopPropagation(),C(e.notificationId)},className:"p-1 text-gray-400 hover:text-blue-600",title:"읽음으로 표시",children:u.jsx(N,{className:"h-4 w-4"})}),u.jsx("button",{onClick:t=>{return a=e.notificationId,n=t,d(null,null,function*(){n.stopPropagation(),yield L(a)});var a,n},className:"p-1 text-gray-400 hover:text-red-600",title:"삭제",children:u.jsx(k,{className:"h-4 w-4"})})]})})]})},e.notificationId)}),v&&u.jsx("div",{className:"p-4 text-center border-b",children:u.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{v&&!p&&x(c,!0)},disabled:p,className:"w-full",children:p?"불러오는 중...":"더 보기"})})]}),u.jsx("div",{className:"p-3 bg-gray-50 text-center",children:u.jsx(T,{variant:"ghost",size:"sm",onClick:()=>{s(),window.location.href="/notifications"},className:"text-blue-600 hover:text-blue-800",children:"모든 알림 보기"})})]})}):null},ae=[{id:"home",label:"홈",href:"/"},{id:"facilities",label:"시설 찾기",href:"/facility-search",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),u.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},{id:"health",label:"건강 평가",href:"/health-assessment",icon:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},{id:"community",label:"커뮤니티",href:"/boards",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"9",cy:"7",r:"4"}),u.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),u.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"about",label:"소개",href:"/about"}],ne=[{id:"home",label:"홈",href:"/",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),u.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]})},{id:"facilities",label:"시설 찾기",href:"/facility-search",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),u.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},{id:"health",label:"건강 평가",href:"/health-assessment",icon:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},{id:"boards",label:"커뮤니티",href:"/boards",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"9",cy:"7",r:"4"}),u.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),u.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"jobs",label:"구인구직",href:"/jobs",icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),u.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),u.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}],re=m.memo(({sidebarState:e,onToggleSidebar:t,variant:a="default",isMobile:n=!1,fixed:r=!0,navItems:i,userMenuItems:l=[],user:c,onLogoClick:h,className:p=""})=>{const{isAuthenticated:b,user:v,logout:f}=E(),y=x(),w=g(),N=c||v,k=(i||(b?ne:ae)).map(e=>s(o({},e),{active:w.pathname===e.href||"/"!==e.href&&w.pathname.startsWith(e.href)})),{isDark:C,isHighContrast:T,isReducedMotion:M}=R(),{currentLanguage:S,setLanguage:L,getCurrentLanguageOption:H}=(()=>{const{currentLanguage:e,setLanguage:t,getCurrentLanguageOption:a}=j();return{currentLanguage:e,setLanguage:t,getCurrentLanguageOption:a,isKorean:"ko"===e,isEnglish:"en"===e,isChinese:"zh"===e,t:(t,a,n)=>{switch(e){case"en":return a||t;case"zh":return n||t;default:return t}}}})(),[$,B]=m.useState(!1),[D,I]=m.useState(!1),[A,O]=m.useState(!1),[W,_]=m.useState(!1),P=m.useRef(null),V=m.useRef(null),G=m.useRef(null),U=m.useRef(null);m.useEffect(()=>{const e=e=>{P.current&&!P.current.contains(e.target)&&B(!1),V.current&&!V.current.contains(e.target)&&I(!1),G.current&&!G.current.contains(e.target)&&O(!1),U.current&&!U.current.contains(e.target)&&_(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),m.useCallback((e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())},[]);const F=m.useCallback(e=>{I(!1)},[]),Y=m.useCallback(e=>{L(e),_(!1),window.confirm&&z.find(t=>t.code===e)},[L]),J=m.useCallback(()=>{h?h():y("/")},[h,y]),K=m.useCallback(()=>d(null,null,function*(){try{yield f(),y("/")}catch(e){}}),[f,y]),q=b&&N?[{id:"profile",label:"내 프로필",onClick:()=>y("/mypage"),icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"12",cy:"7",r:"4"})]})},{id:"notifications",label:"알림",onClick:()=>y("/notifications"),icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),u.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})},{id:"settings",label:"설정",onClick:()=>y("/settings"),icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"3"}),u.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},{id:"logout",label:"로그아웃",onClick:K,icon:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),u.jsx("polyline",{points:"16,17 21,12 16,7"}),u.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),divider:!0,danger:!0}]:[],Q=l.length>0?l:q,X=e=>u.jsxs("button",{onClick:()=>y(e.href),className:`\n        nav-item linear-button-ghost\n        ${e.active?"nav-item-active":""}\n      `,children:[e.icon&&u.jsx("span",{className:"nav-item-icon",children:e.icon}),u.jsx("span",{children:e.label}),e.badge&&u.jsx("span",{className:"linear-badge nav-item-badge",children:e.badge})]},e.id),Z=["linear-header","linear-navbar",`header-variant-${a}`,r&&"header-fixed",n&&"header-mobile",p].filter(Boolean).join(" ");return u.jsxs("header",{className:Z,children:[u.jsxs("div",{className:"header-container",children:[u.jsxs("div",{className:"header-start",children:[u.jsx("button",{onClick:t,className:"sidebar-toggle linear-button-ghost","aria-label":"사이드바 토글",title:"사이드바 토글 (Alt+S)",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),u.jsxs("button",{onClick:J,className:"header-logo","aria-label":"엘더베리 홈으로 이동",children:[u.jsx("div",{className:"logo-icon linear-gradient-signature",children:u.jsx("span",{className:"logo-text",children:"E"})}),u.jsx("span",{className:"logo-brand",children:"엘더베리"})]})]}),!n&&u.jsx("nav",{className:"header-nav",role:"navigation","aria-label":"메인 네비게이션",children:u.jsx("div",{className:"nav-items",children:k.map(X)})}),u.jsxs("div",{className:"header-end",children:[b&&u.jsxs("div",{className:"notification-wrapper",children:[u.jsx(ee,{}),u.jsx(te,{})]}),u.jsxs("div",{className:"language-menu",ref:U,children:[u.jsxs("button",{onClick:()=>_(!W),className:"language-toggle linear-button-ghost","aria-label":"언어 선택","aria-expanded":W,title:"Select Language / 언어 선택",children:[u.jsx("span",{className:"language-flag",children:H().flag}),u.jsx("span",{className:"language-code",children:S.toUpperCase()}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"language-chevron "+(W?"rotate-180":""),children:u.jsx("polyline",{points:"6,9 12,15 18,9"})})]}),W&&u.jsxs("div",{className:"linear-dropdown language-dropdown",children:[u.jsx("div",{className:"dropdown-header",children:u.jsx("h3",{children:"Select Language"})}),u.jsx("div",{className:"language-options",children:z.map(e=>u.jsxs("button",{onClick:()=>Y(e.code),className:"language-option "+(e.code===S?"active":""),title:`Switch to ${e.name}`,children:[u.jsx("span",{className:"language-flag",children:e.flag}),u.jsxs("div",{className:"language-info",children:[u.jsx("span",{className:"language-name",children:e.name}),u.jsx("span",{className:"language-native",children:e.nativeName})]}),e.code===S&&u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"check-icon",children:u.jsx("polyline",{points:"20,6 9,17 4,12"})})]},e.code))})]})]}),u.jsxs("div",{className:"theme-menu",ref:V,children:[u.jsx("button",{onClick:()=>I(!D),className:"theme-toggle linear-button-ghost","aria-label":"테마 변경","aria-expanded":D,children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C?u.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}):u.jsxs(u.Fragment,{children:[u.jsx("circle",{cx:"12",cy:"12",r:"5"}),u.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})})}),D&&u.jsxs("div",{className:"linear-dropdown theme-dropdown",children:[u.jsxs("div",{className:"dropdown-header",children:[u.jsx("h3",{children:"테마 선택"}),u.jsxs("button",{onClick:()=>{},className:"linear-button-secondary",children:[C?"라이트":"다크"," 모드"]})]}),u.jsx("div",{className:"theme-grid",children:[].map(e=>u.jsxs("button",{onClick:()=>F(e.id),className:"theme-option "+(e.id===(null==currentTheme?void 0:currentTheme.id)?"active":""),title:e.description,children:[u.jsx("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, ${e.preview.background} 0%, ${e.preview.accent} 100%)`}}),u.jsx("span",{className:"theme-name",children:e.name})]},e.id))})]})]}),b&&N?u.jsxs("div",{className:"user-menu",ref:P,children:[u.jsx("button",{onClick:()=>B(!$),className:"user-avatar linear-button-ghost","aria-label":"사용자 메뉴","aria-expanded":$,children:N.avatar?u.jsx("img",{src:N.avatar,alt:N.name,className:"avatar-image"}):u.jsx("div",{className:"avatar-placeholder",children:N.name.charAt(0).toUpperCase()})}),$&&u.jsxs("div",{className:"linear-dropdown user-dropdown",children:[u.jsx("div",{className:"dropdown-header",children:u.jsxs("div",{className:"user-info",children:[u.jsx("span",{className:"user-name",children:N.name}),u.jsx("span",{className:"user-email",children:N.email})]})}),u.jsx("div",{className:"dropdown-items",children:Q.map(e=>u.jsxs("button",{onClick:e.onClick,className:`\n        user-menu-item linear-button-ghost\n        ${e.danger?"text-error":""}\n        ${e.divider?"border-t border-linear-border-subtle":""}\n      `,children:[e.icon&&u.jsx("span",{className:"menu-item-icon",children:e.icon}),u.jsx("span",{children:e.label})]},e.id))})]})]}):u.jsxs("div",{className:"auth-buttons",children:[u.jsx("button",{onClick:()=>y("/auth/signin"),className:"linear-button-ghost auth-signin-btn",title:"Sign in to your account",children:"Sign In"}),u.jsx("button",{onClick:()=>y("/auth/signup"),className:"linear-button-primary auth-signup-btn",title:"Create a new account",children:"Sign Up"})]}),n&&u.jsx("button",{onClick:()=>O(!A),className:"nav-toggle linear-button-ghost","aria-label":"네비게이션 메뉴","aria-expanded":A,children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]})]}),n&&A&&u.jsx("nav",{className:"mobile-nav linear-animate-slide-down",ref:G,children:u.jsxs("div",{className:"mobile-nav-items",children:[k.map(X),!b&&u.jsxs("div",{className:"mobile-auth-buttons",children:[u.jsx("button",{onClick:()=>{y("/auth/signin"),O(!1)},className:"linear-button-ghost w-full mobile-auth-btn",title:"Sign in to your account",children:"Sign In"}),u.jsx("button",{onClick:()=>{y("/auth/signup"),O(!1)},className:"linear-button-primary w-full mt-2 mobile-auth-btn",title:"Create a new account",children:"Sign Up"})]})]})})]})}),ie=[{id:"home",label:"홈",href:"/",icon:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),u.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),active:!0},{id:"facilities",label:"시설 찾기",href:"/facility-search",icon:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),u.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},{id:"health",label:"건강 평가",href:"/health-assessment",icon:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},{id:"boards",label:"커뮤니티",href:"/boards",icon:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),u.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})},{id:"jobs",label:"구인구직",href:"/jobs",icon:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),u.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),u.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})},{id:"profile",label:"마이페이지",href:"/mypage",icon:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),children:[{id:"profile-info",label:"개인정보",href:"/profile/info",icon:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("circle",{cx:"12",cy:"12",r:"3"})})},{id:"profile-settings",label:"설정",href:"/profile/settings",icon:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("circle",{cx:"12",cy:"12",r:"3"})})}]},{id:"help",label:"도움말",href:"/help",icon:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),u.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}],le=[{id:"main",title:"메인",items:ie.slice(0,2)},{id:"services",title:"서비스",items:ie.slice(2,5)},{id:"account",title:"계정",items:ie.slice(5)}],oe=({state:e,onStateChange:t,isMobile:a=!1,fixed:n=!0,sections:r=le,menuItems:i,showHeader:l=!0,showFooter:c=!0,className:d=""})=>{const h=x(),p=g(),{currentTheme:b,isDarkMode:v}=O(),[f,y]=m.useState(new Set),[w,N]=m.useState(new Set),k=m.useCallback(e=>{y(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},[]),C=m.useCallback(e=>{N(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},[]),T=m.useCallback((e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())},[]),M=m.useCallback(e=>e.map(e=>s(o({},e),{active:p.pathname===e.href||"/"!==e.href&&p.pathname.startsWith(e.href),children:e.children?M(e.children):void 0})),[p.pathname]),S=(t,a=0)=>{const n=t.children&&t.children.length>0,r=w.has(t.id),i="collapsed"===e;return u.jsxs("div",{className:`sidebar-menu-item level-${a}`,children:[n?u.jsxs("button",{onClick:()=>C(t.id),onKeyDown:e=>T(e,()=>C(t.id)),className:`\n              menu-item-button submenu-toggle\n              ${t.active?"active":""}\n              ${t.disabled?"disabled":""}\n            `,"aria-expanded":r,disabled:t.disabled,children:[u.jsx("span",{className:"menu-item-icon",children:t.icon}),!i&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"menu-item-label",children:t.label}),t.badge&&u.jsx("span",{className:`linear-badge linear-badge-${t.badgeVariant||"default"}`,children:t.badge}),u.jsx("svg",{className:"submenu-arrow "+(r?"expanded":""),width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M9 18l6-6-6-6"})})]})]}):u.jsxs("button",{onClick:()=>h(t.href),className:`\n              menu-item-link\n              ${t.active?"active":""}\n              ${t.disabled?"disabled":""}\n            `,disabled:t.disabled,children:[u.jsx("span",{className:"menu-item-icon",children:t.icon}),!i&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"menu-item-label",children:t.label}),t.badge&&u.jsx("span",{className:`linear-badge linear-badge-${t.badgeVariant||"default"}`,children:t.badge})]})]}),n&&r&&!i&&u.jsx("div",{className:"submenu linear-animate-slide-down",children:t.children.map(e=>S(e,a+1))})]},t.id)},E=["linear-sidebar",`sidebar-${e}`,a&&"sidebar-mobile",n&&"sidebar-fixed",v&&"sidebar-dark",d].filter(Boolean).join(" "),L=i?[{id:"main",title:"메인",items:M(i)}]:r.map(e=>s(o({},e),{items:M(e.items)}));return u.jsxs("aside",{className:E,role:"complementary","aria-label":"사이드바 네비게이션",children:[l&&!a&&u.jsx("div",{className:"sidebar-header",children:u.jsxs("div",{className:"sidebar-brand",children:[u.jsx("div",{className:"brand-icon linear-gradient-signature",children:u.jsx("span",{className:"brand-text",children:"E"})}),"collapsed"!==e&&u.jsx("span",{className:"brand-name",children:"엘더베리"})]})}),u.jsx("div",{className:"sidebar-content linear-scrollbar",children:u.jsx("nav",{className:"sidebar-nav",role:"navigation","aria-label":"사이드바 메뉴",children:L.map(t=>{const a="collapsed"===e,n=f.has(t.id);return u.jsxs("div",{className:"sidebar-section",children:[!a&&u.jsx("div",{className:"section-header",children:t.collapsible?u.jsxs("button",{onClick:()=>k(t.id),onKeyDown:e=>T(e,()=>k(t.id)),className:"section-toggle","aria-expanded":!n,children:[u.jsx("span",{className:"section-title",children:t.title}),u.jsx("svg",{className:"section-arrow "+(n?"":"expanded"),width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M9 18l6-6-6-6"})})]}):u.jsx("h3",{className:"section-title",children:t.title})}),(!t.collapsible||!n)&&u.jsx("div",{className:"section-items",children:t.items.map(e=>S(e))}),!a&&u.jsx("hr",{className:"linear-separator"})]},t.id)})})}),c&&"collapsed"!==e&&u.jsx("div",{className:"sidebar-footer",children:u.jsxs("div",{className:"footer-info",children:[u.jsx("span",{className:"app-version",children:"v2025.1.0"}),u.jsx("span",{className:"linear-text-tertiary",children:"엘더베리"})]})})]})},se=[{id:"services",title:"서비스",links:[{id:"facilities",label:"시설 찾기",href:"/facilities"},{id:"health",label:"건강 평가",href:"/health"},{id:"recommendations",label:"AI 추천",href:"/recommendations"},{id:"consultation",label:"전문 상담",href:"/consultation"}]},{id:"company",title:"회사 소개",links:[{id:"about",label:"회사 소개",href:"/about"},{id:"team",label:"팀 소개",href:"/team"},{id:"careers",label:"채용 정보",href:"/careers"},{id:"news",label:"보도자료",href:"/news"}]},{id:"support",title:"고객 지원",links:[{id:"help",label:"도움말",href:"/help"},{id:"faq",label:"자주 묻는 질문",href:"/faq"},{id:"contact",label:"문의하기",href:"/contact"},{id:"feedback",label:"피드백",href:"/feedback"}]},{id:"legal",title:"약관 및 정책",links:[{id:"privacy",label:"개인정보 처리방침",href:"/privacy"},{id:"terms",label:"이용약관",href:"/terms"},{id:"cookies",label:"쿠키 정책",href:"/cookies"},{id:"accessibility",label:"접근성 정책",href:"/accessibility"}]}],ce=[{id:"facebook",name:"Facebook",href:"https://facebook.com/elderberry",ariaLabel:"엘더베리 페이스북 페이지",icon:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})},{id:"twitter",name:"Twitter",href:"https://twitter.com/elderberry",ariaLabel:"엘더베리 트위터 페이지",icon:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})},{id:"instagram",name:"Instagram",href:"https://instagram.com/elderberry",ariaLabel:"엘더베리 인스타그램 페이지",icon:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})},{id:"youtube",name:"YouTube",href:"https://youtube.com/elderberry",ariaLabel:"엘더베리 유튜브 채널",icon:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}],de=({variant:e="default",sections:t=se,socialLinks:a=ce,copyrightText:n,companyName:r="엘더베리",companyDescription:i="고령층을 위한 맞춤형 시설 추천 및 건강 관리 서비스",contactInfo:l,showNewsletter:o=!0,className:s=""})=>{const{isDarkMode:c}=O(),d=`© ${(new Date).getFullYear()} ${r}. 모든 권리 보유.`,h=["linear-footer",`footer-variant-${e}`,c&&"footer-dark",s].filter(Boolean).join(" "),m=e=>u.jsxs("a",{href:e.href,target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,className:"footer-link linear-text-secondary hover:linear-text-accent",children:[e.icon&&u.jsx("span",{className:"link-icon",children:e.icon}),e.label]},e.id);return u.jsx("footer",{className:h,role:"contentinfo",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-main",children:[u.jsxs("div",{className:"footer-brand",children:[u.jsx("div",{className:"brand-header",children:u.jsxs("div",{className:"brand-logo",children:[u.jsx("div",{className:"logo-icon linear-gradient-signature",children:u.jsx("span",{className:"logo-text",children:"E"})}),u.jsx("span",{className:"brand-name",children:r})]})}),u.jsx("p",{className:"brand-description linear-text-secondary",children:i}),l&&u.jsxs("div",{className:"contact-info",children:[l.email&&u.jsxs("div",{className:"contact-item",children:[u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),u.jsx("polyline",{points:"22,6 12,13 2,6"})]}),u.jsx("a",{href:`mailto:${l.email}`,className:"linear-text-secondary hover:linear-text-accent",children:l.email})]}),l.phone&&u.jsxs("div",{className:"contact-item",children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),u.jsx("a",{href:`tel:${l.phone}`,className:"linear-text-secondary hover:linear-text-accent",children:l.phone})]}),l.address&&u.jsxs("div",{className:"contact-item",children:[u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),u.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),u.jsx("span",{className:"linear-text-secondary",children:l.address})]})]}),u.jsxs("div",{className:"social-links",children:[u.jsx("span",{className:"social-title linear-text-primary",children:"팔로우하기"}),u.jsx("div",{className:"social-icons",children:a.map(e=>u.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"social-link linear-button-ghost","aria-label":e.ariaLabel,title:e.name,children:e.icon},e.id))})]})]}),u.jsx("div",{className:"footer-sections",children:t.map(e=>u.jsxs("div",{className:"footer-section",children:[u.jsx("h3",{className:"section-title linear-text-primary",children:e.title}),u.jsx("ul",{className:"section-links",children:e.links.map(e=>u.jsx("li",{children:m(e)},e.id))})]},e.id))}),o&&u.jsxs("div",{className:"newsletter-section",children:[u.jsx("h3",{className:"section-title linear-text-primary",children:"뉴스레터 구독"}),u.jsx("p",{className:"newsletter-description linear-text-secondary",children:"최신 소식과 유용한 정보를 받아보세요."}),u.jsxs("form",{className:"newsletter-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("input",{type:"email",placeholder:"이메일 주소를 입력하세요",className:"linear-input newsletter-input","aria-label":"뉴스레터 구독을 위한 이메일 주소"}),u.jsx("button",{type:"submit",className:"linear-button-primary newsletter-button",children:"구독하기"})]}),u.jsx("p",{className:"newsletter-notice linear-text-tertiary",children:"구독하시면 개인정보 처리방침에 동의하는 것으로 간주됩니다."})]})]})]}),u.jsx("hr",{className:"linear-separator"}),u.jsxs("div",{className:"footer-bottom",children:[u.jsx("div",{className:"copyright",children:u.jsx("span",{className:"linear-text-secondary",children:n||d})}),u.jsxs("div",{className:"footer-meta",children:[u.jsx("span",{className:"linear-text-tertiary",children:"Made with ❤️ in Korea"}),u.jsx("span",{className:"linear-text-tertiary",children:"•"}),u.jsx("span",{className:"linear-text-tertiary",children:"Linear Design System v2025.1.0"})]})]})]})})},he=()=>u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"breadcrumb-separator-icon","aria-hidden":"true",children:u.jsx("path",{d:"M9 18l6-6-6-6"})}),me=()=>u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"breadcrumb-home-icon",children:[u.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),u.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),ue=({onClick:e,expanded:t})=>u.jsx("button",{onClick:e,className:"breadcrumb-more linear-button-ghost","aria-label":t?"축약하기":"전체 경로 보기",title:t?"축약하기":"전체 경로 보기",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"more-icon "+(t?"expanded":""),children:[u.jsx("circle",{cx:"12",cy:"12",r:"1"}),u.jsx("circle",{cx:"19",cy:"12",r:"1"}),u.jsx("circle",{cx:"5",cy:"12",r:"1"})]})}),ge=({items:e,separator:t=u.jsx(he,{}),maxItems:a=3,showHomeIcon:n=!0,homeHref:r="/",currentClickable:i=!1,includeStructuredData:l=!0,className:s="",onItemClick:c})=>{var d;const{isDarkMode:h}=O(),[g,p]=C.useState(!1),[b,v]=C.useState(!1);C.useEffect(()=>{const e=()=>{v(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const f=m.useMemo(()=>{if(!b||g||e.length<=a)return e;const t=e[0],n=e.slice(-(a-1));return e.length<=a?e:[t,...n]},[e,b,g,a]),y=b&&!g&&e.length>a,w=m.useMemo(()=>l?{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((e,t)=>o({"@type":"ListItem",position:t+1,name:e.label},e.href&&{item:window.location.origin+e.href}))}:null,[e,l]),N=["linear-breadcrumb",h&&"breadcrumb-dark",b&&"breadcrumb-mobile",g&&"breadcrumb-expanded",s].filter(Boolean).join(" "),k=(e,t,a)=>{const n=e.current||a,r=["breadcrumb-item",n&&"current",e.disabled&&"disabled"].filter(Boolean).join(" "),l=u.jsxs(u.Fragment,{children:[e.icon&&u.jsx("span",{className:"breadcrumb-item-icon",children:e.icon}),u.jsx("span",{className:"breadcrumb-item-label",children:e.label})]});return u.jsx("li",{className:r,children:!e.href||n&&!i?u.jsx("span",{className:"breadcrumb-text "+(n?"linear-text-primary":"linear-text-secondary"),"aria-current":n?"page":void 0,children:l}):u.jsx("a",{href:e.href,className:"breadcrumb-link linear-text-secondary hover:linear-text-accent",onClick:a=>((e,t,a)=>{!e.current||i?e.disabled?a.preventDefault():null==c||c(e,t):a.preventDefault()})(e,t,a),onKeyDown:a=>((e,t,a)=>{"Enter"!==a.key&&" "!==a.key||(a.preventDefault(),null==c||c(e,t))})(e,t,a),"aria-current":n?"page":void 0,"aria-disabled":e.disabled,children:l})},e.id)},x=e=>u.jsx("li",{className:"breadcrumb-separator","aria-hidden":"true",children:t},`separator-${e}`);return u.jsxs("nav",{className:N,"aria-label":"브레드크럼 네비게이션",role:"navigation",children:[w&&u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{i:JSON.stringify(w)}}),u.jsxs("ol",{className:"breadcrumb-list",children:[n&&(null==(d=f[0])?void 0:d.href)!==r&&u.jsxs(u.Fragment,{children:[u.jsx("li",{className:"breadcrumb-item home-item",children:u.jsx("a",{href:r,className:"breadcrumb-link linear-text-secondary hover:linear-text-accent","aria-label":"홈으로 이동",title:"홈",children:u.jsx(me,{})})}),x("home")]}),f.map((t,a)=>{const n=a===f.length-1,r=y&&a>0?e.length-(f.length-a):a;return u.jsxs(C.Fragment,{children:[y&&1===a&&u.jsxs(u.Fragment,{children:[u.jsx("li",{className:"breadcrumb-item ellipsis-item",children:u.jsx(ue,{onClick:()=>p(!g),expanded:g})}),x("ellipsis")]}),k(t,r,n),!n&&x(r)]},t.id)})]})]})},pe=m.memo(({children:e,variant:t="default",initialSidebarState:a="open",showHeader:n=!0,showSidebar:r=!0,showFooter:i=!0,sidebarFixed:l=!0,headerFixed:o=!0,maxWidth:s,className:c="",onSidebarStateChange:d,onLayoutChange:h})=>{const{isDark:p,isHighContrast:b,isReducedMotion:v}=R(),{items:f,showBreadcrumb:y}=(()=>{var e;const t=g(),a=m.useMemo(()=>{var e,a;const n=t.pathname;if(n.startsWith("/auth/")||"/unauthorized"===n||n.startsWith("/linear-demo"))return[];const r=n.split("/").filter(Boolean),i=[];let l="";for(let t=0;t<r.length;t++){l+=`/${r[t]}`;let e=W[l];if(!e)for(const[t,n]of Object.entries(_)){const a=t.split("/").filter(Boolean);if(a.length===r.length){let t=!0;for(let e=0;e<a.length;e++)if(!a[e].startsWith(":")&&a[e]!==r[e]){t=!1;break}if(t){e=n(r);break}}}if(e||(e={label:r[t].charAt(0).toUpperCase()+r[t].slice(1)}),e.hidden)continue;const a=t===r.length-1;i.push({id:l,label:e.label,href:a?void 0:l,icon:e.icon,current:a})}return i.length>0&&"/"!==(null==(e=i[0])?void 0:e.id)&&i.unshift({id:"/",label:"홈",href:"/",icon:null==(a=W["/"])?void 0:a.icon,current:!1}),i},[t.pathname]);return{items:a,currentPage:(null==(e=a.find(e=>e.current))?void 0:e.label)||"",showBreadcrumb:a.length>1}})(),[w,N]=m.useState(a),[k,x]=m.useState(!1),[C,T]=m.useState(!1);m.useEffect(()=>{const e=()=>{const e=window.innerWidth,t=e<=480,a=e<=768&&e>480;x(t),T(a),t&&"open"===w&&N("hidden")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[w]);const M=m.useCallback(e=>{N(e),null==d||d(e)},[d]),S=m.useCallback(()=>{N(k?e=>"open"===e?"hidden":"open":e=>"open"===e?"collapsed":"open")},[k]),E=m.useCallback(()=>{k&&"open"===w&&N("hidden")},[k,w]);m.useEffect(()=>{const e=e=>{"Escape"===e.key&&k&&"open"===w&&N("hidden"),e.altKey&&"s"===e.key&&(e.preventDefault(),S())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[k,w,S]);const L=["linear-main-layout",`layout-variant-${t}`,"hidden"!==w?`sidebar-${w}`:"sidebar-hidden",p?"layout-dark":"layout-light",k?"layout-mobile":C?"layout-tablet":"layout-desktop",o&&"header-fixed",l&&"sidebar-fixed",v&&"reduced-motion",c].filter(Boolean).join(" "),H=r&&"hidden"!==w,$=k&&"open"===w;return u.jsxs("div",{className:L,children:[n&&u.jsx(re,{sidebarState:w,onToggleSidebar:S,variant:t,isMobile:k,fixed:o,className:o?"header-fixed":""}),$&&u.jsx("div",{className:"sidebar-overlay",onClick:E,"aria-hidden":"true"}),u.jsxs("div",{className:"main-container",children:[H&&u.jsx(oe,{state:w,onStateChange:M,isMobile:k,fixed:l,className:l?"sidebar-fixed":""}),u.jsxs("main",{className:"main-content",style:s?{maxWidth:s}:void 0,role:"main","aria-label":"메인 콘텐츠",children:[y&&u.jsx("div",{className:"breadcrumb-container",children:u.jsx(ge,{items:f,showHomeIcon:!0,includeStructuredData:!0,onItemClick:e=>{e.href&&(window.location.href=e.href)}})}),u.jsx("div",{className:"content-wrapper",children:e})]})]}),i&&u.jsx(de,{variant:t,className:"main-footer"})]})}),be=()=>u.jsxs("div",{className:"page-loading",children:[u.jsxs("div",{className:"skeleton-header",children:[u.jsx("div",{className:"skeleton-line skeleton-title"}),u.jsx("div",{className:"skeleton-line skeleton-description"})]}),u.jsxs("div",{className:"skeleton-content",children:[u.jsx("div",{className:"skeleton-line"}),u.jsx("div",{className:"skeleton-line"}),u.jsx("div",{className:"skeleton-line skeleton-short"})]})]}),ve=({error:e})=>u.jsxs("div",{className:"page-error linear-error",children:[u.jsx("div",{className:"error-icon",children:u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),u.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),u.jsxs("div",{className:"error-content",children:[u.jsx("h3",{children:"오류가 발생했습니다"}),u.jsx("p",{children:e})]})]}),fe=({action:e})=>{const t=[`linear-button-${e.variant||"primary"}`,e.loading&&"loading",e.disabled&&"disabled"].filter(Boolean).join(" ");return u.jsxs("button",{onClick:e.onClick,className:t,disabled:e.disabled||e.loading,title:e.tooltip,"aria-label":e.tooltip||e.label,children:[e.loading?u.jsx("div",{className:"button-spinner",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56"})})}):e.icon&&u.jsx("span",{className:"button-icon",children:e.icon}),u.jsx("span",{children:e.label})]},e.id)},ye=({title:e,description:t,breadcrumbItems:a,actions:n=[],children:r,headerContent:i,sidebar:l,meta:o,maxWidth:s,padding:c="medium",showBreadcrumb:d=!0,showHeaderDivider:h=!0,loading:m=!1,error:g,className:p=""})=>{const{isDarkMode:b}=O();C.useEffect(()=>{if(((null==o?void 0:o.title)||e)&&(document.title=(null==o?void 0:o.title)||e),(null==o?void 0:o.description)||t){const e=document.querySelector('meta[name="description"]');e&&e.setAttribute("content",(null==o?void 0:o.description)||t||"")}if(null==o?void 0:o.keywords){const e=document.querySelector('meta[name="keywords"]');e&&e.setAttribute("content",o.keywords.join(", "))}},[e,t,o]);const v=["linear-page-container",`padding-${c}`,b&&"page-dark",l&&"has-sidebar",m&&"page-loading-state",g&&"page-error-state",p].filter(Boolean).join(" ");return m?u.jsx("div",{className:v,children:u.jsx(be,{})}):g?u.jsx("div",{className:v,children:u.jsx(ve,{error:g})}):u.jsxs("div",{className:v,style:s?{maxWidth:s}:void 0,children:[d&&a&&a.length>0&&u.jsx("div",{className:"page-breadcrumb-section",children:u.jsx(ge,{items:a})}),u.jsxs("header",{className:"page-header",children:[u.jsxs("div",{className:"page-header-main",children:[u.jsxs("div",{className:"page-header-content",children:[u.jsxs("div",{className:"page-title-section",children:[u.jsx("h1",{className:"page-title linear-text-primary",children:e}),t&&u.jsx("p",{className:"page-description linear-text-secondary",children:t})]}),i&&u.jsx("div",{className:"page-header-custom",children:i})]}),n.length>0&&u.jsx("div",{className:"page-actions",children:n.map(e=>u.jsx(fe,{action:e},e.id))})]}),h&&u.jsx("hr",{className:"linear-separator page-header-divider"})]}),u.jsx("div",{className:"page-main",children:l?u.jsxs("div",{className:"page-content-with-sidebar",children:[u.jsx("main",{className:"page-content",role:"main",children:r}),u.jsx("aside",{className:"page-sidebar",role:"complementary",children:l})]}):u.jsx("main",{className:"page-content",role:"main",children:r})}),!1]})};export{pe as M,P as N,ye as P,I as T,O as a,A as b,Z as c,Q as d,F as e,R as u};
