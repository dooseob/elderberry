var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,l,r)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[l]=r,s=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&i(e,l,a[l]);if(r)for(var l of r(a))n.call(a,l)&&i(e,l,a[l]);return e},c=(e,r)=>a(e,l(r)),o=(e,a,l)=>new Promise((r,t)=>{var n=e=>{try{s(l.next(e))}catch(a){t(a)}},i=e=>{try{s(l.throw(e))}catch(a){t(a)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,i);s((l=l.apply(e,a)).next())});import{c as d,u as m,r as u,j as h,b as p,P as b,S as y,F as g,d as x,am as N,f,W as v,C as w,$ as j,V as E,E as L,i as C,A as k,k as P,l as J,m as T,n as $,B as A,o as R,p as O,an as M,N as S,q as I,ao as D,Y as _}from"./react-vendor-DgfdclPJ.js";import{j as U,M as z,C as W,d as K,f as Y,g as B}from"./board-pages-D2pf0vfR.js";import{B as F}from"./core-ui-DRCkfLHi.js";import{m as V}from"./animation-lib-Bccw-fVq.js";import{a as X}from"./http-client-9JY-woyA.js";const q=X.create({baseURL:"http://localhost:8080/api/jobs",timeout:1e4,headers:{"Content-Type":"application/json"}}),H=X.create({baseURL:"http://localhost:8080/api/job-applications",timeout:1e4,headers:{"Content-Type":"application/json"}}),G=e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization=`Bearer ${a}`),e};q.interceptors.request.use(G),H.interceptors.request.use(G);const Q=e=>{var a,l,r,t,n,i,s,c;const o={message:(null==(l=null==(a=e.response)?void 0:a.data)?void 0:l.message)||"네트워크 오류가 발생했습니다.",code:(null==(t=null==(r=e.response)?void 0:r.data)?void 0:t.code)||"NETWORK_ERROR",status:(null==(n=e.response)?void 0:n.status)||500,timestamp:(new Date).toISOString(),path:(null==(i=e.config)?void 0:i.url)||"",details:null==(c=null==(s=e.response)?void 0:s.data)?void 0:c.details};return Promise.reject(o)};q.interceptors.response.use(e=>e,Q),H.interceptors.response.use(e=>e,Q);const Z={getJobs(){return o(this,arguments,function*(e={}){return(yield q.get("",{params:e})).data})},getJob(e){return o(this,null,function*(){return(yield q.get(`/${e}`)).data})},createJob(e){return o(this,null,function*(){return(yield q.post("",e)).data})},updateJob(e,a){return o(this,null,function*(){return(yield q.put(`/${e}`,a)).data})},deleteJob(e){return o(this,null,function*(){yield q.delete(`/${e}`)})},getMyJobs(){return o(this,arguments,function*(e={}){return(yield q.get("/my",{params:e})).data})},getJobStatistics(){return o(this,null,function*(){return(yield q.get("/statistics")).data})},getPopularJobs(e=10){return o(this,null,function*(){return(yield q.get("/popular",{params:{limit:e}})).data})},getLatestJobs(e=10){return o(this,null,function*(){return(yield q.get("/latest",{params:{limit:e}})).data})},getRecommendedJobs(e=10){return o(this,null,function*(){return(yield q.get("/recommended",{params:{limit:e}})).data})},incrementViewCount(e){return o(this,null,function*(){yield q.post(`/${e}/view`)})}},ee={submitApplication(e){return o(this,null,function*(){return(yield H.post("",e)).data})},getMyApplications(){return o(this,arguments,function*(e={}){return(yield H.get("/my",{params:e})).data})},getJobApplications(e){return o(this,arguments,function*(e,a={}){return(yield H.get(`/job/${e}`,{params:a})).data})},getApplication(e){return o(this,null,function*(){return(yield H.get(`/${e}`)).data})},updateApplication(e,a){return o(this,null,function*(){return(yield H.put(`/${e}`,a)).data})},withdrawApplication(e){return o(this,null,function*(){yield H.delete(`/${e}`)})},scheduleInterview(e){return o(this,null,function*(){return(yield H.post("/schedule-interview",e)).data})},updateApplicationStatus(e){return o(this,null,function*(){return(yield H.post("/update-status",e)).data})},getApplicantStatistics(){return o(this,null,function*(){return(yield H.get("/statistics")).data})},checkApplicationExists(e){return o(this,null,function*(){return(yield H.get(`/check/${e}`)).data})}},ae={page:0,size:20,sortBy:"postedDate",sortDirection:"desc"},le={jobs:[],currentJob:null,jobsLoading:!1,jobsError:null,jobsTotalPages:0,jobsCurrentPage:0,jobsTotalElements:0,applications:[],currentApplication:null,applicationsLoading:!1,applicationsError:null,applicationsTotalPages:0,applicationsCurrentPage:0,statistics:null,statisticsLoading:!1,statisticsError:null,searchParams:ae},re=d()((e,a)=>c(s({},le),{loadJobs:l=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const r=s(s({},a().searchParams),l),t=yield Z.getJobs(r);e({jobs:t.content,jobsTotalPages:t.totalPages,jobsCurrentPage:t.page,jobsTotalElements:t.totalElements,searchParams:r,jobsLoading:!1})}catch(r){throw e({jobsLoading:!1,jobsError:r.message||"구인 공고를 불러오는데 실패했습니다."}),r}}),loadJob:a=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const l=yield Z.getJob(a);yield Z.incrementViewCount(a),e({currentJob:l,jobsLoading:!1})}catch(l){throw e({jobsLoading:!1,jobsError:l.message||"구인 공고를 불러오는데 실패했습니다."}),l}}),createJob:a=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const l=yield Z.createJob(a);return e(e=>({jobs:[l,...e.jobs],jobsTotalElements:e.jobsTotalElements+1,jobsLoading:!1})),l}catch(l){throw e({jobsLoading:!1,jobsError:l.message||"구인 공고 등록에 실패했습니다."}),l}}),updateJob:(a,l)=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const r=yield Z.updateJob(a,l);return e(e=>{var l;return{jobs:e.jobs.map(e=>e.id===a?r:e),currentJob:(null==(l=e.currentJob)?void 0:l.id)===a?r:e.currentJob,jobsLoading:!1}}),r}catch(r){throw e({jobsLoading:!1,jobsError:r.message||"구인 공고 수정에 실패했습니다."}),r}}),deleteJob:a=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null}),yield Z.deleteJob(a),e(e=>{var l;return{jobs:e.jobs.filter(e=>e.id!==a),currentJob:(null==(l=e.currentJob)?void 0:l.id)===a?null:e.currentJob,jobsTotalElements:e.jobsTotalElements-1,jobsLoading:!1}})}catch(l){throw e({jobsLoading:!1,jobsError:l.message||"구인 공고 삭제에 실패했습니다."}),l}}),loadMyJobs:l=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const r=s(s({},a().searchParams),l),t=yield Z.getMyJobs(r);e({jobs:t.content,jobsTotalPages:t.totalPages,jobsCurrentPage:t.page,jobsTotalElements:t.totalElements,searchParams:r,jobsLoading:!1})}catch(r){throw e({jobsLoading:!1,jobsError:r.message||"내 구인 공고를 불러오는데 실패했습니다."}),r}}),incrementJobView:a=>o(null,null,function*(){try{yield Z.incrementViewCount(a),e(e=>{var l;return{jobs:e.jobs.map(e=>e.id===a?c(s({},e),{viewCount:e.viewCount+1}):e),currentJob:(null==(l=e.currentJob)?void 0:l.id)===a?c(s({},e.currentJob),{viewCount:e.currentJob.viewCount+1}):e.currentJob}})}catch(l){}}),submitApplication:a=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const l=yield ee.submitApplication(a);return e(e=>({applications:[l,...e.applications],applicationsLoading:!1})),l}catch(l){throw e({applicationsLoading:!1,applicationsError:l.message||"지원서 제출에 실패했습니다."}),l}}),loadMyApplications:(a=0,l=20)=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const r=yield ee.getMyApplications({page:a,size:l});e({applications:r.content,applicationsTotalPages:r.totalPages,applicationsCurrentPage:r.page,applicationsLoading:!1})}catch(r){throw e({applicationsLoading:!1,applicationsError:r.message||"지원서 목록을 불러오는데 실패했습니다."}),r}}),loadJobApplications:(a,l=0,r=20)=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const t=yield ee.getJobApplications(a,{page:l,size:r});e({applications:t.content,applicationsTotalPages:t.totalPages,applicationsCurrentPage:t.page,applicationsLoading:!1})}catch(t){throw e({applicationsLoading:!1,applicationsError:t.message||"지원서 목록을 불러오는데 실패했습니다."}),t}}),updateApplicationStatus:a=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const l=yield ee.updateApplicationStatus(a);e(e=>{var r;return{applications:e.applications.map(e=>e.id===a.applicationId?l:e),currentApplication:(null==(r=e.currentApplication)?void 0:r.id)===a.applicationId?l:e.currentApplication,applicationsLoading:!1}})}catch(l){throw e({applicationsLoading:!1,applicationsError:l.message||"지원 상태 업데이트에 실패했습니다."}),l}}),scheduleInterview:a=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const l=yield ee.scheduleInterview(a);e(e=>{var r;return{applications:e.applications.map(e=>e.id===a.applicationId?l:e),currentApplication:(null==(r=e.currentApplication)?void 0:r.id)===a.applicationId?l:e.currentApplication,applicationsLoading:!1}})}catch(l){throw e({applicationsLoading:!1,applicationsError:l.message||"면접 일정 등록에 실패했습니다."}),l}}),withdrawApplication:a=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null}),yield ee.withdrawApplication(a),e(e=>{var l;return{applications:e.applications.filter(e=>e.id!==a),currentApplication:(null==(l=e.currentApplication)?void 0:l.id)===a?null:e.currentApplication,applicationsLoading:!1}})}catch(l){throw e({applicationsLoading:!1,applicationsError:l.message||"지원서 취소에 실패했습니다."}),l}}),loadStatistics:()=>o(null,null,function*(){try{e({statisticsLoading:!0,statisticsError:null});const a=yield Z.getJobStatistics();e({statistics:a,statisticsLoading:!1})}catch(a){throw e({statisticsLoading:!1,statisticsError:a.message||"통계를 불러오는데 실패했습니다."}),a}}),setSearchParams:a=>{e(e=>({searchParams:s(s({},e.searchParams),a)}))},resetSearchParams:()=>{e({searchParams:ae})},clearJobsError:()=>{e({jobsError:null})},clearApplicationsError:()=>{e({applicationsError:null})},clearStatisticsError:()=>{e({statisticsError:null})},reset:()=>{e(le)}}));var te=(e=>(e.FULL_TIME="FULL_TIME",e.PART_TIME="PART_TIME",e.CONTRACT="CONTRACT",e.TEMPORARY="TEMPORARY",e))(te||{}),ne=(e=>(e.ENTRY="ENTRY",e.JUNIOR="JUNIOR",e.MID="MID",e.SENIOR="SENIOR",e.EXPERT="EXPERT",e))(ne||{});const ie={[te.FULL_TIME]:"정규직",[te.PART_TIME]:"시간제",[te.CONTRACT]:"계약직",[te.TEMPORARY]:"임시직"},se={[ne.ENTRY]:"신입",[ne.JUNIOR]:"1-3년",[ne.MID]:"3-7년",[ne.SENIOR]:"7년 이상",[ne.EXPERT]:"전문가"},ce=e=>{const a=new Date(e),l=new Date,r=Math.ceil((a.getTime()-l.getTime())/864e5);return r<0?"마감됨":0===r?"오늘 마감":1===r?"내일 마감":r<=7?`${r}일 후 마감`:a.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})},oe=({job:e})=>{const{user:a}=U(),l=(null==a?void 0:a.role)===z.EMPLOYER&&e.employerId===(null==a?void 0:a.id);return h.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},transition:{duration:.2},children:h.jsx(W,{className:"hover:shadow-lg transition-shadow",children:h.jsxs(K,{className:"p-6",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-elderberry-600",children:h.jsx(p,{to:`/jobs/${e.id}`,children:e.title})}),e.isUrgent&&h.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[h.jsx(f,{className:"w-3 h-3 mr-1"}),"급구"]}),l&&h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"내 공고"})]}),h.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4 mb-3",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(N,{className:"w-4 h-4 mr-1"}),e.facilityName||e.employerName]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(v,{className:"w-4 h-4 mr-1"}),e.location]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(w,{className:"w-4 h-4 mr-1"}),ie[e.employmentType]]})]}),h.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:e.description}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[h.jsxs("span",{className:"flex items-center text-green-600 font-medium",children:[h.jsx(j,{className:"w-4 h-4 mr-1"}),(r=e.salaryMin,t=e.salaryMax,r||t?r&&t?`${r.toLocaleString()}원 - ${t.toLocaleString()}원`:r?`${r.toLocaleString()}원 이상`:t?`${t.toLocaleString()}원 이하`:"급여 협의":"급여 협의")]}),h.jsxs("span",{className:"flex items-center text-gray-500",children:[h.jsx(E,{className:"w-4 h-4 mr-1"}),"지원자 ",e.applicationCount,"명"]}),h.jsxs("span",{className:"flex items-center text-gray-500",children:[h.jsx(L,{className:"w-4 h-4 mr-1"}),"조회 ",e.viewCount]})]})})]})}),e.tags&&e.tags.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,3).map((e,a)=>h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700",children:e},a)),e.tags.length>3&&h.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.tags.length-3,"개"]})]}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(C,{className:"w-3 h-3 mr-1"}),new Date(e.postedDate).toLocaleDateString("ko-KR")]}),e.applicationDeadline&&h.jsxs("span",{className:"flex items-center",children:[h.jsx(x,{className:"w-3 h-3 mr-1"}),ce(e.applicationDeadline)]})]}),h.jsx(p,{to:`/jobs/${e.id}`,children:h.jsxs(F,{variant:"outline",size:"sm",children:["자세히 보기",h.jsx(k,{className:"w-4 h-4 ml-1"})]})})]})]})})});var r,t},de=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[e,a]=m(),{user:l}=U(),{jobs:r,jobsLoading:t,jobsError:n,jobsTotalPages:i,jobsCurrentPage:o,jobsTotalElements:d,searchParams:f,loadJobs:v,setSearchParams:w,clearJobsError:j}=re(),[E,L]=u.useState(e.get("keyword")||""),[C,k]=u.useState(!1),[P,J]=u.useState([]),[T,$]=u.useState([]),[A,R]=u.useState(""),O=(null==l?void 0:l.role)===z.EMPLOYER;u.useEffect(()=>{const a={};e.get("keyword")&&(a.keyword=e.get("keyword")),e.get("location")&&(a.location=e.get("location")),e.get("page")&&(a.page=parseInt(e.get("page"))||0),v(a)},[e]);const M=()=>{const e={page:0,keyword:E||void 0,location:A||void 0,employmentType:P.length>0?P:void 0,experienceLevel:T.length>0?T:void 0};w(e),v(e);const l=new URLSearchParams;E&&l.set("keyword",E),A&&l.set("location",A),a(l)},S=l=>{const r=c(s({},f),{page:l});w(r),v(r);const t=new URLSearchParams(e);t.set("page",l.toString()),a(t)},I=()=>{L(""),R(""),J([]),$([]),w({page:0}),v({page:0}),a({})};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:O?"구인 관리":"구인 정보"}),h.jsx("p",{className:"text-gray-600 mt-1",children:O?"등록한 구인 공고를 관리하고 지원자를 확인하세요":"원하는 일자리를 찾아보세요"})]}),O&&h.jsx("div",{className:"mt-4 sm:mt-0",children:h.jsx(p,{to:"/jobs/create",children:h.jsxs(F,{variant:"primary",children:[h.jsx(b,{className:"w-4 h-4 mr-2"}),"새 공고 등록"]})})})]}),h.jsx(W,{children:h.jsx(K,{className:"p-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"직무, 회사, 키워드 검색...",value:E,onChange:e=>L(e.target.value),onKeyPress:e=>"Enter"===e.key&&M(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500"})]})}),h.jsxs(F,{variant:"outline",onClick:()=>k(!C),className:"flex items-center",children:[h.jsx(g,{className:"w-4 h-4 mr-2"}),"필터"]}),h.jsx(F,{variant:"primary",onClick:M,children:"검색"})]}),C&&h.jsxs(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 pt-4 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"지역"}),h.jsxs("select",{value:A,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500",children:[h.jsx("option",{value:"",children:"전체 지역"}),h.jsx("option",{value:"서울",children:"서울"}),h.jsx("option",{value:"경기",children:"경기"}),h.jsx("option",{value:"인천",children:"인천"}),h.jsx("option",{value:"부산",children:"부산"}),h.jsx("option",{value:"대구",children:"대구"}),h.jsx("option",{value:"대전",children:"대전"}),h.jsx("option",{value:"광주",children:"광주"}),h.jsx("option",{value:"울산",children:"울산"}),h.jsx("option",{value:"세종",children:"세종"}),h.jsx("option",{value:"강원",children:"강원"}),h.jsx("option",{value:"충북",children:"충북"}),h.jsx("option",{value:"충남",children:"충남"}),h.jsx("option",{value:"전북",children:"전북"}),h.jsx("option",{value:"전남",children:"전남"}),h.jsx("option",{value:"경북",children:"경북"}),h.jsx("option",{value:"경남",children:"경남"}),h.jsx("option",{value:"제주",children:"제주"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"고용 형태"}),h.jsx("div",{className:"space-y-2",children:Object.entries(ie).map(([e,a])=>h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:P.includes(e),onChange:a=>{a.target.checked?J([...P,e]):J(P.filter(a=>a!==e))},className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:a})]},e))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"경력 수준"}),h.jsx("div",{className:"space-y-2",children:Object.entries(se).map(([e,a])=>h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:T.includes(e),onChange:a=>{a.target.checked?$([...T,e]):$(T.filter(a=>a!==e))},className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:a})]},e))})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(F,{variant:"outline",onClick:I,children:"초기화"}),h.jsx(F,{variant:"primary",onClick:M,children:"필터 적용"})]})]})]})})}),n&&h.jsxs(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[h.jsx(x,{className:"w-5 h-5 flex-shrink-0"}),h.jsx("span",{className:"text-sm",children:n}),h.jsx("button",{onClick:j,className:"ml-auto text-red-600 hover:text-red-800",children:"✕"})]}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["총 ",h.jsx("span",{className:"font-semibold text-elderberry-600",children:d}),"개의 공고가 있습니다",E&&h.jsxs("span",{children:[" ('",E,"' 검색 결과)"]})]})}),t?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,a)=>h.jsx("div",{className:"animate-pulse",children:h.jsx(W,{children:h.jsxs(K,{className:"p-6",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-4"}),h.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})})},a))}):r.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e,a)=>h.jsx(oe,{job:e},e.id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(N,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"검색 결과가 없습니다"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"다른 키워드로 검색하거나 필터를 조정해보세요"}),h.jsx(F,{variant:"outline",onClick:I,children:"검색 조건 초기화"})]}),i>1&&h.jsx("div",{className:"flex justify-center",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(F,{variant:"outline",disabled:0===o,onClick:()=>S(o-1),children:"이전"}),[...Array(Math.min(5,i))].map((e,a)=>{const l=Math.max(0,Math.min(o-2,i-5))+a;return l>=i?null:h.jsx(F,{variant:l===o?"primary":"outline",onClick:()=>S(l),children:l+1},l)}),h.jsx(F,{variant:"outline",disabled:o>=i-1,onClick:()=>S(o+1),children:"다음"})]})})]})}},Symbol.toStringTag,{value:"Module"})),me={FULL_TIME:"정규직",PART_TIME:"시간제",CONTRACT:"계약직",TEMPORARY:"임시직"},ue={ENTRY:"신입",JUNIOR:"1-3년",MID:"3-7년",SENIOR:"7년 이상",EXPERT:"전문가"},he=(e,a)=>e||a?e&&a?`${e.toLocaleString()}원 - ${a.toLocaleString()}원`:e?`${e.toLocaleString()}원 이상`:a?`${a.toLocaleString()}원 이하`:"급여 협의":"급여 협의",pe=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),be=({job:e,isOpen:a,onClose:l,onSubmit:r})=>{const[t,n]=u.useState(""),[i,s]=u.useState(null),[c,d]=u.useState(!1);return a?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsx(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"지원서 작성"}),h.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),h.jsx("p",{className:"text-sm text-gray-600",children:e.facilityName||e.employerName})]}),h.jsxs("form",{onSubmit:a=>o(null,null,function*(){if(a.preventDefault(),t.trim())try{d(!0);const a=i?"uploaded-resume-url":void 0;yield r({jobId:e.id,coverLetter:t.trim(),resumeUrl:a}),l(),n(""),s(null)}catch(c){}finally{d(!1)}else alert("자기소개서를 작성해주세요.")}),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["자기소개서 ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{value:t,onChange:e=>n(e.target.value),placeholder:"지원 동기, 관련 경험, 포부 등을 작성해주세요.",className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 resize-none",required:!0}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.length,"/1000자"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이력서 첨부 (선택)"}),h.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>{var a;return s((null==(a=e.target.files)?void 0:a[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, DOCX 파일만 업로드 가능합니다."})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx(F,{type:"button",variant:"outline",onClick:l,className:"flex-1",children:"취소"}),h.jsx(F,{type:"submit",variant:"primary",loading:c,className:"flex-1",children:c?"제출 중...":"지원하기"})]})]})]})})}):null},ye=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{id:e}=P(),a=J(),{user:l}=U(),{currentJob:r,jobsLoading:t,jobsError:n,loadJob:i,deleteJob:s,submitApplication:c,clearJobsError:d}=re(),[m,b]=u.useState(!1),[y,g]=u.useState(!1),[N,k]=u.useState(null),[V,X]=u.useState(!1),q=parseInt(e||"0"),H=(null==l?void 0:l.role)===z.EMPLOYER,G=r&&H&&r.employerId===(null==l?void 0:l.id),Q=(null==l?void 0:l.role)===z.CAREGIVER&&r&&!y;if(u.useEffect(()=>{q&&i(q)},[q]),u.useEffect(()=>{o(null,null,function*(){if(r&&(null==l?void 0:l.role)===z.CAREGIVER)try{X(!0);const e=yield ee.checkApplicationExists(r.id);g(e.exists),k(e.applicationId||null)}catch(e){}finally{X(!1)}})},[r,l]),t)return h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-8"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"h-64 bg-gray-200 rounded"}),h.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})});if(n||!r)return h.jsxs("div",{className:"text-center py-12",children:[h.jsx(x,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"구인 공고를 찾을 수 없습니다"}),h.jsx("p",{className:"text-gray-600 mb-4",children:n||"요청한 구인 공고가 존재하지 않거나 삭제되었습니다."}),h.jsxs("div",{className:"space-x-3",children:[h.jsxs(F,{variant:"outline",onClick:()=>a(-1),children:[h.jsx(T,{className:"w-4 h-4 mr-2"}),"뒤로 가기"]}),h.jsx(p,{to:"/jobs",children:h.jsx(F,{variant:"primary",children:"구인 목록 보기"})})]})]});const Z=(e=>{if(!e)return null;const a=new Date(e),l=new Date,r=Math.ceil((a.getTime()-l.getTime())/864e5);return r<0?{text:"마감됨",color:"text-red-600",urgent:!1}:0===r?{text:"오늘 마감",color:"text-red-600",urgent:!0}:1===r?{text:"내일 마감",color:"text-orange-600",urgent:!0}:r<=7?{text:`${r}일 후 마감`,color:"text-orange-600",urgent:!0}:{text:`${r}일 후 마감`,color:"text-green-600",urgent:!1}})(r.applicationDeadline);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(F,{variant:"outline",onClick:()=>a(-1),className:"flex items-center",children:[h.jsx(T,{className:"w-4 h-4 mr-2"}),"뒤로"]}),h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs(F,{variant:"outline",onClick:()=>o(null,null,function*(){if(navigator.share)try{yield navigator.share({title:null==r?void 0:r.title,text:null==r?void 0:r.description,url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href),alert("링크가 클립보드에 복사되었습니다!")}),children:[h.jsx($,{className:"w-4 h-4 mr-2"}),"공유"]}),!H&&h.jsxs(F,{variant:"outline",children:[h.jsx(A,{className:"w-4 h-4 mr-2"}),"북마크"]}),G&&h.jsxs(h.Fragment,{children:[h.jsx(p,{to:`/jobs/${r.id}/edit`,children:h.jsxs(F,{variant:"outline",children:[h.jsx(R,{className:"w-4 h-4 mr-2"}),"수정"]})}),h.jsxs(F,{variant:"outline",onClick:()=>o(null,null,function*(){if(r&&window.confirm("정말로 이 구인 공고를 삭제하시겠습니까?"))try{yield s(r.id),a("/jobs")}catch(e){}}),children:[h.jsx(O,{className:"w-4 h-4 mr-2"}),"삭제"]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h.jsx(W,{children:h.jsxs(K,{className:"p-6",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.isUrgent&&h.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[h.jsx(f,{className:"w-3 h-3 mr-1"}),"급구"]}),G&&h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"내 공고"})]}),h.jsxs("div",{className:"flex items-center text-gray-600 space-x-4 mb-4",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(M,{className:"w-4 h-4 mr-1"}),r.facilityName||r.employerName]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(v,{className:"w-4 h-4 mr-1"}),r.location]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(w,{className:"w-4 h-4 mr-1"}),me[r.employmentType]]})]}),h.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[h.jsxs("span",{className:"flex items-center text-green-600 font-semibold",children:[h.jsx(j,{className:"w-4 h-4 mr-1"}),he(r.salaryMin,r.salaryMax)]}),h.jsxs("span",{className:"flex items-center text-gray-500",children:[h.jsx(E,{className:"w-4 h-4 mr-1"}),"지원자 ",r.applicationCount,"명"]}),h.jsxs("span",{className:"flex items-center text-gray-500",children:[h.jsx(L,{className:"w-4 h-4 mr-1"}),"조회 ",r.viewCount]}),h.jsxs("span",{className:"flex items-center text-gray-500",children:[h.jsx(C,{className:"w-4 h-4 mr-1"}),pe(r.postedDate)]})]})]})}),Z&&h.jsxs("div",{className:"flex items-center p-3 rounded-lg "+(Z.urgent?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"),children:[h.jsx(x,{className:`w-4 h-4 mr-2 ${Z.color}`}),h.jsx("span",{className:`text-sm font-medium ${Z.color}`,children:Z.text})]})]})}),h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"구인 내용"})}),h.jsx(K,{className:"prose max-w-none",children:h.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.description})})]}),r.requirements&&r.requirements.length>0&&h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"자격 요건"})}),h.jsx(K,{children:h.jsx("ul",{className:"space-y-2",children:r.requirements.map((e,a)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx(S,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-gray-700",children:e})]},a))})})]}),r.benefits&&r.benefits.length>0&&h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"복리후생"})}),h.jsx(K,{children:h.jsx("ul",{className:"space-y-2",children:r.benefits.map((e,a)=>h.jsxs("li",{className:"flex items-start",children:[h.jsx(f,{className:"w-4 h-4 text-elderberry-500 mr-2 mt-0.5 flex-shrink-0"}),h.jsx("span",{className:"text-gray-700",children:e})]},a))})})]}),r.tags&&r.tags.length>0&&h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"관련 태그"})}),h.jsx(K,{children:h.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((e,a)=>h.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-elderberry-100 text-elderberry-700",children:e},a))})})]})]}),h.jsxs("div",{className:"space-y-6",children:[Q&&h.jsx(W,{children:h.jsxs(K,{className:"p-6",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"이 공고에 지원하기"}),V?h.jsx("div",{className:"text-center py-4",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-elderberry-600 mx-auto"})}):y?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center text-green-600",children:[h.jsx(S,{className:"w-5 h-5 mr-2"}),h.jsx("span",{className:"font-medium",children:"지원 완료"})]}),h.jsx("p",{className:"text-sm text-gray-600",children:"이미 이 공고에 지원하셨습니다."}),N&&h.jsx(p,{to:`/applications/${N}`,children:h.jsx(F,{variant:"outline",fullWidth:!0,children:"지원서 확인"})})]}):h.jsxs(F,{variant:"primary",fullWidth:!0,onClick:()=>b(!0),disabled:"OPEN"!==r.status,children:[h.jsx(I,{className:"w-4 h-4 mr-2"}),"지원하기"]})]})}),h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"구인 정보"})}),h.jsxs(K,{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"고용 형태"}),h.jsx("span",{className:"font-medium",children:me[r.employmentType]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"경력"}),h.jsx("span",{className:"font-medium",children:ue[r.experienceLevel]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"급여"}),h.jsx("span",{className:"font-medium",children:he(r.salaryMin,r.salaryMax)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"근무 일정"}),h.jsx("span",{className:"font-medium",children:r.workSchedule})]}),r.applicationDeadline&&h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"마감일"}),h.jsx("span",{className:"font-medium",children:pe(r.applicationDeadline)})]})]})]}),h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"연락처"})}),h.jsxs(K,{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(D,{className:"w-4 h-4 text-gray-400 mr-3"}),h.jsx("span",{className:"text-gray-700",children:r.contactEmail})]}),r.contactPhone&&h.jsxs("div",{className:"flex items-center",children:[h.jsx(_,{className:"w-4 h-4 text-gray-400 mr-3"}),h.jsx("span",{className:"text-gray-700",children:r.contactPhone})]})]})]}),G&&h.jsxs(W,{children:[h.jsx(Y,{children:h.jsx(B,{children:"관리"})}),h.jsxs(K,{className:"space-y-3",children:[h.jsx(p,{to:`/jobs/${r.id}/applications`,children:h.jsxs(F,{variant:"outline",fullWidth:!0,children:[h.jsx(E,{className:"w-4 h-4 mr-2"}),"지원자 관리 (",r.applicationCount,")"]})}),h.jsx(p,{to:`/jobs/${r.id}/edit`,children:h.jsxs(F,{variant:"outline",fullWidth:!0,children:[h.jsx(R,{className:"w-4 h-4 mr-2"}),"공고 수정"]})})]})]})]})]}),h.jsx(be,{job:r,isOpen:m,onClose:()=>b(!1),onSubmit:e=>o(null,null,function*(){try{yield c(e),g(!0),alert("지원서가 성공적으로 제출되었습니다!")}catch(a){throw alert("지원서 제출에 실패했습니다. 다시 시도해주세요."),a}})})]})}},Symbol.toStringTag,{value:"Module"}));export{de as J,ye as a,re as u};
