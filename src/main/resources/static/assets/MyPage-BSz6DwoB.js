var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,c=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&c(e,t,a[t]);if(l)for(var t of l(a))r.call(a,t)&&c(e,t,a[t]);return e},n=(e,l)=>a(e,t(l)),d=(e,a,t)=>new Promise((l,s)=>{var r=e=>{try{i(t.next(e))}catch(a){s(a)}},c=e=>{try{i(t.throw(e))}catch(a){s(a)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,c);i((t=t.apply(e,a)).next())});import{r as o,j as m,N as h,d as x,ab as u,f as p,V as g,i as y,T as b,bh as N,ad as f,ae as v,W as w,M as E,S as k,F as D,a4 as C,E as j,e as R,p as A,aq as I,C as P,aw as T,Y as M,bi as O,aA as L,$ as V,P as Y,w as W,aQ as _,aO as $,aN as S,a2 as z,O as q,Q as G,Z as U,x as J,aB as F,aR as B,bj as Q,aI as Z,aH as H,aT as K,b1 as X,bk as ee,D as ae,aD as te,bl as le,H as se}from"./react-vendor-CUGNoUm4.js";import{C as re,k as ce}from"./board-pages-Bntz1t0t.js";import{B as ie}from"./core-ui-Bn7VW9o5.js";import{u as ne}from"./profile-pages-CuqJrIl7.js";import{u as de,a as oe}from"./facility-pages-Ti_nwC0H.js";import{m as me,A as he}from"./animation-lib-DMXijsVD.js";import{u as xe}from"./job-pages-de98zUJu.js";import"./vendor-DKWjmJEO.js";import"./state-management-DFZwgI-2.js";import"./style-utils-DeQRAeyh.js";import"./theme-layout-Dx2gLv9U.js";import"./http-client-9JY-woyA.js";const ue=({user:e})=>{const{profile:a,loading:t,fetchProfile:l}=ne(),{reviews:s,fetchMyReviews:r}=de(),[c,i]=o.useState([]),[n,d]=o.useState({completed:0,total:0,percentage:0});o.useEffect(()=>{l(),r()},[l,r]),o.useEffect(()=>{if(a){const e=[{key:"name",label:"ì´ë¦„",value:a.name,required:!0,weight:10},{key:"email",label:"ì´ë©”ì¼",value:a.email,required:!0,weight:10},{key:"phone",label:"ì „í™”ë²ˆí˜¸",value:a.phone,required:!0,weight:10},{key:"profileImage",label:"í”„ë¡œí•„ ì‚¬ì§„",value:a.profileImageUrl,required:!1,weight:5},{key:"bio",label:"ìžê¸°ì†Œê°œ",value:a.bio,required:!1,weight:10},{key:"address",label:"ì£¼ì†Œ",value:a.address,required:!1,weight:10},{key:"birthDate",label:"ìƒë…„ì›”ì¼",value:a.birthDate,required:!1,weight:5},{key:"gender",label:"ì„±ë³„",value:a.gender,required:!1,weight:5},{key:"emergencyContact",label:"ë¹„ìƒì—°ë½ì²˜",value:a.emergencyContact,required:!1,weight:10},{key:"experience",label:"ê²½ë ¥",value:a.experience,required:!1,weight:15}],t=e.filter(e=>e.value).length,l=e.length,s=Math.round(t/l*100);i(e),d({completed:t,total:l,percentage:s})}},[a]);const E=()=>{let a=0;return a+=.5*n.percentage,a+=5*s.length,a+=e.verified?20:0,Math.round(a)};return t?m.jsx("div",{className:"space-y-6",children:[...Array(3)].map((e,a)=>m.jsx(re,{className:"p-6",children:m.jsxs("div",{className:"animate-pulse",children:[m.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"h-3 bg-gray-200 rounded"}),m.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})},a))}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs(re,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"í”„ë¡œí•„ ì™„ì„±ë„"}),m.jsxs("span",{className:"text-sm font-medium px-3 py-1 rounded-full "+(n.percentage>=80?"bg-green-100 text-green-800":n.percentage>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[n.completed,"/",n.total," ì™„ë£Œ"]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ì „ì²´ ì§„í–‰ë¥ "}),m.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[n.percentage,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:m.jsx(me.div,{className:"bg-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:`${n.percentage}%`},transition:{duration:1,ease:"easeOut"}})})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(e=>m.jsxs(me.div,{className:"flex items-center space-x-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",whileHover:{scale:1.02},children:[e.value?m.jsx(h,{className:"h-5 w-5 text-green-500"}):m.jsx(x,{className:"h-5 w-5 "+(e.required?"text-red-500":"text-gray-400")}),m.jsx("div",{className:"flex-1",children:m.jsxs("span",{className:"text-sm font-medium "+(e.value?"text-gray-900":"text-gray-600"),children:[e.label,e.required&&!e.value&&m.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})})]},e.key))}),n.percentage<100&&m.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:m.jsx("p",{className:"text-sm text-blue-800",children:"ðŸ’¡ í”„ë¡œí•„ì„ ì™„ì„±í•˜ë©´ ë” ë§Žì€ ë§¤ì¹­ ê¸°íšŒë¥¼ ì–»ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤!"})})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"ê°€ìž…ì¼",value:new Date(e.createdAt||Date.now()).toLocaleDateString(),icon:y,color:"text-gray-600"},{label:"í”„ë¡œí•„ ì™„ì„±ë„",value:`${n.percentage}%`,icon:b,color:n.percentage>=80?"text-green-600":"text-orange-600"},{label:"ìž‘ì„±í•œ ë¦¬ë·°",value:s.length,icon:p,color:"text-yellow-600"},{label:"í™œë™ ì ìˆ˜",value:E(),icon:u,color:"text-blue-600"}].map((e,a)=>m.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(e.icon,{className:`h-6 w-6 mx-auto mb-2 ${e.color}`}),m.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.value}),m.jsx("div",{className:"text-sm text-gray-600",children:e.label})]})},e.label))}),m.jsxs(re,{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ë¹ ë¥¸ ìž‘ì—…"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{const a=[{label:"í”„ë¡œí•„ ìˆ˜ì •",icon:N,href:"/profile/edit",color:"blue",description:"ê¸°ë³¸ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤"},{label:"ê³„ì • ì„¤ì •",icon:f,onClick:()=>{},color:"gray",description:"ë³´ì•ˆ ë° ì•Œë¦¼ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤"}];return"CAREGIVER"===e.role&&a.push({label:"ìžê²©ì¦ ê´€ë¦¬",icon:v,href:"/profile/certificates",color:"green",description:"ìžê²©ì¦ ì •ë³´ë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤"},{label:"ê²½ë ¥ ê´€ë¦¬",icon:b,href:"/profile/experience",color:"purple",description:"ê²½ë ¥ ì‚¬í•­ì„ ë“±ë¡í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤"}),"EMPLOYER"===e.role&&a.push({label:"ì‹œì„¤ ì •ë³´",icon:w,href:"/facility/manage",color:"orange",description:"ì‹œì„¤ ì •ë³´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤"}),a})().map((e,a)=>m.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:m.jsxs(ie,{variant:"outline",size:"lg",className:"w-full h-auto p-4 flex flex-col items-center space-y-2",href:e.href,onClick:e.onClick,children:[m.jsx(e.icon,{className:`h-6 w-6 text-${e.color}-500`}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"font-medium",children:e.label}),m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]})},e.label))})]}),m.jsxs(re,{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ìµœê·¼ í™œë™"}),m.jsxs("div",{className:"space-y-3",children:[e.lastLoginAt&&m.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[m.jsx(u,{className:"h-4 w-4"}),m.jsxs("span",{children:["ë§ˆì§€ë§‰ ë¡œê·¸ì¸: ",new Date(e.lastLoginAt).toLocaleString()]})]}),m.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[m.jsx(p,{className:"h-4 w-4"}),m.jsxs("span",{children:["ìž‘ì„±í•œ ë¦¬ë·°: ",s.length,"ê°œ"]})]}),m.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[m.jsx(g,{className:"h-4 w-4"}),m.jsxs("span",{children:["í™œë™ ì ìˆ˜: ",E(),"ì "]})]})]})]})]})},pe=()=>{const{reviews:e,loading:a,error:t,fetchMyReviews:l,updateReview:s,deleteReview:r}=de(),[c,h]=o.useState([]),[u,g]=o.useState({status:"ALL",rating:null,searchQuery:"",sortBy:"latest"}),[b,f]=o.useState(!1),[w,I]=o.useState(null),[P,T]=o.useState(null);o.useEffect(()=>{l()},[l]),o.useEffect(()=>{let a=[...e];if("ALL"!==u.status&&(a=a.filter(e=>e.status===u.status)),u.rating&&(a=a.filter(e=>e.rating===u.rating)),u.searchQuery){const e=u.searchQuery.toLowerCase();a=a.filter(a=>{var t;return(null==(t=a.facilityName)?void 0:t.toLowerCase().includes(e))||a.content.toLowerCase().includes(e)})}a.sort((e,a)=>{switch(u.sortBy){case"latest":return new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(a.createdAt).getTime();case"rating_high":return a.rating-e.rating;case"rating_low":return e.rating-a.rating;default:return 0}}),h(a)},[e,u]);const M=(e,a="sm")=>{const t="sm"===a?"h-4 w-4":"h-5 w-5";return m.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(a=>m.jsx(p,{className:`${t} ${a<=e?"text-yellow-400 fill-current":"text-gray-300"}`},a))})},O=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=e=>{switch(e){case"APPROVED":return"ìŠ¹ì¸ë¨";case"PENDING":return"ê²€í†  ì¤‘";case"REJECTED":return"ë°˜ë ¤ë¨";default:return"ì•Œ ìˆ˜ ì—†ìŒ"}},V=(()=>{const a=e.length,t=e.filter(e=>"APPROVED"===e.status).length,l=e.filter(e=>"PENDING"===e.status).length,s=a>0?e.reduce((e,a)=>e+a.rating,0)/a:0;return{total:a,approved:t,pending:l,avgRating:Math.round(10*s)/10}})();return a||0!==e.length?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(E,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:V.total}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì „ì²´ ë¦¬ë·°"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(v,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:V.approved}),m.jsx("div",{className:"text-sm text-gray-600",children:"ìŠ¹ì¸ëœ ë¦¬ë·°"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(x,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:V.pending}),m.jsx("div",{className:"text-sm text-gray-600",children:"ê²€í†  ì¤‘"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(p,{className:"h-6 w-6 text-yellow-400 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:V.avgRating}),m.jsx("div",{className:"text-sm text-gray-600",children:"í‰ê·  í‰ì "})]})]}),m.jsxs(re,{className:"p-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"ì‹œì„¤ëª… ë˜ëŠ” ë¦¬ë·° ë‚´ìš©ìœ¼ë¡œ ê²€ìƒ‰...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:u.searchQuery,onChange:e=>g(a=>n(i({},a),{searchQuery:e.target.value}))})]}),m.jsxs(ie,{variant:"outline",onClick:()=>f(!b),className:"flex items-center space-x-2",children:[m.jsx(D,{className:"h-4 w-4"}),m.jsx("span",{children:"í•„í„°"}),m.jsx(C,{className:"h-4 w-4 transition-transform "+(b?"rotate-180":"")})]})]}),m.jsx(he,{children:b&&m.jsx(me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ìƒíƒœ"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:u.status,onChange:e=>g(a=>n(i({},a),{status:e.target.value})),children:[m.jsx("option",{value:"ALL",children:"ì „ì²´"}),m.jsx("option",{value:"APPROVED",children:"ìŠ¹ì¸ë¨"}),m.jsx("option",{value:"PENDING",children:"ê²€í†  ì¤‘"}),m.jsx("option",{value:"REJECTED",children:"ë°˜ë ¤ë¨"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"í‰ì "}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:u.rating||"",onChange:e=>g(a=>n(i({},a),{rating:e.target.value?parseInt(e.target.value):null})),children:[m.jsx("option",{value:"",children:"ì „ì²´"}),m.jsx("option",{value:"5",children:"5ì "}),m.jsx("option",{value:"4",children:"4ì "}),m.jsx("option",{value:"3",children:"3ì "}),m.jsx("option",{value:"2",children:"2ì "}),m.jsx("option",{value:"1",children:"1ì "})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì •ë ¬"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:u.sortBy,onChange:e=>g(a=>n(i({},a),{sortBy:e.target.value})),children:[m.jsx("option",{value:"latest",children:"ìµœì‹ ìˆœ"}),m.jsx("option",{value:"oldest",children:"ì˜¤ëž˜ëœìˆœ"}),m.jsx("option",{value:"rating_high",children:"í‰ì  ë†’ì€ìˆœ"}),m.jsx("option",{value:"rating_low",children:"í‰ì  ë‚®ì€ìˆœ"})]})]})]})})})]}),a?m.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,a)=>m.jsx(re,{className:"p-6",children:m.jsxs("div",{className:"animate-pulse space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),m.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),m.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),m.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})},a))}):m.jsxs("div",{className:"space-y-4",children:[m.jsx(he,{children:c.map(e=>m.jsx(me.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsxs(re,{className:"p-6 hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:e.facilityName||"ì‹œì„¤ëª… ì—†ìŒ"}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(e.status)}`,children:L(e.status)})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[M(e.rating),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(y,{className:"h-4 w-4"}),m.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),e.viewCount&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(j,{className:"h-4 w-4"}),m.jsxs("span",{children:[e.viewCount,"íšŒ ì¡°íšŒ"]})]}),e.likeCount&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(R,{className:"h-4 w-4"}),m.jsxs("span",{children:[e.likeCount,"ê°œì˜ ì¢‹ì•„ìš”"]})]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>I(e),className:"flex items-center space-x-1",children:[m.jsx(N,{className:"h-4 w-4"}),m.jsx("span",{children:"ìˆ˜ì •"})]}),m.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>T(e.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-700",children:[m.jsx(A,{className:"h-4 w-4"}),m.jsx("span",{children:"ì‚­ì œ"})]})]})]}),m.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.content}),"REJECTED"===e.status&&e.rejectionReason&&m.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-red-800",children:[m.jsx("strong",{children:"ë°˜ë ¤ ì‚¬ìœ :"})," ",e.rejectionReason]})})]})},e.id))}),0===c.length&&!a&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx(x,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),m.jsx("p",{className:"text-gray-600",children:"ê²€ìƒ‰ ì¡°ê±´ì— ë§žëŠ” ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤."})]})]}),m.jsx(he,{children:P&&m.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs(me.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ë¦¬ë·° ì‚­ì œ"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"ì´ ë¦¬ë·°ë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì‚­ì œëœ ë¦¬ë·°ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx(ie,{variant:"outline",onClick:()=>T(null),className:"flex-1",children:"ì·¨ì†Œ"}),m.jsx(ie,{variant:"outline",onClick:()=>{return e=P,d(null,null,function*(){try{yield r(e),T(null)}catch(a){}});var e},className:"flex-1 text-red-600 hover:text-red-700 border-red-200",children:"ì‚­ì œ"})]})]})})})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx(E,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ìž‘ì„±í•œ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"ì´ìš©í•œ ì‹œì„¤ì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ìž‘ì„±í•´ë³´ì„¸ìš”. ë‹¤ë¥¸ ì‚¬ìš©ìžë“¤ì—ê²Œ ë„ì›€ì´ ë©ë‹ˆë‹¤."}),m.jsx(ie,{href:"/facilities",children:"ì‹œì„¤ ì°¾ì•„ë³´ê¸°"})]})},ge=()=>{const{user:e}=ce(),{facilities:a,loading:t}=oe(),[l,s]=o.useState([]),[r,c]=o.useState([]),[d,u]=o.useState({status:"ALL",facilityType:"",searchQuery:"",dateRange:"all",sortBy:"latest"}),[g,N]=o.useState(!1),[f,v]=o.useState(null);o.useEffect(()=>{s([{id:1,facilityId:1,facilityName:"ì„œìš¸ì‹œë¦½ìš”ì–‘ì›",facilityType:"ìš”ì–‘ì›",facilityAddress:"ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ëž€ë¡œ 123",matchingStatus:"COMPLETED",requestDate:"2024-01-15",responseDate:"2024-01-17",interviewDate:"2024-01-20",startDate:"2024-02-01",coordinatorName:"ê¹€ì½”ë””",coordinatorPhone:"010-1234-5678",coordinatorEmail:"coordinator@facility.com",rating:4.5,salary:28e5,position:"ìš”ì–‘ë³´í˜¸ì‚¬",workSchedule:"ì£¼ê°„ ê·¼ë¬´ (08:00-17:00)",notes:"ê²½ë ¥ ì¸ì •ë°›ì•„ ìš°ëŒ€ ì¡°ê±´ìœ¼ë¡œ ê³„ì•½ ì„±ì‚¬"},{id:2,facilityId:2,facilityName:"í–‰ë³µí•œ ìš”ì–‘ë³‘ì›",facilityType:"ìš”ì–‘ë³‘ì›",facilityAddress:"ì„œìš¸ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ 456",matchingStatus:"INTERVIEW",requestDate:"2024-01-25",responseDate:"2024-01-26",interviewDate:"2024-01-30",coordinatorName:"ì´ë§¤ë‹ˆì €",coordinatorPhone:"010-2345-6789",position:"ê°„ë³‘ì¸",salary:25e5,workSchedule:"ì•¼ê°„ ê·¼ë¬´ (22:00-08:00)"},{id:3,facilityId:3,facilityName:"ì€ë¹›ë§ˆì„ ë°ì´ì¼€ì–´ì„¼í„°",facilityType:"ë°ì´ì¼€ì–´ì„¼í„°",facilityAddress:"ì„œìš¸ì‹œ ì†¡íŒŒêµ¬ ì˜¬ë¦¼í”½ë¡œ 789",matchingStatus:"REJECTED",requestDate:"2024-01-10",responseDate:"2024-01-12",rejectionReason:"ê²½ë ¥ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ë¶€ì í•© íŒì •"}])},[]),o.useEffect(()=>{let e=[...l];if("ALL"!==d.status&&(e=e.filter(e=>e.matchingStatus===d.status)),d.facilityType&&(e=e.filter(e=>e.facilityType===d.facilityType)),d.searchQuery){const a=d.searchQuery.toLowerCase();e=e.filter(e=>{var t;return e.facilityName.toLowerCase().includes(a)||e.facilityAddress.toLowerCase().includes(a)||(null==(t=e.coordinatorName)?void 0:t.toLowerCase().includes(a))})}if("all"!==d.dateRange){const a=new Date,t={"1month":1,"3month":3,"6month":6,"1year":12}[d.dateRange],l=new Date(a.getFullYear(),a.getMonth()-t,a.getDate());e=e.filter(e=>new Date(e.requestDate)>=l)}e.sort((e,a)=>{switch(d.sortBy){case"latest":return new Date(a.requestDate).getTime()-new Date(e.requestDate).getTime();case"oldest":return new Date(e.requestDate).getTime()-new Date(a.requestDate).getTime();case"status":return e.matchingStatus.localeCompare(a.matchingStatus);case"facility":return e.facilityName.localeCompare(a.facilityName);default:return 0}}),c(e)},[l,d]);const E=(()=>{const e=l.length,a=l.filter(e=>"COMPLETED"===e.matchingStatus).length;return{total:e,completed:a,pending:l.filter(e=>["PENDING","REVIEWING","INTERVIEW","APPROVED"].includes(e.matchingStatus)).length,successRate:e>0?Math.round(a/e*100):0}})();return t||0!==l.length?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(I,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.total}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì´ ì‹ ì²­"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(h,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.completed}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì™„ë£Œ"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(P,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.pending}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì§„í–‰ ì¤‘"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(b,{className:"h-6 w-6 text-purple-500 mx-auto mb-2"}),m.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[E.successRate,"%"]}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì„±ê³µë¥ "})]})]}),m.jsxs(re,{className:"p-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"ì‹œì„¤ëª…, ì£¼ì†Œ, ë‹´ë‹¹ìžë¡œ ê²€ìƒ‰...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:d.searchQuery,onChange:e=>u(a=>n(i({},a),{searchQuery:e.target.value}))})]}),m.jsxs(ie,{variant:"outline",onClick:()=>N(!g),className:"flex items-center space-x-2",children:[m.jsx(D,{className:"h-4 w-4"}),m.jsx("span",{children:"í•„í„°"})]})]}),m.jsx(he,{children:g&&m.jsx(me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ìƒíƒœ"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:d.status,onChange:e=>u(a=>n(i({},a),{status:e.target.value})),children:[m.jsx("option",{value:"ALL",children:"ì „ì²´"}),m.jsx("option",{value:"PENDING",children:"ì‹ ì²­ ì¤‘"}),m.jsx("option",{value:"REVIEWING",children:"ê²€í†  ì¤‘"}),m.jsx("option",{value:"INTERVIEW",children:"ë©´ì ‘ ì˜ˆì •"}),m.jsx("option",{value:"APPROVED",children:"ìŠ¹ì¸ë¨"}),m.jsx("option",{value:"REJECTED",children:"ê±°ì ˆë¨"}),m.jsx("option",{value:"COMPLETED",children:"ì™„ë£Œë¨"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì‹œì„¤ ìœ í˜•"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:d.facilityType,onChange:e=>u(a=>n(i({},a),{facilityType:e.target.value})),children:[m.jsx("option",{value:"",children:"ì „ì²´"}),m.jsx("option",{value:"ìš”ì–‘ì›",children:"ìš”ì–‘ì›"}),m.jsx("option",{value:"ìš”ì–‘ë³‘ì›",children:"ìš”ì–‘ë³‘ì›"}),m.jsx("option",{value:"ë°ì´ì¼€ì–´ì„¼í„°",children:"ë°ì´ì¼€ì–´ì„¼í„°"}),m.jsx("option",{value:"ìž¬í™œì„¼í„°",children:"ìž¬í™œì„¼í„°"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ê¸°ê°„"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:d.dateRange,onChange:e=>u(a=>n(i({},a),{dateRange:e.target.value})),children:[m.jsx("option",{value:"all",children:"ì „ì²´"}),m.jsx("option",{value:"1month",children:"ìµœê·¼ 1ê°œì›”"}),m.jsx("option",{value:"3month",children:"ìµœê·¼ 3ê°œì›”"}),m.jsx("option",{value:"6month",children:"ìµœê·¼ 6ê°œì›”"}),m.jsx("option",{value:"1year",children:"ìµœê·¼ 1ë…„"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì •ë ¬"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:d.sortBy,onChange:e=>u(a=>n(i({},a),{sortBy:e.target.value})),children:[m.jsx("option",{value:"latest",children:"ìµœì‹ ìˆœ"}),m.jsx("option",{value:"oldest",children:"ì˜¤ëž˜ëœìˆœ"}),m.jsx("option",{value:"status",children:"ìƒíƒœìˆœ"}),m.jsx("option",{value:"facility",children:"ì‹œì„¤ëª…ìˆœ"})]})]})]})})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(he,{children:r.map(e=>{const a=(e=>{switch(e){case"PENDING":return{color:"bg-blue-100 text-blue-800",icon:P,label:"ì‹ ì²­ ì¤‘"};case"REVIEWING":return{color:"bg-yellow-100 text-yellow-800",icon:x,label:"ê²€í†  ì¤‘"};case"INTERVIEW":return{color:"bg-purple-100 text-purple-800",icon:T,label:"ë©´ì ‘ ì˜ˆì •"};case"APPROVED":return{color:"bg-green-100 text-green-800",icon:h,label:"ìŠ¹ì¸ë¨"};case"REJECTED":return{color:"bg-red-100 text-red-800",icon:O,label:"ê±°ì ˆë¨"};case"CANCELLED":return{color:"bg-gray-100 text-gray-800",icon:O,label:"ì·¨ì†Œë¨"};case"COMPLETED":return{color:"bg-emerald-100 text-emerald-800",icon:h,label:"ì™„ë£Œë¨"};case"EXPIRED":return{color:"bg-gray-100 text-gray-800",icon:P,label:"ë§Œë£Œë¨"};default:return{color:"bg-gray-100 text-gray-800",icon:x,label:"ì•Œ ìˆ˜ ì—†ìŒ"}}})(e.matchingStatus),t=a.icon;return m.jsx(me.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m.jsxs(re,{className:"p-6 hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:e.facilityName}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.color} flex items-center space-x-1`,children:[m.jsx(t,{className:"h-4 w-4"}),m.jsx("span",{children:a.label})]})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(I,{className:"h-4 w-4"}),m.jsx("span",{children:e.facilityType})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(w,{className:"h-4 w-4"}),m.jsx("span",{children:e.facilityAddress})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(y,{className:"h-4 w-4"}),m.jsxs("span",{children:["ì‹ ì²­ì¼: ",new Date(e.requestDate).toLocaleDateString()]})]})]}),e.position&&m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[m.jsxs("span",{children:[m.jsx("strong",{children:"ì§ì±…:"})," ",e.position]}),e.salary&&m.jsxs("span",{children:[m.jsx("strong",{children:"ê¸‰ì—¬:"})," ",e.salary.toLocaleString(),"ì›"]})]}),e.workSchedule&&m.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[m.jsx("strong",{children:"ê·¼ë¬´ì‹œê°„:"})," ",e.workSchedule]}),e.coordinatorName&&m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(T,{className:"h-4 w-4"}),m.jsx("span",{children:e.coordinatorName})]}),e.coordinatorPhone&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(M,{className:"h-4 w-4"}),m.jsx("span",{children:e.coordinatorPhone})]})]})]}),m.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>v(e),className:"flex items-center space-x-1",children:[m.jsx(j,{className:"h-4 w-4"}),m.jsx("span",{children:"ìƒì„¸ë³´ê¸°"})]})]}),"INTERVIEW"===e.matchingStatus&&e.interviewDate&&m.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-purple-800",children:[m.jsx("strong",{children:"ë©´ì ‘ ì¼ì •:"})," ",new Date(e.interviewDate).toLocaleString()]})}),"REJECTED"===e.matchingStatus&&e.rejectionReason&&m.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-red-800",children:[m.jsx("strong",{children:"ê±°ì ˆ ì‚¬ìœ :"})," ",e.rejectionReason]})}),"COMPLETED"===e.matchingStatus&&m.jsxs("div",{className:"mt-4 p-3 bg-green-50 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{className:"text-sm text-green-800",children:[m.jsx("strong",{children:"ê·¼ë¬´ ì‹œìž‘ì¼:"})," ",e.startDate&&new Date(e.startDate).toLocaleDateString()]}),e.rating&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(p,{className:"h-4 w-4 text-yellow-400 fill-current"}),m.jsx("span",{className:"text-sm font-medium",children:e.rating})]})]}),e.notes&&m.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-blue-800",children:[m.jsx("strong",{children:"ë©”ëª¨:"})," ",e.notes]})})]})},e.id)})}),0===r.length&&!t&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx(x,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),m.jsx("p",{className:"text-gray-600",children:"ê²€ìƒ‰ ì¡°ê±´ì— ë§žëŠ” ë§¤ì¹­ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤."})]})]}),m.jsx(he,{children:f&&m.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>v(null),children:m.jsxs(me.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"ë§¤ì¹­ ìƒì„¸ ì •ë³´"}),m.jsx(ie,{size:"sm",variant:"outline",onClick:()=>v(null),children:"ë‹«ê¸°"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"ì‹œì„¤ ì •ë³´"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì‹œì„¤ëª…"}),m.jsx("p",{className:"font-medium",children:f.facilityName})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì‹œì„¤ ìœ í˜•"}),m.jsx("p",{className:"font-medium",children:f.facilityType})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì£¼ì†Œ"}),m.jsx("p",{className:"font-medium",children:f.facilityAddress})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"ì¼ì •"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì‹ ì²­ì¼"}),m.jsx("span",{children:new Date(f.requestDate).toLocaleDateString()})]}),f.responseDate&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì‘ë‹µì¼"}),m.jsx("span",{children:new Date(f.responseDate).toLocaleDateString()})]}),f.interviewDate&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ë©´ì ‘ì¼"}),m.jsx("span",{children:new Date(f.interviewDate).toLocaleDateString()})]}),f.startDate&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ê·¼ë¬´ ì‹œìž‘ì¼"}),m.jsx("span",{children:new Date(f.startDate).toLocaleDateString()})]})]})]}),f.coordinatorName&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"ë‹´ë‹¹ìž ì •ë³´"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì´ë¦„"}),m.jsx("span",{children:f.coordinatorName})]}),f.coordinatorPhone&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì „í™”ë²ˆí˜¸"}),m.jsx("span",{children:f.coordinatorPhone})]}),f.coordinatorEmail&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì´ë©”ì¼"}),m.jsx("span",{children:f.coordinatorEmail})]})]})]}),(f.position||f.salary||f.workSchedule)&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"ê·¼ë¬´ ì¡°ê±´"}),m.jsxs("div",{className:"space-y-2",children:[f.position&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ì§ì±…"}),m.jsx("span",{children:f.position})]}),f.salary&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ê¸‰ì—¬"}),m.jsxs("span",{children:[f.salary.toLocaleString(),"ì›"]})]}),f.workSchedule&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ê·¼ë¬´ì‹œê°„"}),m.jsx("span",{children:f.workSchedule})]})]})]}),(f.notes||f.rejectionReason)&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"ì¶”ê°€ ì •ë³´"}),f.notes&&m.jsxs("div",{className:"mb-3",children:[m.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"ë©”ëª¨"}),m.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:f.notes})]}),f.rejectionReason&&m.jsxs("div",{children:[m.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"ê±°ì ˆ ì‚¬ìœ "}),m.jsx("p",{className:"text-sm bg-red-50 p-3 rounded text-red-800",children:f.rejectionReason})]})]})]})]})})})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx(w,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ë§¤ì¹­ ì‹ ì²­ ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"ê´€ì‹¬ ìžˆëŠ” ì‹œì„¤ì— ë§¤ì¹­ì„ ì‹ ì²­í•´ë³´ì„¸ìš”."}),m.jsx(ie,{href:"/facilities",children:"ì‹œì„¤ ì°¾ì•„ë³´ê¸°"})]})},ye=()=>{const{user:e}=ce(),{jobs:a,applications:t,loading:l,fetchApplications:s,fetchMyJobs:r}=xe(),[c,i]=o.useState("applications"),[n,d]=o.useState({status:"ALL",workType:"",searchQuery:"",dateRange:"all",sortBy:"latest"}),[u,p]=o.useState(!1),[b,f]=o.useState(null),[v]=o.useState([{id:1,jobId:1,jobTitle:"ìš”ì–‘ë³´í˜¸ì‚¬ (ì£¼ê°„ ê·¼ë¬´)",facilityName:"ì„œìš¸ì‹œë¦½ìš”ì–‘ì›",facilityLocation:"ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",applicationStatus:"INTERVIEW",applicationDate:"2024-01-20",reviewDate:"2024-01-22",interviewDate:"2024-01-25",salary:28e5,workType:"ì •ê·œì§",workSchedule:"ì£¼ê°„ ê·¼ë¬´ (08:00-17:00)",requirements:["ìš”ì–‘ë³´í˜¸ì‚¬ ìžê²©ì¦","ê²½ë ¥ 1ë…„ ì´ìƒ"],benefits:["4ëŒ€ë³´í—˜","í‡´ì§ê¸ˆ","ì„±ê³¼ê¸‰"],notes:"ê²½ë ¥ ìš°ëŒ€ë¡œ ë©´ì ‘ ê¸°íšŒ ì œê³µ"},{id:2,jobId:2,jobTitle:"ê°„ë³‘ì¸ (ì•¼ê°„ ê·¼ë¬´)",facilityName:"í–‰ë³µí•œ ìš”ì–‘ë³‘ì›",facilityLocation:"ì„œìš¸ì‹œ ì„œì´ˆêµ¬",applicationStatus:"REJECTED",applicationDate:"2024-01-15",reviewDate:"2024-01-18",salary:25e5,workType:"ê³„ì•½ì§",workSchedule:"ì•¼ê°„ ê·¼ë¬´ (22:00-08:00)",requirements:["ê°„ë³‘ì¸ ê²½í—˜","ì•¼ê°„ ê·¼ë¬´ ê°€ëŠ¥"],benefits:["ì•¼ê°„ ìˆ˜ë‹¹","êµí†µë¹„ ì§€ì›"],rejectionReason:"ì•¼ê°„ ê·¼ë¬´ ê²½í—˜ ë¶€ì¡±ìœ¼ë¡œ ë¶€ì í•© íŒì •"}]),[E]=o.useState([{id:1,title:"ê²½ë ¥ì§ ìš”ì–‘ë³´í˜¸ì‚¬ ëª¨ì§‘",description:"ë…¸ì¸ ì¼€ì–´ ì „ë¬¸ ì‹œì„¤ì—ì„œ í•¨ê»˜ ì¼í•  ê²½ë ¥ì§ ìš”ì–‘ë³´í˜¸ì‚¬ë¥¼ ëª¨ì§‘í•©ë‹ˆë‹¤.",facilityName:"ìš°ë¦¬ìš”ì–‘ì›",location:"ì„œìš¸ì‹œ ì†¡íŒŒêµ¬",salary:3e6,workType:"ì •ê·œì§",workSchedule:"ì£¼ê°„ ê·¼ë¬´",requirements:["ìš”ì–‘ë³´í˜¸ì‚¬ ìžê²©ì¦","ê²½ë ¥ 2ë…„ ì´ìƒ"],benefits:["4ëŒ€ë³´í—˜","í‡´ì§ê¸ˆ","ì„±ê³¼ê¸‰","êµìœ¡ë¹„ ì§€ì›"],status:"ACTIVE",createdDate:"2024-01-10",closingDate:"2024-02-10",applicantCount:15,viewCount:120,isActive:!0}]);o.useEffect(()=>{"CAREGIVER"===(null==e?void 0:e.role)?s():"EMPLOYER"===(null==e?void 0:e.role)&&r()},[e,s,r]);const k=(()=>{const a=[];return"CAREGIVER"===(null==e?void 0:e.role)&&a.push({key:"applications",label:"ì§€ì› í˜„í™©",count:v.length}),"EMPLOYER"===(null==e?void 0:e.role)&&a.push({key:"postings",label:"êµ¬ì¸ ê³µê³ ",count:E.length}),a})(),D={total:v.length,interview:v.filter(e=>"INTERVIEW"===e.applicationStatus).length,accepted:v.filter(e=>"ACCEPTED"===e.applicationStatus).length,pending:v.filter(e=>["SUBMITTED","REVIEWING"].includes(e.applicationStatus)).length},C={total:E.length,active:E.filter(e=>"ACTIVE"===e.status).length,totalApplicants:E.reduce((e,a)=>e+a.applicantCount,0),totalViews:E.reduce((e,a)=>e+a.viewCount,0)};return m.jsxs("div",{className:"space-y-6",children:[k.length>1&&m.jsx("div",{className:"border-b border-gray-200",children:m.jsx("nav",{className:"-mb-px flex space-x-8",children:k.map(e=>m.jsxs("button",{onClick:()=>i(e.key),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+(c===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," (",e.count,")"]},e.key))})}),"applications"===c&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(L,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.total}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì´ ì§€ì›"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(T,{className:"h-6 w-6 text-purple-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.interview}),m.jsx("div",{className:"text-sm text-gray-600",children:"ë©´ì ‘ ì§„í–‰"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(h,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.accepted}),m.jsx("div",{className:"text-sm text-gray-600",children:"í•©ê²©"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(P,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.pending}),m.jsx("div",{className:"text-sm text-gray-600",children:"ëŒ€ê¸° ì¤‘"})]})]}),m.jsx("div",{className:"space-y-4",children:0===v.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(L,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ì§€ì›í•œ ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"ê´€ì‹¬ ìžˆëŠ” êµ¬ì¸ ê³µê³ ì— ì§€ì›í•´ë³´ì„¸ìš”."}),m.jsx(ie,{href:"/jobs",children:"êµ¬ì¸ê³µê³  ë³´ê¸°"})]}):v.map(e=>{const a=(e=>{switch(e){case"SUBMITTED":return{color:"bg-blue-100 text-blue-800",icon:P,label:"ì§€ì› ì™„ë£Œ"};case"REVIEWING":return{color:"bg-yellow-100 text-yellow-800",icon:x,label:"ê²€í†  ì¤‘"};case"INTERVIEW":return{color:"bg-purple-100 text-purple-800",icon:T,label:"ë©´ì ‘ ì§„í–‰"};case"ACCEPTED":return{color:"bg-green-100 text-green-800",icon:h,label:"í•©ê²©"};case"REJECTED":return{color:"bg-red-100 text-red-800",icon:O,label:"ë¶ˆí•©ê²©"};case"WITHDRAWN":return{color:"bg-gray-100 text-gray-800",icon:O,label:"ì§€ì› ì·¨ì†Œ"};case"EXPIRED":return{color:"bg-gray-100 text-gray-800",icon:P,label:"ë§Œë£Œë¨"};default:return{color:"bg-gray-100 text-gray-800",icon:x,label:"ì•Œ ìˆ˜ ì—†ìŒ"}}})(e.applicationStatus),t=a.icon;return m.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:m.jsxs(re,{className:"p-6 hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:e.jobTitle}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.color} flex items-center space-x-1`,children:[m.jsx(t,{className:"h-4 w-4"}),m.jsx("span",{children:a.label})]})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(I,{className:"h-4 w-4"}),m.jsx("span",{children:e.facilityName})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(w,{className:"h-4 w-4"}),m.jsx("span",{children:e.facilityLocation})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(V,{className:"h-4 w-4"}),m.jsxs("span",{children:[e.salary.toLocaleString(),"ì›"]})]})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[m.jsxs("span",{children:[m.jsx("strong",{children:"ê·¼ë¬´í˜•íƒœ:"})," ",e.workType]}),m.jsxs("span",{children:[m.jsx("strong",{children:"ê·¼ë¬´ì‹œê°„:"})," ",e.workSchedule]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(y,{className:"h-4 w-4"}),m.jsxs("span",{children:["ì§€ì›ì¼: ",new Date(e.applicationDate).toLocaleDateString()]})]})]})]}),m.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>f(e),className:"flex items-center space-x-1",children:[m.jsx(j,{className:"h-4 w-4"}),m.jsx("span",{children:"ìƒì„¸ë³´ê¸°"})]})]}),"INTERVIEW"===e.applicationStatus&&e.interviewDate&&m.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-purple-800",children:[m.jsx("strong",{children:"ë©´ì ‘ ì¼ì •:"})," ",new Date(e.interviewDate).toLocaleString()]})}),"REJECTED"===e.applicationStatus&&e.rejectionReason&&m.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-red-800",children:[m.jsx("strong",{children:"ë¶ˆí•©ê²© ì‚¬ìœ :"})," ",e.rejectionReason]})}),e.notes&&m.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:m.jsxs("p",{className:"text-sm text-blue-800",children:[m.jsx("strong",{children:"ë©”ëª¨:"})," ",e.notes]})})]})},e.id)})})]}),"postings"===c&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(I,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.total}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì´ ê³µê³ "})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(h,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.active}),m.jsx("div",{className:"text-sm text-gray-600",children:"í™œì„± ê³µê³ "})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(g,{className:"h-6 w-6 text-purple-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.totalApplicants}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì´ ì§€ì›ìž"})]}),m.jsxs(re,{className:"p-4 text-center",children:[m.jsx(j,{className:"h-6 w-6 text-orange-500 mx-auto mb-2"}),m.jsx("div",{className:"text-2xl font-bold text-gray-900",children:C.totalViews}),m.jsx("div",{className:"text-sm text-gray-600",children:"ì´ ì¡°íšŒìˆ˜"})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(ie,{href:"/jobs/create",className:"flex items-center space-x-2",children:[m.jsx(Y,{className:"h-4 w-4"}),m.jsx("span",{children:"ìƒˆ ê³µê³  ìž‘ì„±"})]})}),m.jsx("div",{className:"space-y-4",children:0===E.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(I,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ë“±ë¡ëœ êµ¬ì¸ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"ì²« ë²ˆì§¸ êµ¬ì¸ê³µê³ ë¥¼ ìž‘ì„±í•´ë³´ì„¸ìš”."}),m.jsx(ie,{href:"/jobs/create",children:"ê³µê³  ìž‘ì„±í•˜ê¸°"})]}):E.map(e=>{const a=(e=>{switch(e){case"ACTIVE":return{color:"bg-green-100 text-green-800",icon:h,label:"ëª¨ì§‘ ì¤‘"};case"PAUSED":return{color:"bg-yellow-100 text-yellow-800",icon:x,label:"ì¼ì‹œì¤‘ì§€"};case"CLOSED":return{color:"bg-gray-100 text-gray-800",icon:O,label:"ëª¨ì§‘ ì™„ë£Œ"};case"DRAFT":return{color:"bg-blue-100 text-blue-800",icon:W,label:"ìž„ì‹œì €ìž¥"};default:return{color:"bg-gray-100 text-gray-800",icon:x,label:"ì•Œ ìˆ˜ ì—†ìŒ"}}})(e.status),t=a.icon;return m.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:m.jsxs(re,{className:"p-6 hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),m.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.color} flex items-center space-x-1`,children:[m.jsx(t,{className:"h-4 w-4"}),m.jsx("span",{children:a.label})]})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(w,{className:"h-4 w-4"}),m.jsx("span",{children:e.location})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(V,{className:"h-4 w-4"}),m.jsxs("span",{children:[e.salary.toLocaleString(),"ì›"]})]}),m.jsxs("span",{children:[m.jsx("strong",{children:"ê·¼ë¬´í˜•íƒœ:"})," ",e.workType]})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(g,{className:"h-4 w-4"}),m.jsxs("span",{children:["ì§€ì›ìž ",e.applicantCount,"ëª…"]})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(j,{className:"h-4 w-4"}),m.jsxs("span",{children:["ì¡°íšŒìˆ˜ ",e.viewCount,"íšŒ"]})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(y,{className:"h-4 w-4"}),m.jsxs("span",{children:["ë§ˆê°ì¼: ",new Date(e.closingDate).toLocaleDateString()]})]})]}),m.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.description})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(ie,{size:"sm",variant:"outline",href:`/jobs/${e.id}/edit`,className:"flex items-center space-x-1",children:[m.jsx(N,{className:"h-4 w-4"}),m.jsx("span",{children:"ìˆ˜ì •"})]}),m.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>f(e),className:"flex items-center space-x-1",children:[m.jsx(j,{className:"h-4 w-4"}),m.jsx("span",{children:"ìƒì„¸ë³´ê¸°"})]})]})]}),e.requirements.length>0&&m.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.requirements.map((e,a)=>m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},a))})]})},e.id)})})]}),m.jsx(he,{children:b&&m.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>f(null),children:m.jsxs(me.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"jobTitle"in b?"ì§€ì› ìƒì„¸ ì •ë³´":"ê³µê³  ìƒì„¸ ì •ë³´"}),m.jsx(ie,{size:"sm",variant:"outline",onClick:()=>f(null),children:"ë‹«ê¸°"})]}),m.jsx("div",{className:"space-y-6",children:m.jsx("div",{className:"text-sm text-gray-600",children:"ìƒì„¸ ì •ë³´ ì»´í¬ë„ŒíŠ¸ëŠ” ì‹¤ì œ ê°œë°œ ì‹œ êµ¬í˜„ë©ë‹ˆë‹¤."})})]})})})]})},be=()=>{const{user:e,updateProfile:a}=ce(),[t,l]=o.useState("password"),[s,r]=o.useState(!1),[c,x]=o.useState(null),[u,p]=o.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,y]=o.useState({current:!1,new:!1,confirm:!1}),[b,N]=o.useState({email:{matchingUpdates:!0,jobAlerts:!0,reviewNotifications:!0,systemUpdates:!1,weeklyDigest:!0},push:{matchingUpdates:!0,jobAlerts:!0,messages:!0,reminders:!1},sms:{importantUpdates:!0,securityAlerts:!0}}),[v,w]=o.useState({profileVisibility:"public",showEmail:!1,showPhone:!1,allowContactFromEmployers:!0,allowContactFromCaregivers:!0,shareActivityStatus:!0}),[E,k]=o.useState({twoFactorEnabled:!1,loginNotifications:!0,deviceManagement:!0,autoLogout:30}),[D,C]=o.useState({theme:"system",language:"ko",timezone:"Asia/Seoul",dateFormat:"YYYY-MM-DD",soundEnabled:!0});o.useEffect(()=>{if(c){const e=setTimeout(()=>x(null),5e3);return()=>clearTimeout(e)}},[c]);const R=(e,a)=>d(null,null,function*(){r(!0);try{yield new Promise(e=>setTimeout(e,1e3)),x({type:"success",text:"ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤."})}catch(e){x({type:"error",text:"ì„¤ì • ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."})}finally{r(!1)}}),A=[{key:"password",label:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½",icon:_},{key:"notifications",label:"ì•Œë¦¼ ì„¤ì •",icon:$},{key:"privacy",label:"ê°œì¸ì •ë³´ ì„¤ì •",icon:f},{key:"security",label:"ë³´ì•ˆ ì„¤ì •",icon:S},{key:"app",label:"ì•± ì„¤ì •",icon:z}];return m.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[m.jsx("div",{className:"lg:w-64",children:m.jsxs(re,{className:"p-4",children:[m.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"ì„¤ì • ë©”ë‰´"}),m.jsx("nav",{className:"space-y-2",children:A.map(e=>{const a=e.icon,s=t===e.key;return m.jsxs("button",{onClick:()=>l(e.key),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors "+(s?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"),children:[m.jsx(a,{className:"h-5 w-5 "+(s?"text-blue-500":"text-gray-400")}),m.jsx("span",{className:"font-medium",children:e.label})]},e.key)})})]})}),m.jsxs("div",{className:"flex-1",children:[c&&m.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 p-4 rounded-lg flex items-center space-x-3 "+("success"===c.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:["success"===c.type?m.jsx(h,{className:"h-5 w-5"}):m.jsx(q,{className:"h-5 w-5"}),m.jsx("span",{children:c.text})]}),"password"===t&&m.jsxs(re,{className:"p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"}),m.jsxs("form",{onSubmit:e=>d(null,null,function*(){e.preventDefault(),r(!0);try{if(u.newPassword!==u.confirmPassword)throw new Error("ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");if(u.newPassword.length<8)throw new Error("ìƒˆ ë¹„ë°€ë²ˆí˜¸ëŠ” 8ìž ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");yield a({currentPassword:u.currentPassword,newPassword:u.newPassword}),p({currentPassword:"",newPassword:"",confirmPassword:""}),x({type:"success",text:"ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."})}catch(t){x({type:"error",text:t.message||"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."})}finally{r(!1)}}),className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"í˜„ìž¬ ë¹„ë°€ë²ˆí˜¸"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:g.current?"text":"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",value:u.currentPassword,onChange:e=>p(a=>n(i({},a),{currentPassword:e.target.value}))}),m.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>y(e=>n(i({},e),{current:!e.current})),children:g.current?m.jsx(G,{className:"h-4 w-4"}):m.jsx(j,{className:"h-4 w-4"})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ìƒˆ ë¹„ë°€ë²ˆí˜¸"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:g.new?"text":"password",required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",value:u.newPassword,onChange:e=>p(a=>n(i({},a),{newPassword:e.target.value}))}),m.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>y(e=>n(i({},e),{new:!e.new})),children:g.new?m.jsx(G,{className:"h-4 w-4"}):m.jsx(j,{className:"h-4 w-4"})})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"8ìž ì´ìƒì˜ ë¬¸ìž, ìˆ«ìž, íŠ¹ìˆ˜ë¬¸ìžë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:g.confirm?"text":"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",value:u.confirmPassword,onChange:e=>p(a=>n(i({},a),{confirmPassword:e.target.value}))}),m.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>y(e=>n(i({},e),{confirm:!e.confirm})),children:g.confirm?m.jsx(G,{className:"h-4 w-4"}):m.jsx(j,{className:"h-4 w-4"})})]}),u.newPassword&&u.confirmPassword&&u.newPassword!==u.confirmPassword&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:"ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."})]}),m.jsx(ie,{type:"submit",disabled:s||!u.currentPassword||!u.newPassword||u.newPassword!==u.confirmPassword,className:"w-full",children:s?m.jsxs(m.Fragment,{children:[m.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),"ë³€ê²½ ì¤‘..."]}):"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"})]})]}),"notifications"===t&&m.jsxs(re,{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"ì•Œë¦¼ ì„¤ì •"}),m.jsxs(ie,{onClick:()=>R(),disabled:s,className:"flex items-center space-x-2",children:[m.jsx(J,{className:"h-4 w-4"}),m.jsx("span",{children:"ì €ìž¥"})]})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(F,{className:"h-5 w-5 text-gray-400"}),m.jsx("h3",{className:"font-medium text-gray-900",children:"ì´ë©”ì¼ ì•Œë¦¼"})]}),m.jsx("div",{className:"space-y-3 ml-7",children:Object.entries(b.email).map(([e,a])=>m.jsxs("label",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm text-gray-700",children:["matchingUpdates"===e&&"ë§¤ì¹­ ì—…ë°ì´íŠ¸","jobAlerts"===e&&"êµ¬ì¸ ì•Œë¦¼","reviewNotifications"===e&&"ë¦¬ë·° ì•Œë¦¼","systemUpdates"===e&&"ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸","weeklyDigest"===e&&"ì£¼ê°„ ìš”ì•½"]}),m.jsx("input",{type:"checkbox",checked:a,onChange:a=>N(t=>n(i({},t),{email:n(i({},t.email),{[e]:a.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]},e))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx($,{className:"h-5 w-5 text-gray-400"}),m.jsx("h3",{className:"font-medium text-gray-900",children:"í‘¸ì‹œ ì•Œë¦¼"})]}),m.jsx("div",{className:"space-y-3 ml-7",children:Object.entries(b.push).map(([e,a])=>m.jsxs("label",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm text-gray-700",children:["matchingUpdates"===e&&"ë§¤ì¹­ ì—…ë°ì´íŠ¸","jobAlerts"===e&&"êµ¬ì¸ ì•Œë¦¼","messages"===e&&"ë©”ì‹œì§€","reminders"===e&&"ë¦¬ë§ˆì¸ë”"]}),m.jsx("input",{type:"checkbox",checked:a,onChange:a=>N(t=>n(i({},t),{push:n(i({},t.push),{[e]:a.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]},e))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(B,{className:"h-5 w-5 text-gray-400"}),m.jsx("h3",{className:"font-medium text-gray-900",children:"SMS ì•Œë¦¼"})]}),m.jsx("div",{className:"space-y-3 ml-7",children:Object.entries(b.sms).map(([e,a])=>m.jsxs("label",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm text-gray-700",children:["importantUpdates"===e&&"ì¤‘ìš” ì—…ë°ì´íŠ¸","securityAlerts"===e&&"ë³´ì•ˆ ì•Œë¦¼"]}),m.jsx("input",{type:"checkbox",checked:a,onChange:a=>N(t=>n(i({},t),{sms:n(i({},t.sms),{[e]:a.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]},e))})]})]})]}),"privacy"===t&&m.jsxs(re,{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"ê°œì¸ì •ë³´ ì„¤ì •"}),m.jsxs(ie,{onClick:()=>R(),disabled:s,className:"flex items-center space-x-2",children:[m.jsx(J,{className:"h-4 w-4"}),m.jsx("span",{children:"ì €ìž¥"})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"í”„ë¡œí•„ ê³µê°œ ë²”ìœ„"}),m.jsxs("select",{value:v.profileVisibility,onChange:e=>w(a=>n(i({},a),{profileVisibility:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"public",children:"ì „ì²´ ê³µê°œ"}),m.jsx("option",{value:"contacts",children:"ì—°ë½ì²˜ë§Œ"}),m.jsx("option",{value:"private",children:"ë¹„ê³µê°œ"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:"ì •ë³´ ê³µê°œ ì„¤ì •"}),Object.entries(v).map(([e,a])=>"profileVisibility"===e?null:m.jsxs("label",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm text-gray-700",children:["showEmail"===e&&"ì´ë©”ì¼ ì£¼ì†Œ ê³µê°œ","showPhone"===e&&"ì „í™”ë²ˆí˜¸ ê³µê°œ","allowContactFromEmployers"===e&&"êµ¬ì¸ì—…ì²´ ì—°ë½ í—ˆìš©","allowContactFromCaregivers"===e&&"ìš”ì–‘ë³´í˜¸ì‚¬ ì—°ë½ í—ˆìš©","shareActivityStatus"===e&&"í™œë™ ìƒíƒœ ê³µìœ "]}),m.jsx("input",{type:"checkbox",checked:a,onChange:a=>w(t=>n(i({},t),{[e]:a.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]},e))]})]})]}),"security"===t&&m.jsxs(re,{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"ë³´ì•ˆ ì„¤ì •"}),m.jsxs(ie,{onClick:()=>R(),disabled:s,className:"flex items-center space-x-2",children:[m.jsx(J,{className:"h-4 w-4"}),m.jsx("span",{children:"ì €ìž¥"})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900",children:"2ë‹¨ê³„ ì¸ì¦"}),m.jsx("p",{className:"text-sm text-gray-600",children:"ì¶”ê°€ ë³´ì•ˆì„ ìœ„í•œ 2ë‹¨ê³„ ì¸ì¦ì„ í™œì„±í™”í•©ë‹ˆë‹¤."})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[E.twoFactorEnabled?m.jsx(Q,{className:"h-5 w-5 text-green-500"}):m.jsx(S,{className:"h-5 w-5 text-gray-400"}),m.jsx("input",{type:"checkbox",checked:E.twoFactorEnabled,onChange:e=>k(a=>n(i({},a),{twoFactorEnabled:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]}),m.jsx("div",{className:"space-y-4",children:Object.entries(E).map(([e,a])=>"twoFactorEnabled"===e||"autoLogout"===e?null:m.jsxs("label",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm text-gray-700",children:["loginNotifications"===e&&"ë¡œê·¸ì¸ ì•Œë¦¼","deviceManagement"===e&&"ê¸°ê¸° ê´€ë¦¬"]}),m.jsx("input",{type:"checkbox",checked:a,onChange:a=>k(t=>n(i({},t),{[e]:a.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]},e))}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ìžë™ ë¡œê·¸ì•„ì›ƒ (ë¶„)"}),m.jsxs("select",{value:E.autoLogout,onChange:e=>k(a=>n(i({},a),{autoLogout:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:15,children:"15ë¶„"}),m.jsx("option",{value:30,children:"30ë¶„"}),m.jsx("option",{value:60,children:"1ì‹œê°„"}),m.jsx("option",{value:120,children:"2ì‹œê°„"}),m.jsx("option",{value:0,children:"ì‚¬ìš© ì•ˆí•¨"})]})]})]})]}),"app"===t&&m.jsxs(re,{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"ì•± ì„¤ì •"}),m.jsxs(ie,{onClick:()=>R(),disabled:s,className:"flex items-center space-x-2",children:[m.jsx(J,{className:"h-4 w-4"}),m.jsx("span",{children:"ì €ìž¥"})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"í…Œë§ˆ"}),m.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"light",label:"ë¼ì´íŠ¸",icon:Z},{value:"dark",label:"ë‹¤í¬",icon:H},{value:"system",label:"ì‹œìŠ¤í…œ",icon:K}].map(e=>{const a=e.icon;return m.jsxs("button",{onClick:()=>C(a=>n(i({},a),{theme:e.value})),className:"p-3 border rounded-lg flex flex-col items-center space-y-2 transition-colors "+(D.theme===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[m.jsx(a,{className:"h-5 w-5"}),m.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.value)})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì–¸ì–´"}),m.jsxs("select",{value:D.language,onChange:e=>C(a=>n(i({},a),{language:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"ko",children:"í•œêµ­ì–´"}),m.jsx("option",{value:"en",children:"English"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ë‚ ì§œ í˜•ì‹"}),m.jsxs("select",{value:D.dateFormat,onChange:e=>C(a=>n(i({},a),{dateFormat:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),m.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),m.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[D.soundEnabled?m.jsx(X,{className:"h-5 w-5 text-gray-400"}):m.jsx(ee,{className:"h-5 w-5 text-gray-400"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ì†Œë¦¬ íš¨ê³¼"})]}),m.jsx("input",{type:"checkbox",checked:D.soundEnabled,onChange:e=>C(a=>n(i({},a),{soundEnabled:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})]})]})},Ne=()=>{const{user:e}=ce(),[a,t]=o.useState("activity"),[l,s]=o.useState([]),[r,c]=o.useState([]),[d,h]=o.useState(!1),[x,g]=o.useState({type:"all",dateRange:"month",riskLevel:"all",searchQuery:""}),[y,b]=o.useState(!1);o.useEffect(()=>{s([{id:1,type:"login",action:"ë¡œê·¸ì¸",description:"ì„±ê³µì ìœ¼ë¡œ ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.",timestamp:"2024-01-26T09:30:00Z",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",location:"ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",device:{type:"desktop",os:"Windows 10",browser:"Chrome 120",fingerprint:"fp_desktop_001"},riskLevel:"low"},{id:2,type:"profile_update",action:"í”„ë¡œí•„ ìˆ˜ì •",description:"ì—°ë½ì²˜ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.",timestamp:"2024-01-25T14:15:00Z",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",device:{type:"desktop",os:"Windows 10",browser:"Chrome 120",fingerprint:"fp_desktop_001"},riskLevel:"low"},{id:3,type:"login",action:"ë¡œê·¸ì¸",description:"ìƒˆë¡œìš´ ê¸°ê¸°ì—ì„œ ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.",timestamp:"2024-01-24T18:45:00Z",ipAddress:"192.168.1.200",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X)",location:"ì„œìš¸ì‹œ ì„œì´ˆêµ¬",device:{type:"mobile",os:"iOS 17",browser:"Safari",fingerprint:"fp_mobile_001"},riskLevel:"medium"},{id:4,type:"job_application",action:"êµ¬ì¸ ì§€ì›",description:"ì„œìš¸ì‹œë¦½ìš”ì–‘ì› ìš”ì–‘ë³´í˜¸ì‚¬ í¬ì§€ì…˜ì— ì§€ì›í–ˆìŠµë‹ˆë‹¤.",timestamp:"2024-01-23T11:20:00Z",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",device:{type:"desktop",os:"Windows 10",browser:"Chrome 120",fingerprint:"fp_desktop_001"},riskLevel:"low"}]),c([{id:1,type:"new_device_login",severity:"warning",message:"ìƒˆë¡œìš´ iPhone ê¸°ê¸°ì—ì„œ ë¡œê·¸ì¸ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.",timestamp:"2024-01-24T18:45:00Z",resolved:!0,ipAddress:"192.168.1.200",location:"ì„œìš¸ì‹œ ì„œì´ˆêµ¬"},{id:2,type:"password_changed",severity:"info",message:"ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.",timestamp:"2024-01-20T16:30:00Z",resolved:!0,ipAddress:"192.168.1.100"}])},[]);const N=e=>{switch(e){case"info":return"text-blue-500 bg-blue-50";case"warning":return"text-yellow-500 bg-yellow-50";case"critical":return"text-red-500 bg-red-50";default:return"text-gray-500 bg-gray-50"}},v=e=>{switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=l.filter(e=>{if("all"!==x.type&&e.type!==x.type)return!1;if("all"!==x.riskLevel&&e.riskLevel!==x.riskLevel)return!1;if(x.searchQuery){const a=x.searchQuery.toLowerCase();return e.action.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.ipAddress.includes(a)}const a=new Date,t=new Date(e.timestamp);switch(x.dateRange){case"today":return t.toDateString()===a.toDateString();case"week":return t>=new Date(a.getTime()-6048e5);case"month":return t>=new Date(a.getTime()-2592e6);case"3months":return t>=new Date(a.getTime()-7776e6);default:return!0}});return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"activity",label:"í™œë™ ê¸°ë¡",count:l.length},{key:"security",label:"ë³´ì•ˆ ì´ë²¤íŠ¸",count:r.length},{key:"devices",label:"ê¸°ê¸° ê´€ë¦¬",count:3}].map(e=>m.jsxs("button",{onClick:()=>t(e.key),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors "+(a===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," (",e.count,")"]},e.key))})}),"activity"===a&&m.jsxs(m.Fragment,{children:[m.jsx(re,{className:"p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"í™œë™, IP ì£¼ì†Œë¡œ ê²€ìƒ‰...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:x.searchQuery,onChange:e=>g(a=>n(i({},a),{searchQuery:e.target.value}))})]}),m.jsxs("select",{value:x.dateRange,onChange:e=>g(a=>n(i({},a),{dateRange:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"today",children:"ì˜¤ëŠ˜"}),m.jsx("option",{value:"week",children:"ìµœê·¼ 1ì£¼ì¼"}),m.jsx("option",{value:"month",children:"ìµœê·¼ 1ê°œì›”"}),m.jsx("option",{value:"3months",children:"ìµœê·¼ 3ê°œì›”"}),m.jsx("option",{value:"all",children:"ì „ì²´"})]}),m.jsxs("select",{value:x.type,onChange:e=>g(a=>n(i({},a),{type:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"all",children:"ëª¨ë“  í™œë™"}),m.jsx("option",{value:"login",children:"ë¡œê·¸ì¸"}),m.jsx("option",{value:"logout",children:"ë¡œê·¸ì•„ì›ƒ"}),m.jsx("option",{value:"profile_update",children:"í”„ë¡œí•„ ìˆ˜ì •"}),m.jsx("option",{value:"password_change",children:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"}),m.jsx("option",{value:"job_application",children:"êµ¬ì¸ ì§€ì›"}),m.jsx("option",{value:"matching_request",children:"ë§¤ì¹­ ì‹ ì²­"})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{const e="data:text/csv;charset=utf-8,ì‹œê°„,í™œë™,ì„¤ëª…,IPì£¼ì†Œ,ê¸°ê¸°,ìœ„í—˜ë„\n"+E.map(e=>`${new Date(e.timestamp).toLocaleString()},${e.action},"${e.description}",${e.ipAddress},${e.device.type},${e.riskLevel}`).join("\n"),a=encodeURI(e),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download","activity_history.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"flex items-center space-x-2",children:[m.jsx(ae,{className:"h-4 w-4"}),m.jsx("span",{children:"ë‚´ë³´ë‚´ê¸°"})]}),m.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"flex items-center space-x-2",children:[m.jsx(U,{className:"h-4 w-4 "+(d?"animate-spin":"")}),m.jsx("span",{children:"ìƒˆë¡œê³ ì¹¨"})]})]})]})}),m.jsx("div",{className:"space-y-4",children:0===E.length?m.jsxs(re,{className:"p-8 text-center",children:[m.jsx(u,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"í™œë™ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600",children:"ì„ íƒí•œ ê¸°ê°„ ë˜ëŠ” í•„í„° ì¡°ê±´ì— ë§žëŠ” í™œë™ì´ ì—†ìŠµë‹ˆë‹¤."})]}):E.map(e=>{const{icon:a,color:t}=(e=>{switch(e){case"login":return{icon:se,color:"text-green-500"};case"logout":return{icon:le,color:"text-gray-500"};case"profile_update":return{icon:T,color:"text-blue-500"};case"password_change":return{icon:f,color:"text-orange-500"};case"settings_change":return{icon:z,color:"text-purple-500"};case"review_created":return{icon:p,color:"text-yellow-500"};case"job_application":return{icon:L,color:"text-indigo-500"};case"matching_request":return{icon:w,color:"text-pink-500"};case"facility_view":return{icon:j,color:"text-gray-500"};case"search":return{icon:k,color:"text-gray-500"};case"download":return{icon:ae,color:"text-teal-500"};default:return{icon:u,color:"text-gray-500"}}})(e.type),l=(e=>{switch(e){case"desktop":case"tablet":return K;case"mobile":return B;default:return te}})(e.device.type);return m.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:m.jsx(re,{className:"p-6",children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("div",{className:`p-2 rounded-lg ${t.replace("text-","bg-").replace("-500","-100")}`,children:m.jsx(a,{className:`h-5 w-5 ${t}`})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:e.action}),m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(e.riskLevel)}`,children:["low"===e.riskLevel&&"ë‚®ìŒ","medium"===e.riskLevel&&"ë³´í†µ","high"===e.riskLevel&&"ë†’ìŒ"]})]}),m.jsx("time",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),m.jsx("p",{className:"text-gray-700 mb-3",children:e.description}),m.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(l,{className:"h-4 w-4"}),m.jsxs("span",{children:[e.device.os," â€¢ ",e.device.browser]})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(te,{className:"h-4 w-4"}),m.jsx("span",{children:e.ipAddress})]}),e.location&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(w,{className:"h-4 w-4"}),m.jsx("span",{children:e.location})]})]})]})]})})},e.id)})})]}),"security"===a&&m.jsx("div",{className:"space-y-4",children:0===r.length?m.jsxs(re,{className:"p-8 text-center",children:[m.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ë³´ì•ˆ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600",children:"ê³„ì •ì— ëŒ€í•œ ë³´ì•ˆ ì´ë²¤íŠ¸ê°€ ê¸°ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."})]}):r.map(e=>m.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:m.jsx(re,{className:"p-6",children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("div",{className:`p-2 rounded-lg ${N(e.severity)}`,children:m.jsx(q,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("info"===e.severity?"bg-blue-100 text-blue-800":"warning"===e.severity?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:["info"===e.severity&&"ì •ë³´","warning"===e.severity&&"ê²½ê³ ","critical"===e.severity&&"ì‹¬ê°"]}),e.resolved&&m.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"í•´ê²°ë¨"})]}),m.jsx("time",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),m.jsx("p",{className:"text-gray-700 mb-3",children:e.message}),m.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(te,{className:"h-4 w-4"}),m.jsx("span",{children:e.ipAddress})]}),e.location&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(w,{className:"h-4 w-4"}),m.jsx("span",{children:e.location})]})]})]})]})})},e.id))}),"devices"===a&&m.jsx("div",{className:"space-y-4",children:m.jsxs(re,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ë“±ë¡ëœ ê¸°ê¸°"}),m.jsx(ie,{variant:"outline",size:"sm",children:"ëª¨ë“  ê¸°ê¸°ì—ì„œ ë¡œê·¸ì•„ì›ƒ"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-green-200 bg-green-50 rounded-lg",children:[m.jsx(K,{className:"h-8 w-8 text-green-600"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Windows PC (í˜„ìž¬)"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Chrome 120 â€¢ ì„œìš¸ì‹œ ê°•ë‚¨êµ¬"}),m.jsx("p",{className:"text-xs text-gray-500",children:"ë§ˆì§€ë§‰ í™œë™: ì§€ê¸ˆ"})]}),m.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"í™œì„±"})]}),m.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[m.jsx(B,{className:"h-8 w-8 text-gray-600"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"iPhone"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Safari â€¢ ì„œìš¸ì‹œ ì„œì´ˆêµ¬"}),m.jsx("p",{className:"text-xs text-gray-500",children:"ë§ˆì§€ë§‰ í™œë™: 2ì¼ ì „"})]}),m.jsx(ie,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:"ì œê±°"})]}),m.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[m.jsx(K,{className:"h-8 w-8 text-gray-600"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"MacBook Pro"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Safari â€¢ ë¶€ì‚°ì‹œ í•´ìš´ëŒ€êµ¬"}),m.jsx("p",{className:"text-xs text-gray-500",children:"ë§ˆì§€ë§‰ í™œë™: 1ì£¼ ì „"})]}),m.jsx(ie,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:"ì œê±°"})]})]}),m.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:m.jsx("p",{className:"text-sm text-blue-800",children:"ðŸ’¡ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ê¸°ê¸°ë‚˜ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê¸°ê¸°ëŠ” ë³´ì•ˆì„ ìœ„í•´ ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."})})]})})]})},fe=()=>{const{user:e,isAuthenticated:a}=ce(),[t,l]=o.useState("overview"),[s,r]=o.useState(0),c=[{key:"overview",label:"í”„ë¡œí•„ ê°œìš”",icon:T,description:"ê¸°ë³¸ ì •ë³´ ë° í”„ë¡œí•„ í˜„í™©"},{key:"reviews",label:"ë‚´ ë¦¬ë·°",icon:p,description:"ìž‘ì„±í•œ ë¦¬ë·° ë° í‰ì  ê´€ë¦¬",badge:0},{key:"matching",label:"ë§¤ì¹­ ì´ë ¥",icon:w,description:"ì‹œì„¤ ë§¤ì¹­ ì‹ ì²­ ë° ê²°ê³¼",roles:["CAREGIVER","COORDINATOR"]},{key:"jobs",label:"ì§€ì› í˜„í™©",icon:L,description:"êµ¬ì§/êµ¬ì¸ í™œë™ í˜„í™©",roles:["CAREGIVER","EMPLOYER"]},{key:"settings",label:"ê³„ì • ì„¤ì •",icon:z,description:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë° ì•Œë¦¼ ì„¤ì •"},{key:"activity",label:"í™œë™ ë‚´ì—­",icon:u,description:"ë¡œê·¸ì¸ ë° í™œë™ ê¸°ë¡"}].filter(a=>!a.roles||(null==e?void 0:e.role)&&a.roles.includes(e.role));return o.useEffect(()=>{if(e){let a=0;const t=10;e.name&&a++,e.email&&a++,e.phone&&a++,e.profileImageUrl&&a++,e.bio&&a++,r(Math.round(a/t*100))}},[e]),a&&e?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("div",{className:"bg-white border-b",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"py-6",children:m.jsxs("div",{className:"flex items-center space-x-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:e.profileImageUrl?m.jsx("img",{src:e.profileImageUrl,alt:e.name,className:"h-full w-full object-cover"}):m.jsx(T,{className:"h-8 w-8 text-gray-400"})}),m.jsx("div",{className:"absolute -top-1 -right-1",children:m.jsxs("div",{className:"relative h-6 w-6",children:[m.jsxs("svg",{className:"h-6 w-6 transform -rotate-90",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-gray-200"}),m.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:""+2*Math.PI*10,strokeDashoffset:""+2*Math.PI*10*(1-s/100),className:"text-blue-500 transition-all duration-500"})]}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-medium text-blue-600",children:s})})]})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.name||"ì‚¬ìš©ìž"}),m.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"CAREGIVER":return"bg-blue-100 text-blue-800";case"COORDINATOR":return"bg-green-100 text-green-800";case"EMPLOYER":return"bg-purple-100 text-purple-800";case"ADMIN":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.role)}`,children:(e=>{switch(e){case"CAREGIVER":return"ìš”ì–‘ë³´í˜¸ì‚¬";case"COORDINATOR":return"ì½”ë””ë„¤ì´í„°";case"EMPLOYER":return"êµ¬ì¸ì—…ì²´";case"ADMIN":return"ê´€ë¦¬ìž";default:return"ì¼ë°˜íšŒì›"}})(e.role)}),e.verified&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(v,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{className:"text-sm text-green-600",children:"ì¸ì¦ë¨"})]})]}),m.jsx("p",{className:"text-gray-600 mb-2",children:e.email}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(y,{className:"h-4 w-4"}),m.jsxs("span",{children:["ê°€ìž…ì¼: ",new Date(e.createdAt).toLocaleDateString()]})]}),e.lastLoginAt&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(u,{className:"h-4 w-4"}),m.jsxs("span",{children:["ìµœê·¼ ì ‘ì†: ",new Date(e.lastLoginAt).toLocaleDateString()]})]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"í”„ë¡œí•„ ì™„ì„±ë„"}),m.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[s,"%"]}),m.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:m.jsx(me.div,{className:"bg-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:1,ease:"easeOut"}})}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s<100?"í”„ë¡œí•„ì„ ì™„ì„±í•´ë³´ì„¸ìš”!":"í”„ë¡œí•„ ì™„ì„±!"})]})]})})})}),m.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsx("nav",{className:"flex space-x-8 overflow-x-auto","aria-label":"ë§ˆì´íŽ˜ì´ì§€ íƒ­",children:c.map(e=>{const a=e.icon,s=t===e.key;return m.jsxs("button",{onClick:()=>l(e.key),className:"group flex items-center py-4 px-1 border-b-2 font-medium text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors "+(s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),role:"tab","aria-selected":s,"aria-controls":`tabpanel-${e.key}`,id:`tab-${e.key}`,children:[m.jsx(a,{className:"mr-2 h-5 w-5 "+(s?"text-blue-500":"text-gray-400 group-hover:text-gray-500")}),m.jsx("span",{className:"whitespace-nowrap",children:e.label}),e.badge&&e.badge>0&&m.jsx("span",{className:"ml-2 bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full",children:e.badge})]},e.key)})})})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsx(he,{mode:"wait",children:m.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,children:["overview"===t&&m.jsx(ue,{user:e}),"reviews"===t&&m.jsx(pe,{}),"matching"===t&&m.jsx(ge,{}),"jobs"===t&&m.jsx(ye,{}),"settings"===t&&m.jsx(be,{}),"activity"===t&&m.jsx(Ne,{})]},t)})})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs(re,{className:"p-8 text-center max-w-md",children:[m.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"ë§ˆì´íŽ˜ì´ì§€ë¥¼ ì´ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”."}),m.jsx(ie,{href:"/login",children:"ë¡œê·¸ì¸í•˜ê¸°"})]})})};export{fe as MyPage};
