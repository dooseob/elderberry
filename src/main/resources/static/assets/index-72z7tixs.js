const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-P3RwUQgV.js","assets/react-vendor-BYDInCC8.js","assets/vendor-CMX8VuvJ.js","assets/utils-vhTAaM2j.js","assets/state-management-DUuJHh35.js","assets/auth-pages-CqF2YS6A.js","assets/ui-libs-B_iLp8lQ.js","assets/board-pages-DCG67KUW.js","assets/profile-pages-ss-90sDp.js","assets/job-pages-CfRBN6nf.js","assets/health-pages-CCLMZPqt.js","assets/facility-pages-BKJ3fosa.js","assets/chat-pages-CMeaAGoL.js","assets/MyPage-CBNd4Spm.js","assets/CoordinatorMatchingWizard-CsZmdKJj.js","assets/UnauthorizedPage-BfumXEK9.js","assets/NotificationsPage-C31ofBwB.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,l=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&i(e,s,t[s]);if(a)for(var s of a(t))n.call(t,s)&&i(e,s,t[s]);return e},o=(e,a)=>t(e,s(a)),c=(e,t)=>{var s={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&n.call(e,i)&&(s[i]=e[i]);return s},d=(e,t,s)=>i(e,"symbol"!=typeof t?t+"":t,s),m=(e,t,s)=>new Promise((a,r)=>{var n=e=>{try{l(s.next(e))}catch(t){r(t)}},i=e=>{try{l(s.throw(e))}catch(t){r(t)}},l=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,i);l((s=s.apply(e,t)).next())});import{b as h,r as u,j as x,aF as p,aG as f,c as g,aH as b,aI as y,aJ as j,af as N,_ as v,ay as _,az as w,aA as E,a5 as C,l as k,N as I,a1 as T,u as A,g as P,X as O,W as R,aK as L,S as D,aL as M,a7 as S,U as V,aM as U,T as H,a0 as F,aN as $,aO as z,aP as W,aQ as B}from"./react-vendor-BYDInCC8.js";import{u as G,n as J,i as Y,B as q,M as Q,T as K}from"./auth-pages-CqF2YS6A.js";import{m as X,A as Z}from"./ui-libs-B_iLp8lQ.js";import{p as ee}from"./state-management-DUuJHh35.js";import{u as te,L as se,a as ae}from"./facility-pages-BKJ3fosa.js";import{a6 as re,a7 as ne}from"./vendor-CMX8VuvJ.js";import{e as ie,d as le}from"./chat-pages-CMeaAGoL.js";import"./utils-vhTAaM2j.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const oe=({children:e,roles:t,fallbackPath:s="/login"})=>{const a=h(),{isAuthenticated:r,user:n,isLoading:i,validateToken:l}=G(),[o,c]=u.useState(!0);return u.useEffect(()=>{m(null,null,function*(){r&&n&&((yield l())||G.getState().logout()),c(!1)})},[r,n,l]),i||o?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-elderberry-600"})}):r&&n?t&&t.length>0&&!t.includes(n.role)?x.jsx(p,{to:"/unauthorized",state:{from:a.pathname,requiredRoles:t},replace:!0}):x.jsx(x.Fragment,{children:e}):x.jsx(p,{to:s,state:{from:a.pathname},replace:!0})},ce={},de=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));a=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in ce)return;ce[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},me={enabled:!0,reducedMotion:!1,performance:"high"},he="elderberry_animation_config";const ue=new class{constructor(){d(this,"config"),this.config=this.loadConfig(),this.detectReducedMotion(),this.detectPerformance()}loadConfig(){try{const e=localStorage.getItem(he);return e?l(l({},me),JSON.parse(e)):me}catch(e){return me}}detectReducedMotion(){if("undefined"!=typeof window){const e=window.matchMedia("(prefers-reduced-motion: reduce)");this.config.reducedMotion=e.matches,e.addEventListener("change",e=>{this.config.reducedMotion=e.matches,this.saveConfig()})}}detectPerformance(){if("undefined"!=typeof navigator){const e=navigator.hardwareConcurrency||4,t=navigator.deviceMemory||4;this.config.performance=e>=8&&t>=8?"high":e>=4&&t>=4?"medium":"low"}}saveConfig(){try{localStorage.setItem(he,JSON.stringify(this.config))}catch(e){}}isEnabled(){return this.config.enabled&&!this.config.reducedMotion}allowComplexAnimations(){return this.isEnabled()&&"low"!==this.config.performance}updateConfig(e){this.config=l(l({},this.config),e),this.saveConfig()}getConfig(){return l({},this.config)}},xe=(e,t={})=>ue.isEnabled()?e:t,pe=u.forwardRef((e,t)=>{var s=e,{as:a="div",children:r,className:n,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h}=s,u=c(s,["as","children","className","style","onClick","onMouseEnter","onMouseLeave"]);return x.jsx(a,o(l({ref:t,className:n,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h},u),{children:r}))});pe.displayName="StaticElement";const fe=u.forwardRef((e,t)=>{var s=e,{as:a="div",children:r,className:n,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h,initial:p,animate:g,exit:b,transition:y,variants:j,whileHover:N,whileTap:v,fallbackClassName:_,enableCSSFallback:w=!0}=s,E=c(s,["as","children","className","style","onClick","onMouseEnter","onMouseLeave","initial","animate","exit","transition","variants","whileHover","whileTap","fallbackClassName","enableCSSFallback"]);if(!u.useMemo(()=>ue.isEnabled()&&ue.allowComplexAnimations(),[])){const e=w&&_?`${n||""} ${_}`:n;return x.jsx(pe,o(l({ref:t,as:a,className:e,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h},E),{children:r}))}try{const e=X[a];return e?f.createElement(e,l({ref:t,className:n,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h,initial:xe(p),animate:xe(g),exit:xe(b),transition:xe(y),variants:xe(j),whileHover:xe(N),whileTap:xe(v)},E),r):x.jsx(X.div,o(l({ref:t,className:n,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h,initial:xe(p),animate:xe(g),exit:xe(b),transition:xe(y),variants:xe(j),whileHover:xe(N),whileTap:xe(v)},E),{children:r}))}catch(C){return x.jsx(pe,o(l({ref:t,as:a,className:n,style:i,onClick:d,onMouseEnter:m,onMouseLeave:h},E),{children:r}))}});fe.displayName="ConditionalMotion";const ge=({children:e,mode:t,initial:s})=>u.useMemo(()=>ue.isEnabled(),[])?f.createElement(Z,{mode:t,initial:xe(s,!1)},e):x.jsx(x.Fragment,{children:e}),be={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},fallbackClassName:"dropdown-enter"},ye={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},fallbackClassName:"fade-in"},je={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},fallbackClassName:"scale-in"},Ne={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},fallbackClassName:"slide-up"},ve=e=>x.jsx(fe,l(l({},be),e)),_e=e=>x.jsx(fe,l(l({},ye),e)),we=e=>x.jsx(fe,l(l({},je),e)),Ee=e=>x.jsx(fe,l(l({},Ne),e));var Ce=(e=>(e.FACILITY_MATCH_FOUND="facility_match_found",e.FACILITY_MATCH_CONFIRMED="facility_match_confirmed",e.FACILITY_MATCH_CANCELLED="facility_match_cancelled",e.REVIEW_APPROVED="review_approved",e.REVIEW_REJECTED="review_rejected",e.REVIEW_REPORTED="review_reported",e.JOB_APPLICATION_RECEIVED="job_application_received",e.JOB_APPLICATION_APPROVED="job_application_approved",e.JOB_APPLICATION_REJECTED="job_application_rejected",e.JOB_INTERVIEW_SCHEDULED="job_interview_scheduled",e.SYSTEM_MAINTENANCE="system_maintenance",e.SYSTEM_UPDATE="system_update",e.ACCOUNT_SECURITY="account_security",e.GENERAL_INFO="general_info",e.PROMOTION="promotion",e))(Ce||{}),ke=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(ke||{});const Ie={facility_match_found:{icon:"🏥",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},facility_match_confirmed:{icon:"✅",color:"green",bgColor:"bg-green-50",textColor:"text-green-600"},facility_match_cancelled:{icon:"❌",color:"red",bgColor:"bg-red-50",textColor:"text-red-600"},review_approved:{icon:"⭐",color:"yellow",bgColor:"bg-yellow-50",textColor:"text-yellow-600"},review_rejected:{icon:"⚠️",color:"orange",bgColor:"bg-orange-50",textColor:"text-orange-600"},review_reported:{icon:"🚨",color:"red",bgColor:"bg-red-50",textColor:"text-red-600"},job_application_received:{icon:"📝",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},job_application_approved:{icon:"🎉",color:"green",bgColor:"bg-green-50",textColor:"text-green-600"},job_application_rejected:{icon:"📋",color:"gray",bgColor:"bg-gray-50",textColor:"text-gray-600"},job_interview_scheduled:{icon:"📅",color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600"},system_maintenance:{icon:"🔧",color:"gray",bgColor:"bg-gray-50",textColor:"text-gray-600"},system_update:{icon:"🔄",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},account_security:{icon:"🔒",color:"red",bgColor:"bg-red-50",textColor:"text-red-600"},general_info:{icon:"ℹ️",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},promotion:{icon:"🎁",color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600"}},Te={enabled:!0,email:!0,push:!0,sms:!1,types:{[Ce.FACILITY_MATCH_FOUND]:!0,[Ce.FACILITY_MATCH_CONFIRMED]:!0,[Ce.FACILITY_MATCH_CANCELLED]:!0,[Ce.REVIEW_APPROVED]:!0,[Ce.REVIEW_REJECTED]:!0,[Ce.REVIEW_REPORTED]:!1,[Ce.JOB_APPLICATION_RECEIVED]:!0,[Ce.JOB_APPLICATION_APPROVED]:!0,[Ce.JOB_APPLICATION_REJECTED]:!0,[Ce.JOB_INTERVIEW_SCHEDULED]:!0,[Ce.SYSTEM_MAINTENANCE]:!0,[Ce.SYSTEM_UPDATE]:!1,[Ce.ACCOUNT_SECURITY]:!0,[Ce.GENERAL_INFO]:!1,[Ce.PROMOTION]:!1},quietHours:{enabled:!1,start:"22:00",end:"08:00"}},Ae={total:0,unread:0,byType:Object.fromEntries(Object.values(Ce).map(e=>[e,0])),byPriority:{[ke.LOW]:0,[ke.MEDIUM]:0,[ke.HIGH]:0,[ke.URGENT]:0}},Pe=g()(ee((e,t)=>({notifications:[],summary:Ae,settings:Te,isLoading:!1,error:null,isDropdownOpen:!1,hasMore:!1,filter:{},isPolling:!1,fetchNotifications:(...s)=>m(null,[...s],function*(s={},a=!1){const r={operation:"fetchNotifications",context:{filter:s,loadMore:a}};try{a||e({isLoading:!0,error:null});let r,i=[],l=!1;try{throw new Error("API not implemented yet")}catch(n){i=[{id:"1",type:Ce.FACILITY_MATCH_FOUND,title:"새로운 시설 매칭",message:"조건에 맞는 요양시설이 발견되었습니다.",read:!1,createdAt:(new Date).toISOString(),priority:ke.HIGH,actionUrl:"/facilities/1"},{id:"2",type:Ce.JOB_APPLICATION_APPROVED,title:"구인 지원 승인",message:"지원하신 구인이 승인되었습니다.",read:!0,createdAt:new Date(Date.now()-864e5).toISOString(),readAt:(new Date).toISOString(),priority:ke.MEDIUM,actionUrl:"/jobs/applications"},{id:"3",type:Ce.REVIEW_APPROVED,title:"리뷰 승인됨",message:"작성하신 리뷰가 승인되어 게시되었습니다.",read:!1,createdAt:new Date(Date.now()-36e5).toISOString(),priority:ke.MEDIUM,actionUrl:"/reviews"}].filter(e=>{if(void 0!==s.read&&e.read!==s.read)return!1;if(s.types&&!s.types.includes(e.type))return!1;if(s.priority&&e.priority!==s.priority)return!1;if(s.dateFrom){if(new Date(e.createdAt)<new Date(s.dateFrom))return!1}if(s.dateTo){if(new Date(e.createdAt)>new Date(s.dateTo))return!1}return!0}),l=!1}const o=t(),c=a?[...o.notifications,...i]:i;e({notifications:c,hasMore:l,nextCursor:r,isLoading:!1,lastFetchTime:new Date}),t().updateSummary()}catch(i){const t=J(i,r);Y.logError(t,r),e({error:t,isLoading:!1})}}),markAsRead:s=>m(null,null,function*(){const a={operation:"markAsRead",context:{notificationId:s}};try{const a=t().notifications.map(e=>e.id===s?o(l({},e),{read:!0,readAt:(new Date).toISOString()}):e);e({notifications:a}),t().updateSummary()}catch(r){const t=J(r,a);Y.logError(t,a),e({error:t})}}),markAllAsRead:()=>m(null,null,function*(){const s={operation:"markAllAsRead",context:{}};try{const s=t(),a=(new Date).toISOString(),r=s.notifications.map(e=>o(l({},e),{read:!0,readAt:e.readAt||a}));e({notifications:r}),t().updateSummary()}catch(a){const t=J(a,s);Y.logError(t,s),e({error:t})}}),deleteNotification:s=>m(null,null,function*(){const a={operation:"deleteNotification",context:{notificationId:s}};try{const a=t().notifications.filter(e=>e.id!==s);e({notifications:a}),t().updateSummary()}catch(r){const t=J(r,a);Y.logError(t,a),e({error:t})}}),clearAllNotifications:()=>m(null,null,function*(){const t={operation:"clearAllNotifications",context:{}};try{e({notifications:[],summary:Ae})}catch(s){const a=J(s,t);Y.logError(a,t),e({error:a})}}),updateSettings:s=>m(null,null,function*(){const a={operation:"updateSettings",context:{settings:s}};try{const a=t(),r=l(l({},a.settings),s);e({settings:r})}catch(r){const t=J(r,a);Y.logError(t,a),e({error:t})}}),toggleDropdown:()=>{e(e=>({isDropdownOpen:!e.isDropdownOpen}))},closeDropdown:()=>{e({isDropdownOpen:!1})},setFilter:s=>{const a=t();e({filter:l(l({},a.filter),s)})},clearFilter:()=>{e({filter:{}})},startPolling:()=>{if(t().isPolling)return;e({isPolling:!0});const s=setInterval(()=>{const e=t();e.isPolling?e.fetchNotifications(e.filter,!1):clearInterval(s)},3e4);window.notificationPollingInterval=s},stopPolling:()=>{e({isPolling:!1}),window.notificationPollingInterval&&(clearInterval(window.notificationPollingInterval),delete window.notificationPollingInterval)},addNotification:s=>{const a=t();e({notifications:[s,...a.notifications]}),t().updateSummary()},clearError:()=>{e({error:null})},setLoading:t=>{e({isLoading:t})},updateSummary:()=>{const s=t().notifications,a={total:s.length,unread:s.filter(e=>!e.read).length,byType:Object.fromEntries(Object.values(Ce).map(e=>[e,s.filter(t=>t.type===e).length])),byPriority:{[ke.LOW]:s.filter(e=>e.priority===ke.LOW).length,[ke.MEDIUM]:s.filter(e=>e.priority===ke.MEDIUM).length,[ke.HIGH]:s.filter(e=>e.priority===ke.HIGH).length,[ke.URGENT]:s.filter(e=>e.priority===ke.URGENT).length}};e({summary:a})}}),{name:"notification-store",partialize:e=>({settings:e.settings,filter:e.filter})})),Oe=()=>{const{skipToContent:e}=te();return x.jsx("button",{onClick:e,className:"\r\n        sr-only focus:not-sr-only\r\n        fixed top-4 left-4 z-[9999]\r\n        bg-elderberry-600 text-white px-4 py-2 rounded-md\r\n        focus:ring-2 focus:ring-elderberry-300 focus:ring-offset-2\r\n        transition-all duration-200\r\n        text-sm font-medium\r\n      ","aria-label":"메인 콘텐츠로 건너뛰기",children:"메인 콘텐츠로 건너뛰기"})};const Re=({variant:e="button",className:t=""})=>{const{theme:s,resolvedTheme:a,setTheme:r}=function(){const[e,t]=u.useState("system"),[s,a]=u.useState("light");u.useEffect(()=>{const t=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if("system"===e){const e=t.matches?"dark":"light";a(e),r(e)}};return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[e]),u.useEffect(()=>{const e=localStorage.getItem("theme")||"system";t(e);const s="system"===(n=e)?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":n;var n;a(s),r(s)},[]);const r=e=>{const t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark");const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content","dark"===e?"#1f2937":"#ffffff")},n=e=>{t(e),localStorage.setItem("theme",e);const s="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;a(s),r(s)};return{theme:e,resolvedTheme:s,setTheme:n,toggleTheme:()=>{n("system"===e?"dark"===s?"light":"dark":"light"===e?"dark":"light")}}}(),n=[{value:"light",label:"라이트 모드",icon:y},{value:"dark",label:"다크 모드",icon:b},{value:"system",label:"시스템 설정",icon:j}];if("button"===e){const e="dark"===a?b:y;return x.jsx(q,{variant:"ghost",size:"icon",onClick:()=>r("dark"===a?"light":"dark"),className:t,"aria-label":("dark"===a?"라이트":"다크")+" 모드로 전환",children:x.jsx(e,{className:"w-5 h-5"})})}return x.jsxs("div",{className:`relative ${t}`,children:[x.jsx("select",{value:s,onChange:e=>r(e.target.value),className:"\r\n          appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600\r\n          rounded-lg px-3 py-2 pr-8 text-sm\r\n          focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500\r\n          dark:text-gray-100\r\n        ","aria-label":"테마 선택",children:n.map(({value:e,label:t})=>x.jsx("option",{value:e,children:t},e))}),x.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:x.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})},Le=({notification:e,onClick:t,showActions:s=!0,compact:a=!1})=>{const{markAsRead:r,deleteNotification:n}=Pe(),i=Ie[e.type],l=()=>{e.read||r(e.id),t?t(e):e.actionUrl&&(window.location.href=e.actionUrl)},o=re(new Date(e.createdAt),{addSuffix:!0,locale:ne}),c={[ke.LOW]:"border-l-gray-300",[ke.MEDIUM]:"border-l-blue-400",[ke.HIGH]:"border-l-orange-400",[ke.URGENT]:"border-l-red-500"};return x.jsx(fe,{animation:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2}},children:x.jsxs("div",{className:`\n          relative p-4 border-l-4 cursor-pointer transition-all duration-200\n          ${c[e.priority]}\n          ${e.read?"bg-gray-50 opacity-75":`${i.bgColor} hover:shadow-md`}\n          ${a?"p-3":"p-4"}\n          hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-blue-500\n        `,onClick:l,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l())},tabIndex:0,role:"button","aria-label":`알림: ${e.title}. ${e.read?"읽음":"읽지 않음"}`,children:[!e.read&&x.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-500 rounded-full","aria-label":"읽지 않은 알림"}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:`text-lg ${i.textColor} flex-shrink-0`,children:i.icon}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between mb-1",children:[x.jsx("h3",{className:`\n                font-medium text-sm ${e.read?"text-gray-600":"text-gray-900"}\n                ${a?"text-xs":"text-sm"}\n                truncate\n              `,children:e.title}),!a&&x.jsx("span",{className:`\n                  text-xs ${e.read?"text-gray-400":"text-gray-500"}\n                  flex-shrink-0 ml-2\n                `,children:o})]}),x.jsx("p",{className:`\n              text-sm ${e.read?"text-gray-500":"text-gray-700"}\n              ${a?"text-xs line-clamp-1":"line-clamp-2"}\n            `,children:e.message}),e.priority===ke.URGENT&&x.jsx("div",{className:"mt-2",children:x.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"🚨 긴급"})}),s&&!a&&x.jsxs("div",{className:"mt-3 flex gap-2",children:[!e.read&&x.jsx("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline","aria-label":"읽음으로 표시",children:"읽음 표시"}),x.jsx("button",{onClick:t=>{t.stopPropagation(),n(e.id)},className:"text-xs text-red-600 hover:text-red-800 focus:outline-none focus:underline","aria-label":"알림 삭제",children:"삭제"})]})]})]})]})})},De=({isOpen:e,onClose:t,className:s=""})=>{const{notifications:a,summary:r,isLoading:n,error:i,fetchNotifications:l,markAllAsRead:o,clearAllNotifications:c}=Pe(),d=u.useRef(null);if(u.useEffect(()=>{const s=e=>{d.current&&!d.current.contains(e.target)&&t()};if(e)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[e,t]),u.useEffect(()=>{e&&l()},[e,l]),u.useEffect(()=>{const s=e=>{"Escape"===e.key&&t()};if(e)return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t]),!e)return null;const m=e=>{t()};return x.jsx(fe,{animation:{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15}},children:x.jsxs("div",{ref:d,className:`\n          absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50\n          max-h-96 overflow-hidden\n          ${s}\n        `,role:"dialog","aria-label":"알림 목록","aria-modal":"false",children:[x.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("h2",{className:"text-sm font-semibold text-gray-900",children:["알림",r.unread>0&&x.jsxs("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[r.unread,"개 읽지 않음"]})]}),x.jsxs("div",{className:"flex gap-2",children:[r.unread>0&&x.jsx("button",{onClick:()=>{o()},className:"text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline","aria-label":"모든 알림을 읽음으로 표시",children:"모두 읽음"}),a.length>0&&x.jsx("button",{onClick:()=>{window.confirm("모든 알림을 삭제하시겠습니까?")&&c()},className:"text-xs text-red-600 hover:text-red-800 focus:outline-none focus:underline","aria-label":"모든 알림 삭제",children:"모두 삭제"})]})]})}),x.jsx("div",{className:"max-h-80 overflow-y-auto",children:n?x.jsxs("div",{className:"flex items-center justify-center py-8",children:[x.jsx(se,{size:"small"}),x.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"알림을 불러오는 중..."})]}):i?x.jsxs("div",{className:"p-4 text-center",children:[x.jsx("p",{className:"text-sm text-red-600 mb-2",children:"알림을 불러오는데 실패했습니다."}),x.jsx(q,{variant:"outline",size:"small",onClick:()=>l(),children:"다시 시도"})]}):0===a.length?x.jsxs("div",{className:"p-8 text-center",children:[x.jsx("div",{className:"text-4xl mb-3",children:"🔔"}),x.jsx("p",{className:"text-sm text-gray-600",children:"새로운 알림이 없습니다."})]}):x.jsxs("div",{className:"divide-y divide-gray-100",children:[a.slice(0,10).map(e=>x.jsx(Le,{notification:e,onClick:m,showActions:!1,compact:!0},e.id)),a.length>10&&x.jsx("div",{className:"p-3 text-center border-t border-gray-200",children:x.jsxs(q,{variant:"ghost",size:"small",onClick:()=>{t(),window.location.href="/notifications"},children:["모든 알림 보기 (",a.length,")"]})})]})})]})})},Me={CAREGIVER:["dashboard","jobs","profiles","health-assessment","facility-search"],EMPLOYER:["dashboard","profiles","boards","jobs"],COORDINATOR:["dashboard","profiles","boards","facility-search"],ADMIN:["dashboard","profiles","boards"]};const Se=new class{constructor(){d(this,"preloadedRoutes",new Set),d(this,"preloadQueue",[]),d(this,"isPreloading",!1)}preloadRoute(e){return m(this,null,function*(){if(!this.preloadedRoutes.has(e))try{const t=performance.now();switch(e){case"dashboard":yield de(()=>import("./DashboardPage-P3RwUQgV.js"),__vite__mapDeps([0,1,2,3,4,5,6]));break;case"boards":yield Promise.all([de(()=>import("./board-pages-DCG67KUW.js").then(e=>e.B),__vite__mapDeps([7,1,2,3,4,5,6])),de(()=>import("./board-pages-DCG67KUW.js").then(e=>e.P),__vite__mapDeps([7,1,2,3,4,5,6]))]);break;case"profiles":yield Promise.all([de(()=>import("./profile-pages-ss-90sDp.js").then(e=>e.P),__vite__mapDeps([8,1,2,3,4,5,6])),de(()=>import("./profile-pages-ss-90sDp.js").then(e=>e.a),__vite__mapDeps([8,1,2,3,4,5,6]))]);break;case"jobs":yield Promise.all([de(()=>import("./job-pages-CfRBN6nf.js").then(e=>e.J),__vite__mapDeps([9,1,2,3,4,5,6])),de(()=>import("./job-pages-CfRBN6nf.js").then(e=>e.a),__vite__mapDeps([9,1,2,3,4,5,6]))]);break;case"health-assessment":yield de(()=>import("./health-pages-CCLMZPqt.js"),__vite__mapDeps([10,1,2,3,4,5,6]));break;case"facility-search":yield de(()=>import("./facility-pages-BKJ3fosa.js").then(e=>e.F),__vite__mapDeps([11,1,2,3,4,5,6]));break;case"chat":yield Promise.all([de(()=>import("./chat-pages-CMeaAGoL.js").then(e=>e.C),__vite__mapDeps([12,1,2,3,4,5,6])),de(()=>import("./chat-pages-CMeaAGoL.js").then(e=>e.a),__vite__mapDeps([12,1,2,3,4,5,6]))]);break;default:return}performance.now();this.preloadedRoutes.add(e)}catch(t){}})}preloadByRole(e){return m(this,null,function*(){const t=Me[e]||[];if(this.preloadQueue=t.filter(e=>!this.preloadedRoutes.has(e)),!this.isPreloading&&0!==this.preloadQueue.length){this.isPreloading=!0;try{for(const e of this.preloadQueue)yield this.preloadRoute(e),yield new Promise(e=>setTimeout(e,100))}finally{this.isPreloading=!1,this.preloadQueue=[]}}})}preloadOnHover(e){this.preloadedRoutes.has(e)||setTimeout(()=>{this.preloadRoute(e)},200)}shouldPreload(){if("connection"in navigator){const e=navigator.connection;if("2g"===e.effectiveType||"slow-2g"===e.effectiveType)return!1;if(e.saveData)return!1}return!0}isRoutePreloaded(e){return this.preloadedRoutes.has(e)}getPreloadStats(){return{preloadedCount:this.preloadedRoutes.size,preloadedRoutes:Array.from(this.preloadedRoutes),isPreloading:this.isPreloading,queueLength:this.preloadQueue.length}}};const Ve={[Q.CAREGIVER]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:_,label:"구인정보",path:"/jobs",badge:null},{icon:k,label:"게시판",path:"/boards",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null},{icon:T,label:"건강평가",path:"/health-assessment",badge:null},{icon:w,label:"시설검색",path:"/facility-search",badge:null}],[Q.EMPLOYER]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:_,label:"구인관리",path:"/jobs/manage",badge:null},{icon:v,label:"간병인 찾기",path:"/caregivers",badge:null},{icon:k,label:"게시판",path:"/boards",badge:null},{icon:I,label:"프로필 관리",path:"/profiles",badge:null},{icon:w,label:"시설정보",path:"/facilities",badge:null}],[Q.COORDINATOR]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null},{icon:_,label:"매칭관리",path:"/matching",badge:null},{icon:E,label:"통계",path:"/statistics",badge:null},{icon:k,label:"게시판",path:"/boards",badge:null},{icon:w,label:"시설관리",path:"/facilities/manage",badge:null}],[Q.ADMIN]:[{icon:N,label:"대시보드",path:"/dashboard",badge:null},{icon:v,label:"프로필 관리",path:"/profiles",badge:null},{icon:_,label:"구인관리",path:"/admin/jobs",badge:null},{icon:w,label:"시설관리",path:"/admin/facilities",badge:null},{icon:E,label:"시스템 통계",path:"/admin/statistics",badge:null},{icon:C,label:"시스템 설정",path:"/admin/settings",badge:null}]};function Ue({children:e}){var t,s;const a=h(),r=A(),{user:n,logout:i}=G(),{summary:l,isDropdownOpen:o,toggleDropdown:c,closeDropdown:d,fetchNotifications:p,startPolling:g}=Pe(),[b,y]=u.useState(!1),[j,N]=u.useState(!1),v=ae({isActive:j,initialFocus:"a, button",returnFocus:!0}),_=e=>{Se.shouldPreload()&&Se.preloadOnHover(e)};var w;w=null==n?void 0:n.role,f.useEffect(()=>{if(!w||!Se.shouldPreload())return;const e=setTimeout(()=>{Se.preloadByRole(w)},2e3);return()=>clearTimeout(e)},[w]);const E=n&&Ve[n.role]||[],T=()=>{y(!b)};return u.useEffect(()=>{n&&(p(),g())},[n,p,g]),u.useEffect(()=>{const e=e=>{b&&!e.target.closest(".sidebar")&&y(!1),j&&!e.target.closest(".profile-menu")&&N(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[b,j]),n?x.jsxs("div",{className:"min-h-screen bg-gray-50 flex",role:"application","aria-label":"엘더베리 메인 애플리케이션",children:[x.jsx(Oe,{}),x.jsxs("aside",{className:`\n          sidebar fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n          lg:relative lg:translate-x-0\n          ${b?"translate-x-0":"-translate-x-full"}\n        `,role:"navigation","aria-label":"주 네비게이션","aria-hidden":b?"false":"true",children:[x.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[x.jsxs(P,{to:"/dashboard",className:"flex items-center space-x-3 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2 rounded-lg","aria-label":"엘더베리 홈으로 이동",children:[x.jsx("div",{className:"w-8 h-8 bg-elderberry-600 rounded-lg flex items-center justify-center","aria-hidden":"true",children:x.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),x.jsx("span",{className:"text-xl font-bold text-elderberry-900",children:"Elderberry"})]}),x.jsx("button",{onClick:T,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":"사이드바 닫기",children:x.jsx(O,{className:"w-5 h-5","aria-hidden":"true"})})]}),x.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",role:"menubar","aria-label":"주 메뉴",children:E.map(e=>{const t=e.icon,s=a.pathname===e.path||a.pathname.startsWith(e.path+"/");return x.jsxs(P,{to:e.path,onClick:()=>y(!1),onMouseEnter:()=>{const t=e.path.substring(1);_(t)},className:`\n                  flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2\n                  ${s?"bg-elderberry-50 text-elderberry-700 border-r-2 border-elderberry-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}\n                `,role:"menuitem","aria-current":s?"page":void 0,children:[x.jsx(t,{className:"w-5 h-5 "+(s?"text-elderberry-600":""),"aria-hidden":"true"}),x.jsx("span",{className:"font-medium",children:e.label}),e.badge&&x.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:e.badge})]},e.path)})}),x.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",role:"menubar","aria-label":"보조 메뉴",children:[x.jsxs(P,{to:"/chat-home",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2",role:"menuitem",children:[x.jsx(k,{className:"w-5 h-5","aria-hidden":"true"}),x.jsx("span",{className:"font-medium",children:"AI 챗봇"})]}),x.jsxs(P,{to:"/help",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2",role:"menuitem",children:[x.jsx(R,{className:"w-5 h-5","aria-hidden":"true"}),x.jsx("span",{className:"font-medium",children:"도움말"})]})]})]}),x.jsxs("div",{className:"flex-1 flex flex-col",children:[x.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 h-16 flex items-center justify-between px-6",role:"banner",children:[x.jsx("button",{onClick:T,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":"메뉴 열기","aria-expanded":b,"aria-controls":"main-navigation",children:x.jsx(L,{className:"w-5 h-5","aria-hidden":"true"})}),x.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-lg mx-4",role:"search",children:x.jsxs("div",{className:"relative w-full",children:[x.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4","aria-hidden":"true"}),x.jsx("input",{type:"text",placeholder:"검색어를 입력하세요...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors","aria-label":"사이트 내 검색"})]})}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx(Re,{}),x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:c,className:"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":l.unread>0?`알림 ${l.unread}개`:"알림","aria-describedby":l.unread>0?"notification-count":void 0,"aria-expanded":o,"aria-haspopup":"menu",children:[x.jsx(M,{className:"w-5 h-5","aria-hidden":"true"}),l.unread>0&&x.jsx("span",{id:"notification-count",className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center","aria-label":`${l.unread}개의 읽지 않은 알림`,children:l.unread>99?"99+":l.unread})]}),x.jsx(De,{isOpen:o,onClose:d})]}),x.jsxs("div",{className:"relative profile-menu",ref:v,children:[x.jsxs("button",{onClick:()=>{N(!j)},className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2","aria-label":`프로필 메뉴, ${n.name}`,"aria-expanded":j,"aria-haspopup":"menu",children:[x.jsx("div",{className:"w-8 h-8 bg-elderberry-600 rounded-full flex items-center justify-center","aria-hidden":"true",children:x.jsx("span",{className:"text-white text-sm font-semibold",children:(null==(s=null==(t=n.name)?void 0:t.charAt(0))?void 0:s.toUpperCase())||"U"})}),x.jsxs("div",{className:"hidden md:block text-left",children:[x.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),x.jsx("div",{className:"text-xs text-gray-500",children:n.role})]}),x.jsx(S,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"})]}),x.jsx(ge,{children:j&&x.jsxs(ve,{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",role:"menu","aria-labelledby":"profile-menu-button",children:[x.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[x.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),x.jsx("div",{className:"text-sm text-gray-500",children:n.email}),x.jsxs("div",{className:"text-xs text-elderberry-600 mt-1",children:["프로필 완성도: ",n.profileCompletionRate,"%"]})]}),x.jsxs(P,{to:"/mypage",onClick:()=>N(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[x.jsx(V,{className:"w-4 h-4","aria-hidden":"true"}),x.jsx("span",{children:"마이페이지"})]}),x.jsxs(P,{to:"/profile",onClick:()=>N(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[x.jsx(I,{className:"w-4 h-4","aria-hidden":"true"}),x.jsx("span",{children:"프로필 관리"})]}),x.jsxs(P,{to:"/settings",onClick:()=>N(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:bg-gray-50",role:"menuitem",children:[x.jsx(C,{className:"w-4 h-4","aria-hidden":"true"}),x.jsx("span",{children:"설정"})]}),x.jsxs("div",{className:"px-4 py-2",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"테마"}),x.jsx(Re,{variant:"dropdown",className:"w-full"})]}),x.jsx("hr",{className:"my-2"}),x.jsxs("button",{onClick:()=>{N(!1),m(null,null,function*(){try{yield i(),r("/login",{replace:!0})}catch(e){}})},className:"flex items-center space-x-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 focus:outline-none focus:bg-red-50 w-full text-left",role:"menuitem",children:[x.jsx(U,{className:"w-4 h-4","aria-hidden":"true"}),x.jsx("span",{children:"로그아웃"})]})]})})]})]})]}),x.jsx("main",{className:"flex-1 p-6",role:"main","aria-label":"주요 콘텐츠",tabIndex:-1,children:e})]}),b&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>y(!1)})]}):x.jsx(x.Fragment,{children:e})}const He=({className:e=""})=>x.jsx("div",{className:`skeleton-shimmer rounded ${e}`}),Fe=()=>x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-4",children:[x.jsx(He,{className:"h-4 w-3/4"}),x.jsx(He,{className:"h-3 w-full"}),x.jsx(He,{className:"h-3 w-5/6"}),x.jsxs("div",{className:"flex space-x-2 pt-2",children:[x.jsx(He,{className:"h-6 w-16"}),x.jsx(He,{className:"h-6 w-20"})]})]}),$e=()=>x.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-white border-b border-gray-100",children:[x.jsx(He,{className:"w-12 h-12 rounded-full"}),x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsx(He,{className:"h-4 w-1/3"}),x.jsx(He,{className:"h-3 w-3/4"})]}),x.jsx(He,{className:"h-8 w-20 rounded"})]});function ze({type:e="default"}){return x.jsx(_e,{className:"p-6",children:(()=>{switch(e){case"dashboard":return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(He,{className:"h-8 w-1/3"}),x.jsx(He,{className:"h-4 w-2/3"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,t)=>x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsx(He,{className:"h-4 w-2/3 mb-2"}),x.jsx(He,{className:"h-8 w-1/2 mb-1"}),x.jsx(He,{className:"h-3 w-3/4"})]},t))}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>x.jsx(Fe,{},t))})]});case"list":return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx(He,{className:"h-8 w-1/4"}),x.jsx(He,{className:"h-10 w-32 rounded"})]}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx(He,{className:"h-10 flex-1 rounded"}),x.jsx(He,{className:"h-10 w-24 rounded"})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 divide-y divide-gray-100",children:[...Array(8)].map((e,t)=>x.jsx($e,{},t))})]});case"detail":return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx(He,{className:"h-10 w-3/4"}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx(He,{className:"h-6 w-20"}),x.jsx(He,{className:"h-6 w-24"}),x.jsx(He,{className:"h-6 w-16"})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsx(He,{className:"h-4 w-full"}),x.jsx(He,{className:"h-4 w-5/6"}),x.jsx(He,{className:"h-4 w-4/5"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>x.jsxs("div",{className:"flex justify-between",children:[x.jsx(He,{className:"h-4 w-1/3"}),x.jsx(He,{className:"h-4 w-1/2"})]},t))}),x.jsx(He,{className:"h-48 rounded"})]})]})]});case"form":return x.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[x.jsx(He,{className:"h-8 w-1/3"}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[[...Array(6)].map((e,t)=>x.jsxs("div",{className:"space-y-2",children:[x.jsx(He,{className:"h-4 w-1/4"}),x.jsx(He,{className:"h-10 w-full rounded"})]},t)),x.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[x.jsx(He,{className:"h-10 w-20 rounded"}),x.jsx(He,{className:"h-10 w-24 rounded"})]})]})]});default:return x.jsxs("div",{className:"space-y-6",children:[x.jsx(He,{className:"h-8 w-1/3"}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[...Array(3)].map((e,t)=>x.jsx(Fe,{},t))})]})}})()})}function We({type:e="skeleton",skeletonType:t="default",message:s="페이지를 로딩 중입니다..."}){return"spinner"===e?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsx(se,{size:"large",color:"primary",text:s})}):x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 h-16 flex items-center justify-between px-6",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),x.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}),x.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})]})]}),x.jsx(ze,{type:t})]})}class Be extends u.Component{constructor(){super(...arguments),d(this,"retryTimer"),d(this,"state",{hasError:!1,retryCount:0}),d(this,"handleRetry",()=>{if(this.state.retryCount>=3)return void ie.warn("LazyLoadErrorBoundary 최대 재시도 횟수 초과");this.setState(e=>({retryCount:e.retryCount+1}));const e=1e3*Math.pow(2,this.state.retryCount);this.retryTimer=setTimeout(()=>{this.setState({hasError:!1,error:void 0})},e)}),d(this,"handleGoHome",()=>{window.location.href="/dashboard"})}static getDerivedStateFromError(e){return{hasError:!0,error:e,retryCount:0}}componentDidCatch(e,t){var s,a;ie.component("LazyLoadErrorBoundary 페이지 로딩 실패",e,t),le.log("Component Stack:",t.componentStack),null==(a=(s=this.props).onError)||a.call(s,e,t)}componentWillUnmount(){this.retryTimer&&clearTimeout(this.retryTimer)}renderError(){const{error:e,retryCount:t}=this.state,s=t<3;return x.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:x.jsxs(we,{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[x.jsx(we,{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-6",children:x.jsx(H,{className:"w-8 h-8 text-red-600"})}),x.jsxs(Ee,{className:"space-y-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"페이지 로딩 실패"}),x.jsxs("p",{className:"text-gray-600",children:["페이지를 불러오는 중 문제가 발생했습니다.",t>0&&x.jsxs("span",{className:"block text-sm text-orange-600 mt-2",children:["재시도 ",t,"/",3]})]}),!1]}),x.jsxs(Ee,{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[s&&x.jsxs(q,{onClick:this.handleRetry,className:"flex items-center justify-center space-x-2 bg-elderberry-600 hover:bg-elderberry-700",disabled:void 0!==this.retryTimer,children:[x.jsx(F,{className:"w-4 h-4"}),x.jsx("span",{children:"다시 시도"})]}),x.jsxs(q,{onClick:this.handleGoHome,variant:"outline",className:"flex items-center justify-center space-x-2",children:[x.jsx(N,{className:"w-4 h-4"}),x.jsx("span",{children:"홈으로 이동"})]})]}),x.jsx(_e,{className:"mt-6 pt-6 border-t border-gray-200",children:x.jsxs("p",{className:"text-xs text-gray-500",children:["문제가 계속 발생하면"," ",x.jsx("a",{href:"/help",className:"text-elderberry-600 hover:text-elderberry-700 underline",children:"고객지원"}),"에 문의하세요."]})})]})})}render(){return this.state.hasError?this.props.fallback||this.renderError():this.props.children}}function Ge(e,t=200){return u.lazy(()=>{const s=Date.now();return e().then(e=>{const a=Date.now()-s,r=Math.max(0,t-a);return r>0?new Promise(t=>{setTimeout(()=>t(e),r)}):e})})}const Je=Ge(()=>de(()=>import("./auth-pages-CqF2YS6A.js").then(e=>e.L),__vite__mapDeps([5,1,2,3,4,6])),100),Ye=Ge(()=>de(()=>import("./auth-pages-CqF2YS6A.js").then(e=>e.R),__vite__mapDeps([5,1,2,3,4,6])),100),qe=Ge(()=>de(()=>import("./DashboardPage-P3RwUQgV.js"),__vite__mapDeps([0,1,2,3,4,5,6])),150),Qe=Ge(()=>de(()=>import("./MyPage-CBNd4Spm.js"),__vite__mapDeps([13,1,2,3,4,5,6,8,11,9,12])),150),Ke=Ge(()=>de(()=>import("./board-pages-DCG67KUW.js").then(e=>e.B),__vite__mapDeps([7,1,2,3,4,5,6]))),Xe=Ge(()=>de(()=>import("./board-pages-DCG67KUW.js").then(e=>e.P),__vite__mapDeps([7,1,2,3,4,5,6]))),Ze=Ge(()=>de(()=>import("./board-pages-DCG67KUW.js").then(e=>e.a),__vite__mapDeps([7,1,2,3,4,5,6]))),et=Ge(()=>de(()=>import("./profile-pages-ss-90sDp.js").then(e=>e.P),__vite__mapDeps([8,1,2,3,4,5,6]))),tt=Ge(()=>de(()=>import("./profile-pages-ss-90sDp.js").then(e=>e.a),__vite__mapDeps([8,1,2,3,4,5,6])));Ge(()=>de(()=>import("./job-pages-CfRBN6nf.js").then(e=>e.J),__vite__mapDeps([9,1,2,3,4,5,6]))),Ge(()=>de(()=>import("./job-pages-CfRBN6nf.js").then(e=>e.a),__vite__mapDeps([9,1,2,3,4,5,6])));const st=Ge(()=>de(()=>import("./health-pages-CCLMZPqt.js"),__vite__mapDeps([10,1,2,3,4,5,6])),300),at=Ge(()=>de(()=>import("./facility-pages-BKJ3fosa.js").then(e=>e.F),__vite__mapDeps([11,1,2,3,4,5,6])),250);Ge(()=>de(()=>import("./CoordinatorMatchingWizard-CsZmdKJj.js"),__vite__mapDeps([14,1,2,3,4,5,6])),300);const rt=Ge(()=>de(()=>import("./chat-pages-CMeaAGoL.js").then(e=>e.C),__vite__mapDeps([12,1,2,3,4,5,6])),200),nt=Ge(()=>de(()=>import("./chat-pages-CMeaAGoL.js").then(e=>e.a),__vite__mapDeps([12,1,2,3,4,5,6])),200),it=Ge(()=>de(()=>import("./UnauthorizedPage-BfumXEK9.js"),__vite__mapDeps([15,1,2,3,4,5,6])),100),lt=Ge(()=>de(()=>import("./NotificationsPage-C31ofBwB.js"),__vite__mapDeps([16,1,2,3,4,11,5,6,12])),150);function ot(){return x.jsx(Be,{children:x.jsx(K,{children:x.jsx($,{children:x.jsx("main",{className:"min-h-screen bg-gray-50",role:"main",children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"spinner",message:"로그인 페이지를 로딩 중..."}),children:x.jsxs(z,{children:[x.jsx(W,{path:"/login",element:x.jsx(Je,{})}),x.jsx(W,{path:"/register",element:x.jsx(Ye,{})}),x.jsx(W,{path:"/unauthorized",element:x.jsx(it,{})}),x.jsx(W,{path:"/chat-home",element:x.jsx(rt,{})}),x.jsx(W,{path:"/chat",element:x.jsx(nt,{})}),x.jsx(W,{path:"/dashboard",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"dashboard"}),children:x.jsx(qe,{})})})})}),x.jsx(W,{path:"/mypage",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"dashboard"}),children:x.jsx(Qe,{})})})})}),x.jsx(W,{path:"/notifications",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"list"}),children:x.jsx(lt,{})})})})}),x.jsx(W,{path:"/health-assessment",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"form"}),children:x.jsx(st,{memberId:"1",onComplete:e=>{window.location.href="/facility-search"},onCancel:()=>{}})})})})}),x.jsx(W,{path:"/facility-search",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"list"}),children:x.jsx(at,{memberId:1,coordinatorId:"coordinator-1",showRecommendations:!0})})})})}),x.jsx(W,{path:"/boards",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"list"}),children:x.jsx(Ke,{})})})})}),x.jsx(W,{path:"/boards/create-post",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"form"}),children:x.jsx(Ze,{})})})})}),x.jsx(W,{path:"/boards/:boardId",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"list"}),children:x.jsx(Ke,{})})})})}),x.jsx(W,{path:"/boards/:boardId/posts/:postId",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"detail"}),children:x.jsx(Xe,{})})})})}),x.jsx(W,{path:"/profiles",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"list"}),children:x.jsx(et,{})})})})}),x.jsx(W,{path:"/profiles/:profileType/:profileId",element:x.jsx(oe,{children:x.jsx(Ue,{children:x.jsx(u.Suspense,{fallback:x.jsx(We,{type:"skeleton",skeletonType:"detail"}),children:x.jsx(tt,{})})})})}),x.jsx(W,{path:"/",element:x.jsx(p,{to:"/login",replace:!0})}),x.jsx(W,{path:"*",element:x.jsx(p,{to:"/dashboard",replace:!0})})]})})})})})})}B.createRoot(document.getElementById("root")).render(x.jsx(f.StrictMode,{children:x.jsx(ot,{})}));export{Ce as N,ke as a,Le as b,Pe as u};
