var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,o=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&l(e,t,a[t]);if(n)for(var t of n(a))r.call(a,t)&&l(e,t,a[t]);return e},s=(e,n)=>a(e,t(n)),c=(e,a,t)=>l(e,"symbol"!=typeof a?a+"":a,t),d=(e,a,t)=>new Promise((n,i)=>{var r=e=>{try{o(t.next(e))}catch(a){i(a)}},l=e=>{try{o(t.throw(e))}catch(a){i(a)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,l);o((t=t.apply(e,a)).next())});import{a as h,u as m}from"./board-pages-D7wDb-_I.js";import{r as u,j as g,O as p,c as b,e as v,R as f}from"./react-vendor-BtXaCJgl.js";import"./core-ui-CIyy5Fk7.js";import"./facility-pages-UHQS1ynl.js";import"./chat-pages-Bd-211Ah.js";import{p as y}from"./state-management-DFZwgI-2.js";const w={currentThemeId:"default-light",availableThemes:{"default-light":{core:{base:[95,2,266,1],accent:[44,99,307,1],contrast:30}},"default-dark":{core:{base:[18,11,280,1],accent:[72,40,311,1],contrast:30}},"catppuccin-latte":{core:{base:[95.07617314910061,2.1856276247566773,265.9705972968138,1],accent:[43.717135811988086,99.37386079300107,307.12305463765506,1],contrast:30}},"catppuccin-mocha":{core:{base:[16.02115422223583,13.102236978320558,282.51213623981425,1],accent:[71.7932136171783,46.50946588741101,305.26693753987405,1],contrast:30}},"github-light":{core:{base:[98,0,0,1],accent:[40,80,210,1],contrast:35}},"tokyo-night":{core:{base:[15,15,250,1],accent:[60,90,200,1],contrast:40}},"minimal-dark":{core:{base:[12,8,270,1],accent:[65,85,250,1],contrast:35,sidebar:{base:[8,5,270,1],accent:[65,85,250,1],contrast:35}}},"warm-light":{core:{base:[97,5,40,1],accent:[50,90,15,1],contrast:30,sidebar:{base:[94,8,40,1],accent:[50,90,15,1],contrast:30}}}},customThemes:{},isHighContrast:!1,isReducedMotion:!1,isSystemTheme:!1,loading:!1,error:null,history:[]},N=(e,a)=>{var t,l;switch(a.type){case"SET_THEME":return s(o({},e),{currentThemeId:a.payload.themeId,error:null});case"ADD_CUSTOM_THEME":return s(o({},e),{customThemes:s(o({},e.customThemes),{[a.payload.themeId]:a.payload.config})});case"REMOVE_CUSTOM_THEME":const c=e.customThemes,{[t=a.payload.themeId]:d}=c,h=((e,a)=>{var t={};for(var l in e)i.call(e,l)&&a.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&n)for(var l of n(e))a.indexOf(l)<0&&r.call(e,l)&&(t[l]=e[l]);return t})(c,[(l=t,"symbol"==typeof l?l:l+"")]);return s(o({},e),{customThemes:h,currentThemeId:e.currentThemeId===a.payload.themeId?"default-light":e.currentThemeId});case"TOGGLE_HIGH_CONTRAST":return s(o({},e),{isHighContrast:!e.isHighContrast});case"TOGGLE_REDUCED_MOTION":return s(o({},e),{isReducedMotion:!e.isReducedMotion});case"SET_SYSTEM_THEME":return s(o({},e),{isSystemTheme:a.payload.enabled});case"SET_LOADING":return s(o({},e),{loading:a.payload.loading});case"SET_ERROR":return s(o({},e),{error:a.payload.error,loading:!1});case"LOAD_THEMES":return s(o({},e),{availableThemes:o(o({},e.availableThemes),a.payload.themes)});case"ADD_HISTORY_ENTRY":return s(o({},e),{history:[a.payload.entry,...e.history.slice(0,49)]});case"CLEAR_HISTORY":return s(o({},e),{history:[]});default:return e}},k=u.createContext(null);class x{constructor(){c(this,"listeners",new Map)}addEventListener(e,a){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(a)}removeEventListener(e,a){const t=this.listeners.get(e);t&&t.delete(a)}emit(e,a){const t=this.listeners.get(e);if(t){const n={type:e,timestamp:new Date,data:a};t.forEach(e=>e(n))}}}const T=({children:e,initialTheme:a,enableSystemTheme:t=!0,enableAnimations:n=!0,storageKey:i="linear-theme-state"})=>{const[r,l]=u.useReducer(N,w),s=u.useMemo(()=>new x,[]);u.useEffect(()=>{d(null,null,function*(){try{l({type:"SET_LOADING",payload:{loading:!0}});const e=localStorage.getItem(i);if(e){const a=JSON.parse(e);a.customThemes&&Object.entries(a.customThemes).forEach(([e,a])=>{l({type:"ADD_CUSTOM_THEME",payload:{themeId:e,config:a}})}),a.currentThemeId&&l({type:"SET_THEME",payload:{themeId:a.currentThemeId}}),void 0!==a.isHighContrast&&a.isHighContrast!==r.isHighContrast&&l({type:"TOGGLE_HIGH_CONTRAST"})}const t=a||r.currentThemeId;yield h(t),l({type:"SET_LOADING",payload:{loading:!1}})}catch(e){l({type:"SET_ERROR",payload:{error:"테마 상태를 로드하는 중 오류가 발생했습니다."}})}})},[a,i]),u.useEffect(()=>{const e={currentThemeId:r.currentThemeId,customThemes:r.customThemes,isHighContrast:r.isHighContrast,isReducedMotion:r.isReducedMotion,isSystemTheme:r.isSystemTheme};localStorage.setItem(i,JSON.stringify(e))},[r.currentThemeId,r.customThemes,r.isHighContrast,r.isReducedMotion,r.isSystemTheme,i]);const c=u.useCallback((e,a={})=>{var t;const i=document.documentElement,{animated:l=n,animationDuration:o=300}=a;l&&(i.style.setProperty("--theme-transition-duration",`${o}ms`),i.classList.add("theme-transitioning"));const{base:s,accent:c,contrast:d,sidebar:h}=e.core;i.style.setProperty("--linear-lch-base",`${s[0]} ${s[1]} ${s[2]}`),i.style.setProperty("--linear-lch-accent",`${c[0]} ${c[1]} ${c[2]}`),i.style.setProperty("--linear-contrast",d.toString()),h&&(i.style.setProperty("--linear-sidebar-lch-base",`${h.base[0]} ${h.base[1]} ${h.base[2]}`),i.style.setProperty("--linear-sidebar-lch-accent",`${h.accent[0]} ${h.accent[1]} ${h.accent[2]}`),i.style.setProperty("--linear-sidebar-contrast",h.contrast.toString()));const m=s[0]<=50;i.classList.remove("theme-light","theme-dark"),i.classList.add(m?"theme-dark":"theme-light"),r.isHighContrast?i.classList.add("theme-high-contrast"):i.classList.remove("theme-high-contrast"),r.isReducedMotion?i.classList.add("theme-reduced-motion"):i.classList.remove("theme-reduced-motion"),l?setTimeout(()=>{var e;i.classList.remove("theme-transitioning"),i.style.removeProperty("--theme-transition-duration"),null==(e=a.onComplete)||e.call(a)},o):null==(t=a.onComplete)||t.call(a)},[n,r.isHighContrast,r.isReducedMotion]),h=u.useCallback((e,...a)=>d(null,[e,...a],function*(e,a={}){var t;try{const t=o(o({},r.availableThemes),r.customThemes)[e];if(!t)throw new Error(`테마 '${e}'를 찾을 수 없습니다.`);const n=r.currentThemeId;l({type:"SET_THEME",payload:{themeId:e,options:a}}),c(t,a);const i={themeId:e,themeName:`Theme ${e}`,changedAt:new Date,reason:a.immediate?"immediate":"user-selection"};l({type:"ADD_HISTORY_ENTRY",payload:{entry:i}}),s.emit("theme-changed",{themeId:e,previousThemeId:n,config:t}),!1!==a.persist&&localStorage.setItem("linear-current-theme",e)}catch(n){const e=n instanceof Error?n.message:"알 수 없는 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),s.emit("theme-error",{error:e}),null==(t=a.onError)||t.call(a,n),n}}),[r.availableThemes,r.customThemes,r.currentThemeId,c,s]),m=u.useCallback((e,a)=>d(null,null,function*(){try{l({type:"ADD_CUSTOM_THEME",payload:{themeId:e,config:a}});const t=JSON.parse(localStorage.getItem("linear-custom-themes")||"{}");t[e]=a,localStorage.setItem("linear-custom-themes",JSON.stringify(t)),s.emit("custom-theme-created",{themeId:e,config:a})}catch(t){const e=t instanceof Error?t.message:"커스텀 테마 추가 중 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),t}}),[s]),p=u.useCallback(e=>d(null,null,function*(){try{l({type:"REMOVE_CUSTOM_THEME",payload:{themeId:e}});const a=JSON.parse(localStorage.getItem("linear-custom-themes")||"{}");delete a[e],localStorage.setItem("linear-custom-themes",JSON.stringify(a)),s.emit("custom-theme-deleted",{themeId:e})}catch(a){const e=a instanceof Error?a.message:"커스텀 테마 제거 중 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),a}}),[s]),b=u.useCallback(()=>{l({type:"TOGGLE_HIGH_CONTRAST"}),s.emit("contrast-toggled",{isHighContrast:!r.isHighContrast});const e=o(o({},r.availableThemes),r.customThemes)[r.currentThemeId];e&&c(e)},[r.isHighContrast,r.availableThemes,r.customThemes,r.currentThemeId,c,s]),v=u.useCallback(()=>{l({type:"TOGGLE_REDUCED_MOTION"})},[]),f=u.useCallback(e=>{if(l({type:"SET_SYSTEM_THEME",payload:{enabled:e}}),e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;h(e?"default-dark":"default-light")}},[h]),y=u.useCallback((e,a,t,n=30)=>d(null,null,function*(){const i=e.toLowerCase().replace(/\s+/g,"-"),r={core:{base:a,accent:t,contrast:n}};return yield m(i,r),i}),[m]),T=u.useCallback(e=>{const a=o(o({},r.availableThemes),r.customThemes)[e];if(!a)return null;const t={version:"2025.1.0",theme:a,exportedAt:(new Date).toISOString(),compatibility:{minVersion:"2025.1.0"}};return JSON.stringify(t,null,2)},[r.availableThemes,r.customThemes]),C=u.useCallback(e=>d(null,null,function*(){var a;try{const t=JSON.parse(e);if(!t.theme||!t.theme.core)throw new Error("유효하지 않은 테마 형식입니다.");const n=((null==(a=t.theme.metadata)?void 0:a.name)||"Imported Theme").toLowerCase().replace(/\s+/g,"-");return yield m(n,t.theme),n}catch(t){throw new Error("테마 가져오기에 실패했습니다: "+t.message)}}),[m]),M=u.useCallback(()=>d(null,null,function*(){l({type:"CLEAR_HISTORY"}),localStorage.removeItem(i),localStorage.removeItem("linear-custom-themes"),yield h("default-light")}),[i,h]),S=u.useCallback(()=>{l({type:"CLEAR_HISTORY"})},[]);u.useEffect(()=>{if(!t||!r.isSystemTheme)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{const a=e.matches?"default-dark":"default-light";h(a)};return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[t,r.isSystemTheme,h]),u.useEffect(()=>{const e=window.matchMedia("(prefers-contrast: high)"),a=e=>{e.matches&&!r.isHighContrast&&b()},t=window.matchMedia("(prefers-reduced-motion: reduce)"),n=e=>{e.matches!==r.isReducedMotion&&v()};return e.addEventListener("change",a),t.addEventListener("change",n),()=>{e.removeEventListener("change",a),t.removeEventListener("change",n)}},[r.isHighContrast,r.isReducedMotion,b,v]);const E=u.useMemo(()=>{const e=o(o({},r.availableThemes),r.customThemes),a=e[r.currentThemeId]||null,t=!!a&&a.core.base[0]<=50,n=Object.entries(e).map(([e,a])=>({id:e,name:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),description:`${a.core.base[0]<=50?"Dark":"Light"} theme with ${a.core.contrast}% contrast`,previewColors:{background:`lch(${a.core.base[0]} ${a.core.base[1]} ${a.core.base[2]})`,foreground:`lch(${a.core.base[0]<=50?"90":"20"} 5 ${a.core.base[2]})`,accent:`lch(${a.core.accent[0]} ${a.core.accent[1]} ${a.core.accent[2]})`,border:`lch(${a.core.base[0]<=50?"30":"85"} 5 ${a.core.base[2]})`},category:e.includes("catppuccin")?"pastel":e.includes("minimal")?"minimal":e.includes("tokyo")||e.includes("warm")?"vibrant":"classic",variant:a.core.base[0]<=50?"dark":"light"}));return{currentThemeId:r.currentThemeId,availableThemes:r.availableThemes,customThemes:r.customThemes,isHighContrast:r.isHighContrast,isReducedMotion:r.isReducedMotion,isSystemTheme:r.isSystemTheme,loading:r.loading,error:r.error,history:r.history,currentTheme:a,isDarkMode:t,allThemes:e,themePreview:n,setTheme:h,addCustomTheme:m,removeCustomTheme:p,toggleHighContrast:b,toggleReducedMotion:v,toggleSystemTheme:f,generateThemeFromColors:y,exportTheme:T,importTheme:C,resetToDefaults:M,clearHistory:S,addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}},[r,h,m,p,b,v,f,y,T,C,M,S,s]);return g.jsx(k.Provider,{value:E,children:e})},C=()=>{const e=u.useContext(k);if(!e)throw new Error("useThemeContext는 ThemeProvider 내에서 사용되어야 합니다.");return e},M=(e={})=>{const{debounceDelay:a=300,enableAnimations:t=!0,autoSave:n=!0,detectSystemTheme:i=!0,autoAccessibility:r=!0}=e,l=C(),[c,h]=u.useState({totalThemes:0,customThemes:0,sessionChanges:0,mostUsedTheme:null,averageUsageTime:0}),[m,g]=u.useState(!1),[p,b]=u.useState(null),v=u.useRef(),f=u.useRef(),y=u.useRef(Date.now()),w=u.useRef(new Map),N=u.useCallback((e,i)=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{l.setTheme(e,o({animated:t,persist:n},i)),y.current=Date.now()},a)},[l.setTheme,a,t,n]),k=u.useCallback((e,a)=>{v.current&&clearTimeout(v.current),l.setTheme(e,o({animated:t,persist:n,immediate:!0},a)),y.current=Date.now()},[l.setTheme,t,n]),x=u.useCallback((e,a={})=>{const{duration:n=3e3,autoRevert:i=!0,blockEvents:r=!0}=a;m&&f.current&&clearTimeout(f.current);const o=l.currentThemeId;g(!0),b(e),l.setTheme(e,{animated:t,persist:!1,immediate:!1}),i&&(f.current=setTimeout(()=>{l.setTheme(o,{animated:t,persist:!1}),g(!1),b(null)},n))},[l.setTheme,l.currentThemeId,t,m]),T=u.useCallback(()=>{if(f.current&&clearTimeout(f.current),m){const e=localStorage.getItem("linear-current-theme")||"default-light";l.setTheme(e,{animated:t,persist:!1})}g(!1),b(null)},[l.setTheme,t,m]),M=u.useCallback(e=>{const a=e||l.currentThemeId,t=l.allThemes[a];if(!t)return null;const{base:n,accent:i}=t.core,r=n[0],o=i[0],s=Math.abs(r-o)/100*21;let c;c=s>=7?"AAA":s>=4.5?"AA":"FAIL";const d=Math.abs(n[2]-i[2]);let h;h=d<30?"monochromatic":d<60?"analogous":d>150&&d<210?"complementary":d>100&&d<140?"triadic":"custom";const m=(n[2]+i[2])/2;let u;u=m>=0&&m<=60||m>=300?"warm":m>180&&m<300?"cool":"neutral";const g=(n[1]+i[1])/2;let p;return p=g<20?"low":g<60?"medium":"high",{contrastRatio:s,accessibilityGrade:c,harmony:h,temperature:u,saturationLevel:p}},[l.currentThemeId,l.allThemes]),S=u.useCallback((e,a,t,n=30)=>d(null,null,function*(){try{const i=yield l.generateThemeFromColors(e,a,t,n),o=M(i);return r&&(null==o||o.accessibilityGrade),i}catch(i){throw i}}),[l.generateThemeFromColors,M,r]),E=u.useCallback(()=>{var e;const a=l.currentTheme;if(!a)return;const t=a.core.base[0]<=50?"light":"dark",n=l.themePreview,i=null==(e=n.find(e=>e.id===l.currentThemeId))?void 0:e.category,r=n.find(e=>e.variant===t&&(e.category===i||e.id.includes(l.currentThemeId.replace(/-?(light|dark)$/,""))));k(r?r.id:"dark"===t?"default-dark":"default-light")},[l.currentTheme,l.currentThemeId,l.themePreview,k]),L=u.useCallback(()=>{const e=Object.keys(l.allThemes).filter(e=>e!==l.currentThemeId);if(0===e.length)return;const a=e[Math.floor(Math.random()*e.length)];k(a)},[l.allThemes,l.currentThemeId,k]),H=u.useCallback((e,a)=>{l.addEventListener(e,a),w.current.has(e)||w.current.set(e,new Set),w.current.get(e).add(a)},[l.addEventListener]),D=u.useCallback((e,a)=>{l.removeEventListener(e,a);const t=w.current.get(e);t&&t.delete(a)},[l.removeEventListener]),I=u.useMemo(()=>{const e=Object.keys(l.allThemes).length,a=Object.keys(l.customThemes).length,t=l.themePreview.find(e=>e.id===l.currentThemeId);return{totalThemes:e,customThemes:a,compatibleThemes:t?l.themePreview.filter(e=>e.id!==l.currentThemeId&&(e.category===t.category||e.variant===t.variant)):[],isValidTheme:null!==l.currentTheme,hasCustomThemes:a>0,canToggleDarkMode:!0}},[l.allThemes,l.customThemes,l.currentThemeId,l.currentTheme,l.themePreview]);return u.useEffect(()=>()=>{v.current&&clearTimeout(v.current),f.current&&clearTimeout(f.current)},[]),u.useMemo(()=>s(o({currentThemeId:l.currentThemeId,currentTheme:l.currentTheme,allThemes:l.allThemes,customThemes:l.customThemes,isDarkMode:l.isDarkMode,isHighContrast:l.isHighContrast,isReducedMotion:l.isReducedMotion,isSystemTheme:l.isSystemTheme,loading:l.loading,error:l.error,history:l.history,themePreview:l.themePreview},I),{currentAnalysis:l.currentTheme?M():null,sessionStats:c,isPreviewMode:m,previewThemeId:p,toggleHighContrast:l.toggleHighContrast,toggleReducedMotion:l.toggleReducedMotion,toggleSystemTheme:l.toggleSystemTheme,addCustomTheme:l.addCustomTheme,removeCustomTheme:l.removeCustomTheme,exportTheme:l.exportTheme,importTheme:l.importTheme,resetToDefaults:l.resetToDefaults,clearHistory:l.clearHistory,setTheme:N,setThemeImmediate:k,previewTheme:x,cancelPreview:T,analyzeTheme:M,createThemeFromColors:S,toggleDarkMode:E,randomTheme:L,addEventListener:H,removeEventListener:D,getThemeById:e=>l.allThemes[e]||null,getThemesByCategory:e=>l.themePreview.filter(a=>a.category===e),getThemesByVariant:e=>l.themePreview.filter(a=>a.variant===e),searchThemes:e=>l.themePreview.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase())),lchToHex:e=>{const[a,t,n]=e;return`hsl(${n}, ${t}%, ${a}%)`},hexToLch:e=>[50,50,0,1],validateTheme:e=>{const{base:a,accent:t,contrast:n}=e.core;return Array.isArray(a)&&4===a.length&&Array.isArray(t)&&4===t.length&&"number"==typeof n&&n>=0&&n<=100}}),[l,I,c,m,p,N,k,x,T,M,S,E,L,H,D])},S=()=>{const e=C();return u.useMemo(()=>({themeId:e.currentThemeId,theme:e.currentTheme,isDark:e.isDarkMode,isHighContrast:e.isHighContrast}),[e.currentThemeId,e.currentTheme,e.isDarkMode,e.isHighContrast])},E={"/":{label:"홈",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),g.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]})},"/about":{label:"소개",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})},"/contact":{label:"문의",parent:"/",icon:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})},"/dashboard":{label:"대시보드",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"})]})},"/mypage":{label:"마이페이지",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]})},"/settings":{label:"설정",parent:"/mypage",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"3"}),g.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},"/notifications":{label:"알림",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),g.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})},"/facility-search":{label:"시설 찾기",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},"/health-assessment":{label:"건강 평가",parent:"/",icon:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},"/boards":{label:"커뮤니티",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),g.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})},"/jobs":{label:"구인구직",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),g.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),g.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})},"/auth":{label:"인증",hidden:!0},"/auth/signin":{label:"로그인",parent:"/",hidden:!0},"/auth/signup":{label:"회원가입",parent:"/",hidden:!0},"/admin":{label:"관리자",parent:"/",icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"3"}),g.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}},L={"/boards/:boardId":e=>({label:`게시판 #${e[1]}`,parent:"/boards"}),"/boards/:boardId/posts/:postId":e=>({label:`게시글 #${e[3]}`,parent:`/boards/${e[1]}`}),"/jobs/:jobId":e=>({label:`채용공고 #${e[1]}`,parent:"/jobs"}),"/profiles/:profileType/:profileId":e=>({label:("member"===e[1]?"회원":"코디네이터")+" 프로필",parent:"/profiles"})},H=[{code:"ko",name:"한국어",nativeName:"한국어",flag:"🇰🇷"},{code:"en",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"zh",name:"中文",nativeName:"中文",flag:"🇨🇳"}],D=b()(y((e,a)=>({currentLanguage:"ko",setLanguage:a=>{e({currentLanguage:a}),document.documentElement.lang=a,window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:a}}))},getCurrentLanguageOption:()=>{const e=a().currentLanguage;return H.find(a=>a.code===e)||H[0]}}),{name:"elderberry-language",partialize:e=>({currentLanguage:e.currentLanguage})}));var I=(e=>(e.MATCHING="MATCHING",e.FACILITY_UPDATE="FACILITY_UPDATE",e.CHAT="CHAT",e.SYSTEM="SYSTEM",e))(I||{}),B=(e=>(e.ALL="ALL",e.READ="read",e.UNREAD="UNREAD",e))(B||{});const $={MATCHING:"매칭",FACILITY_UPDATE:"시설 업데이트",CHAT:"채팅",SYSTEM:"시스템"},O=()=>d(null,null,function*(){return(yield h.get("/notifications/unread-count")).data});class A{constructor(e){c(this,"intervalId",null),c(this,"lastCheckTime",null),c(this,"onNewNotifications"),this.onNewNotifications=e}start(e=3e4){this.intervalId&&this.stop(),this.checkNotifications(),this.intervalId=setInterval(()=>{this.checkNotifications()},e)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}checkNotifications(){return d(this,null,function*(){try{const a=yield(e=this.lastCheckTime||void 0,d(null,null,function*(){const a=yield O();let t=!1;if(e){const n=new Date(e);t=new Date(a.lastUpdated)>n}else t=a.unreadCount>0;return{hasNewNotifications:t,unreadCount:a.unreadCount,lastUpdated:a.lastUpdated}}));this.onNewNotifications&&this.onNewNotifications({unreadCount:a.unreadCount,hasNew:a.hasNewNotifications}),this.lastCheckTime=(new Date).toISOString()}catch(a){}var e})}resetLastCheckTime(){this.lastCheckTime=null}}const R={notifications:[],summary:{unreadCount:0,totalCount:0,unreadByType:{},lastUpdated:(new Date).toISOString()},settings:null,isLoading:!1,error:null,isDropdownOpen:!1,currentPage:0,totalPages:0,hasMore:!1,filter:{readStatus:B.ALL,page:0,size:20},isPolling:!1,lastFetchTime:null,poller:null},_=b()(y((e,a)=>s(o({},R),{fetchNotifications:(...t)=>d(null,[...t],function*(t={},n=!1){try{n||e({isLoading:!0,error:null});const i=a(),r=o(o({},i.filter),t);r.page=n?(r.page||0)+1:0;const l=yield((...e)=>d(null,[...e],function*(e={}){const a={};return e.readStatus&&(a.readStatus=e.readStatus),e.notificationType&&(a.notificationType=e.notificationType),void 0!==e.page&&(a.page=e.page),void 0!==e.size&&(a.size=e.size),(yield h.get("/notifications",{params:a})).data}))(r);e(e=>({notifications:n?[...e.notifications,...l.content]:l.content,currentPage:l.page.number,totalPages:l.page.totalPages,hasMore:l.page.number<l.page.totalPages-1,filter:r,isLoading:!1,lastFetchTime:(new Date).toISOString()})),a().fetchUnreadCount()}catch(i){e({error:i instanceof Error?i.message:"알림을 불러오는데 실패했습니다.",isLoading:!1})}}),fetchUnreadCount:()=>d(null,null,function*(){try{const a=yield O();e({summary:a})}catch(a){}}),markAsRead:t=>d(null,null,function*(){try{yield(e=>d(null,null,function*(){return(yield h.put(`/notifications/${e}/read`)).data}))(t),e(e=>({notifications:e.notifications.map(e=>e.notificationId===t?s(o({},e),{isRead:!0,readAt:(new Date).toISOString()}):e)})),a().fetchUnreadCount()}catch(n){e({error:"알림 읽음 처리에 실패했습니다."})}}),markAllAsRead:()=>d(null,null,function*(){try{yield d(null,null,function*(){return(yield h.put("/notifications/read-all")).data});const t=(new Date).toISOString();e(e=>({notifications:e.notifications.map(e=>s(o({},e),{isRead:!0,readAt:e.readAt||t}))})),a().fetchUnreadCount()}catch(t){e({error:"모든 알림 읽음 처리에 실패했습니다."})}}),removeNotification:t=>d(null,null,function*(){try{yield(e=>d(null,null,function*(){return(yield h.delete(`/notifications/${e}`)).data}))(t),e(e=>({notifications:e.notifications.filter(e=>e.notificationId!==t)})),a().fetchUnreadCount()}catch(n){e({error:"알림 삭제에 실패했습니다."})}}),fetchSettings:()=>d(null,null,function*(){try{const a=yield d(null,null,function*(){return(yield h.get("/notifications/settings")).data});e({settings:a})}catch(a){e({error:"알림 설정을 불러오는데 실패했습니다."})}}),updateSettings:a=>d(null,null,function*(){try{const t=yield(e=>d(null,null,function*(){return(yield h.put("/notifications/settings",e)).data}))(a);e({settings:t})}catch(t){e({error:"알림 설정 업데이트에 실패했습니다."})}}),toggleDropdown:()=>{e(e=>({isDropdownOpen:!e.isDropdownOpen}))},closeDropdown:()=>{e({isDropdownOpen:!1})},setFilter:a=>{e(e=>({filter:o(o({},e.filter),a),currentPage:0,hasMore:!1}))},clearFilter:()=>{e({filter:{readStatus:B.ALL,page:0,size:20},currentPage:0,hasMore:!1})},startPolling:()=>{const t=a();if(t.isPolling||t.poller)return;const n=new A(t=>{t.hasNew&&a().fetchNotifications(a().filter,!1),e(e=>({summary:s(o({},e.summary),{unreadCount:t.unreadCount,lastUpdated:(new Date).toISOString()})}))});n.start(3e4),e({isPolling:!0,poller:n})},stopPolling:()=>{const t=a();t.poller&&t.poller.stop(),e({isPolling:!1,poller:null})},addRealtimeNotification:a=>{e(e=>({notifications:[a,...e.notifications],summary:s(o({},e.summary),{unreadCount:e.summary.unreadCount+(a.isRead?0:1),totalCount:e.summary.totalCount+1,lastUpdated:(new Date).toISOString()})}))},clearError:()=>{e({error:null})},setLoading:a=>{e({isLoading:a})},reset:()=>{const t=a();t.poller&&t.poller.stop(),e(R)}}),{name:"elderberry-notification-store",partialize:e=>({settings:e.settings,filter:e.filter})})),W=()=>({isReducedMotion:!1,isDarkMode:!1,isHighContrast:!1,currentTheme:null,currentThemeId:"default-light",setTheme:()=>{},toggleDarkMode:()=>{}}),z=u.memo(({sidebarState:e,onToggleSidebar:a,variant:t="default",isMobile:n=!1,fixed:i=!0,navItems:r,userMenuItems:l=[],user:c,onLogoClick:h,className:b=""})=>{const{isAuthenticated:f,user:y,logout:w}=m(),N=v(),k=p(),x=c||y,T=(r||[]).map(e=>s(o({},e),{active:k.pathname===e.href||"/"!==e.href&&k.pathname.startsWith(e.href)})),{isDark:C,isHighContrast:M,isReducedMotion:E}=S(),{currentLanguage:L,setLanguage:I,getCurrentLanguageOption:B}=(()=>{const{currentLanguage:e,setLanguage:a,getCurrentLanguageOption:t}=D();return{currentLanguage:e,setLanguage:a,getCurrentLanguageOption:t,isKorean:"ko"===e,isEnglish:"en"===e,isChinese:"zh"===e,t:(a,t,n)=>{switch(e){case"en":return t||a;case"zh":return n||a;default:return a}}}})(),[$,O]=u.useState(!1),[A,R]=u.useState(!1),[_,W]=u.useState(!1),[z,j]=u.useState(!1),P=u.useRef(null),V=u.useRef(null),G=u.useRef(null),U=u.useRef(null);u.useEffect(()=>{const e=e=>{P.current&&!P.current.contains(e.target)&&O(!1),V.current&&!V.current.contains(e.target)&&R(!1),G.current&&!G.current.contains(e.target)&&W(!1),U.current&&!U.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),u.useCallback((e,a)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},[]);const F=u.useCallback(e=>{R(!1)},[]),Y=u.useCallback(e=>{I(e),j(!1),window.confirm&&H.find(a=>a.code===e)},[I]),J=u.useCallback(()=>{h?h():N("/")},[h,N]),K=u.useCallback(()=>d(null,null,function*(){try{yield w(),N("/")}catch(e){}}),[w,N]),q=f&&x?[{id:"profile",label:"내 프로필",onClick:()=>N("/mypage"),icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]})},{id:"notifications",label:"알림",onClick:()=>N("/notifications"),icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),g.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})},{id:"settings",label:"설정",onClick:()=>N("/settings"),icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"3"}),g.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},{id:"logout",label:"로그아웃",onClick:K,icon:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),g.jsx("polyline",{points:"16,17 21,12 16,7"}),g.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),divider:!0,danger:!0}]:[],Q=l.length>0?l:q,X=e=>g.jsxs("button",{onClick:()=>N(e.href),className:`\n        nav-item linear-button-ghost\n        ${e.active?"nav-item-active":""}\n      `,children:[e.icon&&g.jsx("span",{className:"nav-item-icon",children:e.icon}),g.jsx("span",{children:e.label}),e.badge&&g.jsx("span",{className:"linear-badge nav-item-badge",children:e.badge})]},e.id),Z=["linear-header","linear-navbar",`header-variant-${t}`,i&&"header-fixed",n&&"header-mobile",b].filter(Boolean).join(" ");return g.jsxs("header",{className:Z,style:{backgroundColor:"var(--linear-color-surface-elevated)",background:"var(--linear-color-surface-elevated)",backdropFilter:"none",WebkitBackdropFilter:"none",opacity:1,isolation:"isolate",filter:"none",mixBlendMode:"normal",zIndex:100},children:[g.jsxs("div",{className:"header-container",children:[g.jsxs("div",{className:"header-start",children:[g.jsx("button",{onClick:a,className:"sidebar-toggle linear-button-ghost","aria-label":"사이드바 토글",title:"사이드바 토글 (Alt+S)",children:g.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),g.jsxs("button",{onClick:J,className:"header-logo","aria-label":"엘더베리 홈으로 이동",children:[g.jsx("div",{className:"logo-icon linear-gradient-signature",children:g.jsx("span",{className:"logo-text",children:"E"})}),g.jsx("span",{className:"logo-brand",children:"엘더베리"})]})]}),!n&&g.jsx("nav",{className:"header-nav",role:"navigation","aria-label":"메인 네비게이션",children:g.jsx("div",{className:"nav-items",children:T.map(X)})}),g.jsxs("div",{className:"header-end",children:[f&&!1,g.jsxs("div",{className:"language-menu",ref:U,children:[g.jsxs("button",{onClick:()=>j(!z),className:"language-toggle linear-button-ghost","aria-label":"언어 선택","aria-expanded":z,title:"Select Language / 언어 선택",children:[g.jsx("span",{className:"language-flag",children:B().flag}),g.jsx("span",{className:"language-code",children:L.toUpperCase()}),g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"language-chevron "+(z?"rotate-180":""),children:g.jsx("polyline",{points:"6,9 12,15 18,9"})})]}),z&&g.jsxs("div",{className:"linear-dropdown language-dropdown",children:[g.jsx("div",{className:"dropdown-header",children:g.jsx("h3",{children:"Select Language"})}),g.jsx("div",{className:"language-options",children:H.map(e=>g.jsxs("button",{onClick:()=>Y(e.code),className:"language-option "+(e.code===L?"active":""),title:`Switch to ${e.name}`,children:[g.jsx("span",{className:"language-flag",children:e.flag}),g.jsxs("div",{className:"language-info",children:[g.jsx("span",{className:"language-name",children:e.name}),g.jsx("span",{className:"language-native",children:e.nativeName})]}),e.code===L&&g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"check-icon",children:g.jsx("polyline",{points:"20,6 9,17 4,12"})})]},e.code))})]})]}),g.jsxs("div",{className:"theme-menu",ref:V,children:[g.jsx("button",{onClick:()=>R(!A),className:"theme-toggle linear-button-ghost","aria-label":"테마 변경","aria-expanded":A,children:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C?g.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}):g.jsxs(g.Fragment,{children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})})}),A&&g.jsxs("div",{className:"linear-dropdown theme-dropdown",children:[g.jsxs("div",{className:"dropdown-header",children:[g.jsx("h3",{children:"테마 선택"}),g.jsxs("button",{onClick:()=>{},className:"linear-button-secondary",children:[C?"라이트":"다크"," 모드"]})]}),g.jsx("div",{className:"theme-grid",children:[].map(e=>g.jsxs("button",{onClick:()=>F(e.id),className:"theme-option "+(e.id===(null==currentTheme?void 0:currentTheme.id)?"active":""),title:e.description,children:[g.jsx("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, ${e.preview.background} 0%, ${e.preview.accent} 100%)`}}),g.jsx("span",{className:"theme-name",children:e.name})]},e.id))})]})]}),f&&x?g.jsxs("div",{className:"user-menu",ref:P,children:[g.jsx("button",{onClick:()=>O(!$),className:"user-avatar linear-button-ghost","aria-label":"사용자 메뉴","aria-expanded":$,children:x.avatar?g.jsx("img",{src:x.avatar,alt:x.name,className:"avatar-image"}):g.jsx("div",{className:"avatar-placeholder",children:x.name.charAt(0).toUpperCase()})}),$&&g.jsxs("div",{className:"linear-dropdown user-dropdown",children:[g.jsx("div",{className:"dropdown-header",children:g.jsxs("div",{className:"user-info",children:[g.jsx("span",{className:"user-name",children:x.name}),g.jsx("span",{className:"user-email",children:x.email})]})}),g.jsx("div",{className:"dropdown-items",children:Q.map(e=>g.jsxs("button",{onClick:e.onClick,className:`\n        user-menu-item linear-button-ghost\n        ${e.danger?"text-error":""}\n        ${e.divider?"border-t border-linear-border-subtle":""}\n      `,children:[e.icon&&g.jsx("span",{className:"menu-item-icon",children:e.icon}),g.jsx("span",{children:e.label})]},e.id))})]})]}):g.jsxs("div",{className:"auth-buttons",children:[g.jsx("button",{onClick:()=>N("/auth/signin"),className:"linear-button-ghost auth-signin-btn",title:"Sign in to your account",children:"Sign In"}),g.jsx("button",{onClick:()=>N("/auth/signup"),className:"linear-button-primary auth-signup-btn",title:"Create a new account",children:"Sign Up"})]}),n&&g.jsx("button",{onClick:()=>W(!_),className:"nav-toggle linear-button-ghost","aria-label":"네비게이션 메뉴","aria-expanded":_,children:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]})]}),n&&_&&g.jsx("nav",{className:"mobile-nav linear-animate-slide-down",ref:G,children:g.jsxs("div",{className:"mobile-nav-items",children:[T.map(X),!f&&g.jsxs("div",{className:"mobile-auth-buttons",children:[g.jsx("button",{onClick:()=>{N("/auth/signin"),W(!1)},className:"linear-button-ghost w-full mobile-auth-btn",title:"Sign in to your account",children:"Sign In"}),g.jsx("button",{onClick:()=>{N("/auth/signup"),W(!1)},className:"linear-button-primary w-full mt-2 mobile-auth-btn",title:"Create a new account",children:"Sign Up"})]})]})})]})}),j=[{id:"home",label:"홈",href:"/",icon:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),g.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),active:!0},{id:"facilities",label:"시설 찾기",href:"/facility-search",icon:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},{id:"health",label:"건강 평가",href:"/health-assessment",icon:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})},{id:"boards",label:"커뮤니티",href:"/boards",icon:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),g.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]})},{id:"jobs",label:"구인구직",href:"/jobs",icon:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),g.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),g.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})},{id:"profile",label:"마이페이지",href:"/mypage",icon:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),children:[{id:"profile-info",label:"개인정보",href:"/profile/info",icon:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("circle",{cx:"12",cy:"12",r:"3"})})},{id:"profile-settings",label:"설정",href:"/profile/settings",icon:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("circle",{cx:"12",cy:"12",r:"3"})})}]},{id:"help",label:"도움말",href:"/help",icon:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}],P=[{id:"main",title:"메인",items:j.slice(0,2)},{id:"services",title:"서비스",items:j.slice(2,5)},{id:"account",title:"계정",items:j.slice(5)}],V=({state:e,onStateChange:a,isMobile:t=!1,fixed:n=!0,sections:i=P,menuItems:r,showHeader:l=!0,showFooter:c=!0,className:d=""})=>{const h=v(),m=p(),{currentTheme:b,isDarkMode:f}=M(),[y,w]=u.useState(new Set),[N,k]=u.useState(new Set),x=u.useCallback(e=>{w(a=>{const t=new Set(a);return t.has(e)?t.delete(e):t.add(e),t})},[]),T=u.useCallback(e=>{k(a=>{const t=new Set(a);return t.has(e)?t.delete(e):t.add(e),t})},[]),C=u.useCallback((e,a)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},[]),S=u.useCallback(e=>e.map(e=>s(o({},e),{active:m.pathname===e.href||"/"!==e.href&&m.pathname.startsWith(e.href),children:e.children?S(e.children):void 0})),[m.pathname]),E=(a,t=0)=>{const n=a.children&&a.children.length>0,i=N.has(a.id),r="collapsed"===e;return g.jsxs("div",{className:`sidebar-menu-item level-${t}`,children:[n?g.jsxs("button",{onClick:()=>T(a.id),onKeyDown:e=>C(e,()=>T(a.id)),className:`\n              menu-item-button submenu-toggle\n              ${a.active?"active":""}\n              ${a.disabled?"disabled":""}\n            `,"aria-expanded":i,disabled:a.disabled,children:[g.jsx("span",{className:"menu-item-icon",children:a.icon}),!r&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"menu-item-label",children:a.label}),a.badge&&g.jsx("span",{className:`linear-badge linear-badge-${a.badgeVariant||"default"}`,children:a.badge}),g.jsx("svg",{className:"submenu-arrow "+(i?"expanded":""),width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 18l6-6-6-6"})})]})]}):g.jsxs("button",{onClick:()=>h(a.href),className:`\n              menu-item-link\n              ${a.active?"active":""}\n              ${a.disabled?"disabled":""}\n            `,disabled:a.disabled,children:[g.jsx("span",{className:"menu-item-icon",children:a.icon}),!r&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"menu-item-label",children:a.label}),a.badge&&g.jsx("span",{className:`linear-badge linear-badge-${a.badgeVariant||"default"}`,children:a.badge})]})]}),n&&i&&!r&&g.jsx("div",{className:"submenu linear-animate-slide-down",children:a.children.map(e=>E(e,t+1))})]},a.id)},L=["linear-sidebar",`sidebar-${e}`,t&&"sidebar-mobile",n&&"sidebar-fixed",f&&"sidebar-dark",d].filter(Boolean).join(" "),H=r?[{id:"main",title:"메인",items:S(r)}]:i.map(e=>s(o({},e),{items:S(e.items)}));return g.jsxs("aside",{className:L,role:"complementary","aria-label":"사이드바 네비게이션",children:[l&&!t&&g.jsx("div",{className:"sidebar-header",children:g.jsxs("div",{className:"sidebar-brand",children:[g.jsx("div",{className:"brand-icon linear-gradient-signature",children:g.jsx("span",{className:"brand-text",children:"E"})}),"collapsed"!==e&&g.jsx("span",{className:"brand-name",children:"엘더베리"})]})}),g.jsx("div",{className:"sidebar-content linear-scrollbar",children:g.jsx("nav",{className:"sidebar-nav",role:"navigation","aria-label":"사이드바 메뉴",children:H.map(a=>{const t="collapsed"===e,n=y.has(a.id);return g.jsxs("div",{className:"sidebar-section",children:[!t&&g.jsx("div",{className:"section-header",children:a.collapsible?g.jsxs("button",{onClick:()=>x(a.id),onKeyDown:e=>C(e,()=>x(a.id)),className:"section-toggle","aria-expanded":!n,children:[g.jsx("span",{className:"section-title",children:a.title}),g.jsx("svg",{className:"section-arrow "+(n?"":"expanded"),width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M9 18l6-6-6-6"})})]}):g.jsx("h3",{className:"section-title",children:a.title})}),(!a.collapsible||!n)&&g.jsx("div",{className:"section-items",children:a.items.map(e=>E(e))}),!t&&g.jsx("hr",{className:"linear-separator"})]},a.id)})})}),c&&"collapsed"!==e&&g.jsx("div",{className:"sidebar-footer",children:g.jsxs("div",{className:"footer-info",children:[g.jsx("span",{className:"app-version",children:"v2025.1.0"}),g.jsx("span",{className:"linear-text-tertiary",children:"엘더베리"})]})})]})},G=[{id:"services",title:"서비스",links:[{id:"facilities",label:"시설 찾기",href:"/facilities"},{id:"health",label:"건강 평가",href:"/health"},{id:"recommendations",label:"AI 추천",href:"/recommendations"},{id:"consultation",label:"전문 상담",href:"/consultation"}]},{id:"company",title:"회사 소개",links:[{id:"about",label:"회사 소개",href:"/about"},{id:"team",label:"팀 소개",href:"/team"},{id:"careers",label:"채용 정보",href:"/careers"},{id:"news",label:"보도자료",href:"/news"}]},{id:"support",title:"고객 지원",links:[{id:"help",label:"도움말",href:"/help"},{id:"faq",label:"자주 묻는 질문",href:"/faq"},{id:"contact",label:"문의하기",href:"/contact"},{id:"feedback",label:"피드백",href:"/feedback"}]},{id:"legal",title:"약관 및 정책",links:[{id:"privacy",label:"개인정보 처리방침",href:"/privacy"},{id:"terms",label:"이용약관",href:"/terms"},{id:"cookies",label:"쿠키 정책",href:"/cookies"},{id:"accessibility",label:"접근성 정책",href:"/accessibility"}]}],U=[{id:"facebook",name:"Facebook",href:"https://facebook.com/elderberry",ariaLabel:"엘더베리 페이스북 페이지",icon:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})},{id:"twitter",name:"Twitter",href:"https://twitter.com/elderberry",ariaLabel:"엘더베리 트위터 페이지",icon:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})},{id:"instagram",name:"Instagram",href:"https://instagram.com/elderberry",ariaLabel:"엘더베리 인스타그램 페이지",icon:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})},{id:"youtube",name:"YouTube",href:"https://youtube.com/elderberry",ariaLabel:"엘더베리 유튜브 채널",icon:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}],F=({variant:e="default",sections:a=G,socialLinks:t=U,copyrightText:n,companyName:i="엘더베리",companyDescription:r="고령층을 위한 맞춤형 시설 추천 및 건강 관리 서비스",contactInfo:l,showNewsletter:o=!0,className:s=""})=>{const{isDarkMode:c}=M(),d=`© ${(new Date).getFullYear()} ${i}. 모든 권리 보유.`,h=["linear-footer",`footer-variant-${e}`,c&&"footer-dark",s].filter(Boolean).join(" "),m=e=>g.jsxs("a",{href:e.href,target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,className:"footer-link linear-text-secondary hover:linear-text-accent",children:[e.icon&&g.jsx("span",{className:"link-icon",children:e.icon}),e.label]},e.id);return g.jsx("footer",{className:h,role:"contentinfo",children:g.jsxs("div",{className:"footer-container",children:[g.jsxs("div",{className:"footer-main",children:[g.jsxs("div",{className:"footer-brand",children:[g.jsx("div",{className:"brand-header",children:g.jsxs("div",{className:"brand-logo",children:[g.jsx("div",{className:"logo-icon linear-gradient-signature",children:g.jsx("span",{className:"logo-text",children:"E"})}),g.jsx("span",{className:"brand-name",children:i})]})}),g.jsx("p",{className:"brand-description linear-text-secondary",children:r}),l&&g.jsxs("div",{className:"contact-info",children:[l.email&&g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),g.jsx("polyline",{points:"22,6 12,13 2,6"})]}),g.jsx("a",{href:`mailto:${l.email}`,className:"linear-text-secondary hover:linear-text-accent",children:l.email})]}),l.phone&&g.jsxs("div",{className:"contact-item",children:[g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),g.jsx("a",{href:`tel:${l.phone}`,className:"linear-text-secondary hover:linear-text-accent",children:l.phone})]}),l.address&&g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),g.jsx("span",{className:"linear-text-secondary",children:l.address})]})]}),g.jsxs("div",{className:"social-links",children:[g.jsx("span",{className:"social-title linear-text-primary",children:"팔로우하기"}),g.jsx("div",{className:"social-icons",children:t.map(e=>g.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"social-link linear-button-ghost","aria-label":e.ariaLabel,title:e.name,children:e.icon},e.id))})]})]}),g.jsx("div",{className:"footer-sections",children:a.map(e=>g.jsxs("div",{className:"footer-section",children:[g.jsx("h3",{className:"section-title linear-text-primary",children:e.title}),g.jsx("ul",{className:"section-links",children:e.links.map(e=>g.jsx("li",{children:m(e)},e.id))})]},e.id))}),o&&g.jsxs("div",{className:"newsletter-section",children:[g.jsx("h3",{className:"section-title linear-text-primary",children:"뉴스레터 구독"}),g.jsx("p",{className:"newsletter-description linear-text-secondary",children:"최신 소식과 유용한 정보를 받아보세요."}),g.jsxs("form",{className:"newsletter-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("input",{type:"email",placeholder:"이메일 주소를 입력하세요",className:"linear-input newsletter-input","aria-label":"뉴스레터 구독을 위한 이메일 주소"}),g.jsx("button",{type:"submit",className:"linear-button-primary newsletter-button",children:"구독하기"})]}),g.jsx("p",{className:"newsletter-notice linear-text-tertiary",children:"구독하시면 개인정보 처리방침에 동의하는 것으로 간주됩니다."})]})]})]}),g.jsx("hr",{className:"linear-separator"}),g.jsxs("div",{className:"footer-bottom",children:[g.jsx("div",{className:"copyright",children:g.jsx("span",{className:"linear-text-secondary",children:n||d})}),g.jsxs("div",{className:"footer-meta",children:[g.jsx("span",{className:"linear-text-tertiary",children:"Made with ❤️ in Korea"}),g.jsx("span",{className:"linear-text-tertiary",children:"•"}),g.jsx("span",{className:"linear-text-tertiary",children:"Linear Design System v2025.1.0"})]})]})]})})},Y=()=>g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"breadcrumb-separator-icon","aria-hidden":"true",children:g.jsx("path",{d:"M9 18l6-6-6-6"})}),J=()=>g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"breadcrumb-home-icon",children:[g.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),g.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),K=({onClick:e,expanded:a})=>g.jsx("button",{onClick:e,className:"breadcrumb-more linear-button-ghost","aria-label":a?"축약하기":"전체 경로 보기",title:a?"축약하기":"전체 경로 보기",children:g.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"more-icon "+(a?"expanded":""),children:[g.jsx("circle",{cx:"12",cy:"12",r:"1"}),g.jsx("circle",{cx:"19",cy:"12",r:"1"}),g.jsx("circle",{cx:"5",cy:"12",r:"1"})]})}),q=({items:e,separator:a=g.jsx(Y,{}),maxItems:t=3,showHomeIcon:n=!0,homeHref:i="/",currentClickable:r=!1,includeStructuredData:l=!0,className:s="",onItemClick:c})=>{var d;const{isDarkMode:h}=M(),[m,p]=f.useState(!1),[b,v]=f.useState(!1);f.useEffect(()=>{const e=()=>{v(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const y=u.useMemo(()=>{if(!b||m||e.length<=t)return e;const a=e[0],n=e.slice(-(t-1));return e.length<=t?e:[a,...n]},[e,b,m,t]),w=b&&!m&&e.length>t,N=u.useMemo(()=>l?{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((e,a)=>o({"@type":"ListItem",position:a+1,name:e.label},e.href&&{item:window.location.origin+e.href}))}:null,[e,l]),k=["linear-breadcrumb",h&&"breadcrumb-dark",b&&"breadcrumb-mobile",m&&"breadcrumb-expanded",s].filter(Boolean).join(" "),x=(e,a,t)=>{const n=e.current||t,i=["breadcrumb-item",n&&"current",e.disabled&&"disabled"].filter(Boolean).join(" "),l=g.jsxs(g.Fragment,{children:[e.icon&&g.jsx("span",{className:"breadcrumb-item-icon",children:e.icon}),g.jsx("span",{className:"breadcrumb-item-label",children:e.label})]});return g.jsx("li",{className:i,children:!e.href||n&&!r?g.jsx("span",{className:"breadcrumb-text "+(n?"linear-text-primary":"linear-text-secondary"),"aria-current":n?"page":void 0,children:l}):g.jsx("a",{href:e.href,className:"breadcrumb-link linear-text-secondary hover:linear-text-accent",onClick:t=>((e,a,t)=>{!e.current||r?e.disabled?t.preventDefault():null==c||c(e,a):t.preventDefault()})(e,a,t),onKeyDown:t=>((e,a,t)=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),null==c||c(e,a))})(e,a,t),"aria-current":n?"page":void 0,"aria-disabled":e.disabled,children:l})},e.id)},T=e=>g.jsx("li",{className:"breadcrumb-separator","aria-hidden":"true",children:a},`separator-${e}`);return g.jsxs("nav",{className:k,"aria-label":"브레드크럼 네비게이션",role:"navigation",children:[N&&g.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{i:JSON.stringify(N)}}),g.jsxs("ol",{className:"breadcrumb-list",children:[n&&(null==(d=y[0])?void 0:d.href)!==i&&g.jsxs(g.Fragment,{children:[g.jsx("li",{className:"breadcrumb-item home-item",children:g.jsx("a",{href:i,className:"breadcrumb-link linear-text-secondary hover:linear-text-accent","aria-label":"홈으로 이동",title:"홈",children:g.jsx(J,{})})}),T("home")]}),y.map((a,t)=>{const n=t===y.length-1,i=w&&t>0?e.length-(y.length-t):t;return g.jsxs(f.Fragment,{children:[w&&1===t&&g.jsxs(g.Fragment,{children:[g.jsx("li",{className:"breadcrumb-item ellipsis-item",children:g.jsx(K,{onClick:()=>p(!m),expanded:m})}),T("ellipsis")]}),x(a,i,n),!n&&T(i)]},a.id)})]})]})},Q=u.memo(({children:e,variant:a="default",initialSidebarState:t="open",showHeader:n=!0,showSidebar:i=!0,showFooter:r=!0,sidebarFixed:l=!0,headerFixed:o=!0,maxWidth:s,className:c="",onSidebarStateChange:d,onLayoutChange:h})=>{const{isDark:m,isHighContrast:b,isReducedMotion:v}=S(),{items:f,showBreadcrumb:y}=(()=>{var e;const a=p(),t=u.useMemo(()=>{var e,t;const n=a.pathname;if(n.startsWith("/auth/")||"/unauthorized"===n||n.startsWith("/linear-demo"))return[];const i=n.split("/").filter(Boolean),r=[];let l="";for(let a=0;a<i.length;a++){l+=`/${i[a]}`;let e=E[l];if(!e)for(const[a,n]of Object.entries(L)){const t=a.split("/").filter(Boolean);if(t.length===i.length){let a=!0;for(let e=0;e<t.length;e++)if(!t[e].startsWith(":")&&t[e]!==i[e]){a=!1;break}if(a){e=n(i);break}}}if(e||(e={label:i[a].charAt(0).toUpperCase()+i[a].slice(1)}),e.hidden)continue;const t=a===i.length-1;r.push({id:l,label:e.label,href:t?void 0:l,icon:e.icon,current:t})}return r.length>0&&"/"!==(null==(e=r[0])?void 0:e.id)&&r.unshift({id:"/",label:"홈",href:"/",icon:null==(t=E["/"])?void 0:t.icon,current:!1}),r},[a.pathname]);return{items:t,currentPage:(null==(e=t.find(e=>e.current))?void 0:e.label)||"",showBreadcrumb:t.length>1}})(),[w,N]=u.useState(t),[k,x]=u.useState(!1),[T,C]=u.useState(!1);u.useEffect(()=>{const e=()=>{const e=window.innerWidth,a=e<=480,t=e<=768&&e>480;x(a),C(t),a&&"open"===w&&N("hidden")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[w]);const M=u.useCallback(e=>{N(e),null==d||d(e)},[d]),H=u.useCallback(()=>{N(k?e=>"open"===e?"hidden":"open":e=>"open"===e?"collapsed":"open")},[k]),D=u.useCallback(()=>{k&&"open"===w&&N("hidden")},[k,w]);u.useEffect(()=>{const e=e=>{"Escape"===e.key&&k&&"open"===w&&N("hidden"),e.altKey&&"s"===e.key&&(e.preventDefault(),H())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[k,w,H]);const I=["linear-main-layout",`layout-variant-${a}`,"hidden"!==w?`sidebar-${w}`:"sidebar-hidden",m?"layout-dark":"layout-light",k?"layout-mobile":T?"layout-tablet":"layout-desktop",o&&"header-fixed",l&&"sidebar-fixed",v&&"reduced-motion",c].filter(Boolean).join(" "),B=i&&"hidden"!==w,$=k&&"open"===w;return g.jsxs("div",{className:I,children:[n&&g.jsx(z,{sidebarState:w,onToggleSidebar:H,variant:a,isMobile:k,fixed:o,className:o?"header-fixed":""}),$&&g.jsx("div",{className:"sidebar-overlay",onClick:D,"aria-hidden":"true"}),g.jsxs("div",{className:"main-container",children:[B&&g.jsx(V,{state:w,onStateChange:M,isMobile:k,fixed:l,className:l?"sidebar-fixed":""}),g.jsxs("main",{className:"main-content",style:s?{maxWidth:s}:void 0,role:"main","aria-label":"메인 콘텐츠",children:[y&&g.jsx("div",{className:"breadcrumb-container",children:g.jsx(q,{items:f,showHomeIcon:!0,includeStructuredData:!0,onItemClick:e=>{e.href&&(window.location.href=e.href)}})}),g.jsx("div",{className:"content-wrapper",children:e})]})]}),r&&g.jsx(F,{variant:a,className:"main-footer"})]})}),X=()=>g.jsxs("div",{className:"page-loading",children:[g.jsxs("div",{className:"skeleton-header",children:[g.jsx("div",{className:"skeleton-line skeleton-title"}),g.jsx("div",{className:"skeleton-line skeleton-description"})]}),g.jsxs("div",{className:"skeleton-content",children:[g.jsx("div",{className:"skeleton-line"}),g.jsx("div",{className:"skeleton-line"}),g.jsx("div",{className:"skeleton-line skeleton-short"})]})]}),Z=({error:e})=>g.jsxs("div",{className:"page-error linear-error",children:[g.jsx("div",{className:"error-icon",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),g.jsxs("div",{className:"error-content",children:[g.jsx("h3",{children:"오류가 발생했습니다"}),g.jsx("p",{children:e})]})]}),ee=({action:e})=>{const a=[`linear-button-${e.variant||"primary"}`,e.loading&&"loading",e.disabled&&"disabled"].filter(Boolean).join(" ");return g.jsxs("button",{onClick:e.onClick,className:a,disabled:e.disabled||e.loading,title:e.tooltip,"aria-label":e.tooltip||e.label,children:[e.loading?g.jsx("div",{className:"button-spinner",children:g.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56"})})}):e.icon&&g.jsx("span",{className:"button-icon",children:e.icon}),g.jsx("span",{children:e.label})]},e.id)},ae=({title:e,description:a,breadcrumbItems:t,actions:n=[],children:i,headerContent:r,sidebar:l,meta:o,maxWidth:s,padding:c="medium",showBreadcrumb:d=!0,showHeaderDivider:h=!0,loading:m=!1,error:u,className:p=""})=>{const{isDarkMode:b}=M();f.useEffect(()=>{if(((null==o?void 0:o.title)||e)&&(document.title=(null==o?void 0:o.title)||e),(null==o?void 0:o.description)||a){const e=document.querySelector('meta[name="description"]');e&&e.setAttribute("content",(null==o?void 0:o.description)||a||"")}if(null==o?void 0:o.keywords){const e=document.querySelector('meta[name="keywords"]');e&&e.setAttribute("content",o.keywords.join(", "))}},[e,a,o]);const v=["linear-page-container",`padding-${c}`,b&&"page-dark",l&&"has-sidebar",m&&"page-loading-state",u&&"page-error-state",p].filter(Boolean).join(" ");return m?g.jsx("div",{className:v,children:g.jsx(X,{})}):u?g.jsx("div",{className:v,children:g.jsx(Z,{error:u})}):g.jsxs("div",{className:v,style:s?{maxWidth:s}:void 0,children:[d&&t&&t.length>0&&g.jsx("div",{className:"page-breadcrumb-section",children:g.jsx(q,{items:t})}),g.jsxs("header",{className:"page-header",children:[g.jsxs("div",{className:"page-header-main",children:[g.jsxs("div",{className:"page-header-content",children:[g.jsxs("div",{className:"page-title-section",children:[g.jsx("h1",{className:"page-title linear-text-primary",children:e}),a&&g.jsx("p",{className:"page-description linear-text-secondary",children:a})]}),r&&g.jsx("div",{className:"page-header-custom",children:r})]}),n.length>0&&g.jsx("div",{className:"page-actions",children:n.map(e=>g.jsx(ee,{action:e},e.id))})]}),h&&g.jsx("hr",{className:"linear-separator page-header-divider"})]}),g.jsx("div",{className:"page-main",children:l?g.jsxs("div",{className:"page-content-with-sidebar",children:[g.jsx("main",{className:"page-content",role:"main",children:i}),g.jsx("aside",{className:"page-sidebar",role:"complementary",children:l})]}):g.jsx("main",{className:"page-content",role:"main",children:i})}),!1]})};export{Q as M,I as N,ae as P,T,M as a,W as b,_ as c,$ as d,S as u};
