var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,i=(e,s)=>{for(var a in s||(s={}))l.call(s,a)&&n(e,a,s[a]);if(t)for(var a of t(s))r.call(s,a)&&n(e,a,s[a]);return e},c=(e,t)=>s(e,a(t)),o=(e,s,a)=>new Promise((t,l)=>{var r=e=>{try{i(a.next(e))}catch(s){l(s)}},n=e=>{try{i(a.throw(e))}catch(s){l(s)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,n);i((a=a.apply(e,s)).next())});import{c as d,i as m,r as x,j as u,g as p,k as h,S as j,F as g,C as b,ay as y,p as f,$ as N,m as v,a2 as w,_ as E,f as L,t as P,A as T,v as C,u as S,h as J,w as R,B as A,x as k,y as O,az as M,a as I,z as $,M as D,P as _}from"./react-vendor-BYDInCC8.js";import{u as U,M as z,B as Y,C as F,a as q,b as V,c as K}from"./auth-pages-DbafRdK0.js";import{m as W}from"./ui-libs-B_iLp8lQ.js";import{a as X}from"./utils-vhTAaM2j.js";const B=X.create({baseURL:"/api/jobs",timeout:1e4,headers:{"Content-Type":"application/json"}}),G=X.create({baseURL:"/api/job-applications",timeout:1e4,headers:{"Content-Type":"application/json"}}),H=e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e};B.interceptors.request.use(H),G.interceptors.request.use(H);const Q=e=>{var s,a,t,l,r,n,i,c;const o={message:(null==(a=null==(s=e.response)?void 0:s.data)?void 0:a.message)||"네트워크 오류가 발생했습니다.",code:(null==(l=null==(t=e.response)?void 0:t.data)?void 0:l.code)||"NETWORK_ERROR",status:(null==(r=e.response)?void 0:r.status)||500,timestamp:(new Date).toISOString(),path:(null==(n=e.config)?void 0:n.url)||"",details:null==(c=null==(i=e.response)?void 0:i.data)?void 0:c.details};return Promise.reject(o)};B.interceptors.response.use(e=>e,Q),G.interceptors.response.use(e=>e,Q);const Z={getJobs(){return o(this,arguments,function*(e={}){return(yield B.get("",{params:e})).data})},getJob(e){return o(this,null,function*(){return(yield B.get(`/${e}`)).data})},createJob(e){return o(this,null,function*(){return(yield B.post("",e)).data})},updateJob(e,s){return o(this,null,function*(){return(yield B.put(`/${e}`,s)).data})},deleteJob(e){return o(this,null,function*(){yield B.delete(`/${e}`)})},getMyJobs(){return o(this,arguments,function*(e={}){return(yield B.get("/my",{params:e})).data})},getJobStatistics(){return o(this,null,function*(){return(yield B.get("/statistics")).data})},getPopularJobs(e=10){return o(this,null,function*(){return(yield B.get("/popular",{params:{limit:e}})).data})},getLatestJobs(e=10){return o(this,null,function*(){return(yield B.get("/latest",{params:{limit:e}})).data})},getRecommendedJobs(e=10){return o(this,null,function*(){return(yield B.get("/recommended",{params:{limit:e}})).data})},incrementViewCount(e){return o(this,null,function*(){yield B.post(`/${e}/view`)})}},ee={submitApplication(e){return o(this,null,function*(){return(yield G.post("",e)).data})},getMyApplications(){return o(this,arguments,function*(e={}){return(yield G.get("/my",{params:e})).data})},getJobApplications(e){return o(this,arguments,function*(e,s={}){return(yield G.get(`/job/${e}`,{params:s})).data})},getApplication(e){return o(this,null,function*(){return(yield G.get(`/${e}`)).data})},updateApplication(e,s){return o(this,null,function*(){return(yield G.put(`/${e}`,s)).data})},withdrawApplication(e){return o(this,null,function*(){yield G.delete(`/${e}`)})},scheduleInterview(e){return o(this,null,function*(){return(yield G.post("/schedule-interview",e)).data})},updateApplicationStatus(e){return o(this,null,function*(){return(yield G.post("/update-status",e)).data})},getApplicantStatistics(){return o(this,null,function*(){return(yield G.get("/statistics")).data})},checkApplicationExists(e){return o(this,null,function*(){return(yield G.get(`/check/${e}`)).data})}},se={page:0,size:20,sortBy:"postedDate",sortDirection:"desc"},ae={jobs:[],currentJob:null,jobsLoading:!1,jobsError:null,jobsTotalPages:0,jobsCurrentPage:0,jobsTotalElements:0,applications:[],currentApplication:null,applicationsLoading:!1,applicationsError:null,applicationsTotalPages:0,applicationsCurrentPage:0,statistics:null,statisticsLoading:!1,statisticsError:null,searchParams:se},te=d()((e,s)=>c(i({},ae),{loadJobs:a=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const t=i(i({},s().searchParams),a),l=yield Z.getJobs(t);e({jobs:l.content,jobsTotalPages:l.totalPages,jobsCurrentPage:l.page,jobsTotalElements:l.totalElements,searchParams:t,jobsLoading:!1})}catch(t){throw e({jobsLoading:!1,jobsError:t.message||"구인 공고를 불러오는데 실패했습니다."}),t}}),loadJob:s=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const a=yield Z.getJob(s);yield Z.incrementViewCount(s),e({currentJob:a,jobsLoading:!1})}catch(a){throw e({jobsLoading:!1,jobsError:a.message||"구인 공고를 불러오는데 실패했습니다."}),a}}),createJob:s=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const a=yield Z.createJob(s);return e(e=>({jobs:[a,...e.jobs],jobsTotalElements:e.jobsTotalElements+1,jobsLoading:!1})),a}catch(a){throw e({jobsLoading:!1,jobsError:a.message||"구인 공고 등록에 실패했습니다."}),a}}),updateJob:(s,a)=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const t=yield Z.updateJob(s,a);return e(e=>{var a;return{jobs:e.jobs.map(e=>e.id===s?t:e),currentJob:(null==(a=e.currentJob)?void 0:a.id)===s?t:e.currentJob,jobsLoading:!1}}),t}catch(t){throw e({jobsLoading:!1,jobsError:t.message||"구인 공고 수정에 실패했습니다."}),t}}),deleteJob:s=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null}),yield Z.deleteJob(s),e(e=>{var a;return{jobs:e.jobs.filter(e=>e.id!==s),currentJob:(null==(a=e.currentJob)?void 0:a.id)===s?null:e.currentJob,jobsTotalElements:e.jobsTotalElements-1,jobsLoading:!1}})}catch(a){throw e({jobsLoading:!1,jobsError:a.message||"구인 공고 삭제에 실패했습니다."}),a}}),loadMyJobs:a=>o(null,null,function*(){try{e({jobsLoading:!0,jobsError:null});const t=i(i({},s().searchParams),a),l=yield Z.getMyJobs(t);e({jobs:l.content,jobsTotalPages:l.totalPages,jobsCurrentPage:l.page,jobsTotalElements:l.totalElements,searchParams:t,jobsLoading:!1})}catch(t){throw e({jobsLoading:!1,jobsError:t.message||"내 구인 공고를 불러오는데 실패했습니다."}),t}}),incrementJobView:s=>o(null,null,function*(){try{yield Z.incrementViewCount(s),e(e=>{var a;return{jobs:e.jobs.map(e=>e.id===s?c(i({},e),{viewCount:e.viewCount+1}):e),currentJob:(null==(a=e.currentJob)?void 0:a.id)===s?c(i({},e.currentJob),{viewCount:e.currentJob.viewCount+1}):e.currentJob}})}catch(a){}}),submitApplication:s=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const a=yield ee.submitApplication(s);return e(e=>({applications:[a,...e.applications],applicationsLoading:!1})),a}catch(a){throw e({applicationsLoading:!1,applicationsError:a.message||"지원서 제출에 실패했습니다."}),a}}),loadMyApplications:(s=0,a=20)=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const t=yield ee.getMyApplications({page:s,size:a});e({applications:t.content,applicationsTotalPages:t.totalPages,applicationsCurrentPage:t.page,applicationsLoading:!1})}catch(t){throw e({applicationsLoading:!1,applicationsError:t.message||"지원서 목록을 불러오는데 실패했습니다."}),t}}),loadJobApplications:(s,a=0,t=20)=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const l=yield ee.getJobApplications(s,{page:a,size:t});e({applications:l.content,applicationsTotalPages:l.totalPages,applicationsCurrentPage:l.page,applicationsLoading:!1})}catch(l){throw e({applicationsLoading:!1,applicationsError:l.message||"지원서 목록을 불러오는데 실패했습니다."}),l}}),updateApplicationStatus:s=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const a=yield ee.updateApplicationStatus(s);e(e=>{var t;return{applications:e.applications.map(e=>e.id===s.applicationId?a:e),currentApplication:(null==(t=e.currentApplication)?void 0:t.id)===s.applicationId?a:e.currentApplication,applicationsLoading:!1}})}catch(a){throw e({applicationsLoading:!1,applicationsError:a.message||"지원 상태 업데이트에 실패했습니다."}),a}}),scheduleInterview:s=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null});const a=yield ee.scheduleInterview(s);e(e=>{var t;return{applications:e.applications.map(e=>e.id===s.applicationId?a:e),currentApplication:(null==(t=e.currentApplication)?void 0:t.id)===s.applicationId?a:e.currentApplication,applicationsLoading:!1}})}catch(a){throw e({applicationsLoading:!1,applicationsError:a.message||"면접 일정 등록에 실패했습니다."}),a}}),withdrawApplication:s=>o(null,null,function*(){try{e({applicationsLoading:!0,applicationsError:null}),yield ee.withdrawApplication(s),e(e=>{var a;return{applications:e.applications.filter(e=>e.id!==s),currentApplication:(null==(a=e.currentApplication)?void 0:a.id)===s?null:e.currentApplication,applicationsLoading:!1}})}catch(a){throw e({applicationsLoading:!1,applicationsError:a.message||"지원서 취소에 실패했습니다."}),a}}),loadStatistics:()=>o(null,null,function*(){try{e({statisticsLoading:!0,statisticsError:null});const s=yield Z.getJobStatistics();e({statistics:s,statisticsLoading:!1})}catch(s){throw e({statisticsLoading:!1,statisticsError:s.message||"통계를 불러오는데 실패했습니다."}),s}}),setSearchParams:s=>{e(e=>({searchParams:i(i({},e.searchParams),s)}))},resetSearchParams:()=>{e({searchParams:se})},clearJobsError:()=>{e({jobsError:null})},clearApplicationsError:()=>{e({applicationsError:null})},clearStatisticsError:()=>{e({statisticsError:null})},reset:()=>{e(ae)}}));var le=(e=>(e.FULL_TIME="FULL_TIME",e.PART_TIME="PART_TIME",e.CONTRACT="CONTRACT",e.TEMPORARY="TEMPORARY",e))(le||{}),re=(e=>(e.ENTRY="ENTRY",e.JUNIOR="JUNIOR",e.MID="MID",e.SENIOR="SENIOR",e.EXPERT="EXPERT",e))(re||{});const ne={[le.FULL_TIME]:"정규직",[le.PART_TIME]:"시간제",[le.CONTRACT]:"계약직",[le.TEMPORARY]:"임시직"},ie={[re.ENTRY]:"신입",[re.JUNIOR]:"1-3년",[re.MID]:"3-7년",[re.SENIOR]:"7년 이상",[re.EXPERT]:"전문가"},ce=e=>{const s=new Date(e),a=new Date,t=Math.ceil((s.getTime()-a.getTime())/864e5);return t<0?"마감됨":0===t?"오늘 마감":1===t?"내일 마감":t<=7?`${t}일 후 마감`:s.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})},oe=({job:e})=>{const{user:s}=U(),a=(null==s?void 0:s.role)===z.EMPLOYER&&e.employerId===(null==s?void 0:s.id);return u.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},transition:{duration:.2},children:u.jsx(F,{className:"hover:shadow-lg transition-shadow",children:u.jsxs(q,{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-elderberry-600",children:u.jsx(p,{to:`/jobs/${e.id}`,children:e.title})}),e.isUrgent&&u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[u.jsx(f,{className:"w-3 h-3 mr-1"}),"급구"]}),a&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"내 공고"})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4 mb-3",children:[u.jsxs("span",{className:"flex items-center",children:[u.jsx(y,{className:"w-4 h-4 mr-1"}),e.facilityName||e.employerName]}),u.jsxs("span",{className:"flex items-center",children:[u.jsx(N,{className:"w-4 h-4 mr-1"}),e.location]}),u.jsxs("span",{className:"flex items-center",children:[u.jsx(v,{className:"w-4 h-4 mr-1"}),ne[e.employmentType]]})]}),u.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:e.description}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("span",{className:"flex items-center text-green-600 font-medium",children:[u.jsx(w,{className:"w-4 h-4 mr-1"}),(t=e.salaryMin,l=e.salaryMax,t||l?t&&l?`${t.toLocaleString()}원 - ${l.toLocaleString()}원`:t?`${t.toLocaleString()}원 이상`:l?`${l.toLocaleString()}원 이하`:"급여 협의":"급여 협의")]}),u.jsxs("span",{className:"flex items-center text-gray-500",children:[u.jsx(E,{className:"w-4 h-4 mr-1"}),"지원자 ",e.applicationCount,"명"]}),u.jsxs("span",{className:"flex items-center text-gray-500",children:[u.jsx(L,{className:"w-4 h-4 mr-1"}),"조회 ",e.viewCount]})]})})]})}),e.tags&&e.tags.length>0&&u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,3).map((e,s)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700",children:e},s)),e.tags.length>3&&u.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.tags.length-3,"개"]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[u.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[u.jsxs("span",{className:"flex items-center",children:[u.jsx(P,{className:"w-3 h-3 mr-1"}),new Date(e.postedDate).toLocaleDateString("ko-KR")]}),e.applicationDeadline&&u.jsxs("span",{className:"flex items-center",children:[u.jsx(b,{className:"w-3 h-3 mr-1"}),ce(e.applicationDeadline)]})]}),u.jsx(p,{to:`/jobs/${e.id}`,children:u.jsxs(Y,{variant:"outline",size:"sm",children:["자세히 보기",u.jsx(T,{className:"w-4 h-4 ml-1"})]})})]})]})})});var t,l};const de=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[e,s]=m(),{user:a}=U(),{jobs:t,jobsLoading:l,jobsError:r,jobsTotalPages:n,jobsCurrentPage:o,jobsTotalElements:d,searchParams:f,loadJobs:N,setSearchParams:v,clearJobsError:w}=te(),[E,L]=x.useState(e.get("keyword")||""),[P,T]=x.useState(!1),[C,S]=x.useState([]),[J,R]=x.useState([]),[A,k]=x.useState(""),O=(null==a?void 0:a.role)===z.EMPLOYER;x.useEffect(()=>{const s={};e.get("keyword")&&(s.keyword=e.get("keyword")),e.get("location")&&(s.location=e.get("location")),e.get("page")&&(s.page=parseInt(e.get("page"))||0),N(s)},[e]);const M=()=>{const e={page:0,keyword:E||void 0,location:A||void 0,employmentType:C.length>0?C:void 0,experienceLevel:J.length>0?J:void 0};v(e),N(e);const a=new URLSearchParams;E&&a.set("keyword",E),A&&a.set("location",A),s(a)},I=a=>{const t=c(i({},f),{page:a});v(t),N(t);const l=new URLSearchParams(e);l.set("page",a.toString()),s(l)},$=()=>{L(""),k(""),S([]),R([]),v({page:0}),N({page:0}),s({})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:O?"구인 관리":"구인 정보"}),u.jsx("p",{className:"text-gray-600 mt-1",children:O?"등록한 구인 공고를 관리하고 지원자를 확인하세요":"원하는 일자리를 찾아보세요"})]}),O&&u.jsx("div",{className:"mt-4 sm:mt-0",children:u.jsx(p,{to:"/jobs/create",children:u.jsxs(Y,{variant:"primary",children:[u.jsx(h,{className:"w-4 h-4 mr-2"}),"새 공고 등록"]})})})]}),u.jsx(F,{children:u.jsx(q,{className:"p-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"직무, 회사, 키워드 검색...",value:E,onChange:e=>L(e.target.value),onKeyPress:e=>"Enter"===e.key&&M(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500"})]})}),u.jsxs(Y,{variant:"outline",onClick:()=>T(!P),className:"flex items-center",children:[u.jsx(g,{className:"w-4 h-4 mr-2"}),"필터"]}),u.jsx(Y,{variant:"primary",onClick:M,children:"검색"})]}),P&&u.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 pt-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"지역"}),u.jsxs("select",{value:A,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500",children:[u.jsx("option",{value:"",children:"전체 지역"}),u.jsx("option",{value:"서울",children:"서울"}),u.jsx("option",{value:"경기",children:"경기"}),u.jsx("option",{value:"인천",children:"인천"}),u.jsx("option",{value:"부산",children:"부산"}),u.jsx("option",{value:"대구",children:"대구"}),u.jsx("option",{value:"대전",children:"대전"}),u.jsx("option",{value:"광주",children:"광주"}),u.jsx("option",{value:"울산",children:"울산"}),u.jsx("option",{value:"세종",children:"세종"}),u.jsx("option",{value:"강원",children:"강원"}),u.jsx("option",{value:"충북",children:"충북"}),u.jsx("option",{value:"충남",children:"충남"}),u.jsx("option",{value:"전북",children:"전북"}),u.jsx("option",{value:"전남",children:"전남"}),u.jsx("option",{value:"경북",children:"경북"}),u.jsx("option",{value:"경남",children:"경남"}),u.jsx("option",{value:"제주",children:"제주"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"고용 형태"}),u.jsx("div",{className:"space-y-2",children:Object.entries(ne).map(([e,s])=>u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:C.includes(e),onChange:s=>{s.target.checked?S([...C,e]):S(C.filter(s=>s!==e))},className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s})]},e))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"경력 수준"}),u.jsx("div",{className:"space-y-2",children:Object.entries(ie).map(([e,s])=>u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:J.includes(e),onChange:s=>{s.target.checked?R([...J,e]):R(J.filter(s=>s!==e))},className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s})]},e))})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx(Y,{variant:"outline",onClick:$,children:"초기화"}),u.jsx(Y,{variant:"primary",onClick:M,children:"필터 적용"})]})]})]})})}),r&&u.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[u.jsx(b,{className:"w-5 h-5 flex-shrink-0"}),u.jsx("span",{className:"text-sm",children:r}),u.jsx("button",{onClick:w,className:"ml-auto text-red-600 hover:text-red-800",children:"✕"})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("p",{className:"text-sm text-gray-600",children:["총 ",u.jsx("span",{className:"font-semibold text-elderberry-600",children:d}),"개의 공고가 있습니다",E&&u.jsxs("span",{children:[" ('",E,"' 검색 결과)"]})]})}),l?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>u.jsx("div",{className:"animate-pulse",children:u.jsx(F,{children:u.jsxs(q,{className:"p-6",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-4"}),u.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})})},s))}):t.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,s)=>u.jsx(oe,{job:e},e.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(y,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"검색 결과가 없습니다"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"다른 키워드로 검색하거나 필터를 조정해보세요"}),u.jsx(Y,{variant:"outline",onClick:$,children:"검색 조건 초기화"})]}),n>1&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Y,{variant:"outline",disabled:0===o,onClick:()=>I(o-1),children:"이전"}),[...Array(Math.min(5,n))].map((e,s)=>{const a=Math.max(0,Math.min(o-2,n-5))+s;return a>=n?null:u.jsx(Y,{variant:a===o?"primary":"outline",onClick:()=>I(a),children:a+1},a)}),u.jsx(Y,{variant:"outline",disabled:o>=n-1,onClick:()=>I(o+1),children:"다음"})]})})]})}},Symbol.toStringTag,{value:"Module"})),me={FULL_TIME:"정규직",PART_TIME:"시간제",CONTRACT:"계약직",TEMPORARY:"임시직"},xe={ENTRY:"신입",JUNIOR:"1-3년",MID:"3-7년",SENIOR:"7년 이상",EXPERT:"전문가"},ue=(e,s)=>e||s?e&&s?`${e.toLocaleString()}원 - ${s.toLocaleString()}원`:e?`${e.toLocaleString()}원 이상`:s?`${s.toLocaleString()}원 이하`:"급여 협의":"급여 협의",pe=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),he=({job:e,isOpen:s,onClose:a,onSubmit:t})=>{const[l,r]=x.useState(""),[n,i]=x.useState(null),[c,d]=x.useState(!1);if(!s)return null;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsx(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"지원서 작성"}),u.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),u.jsx("p",{className:"text-sm text-gray-600",children:e.facilityName||e.employerName})]}),u.jsxs("form",{onSubmit:s=>o(null,null,function*(){if(s.preventDefault(),l.trim())try{d(!0);const s=n?"uploaded-resume-url":void 0;yield t({jobId:e.id,coverLetter:l.trim(),resumeUrl:s}),a(),r(""),i(null)}catch(c){}finally{d(!1)}else alert("자기소개서를 작성해주세요.")}),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["자기소개서 ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{value:l,onChange:e=>r(e.target.value),placeholder:"지원 동기, 관련 경험, 포부 등을 작성해주세요.",className:"w-full h-40 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 resize-none",required:!0}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length,"/1000자"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이력서 첨부 (선택)"}),u.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>{var s;return i((null==(s=e.target.files)?void 0:s[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, DOCX 파일만 업로드 가능합니다."})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(Y,{type:"button",variant:"outline",onClick:a,className:"flex-1",children:"취소"}),u.jsx(Y,{type:"submit",variant:"primary",loading:c,className:"flex-1",children:c?"제출 중...":"지원하기"})]})]})]})})})};const je=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{id:e}=C(),s=S(),{user:a}=U(),{currentJob:t,jobsLoading:l,jobsError:r,loadJob:n,deleteJob:i,submitApplication:c,clearJobsError:d}=te(),[m,h]=x.useState(!1),[j,g]=x.useState(!1),[y,T]=x.useState(null),[W,X]=x.useState(!1),B=parseInt(e||"0"),G=(null==a?void 0:a.role)===z.EMPLOYER,H=t&&G&&t.employerId===(null==a?void 0:a.id),Q=(null==a?void 0:a.role)===z.CAREGIVER&&t&&!j;if(x.useEffect(()=>{B&&n(B)},[B]),x.useEffect(()=>{o(null,null,function*(){if(t&&(null==a?void 0:a.role)===z.CAREGIVER)try{X(!0);const e=yield ee.checkApplicationExists(t.id);g(e.exists),T(e.applicationId||null)}catch(e){}finally{X(!1)}})},[t,a]),l)return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-8"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"h-64 bg-gray-200 rounded"}),u.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})});if(r||!t)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx(b,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"구인 공고를 찾을 수 없습니다"}),u.jsx("p",{className:"text-gray-600 mb-4",children:r||"요청한 구인 공고가 존재하지 않거나 삭제되었습니다."}),u.jsxs("div",{className:"space-x-3",children:[u.jsxs(Y,{variant:"outline",onClick:()=>s(-1),children:[u.jsx(J,{className:"w-4 h-4 mr-2"}),"뒤로 가기"]}),u.jsx(p,{to:"/jobs",children:u.jsx(Y,{variant:"primary",children:"구인 목록 보기"})})]})]});const Z=(e=>{if(!e)return null;const s=new Date(e),a=new Date,t=Math.ceil((s.getTime()-a.getTime())/864e5);return t<0?{text:"마감됨",color:"text-red-600",urgent:!1}:0===t?{text:"오늘 마감",color:"text-red-600",urgent:!0}:1===t?{text:"내일 마감",color:"text-orange-600",urgent:!0}:t<=7?{text:`${t}일 후 마감`,color:"text-orange-600",urgent:!0}:{text:`${t}일 후 마감`,color:"text-green-600",urgent:!1}})(t.applicationDeadline);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs(Y,{variant:"outline",onClick:()=>s(-1),className:"flex items-center",children:[u.jsx(J,{className:"w-4 h-4 mr-2"}),"뒤로"]}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs(Y,{variant:"outline",onClick:()=>o(null,null,function*(){if(navigator.share)try{yield navigator.share({title:null==t?void 0:t.title,text:null==t?void 0:t.description,url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href),alert("링크가 클립보드에 복사되었습니다!")}),children:[u.jsx(R,{className:"w-4 h-4 mr-2"}),"공유"]}),!G&&u.jsxs(Y,{variant:"outline",children:[u.jsx(A,{className:"w-4 h-4 mr-2"}),"북마크"]}),H&&u.jsxs(u.Fragment,{children:[u.jsx(p,{to:`/jobs/${t.id}/edit`,children:u.jsxs(Y,{variant:"outline",children:[u.jsx(k,{className:"w-4 h-4 mr-2"}),"수정"]})}),u.jsxs(Y,{variant:"outline",onClick:()=>o(null,null,function*(){if(t&&window.confirm("정말로 이 구인 공고를 삭제하시겠습니까?"))try{yield i(t.id),s("/jobs")}catch(e){}}),children:[u.jsx(O,{className:"w-4 h-4 mr-2"}),"삭제"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx(F,{children:u.jsxs(q,{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.title}),t.isUrgent&&u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[u.jsx(f,{className:"w-3 h-3 mr-1"}),"급구"]}),H&&u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"내 공고"})]}),u.jsxs("div",{className:"flex items-center text-gray-600 space-x-4 mb-4",children:[u.jsxs("span",{className:"flex items-center",children:[u.jsx(M,{className:"w-4 h-4 mr-1"}),t.facilityName||t.employerName]}),u.jsxs("span",{className:"flex items-center",children:[u.jsx(N,{className:"w-4 h-4 mr-1"}),t.location]}),u.jsxs("span",{className:"flex items-center",children:[u.jsx(v,{className:"w-4 h-4 mr-1"}),me[t.employmentType]]})]}),u.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[u.jsxs("span",{className:"flex items-center text-green-600 font-semibold",children:[u.jsx(w,{className:"w-4 h-4 mr-1"}),ue(t.salaryMin,t.salaryMax)]}),u.jsxs("span",{className:"flex items-center text-gray-500",children:[u.jsx(E,{className:"w-4 h-4 mr-1"}),"지원자 ",t.applicationCount,"명"]}),u.jsxs("span",{className:"flex items-center text-gray-500",children:[u.jsx(L,{className:"w-4 h-4 mr-1"}),"조회 ",t.viewCount]}),u.jsxs("span",{className:"flex items-center text-gray-500",children:[u.jsx(P,{className:"w-4 h-4 mr-1"}),pe(t.postedDate)]})]})]})}),Z&&u.jsxs("div",{className:"flex items-center p-3 rounded-lg "+(Z.urgent?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"),children:[u.jsx(b,{className:`w-4 h-4 mr-2 ${Z.color}`}),u.jsx("span",{className:`text-sm font-medium ${Z.color}`,children:Z.text})]})]})}),u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"구인 내용"})}),u.jsx(q,{className:"prose max-w-none",children:u.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:t.description})})]}),t.requirements&&t.requirements.length>0&&u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"자격 요건"})}),u.jsx(q,{children:u.jsx("ul",{className:"space-y-2",children:t.requirements.map((e,s)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx(I,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),u.jsx("span",{className:"text-gray-700",children:e})]},s))})})]}),t.benefits&&t.benefits.length>0&&u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"복리후생"})}),u.jsx(q,{children:u.jsx("ul",{className:"space-y-2",children:t.benefits.map((e,s)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx(f,{className:"w-4 h-4 text-elderberry-500 mr-2 mt-0.5 flex-shrink-0"}),u.jsx("span",{className:"text-gray-700",children:e})]},s))})})]}),t.tags&&t.tags.length>0&&u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"관련 태그"})}),u.jsx(q,{children:u.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((e,s)=>u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-elderberry-100 text-elderberry-700",children:e},s))})})]})]}),u.jsxs("div",{className:"space-y-6",children:[Q&&u.jsx(F,{children:u.jsxs(q,{className:"p-6",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"이 공고에 지원하기"}),W?u.jsx("div",{className:"text-center py-4",children:u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-elderberry-600 mx-auto"})}):j?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center text-green-600",children:[u.jsx(I,{className:"w-5 h-5 mr-2"}),u.jsx("span",{className:"font-medium",children:"지원 완료"})]}),u.jsx("p",{className:"text-sm text-gray-600",children:"이미 이 공고에 지원하셨습니다."}),y&&u.jsx(p,{to:`/applications/${y}`,children:u.jsx(Y,{variant:"outline",fullWidth:!0,children:"지원서 확인"})})]}):u.jsxs(Y,{variant:"primary",fullWidth:!0,onClick:()=>h(!0),disabled:"OPEN"!==t.status,children:[u.jsx($,{className:"w-4 h-4 mr-2"}),"지원하기"]})]})}),u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"구인 정보"})}),u.jsxs(q,{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"고용 형태"}),u.jsx("span",{className:"font-medium",children:me[t.employmentType]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"경력"}),u.jsx("span",{className:"font-medium",children:xe[t.experienceLevel]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"급여"}),u.jsx("span",{className:"font-medium",children:ue(t.salaryMin,t.salaryMax)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"근무 일정"}),u.jsx("span",{className:"font-medium",children:t.workSchedule})]}),t.applicationDeadline&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"마감일"}),u.jsx("span",{className:"font-medium",children:pe(t.applicationDeadline)})]})]})]}),u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"연락처"})}),u.jsxs(q,{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(D,{className:"w-4 h-4 text-gray-400 mr-3"}),u.jsx("span",{className:"text-gray-700",children:t.contactEmail})]}),t.contactPhone&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(_,{className:"w-4 h-4 text-gray-400 mr-3"}),u.jsx("span",{className:"text-gray-700",children:t.contactPhone})]})]})]}),H&&u.jsxs(F,{children:[u.jsx(V,{children:u.jsx(K,{children:"관리"})}),u.jsxs(q,{className:"space-y-3",children:[u.jsx(p,{to:`/jobs/${t.id}/applications`,children:u.jsxs(Y,{variant:"outline",fullWidth:!0,children:[u.jsx(E,{className:"w-4 h-4 mr-2"}),"지원자 관리 (",t.applicationCount,")"]})}),u.jsx(p,{to:`/jobs/${t.id}/edit`,children:u.jsxs(Y,{variant:"outline",fullWidth:!0,children:[u.jsx(k,{className:"w-4 h-4 mr-2"}),"공고 수정"]})})]})]})]})]}),u.jsx(he,{job:t,isOpen:m,onClose:()=>h(!1),onSubmit:e=>o(null,null,function*(){try{yield c(e),g(!0),alert("지원서가 성공적으로 제출되었습니다!")}catch(s){throw alert("지원서 제출에 실패했습니다. 다시 시도해주세요."),s}})})]})}},Symbol.toStringTag,{value:"Module"}));export{de as J,je as a,te as u};
