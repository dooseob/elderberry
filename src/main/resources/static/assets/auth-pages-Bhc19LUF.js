var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(r,s,t)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t,i=(e,r)=>{for(var s in r||(r={}))a.call(r,s)&&l(e,s,r[s]);if(t)for(var s of t(r))n.call(r,s)&&l(e,s,r[s]);return e},o=(e,t)=>r(e,s(t)),c=(e,r)=>{var s={};for(var l in e)a.call(e,l)&&r.indexOf(l)<0&&(s[l]=e[l]);if(null!=e&&t)for(var l of t(e))r.indexOf(l)<0&&n.call(e,l)&&(s[l]=e[l]);return s},d=(e,r,s)=>new Promise((t,a)=>{var n=e=>{try{i(s.next(e))}catch(r){a(r)}},l=e=>{try{i(s.throw(e))}catch(r){a(r)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,l);i((s=s.apply(e,r)).next())});import{c as m,r as u,j as x,L as h,I as p,T as f,C as y,a as b,X as g,u as N,b as v,d as j,M as w,e as E,E as T,f as R,g as O,A as S,h as A,U as C,P as I}from"./react-vendor-BYDInCC8.js";import{a as k,c as _,t as L,o as P,s as D,b as U,n as M}from"./utils-vhTAaM2j.js";import{m as K}from"./ui-libs-B_iLp8lQ.js";import{p as $}from"./state-management-DUuJHh35.js";import{t as F,c as V}from"./vendor-CMX8VuvJ.js";function H(e){return"object"==typeof e&&null!==e&&"message"in e&&"code"in e&&"status"in e&&"timestamp"in e&&"path"in e}function z(e){return e instanceof Error&&"code"in e&&["NETWORK_ERROR","TIMEOUT_ERROR","CONNECTION_ERROR"].includes(e.code)}function B(e){return H(e)&&["UNAUTHORIZED","FORBIDDEN","TOKEN_EXPIRED","INVALID_CREDENTIALS"].includes(e.code)}function W(e){return H(e)&&["VALIDATION_FAILED","RESOURCE_NOT_FOUND","BUSINESS_RULE_VIOLATION"].includes(e.code)}function Z(e){return H(e)&&["INTERNAL_ERROR","SERVICE_UNAVAILABLE","DATABASE_ERROR"].includes(e.code)}function G(e,r){if(H(e)||z(e))return e;if(e instanceof Error){return{name:e.name,message:e.message,code:"NETWORK_ERROR",stack:e.stack}}if("string"==typeof e){return{name:"Error",message:e,code:"NETWORK_ERROR"}}if("object"==typeof e&&null!==e){const s=e;if("response"in s&&"object"==typeof s.response&&null!==s.response){const e=s.response;if("data"in e&&"object"==typeof e.data&&null!==e.data){const s=e.data;return{message:s.message||"알 수 없는 오류가 발생했습니다.",code:s.code||"UNKNOWN_ERROR",status:e.status||500,timestamp:s.timestamp||(new Date).toISOString(),path:s.path||(null==r?void 0:r.route)||"",details:s.details||{}}}}return{message:s.message||"알 수 없는 오류가 발생했습니다.",code:s.code||"UNKNOWN_ERROR",status:s.status||500,timestamp:(new Date).toISOString(),path:(null==r?void 0:r.route)||"",details:s}}return{message:"알 수 없는 오류가 발생했습니다.",code:"UNKNOWN_ERROR",status:500,timestamp:(new Date).toISOString(),path:(null==r?void 0:r.route)||""}}function Y(e,r){const s=function(e){return z(e)?"NETWORK":B(e)?"AUTH":W(e)?"BUSINESS":Z(e)?"SYSTEM":H(e)?"VALIDATION":"UNKNOWN"}(e),t=function(e){return B(e)?"UNAUTHORIZED"===e.code?"HIGH":"MEDIUM":Z(e)?"CRITICAL":z(e)?"MEDIUM":W(e)?"LOW":"MEDIUM"}(e);return{category:s,severity:t,message:e.message,details:"details"in e?e.details:void 0,timestamp:new Date,userMessage:q(e)}}function q(e){if(B(e))switch(e.code){case"UNAUTHORIZED":return"로그인이 필요합니다.";case"FORBIDDEN":return"접근 권한이 없습니다.";case"TOKEN_EXPIRED":return"세션이 만료되었습니다. 다시 로그인해주세요.";case"INVALID_CREDENTIALS":return"이메일 또는 비밀번호가 올바르지 않습니다.";default:return"인증 오류가 발생했습니다."}if(z(e))switch(e.code){case"NETWORK_ERROR":return"네트워크 연결을 확인해주세요.";case"TIMEOUT_ERROR":return"요청 시간이 초과되었습니다. 잠시 후 다시 시도해주세요.";case"CONNECTION_ERROR":return"서버에 연결할 수 없습니다.";default:return"네트워크 오류가 발생했습니다."}if(W(e))switch(e.code){case"VALIDATION_FAILED":return"입력 정보를 확인해주세요.";case"RESOURCE_NOT_FOUND":return"요청하신 정보를 찾을 수 없습니다.";case"BUSINESS_RULE_VIOLATION":return"비즈니스 규칙 위반입니다.";default:return"처리 중 오류가 발생했습니다."}if(Z(e))switch(e.code){case"INTERNAL_ERROR":return"시스템 오류가 발생했습니다. 관리자에게 문의해주세요.";case"SERVICE_UNAVAILABLE":return"서비스가 일시적으로 사용할 수 없습니다.";case"DATABASE_ERROR":return"데이터 처리 중 오류가 발생했습니다.";default:return"시스템 오류가 발생했습니다."}return e.message||"알 수 없는 오류가 발생했습니다."}const J={error:(e,r)=>{Y(G(e,r))},warn:(e,r)=>{G(e,r)},info:(e,r)=>{}},X=k.create({baseURL:"/api/auth",timeout:1e4,headers:{"Content-Type":"application/json"}}),Q=k.create({baseURL:"/api/members",timeout:1e4,headers:{"Content-Type":"application/json"}});X.interceptors.request.use(e=>{const r=localStorage.getItem("accessToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e}),Q.interceptors.request.use(e=>{const r=localStorage.getItem("accessToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e});const ee=e=>{var r;const s={component:"authApi",route:(null==(r=null==e?void 0:e.config)?void 0:r.url)||""},t=G(e,s);return J.error(t,s),Promise.reject(t)};X.interceptors.response.use(e=>e,ee),Q.interceptors.response.use(e=>e,ee);const re={login(e){return d(this,null,function*(){return(yield X.post("/login",e)).data})},register(e){return d(this,null,function*(){return(yield X.post("/signup",e)).data})},logout(){return d(this,null,function*(){yield X.post("/logout")})},refreshToken(e){return d(this,null,function*(){return(yield X.post("/refresh",e)).data})},validateToken(e){return d(this,null,function*(){return(yield X.post("/validate",e)).data})},invalidateAllTokens(){return d(this,null,function*(){yield X.post("/invalidate-all")})},getActiveTokens(){return d(this,null,function*(){return(yield X.get("/active-tokens")).data})},invalidateToken(e){return d(this,null,function*(){yield X.post(`/invalidate/${e}`)})},getTokenMetadata(){return d(this,null,function*(){return(yield X.get("/token-metadata")).data})}},se={getProfile(){return d(this,null,function*(){return(yield Q.get("/profile")).data})},updateProfile(e){return d(this,null,function*(){return(yield Q.put("/profile",e)).data})},deleteAccount(){return d(this,null,function*(){yield Q.delete("/profile")})},getMember(e){return d(this,null,function*(){return(yield Q.get(`/${e}`)).data})},getAllMembers(){return d(this,null,function*(){return(yield Q.get("")).data})},getMembersByRole(e){return d(this,null,function*(){return(yield Q.get(`/role/${e}`)).data})},createMember(e){return d(this,null,function*(){return(yield Q.post("",e)).data})},updateMember(e,r){return d(this,null,function*(){return(yield Q.put(`/${e}`,r)).data})},deleteMember(e){return d(this,null,function*(){yield Q.delete(`/${e}`)})}},te={ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken",USER:"user"},ae=e=>{try{return localStorage.getItem(te[e])}catch(r){return null}},ne=(e,r)=>{try{localStorage.setItem(te[e],r)}catch(s){}},le=e=>{try{localStorage.removeItem(te[e])}catch(r){}},ie=e=>{try{localStorage.setItem(te.USER,JSON.stringify(e))}catch(r){}},oe=()=>{try{localStorage.removeItem(te.USER)}catch(e){}},ce={user:(()=>{try{const e=localStorage.getItem(te.USER);return e?JSON.parse(e):null}catch(e){return null}})(),accessToken:ae("ACCESS_TOKEN"),refreshToken:ae("REFRESH_TOKEN"),isAuthenticated:!!ae("ACCESS_TOKEN"),isLoading:!1,error:null},de=m()($((e,r)=>o(i({},ce),{login:r=>d(null,null,function*(){try{e({isLoading:!0,error:null});const s=yield re.login(r),t={id:s.memberInfo.id,email:s.memberInfo.email,name:s.memberInfo.name,role:s.memberInfo.role,profileCompletionRate:s.memberInfo.profileCompletionRate,isActive:s.memberInfo.isActive};ne("ACCESS_TOKEN",s.accessToken),ne("REFRESH_TOKEN",s.refreshToken),ie(t),e({user:t,accessToken:s.accessToken,refreshToken:s.refreshToken,isAuthenticated:!0,isLoading:!1,error:null})}catch(s){const r={component:"authStore",action:"login"},t=G(s,r);throw J.error(t,r),e({isLoading:!1,error:t.message||"로그인에 실패했습니다."}),t}}),register:r=>d(null,null,function*(){try{e({isLoading:!0,error:null});const s=yield re.register(r),t={id:s.memberInfo.id,email:s.memberInfo.email,name:s.memberInfo.name,role:s.memberInfo.role,profileCompletionRate:s.memberInfo.profileCompletionRate,isActive:s.memberInfo.isActive};ne("ACCESS_TOKEN",s.accessToken),ne("REFRESH_TOKEN",s.refreshToken),ie(t),e({user:t,accessToken:s.accessToken,refreshToken:s.refreshToken,isAuthenticated:!0,isLoading:!1,error:null})}catch(s){const r={component:"authStore",action:"register"},t=G(s,r);throw J.error(t,r),e({isLoading:!1,error:t.message||"회원가입에 실패했습니다."}),t}}),logout:()=>d(null,null,function*(){try{e({isLoading:!0}),yield re.logout()}catch(r){J.warn(r,{component:"authStore",action:"logout"})}finally{le("ACCESS_TOKEN"),le("REFRESH_TOKEN"),oe(),e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null})}}),refreshToken:()=>d(null,null,function*(){try{const{refreshToken:s}=r();if(!s)throw new Error("리프레시 토큰이 없습니다.");const t=yield re.refreshToken({refreshToken:s}),a={id:t.memberInfo.id,email:t.memberInfo.email,name:t.memberInfo.name,role:t.memberInfo.role,profileCompletionRate:t.memberInfo.profileCompletionRate,isActive:t.memberInfo.isActive};ne("ACCESS_TOKEN",t.accessToken),ne("REFRESH_TOKEN",t.refreshToken),ie(a),e({user:a,accessToken:t.accessToken,refreshToken:t.refreshToken,isAuthenticated:!0,error:null})}catch(s){const e={component:"authStore",action:"refreshToken"},t=G(s,e);throw J.error(t,e),r().logout(),t}}),refreshUser:()=>d(null,null,function*(){try{e({isLoading:!0});const r=yield se.getProfile(),s={id:r.id,email:r.email,name:r.name,role:r.role,profileCompletionRate:r.profileCompletionRate,isActive:r.isActive};ie(s),e({user:s,isLoading:!1,error:null})}catch(r){const s={component:"authStore",action:"refreshUser"},t=G(r,s);throw J.error(t,s),e({isLoading:!1,error:t.message||"사용자 정보 조회에 실패했습니다."}),t}}),updateProfile:r=>d(null,null,function*(){try{e({isLoading:!0,error:null});const s=yield se.updateProfile(r),t={id:s.id,email:s.email,name:s.name,role:s.role,profileCompletionRate:s.profileCompletionRate,isActive:s.isActive};ie(t),e({user:t,isLoading:!1,error:null})}catch(s){const r={component:"authStore",action:"updateProfile"},t=G(s,r);throw J.error(t,r),e({isLoading:!1,error:t.message||"프로필 업데이트에 실패했습니다."}),t}}),validateToken:()=>d(null,null,function*(){try{const{accessToken:e}=r();if(!e)return!1;return(yield re.validateToken({token:e})).valid}catch(e){return J.warn(e,{component:"authStore",action:"validateToken"}),!1}}),clearError:()=>{e({error:null})},setLoading:r=>{e({isLoading:r})},reset:()=>{le("ACCESS_TOKEN"),le("REFRESH_TOKEN"),oe(),e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null})}}),{name:"elderberry-auth",partialize:e=>({isAuthenticated:e.isAuthenticated})}));var me=(e=>(e.CAREGIVER="CAREGIVER",e.COORDINATOR="COORDINATOR",e.EMPLOYER="EMPLOYER",e.ADMIN="ADMIN",e))(me||{});function ue(...e){return F(_(e))}const xe=V("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-elderberry-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 min-h-[44px] min-w-[44px]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",primary:"bg-elderberry-600 text-white hover:bg-elderberry-700 focus:ring-elderberry-500 shadow-sm rounded-lg",care:"bg-care-green text-white hover:bg-green-600 focus:ring-green-500 shadow-sm rounded-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=u.forwardRef((e,r)=>{var s=e,{className:t,variant:a,size:n,loading:l=!1,fullWidth:d=!1,children:m,disabled:u,"aria-label":p}=s,f=c(s,["className","variant","size","loading","fullWidth","children","disabled","aria-label"]);const y=u||l,b=d?"w-full":"",g=l&&!p?"로딩 중...":p;return x.jsxs(K.button,o(i({className:ue(xe({variant:a,size:n,className:t}),b),ref:r,disabled:y,whileHover:y?{}:{scale:1.02},whileTap:y?{}:{scale:.98},transition:{duration:.1},"aria-label":g,"aria-busy":l},f),{children:[l&&x.jsx(h,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),m]}))});function pe(){const[e,r]=u.useState([]),s=u.useCallback((e,s,t)=>{const a=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n={id:a,type:e,title:s,description:null==t?void 0:t.description,duration:(null==t?void 0:t.duration)||5e3,action:null==t?void 0:t.action};if(r(e=>[...e,n]),"undefined"!=typeof window){!function(e,r="polite"){const s=document.createElement("div");s.setAttribute("aria-live",r),s.setAttribute("aria-atomic","true"),s.className="sr-only",document.body.appendChild(s),setTimeout(()=>{s.textContent=e},100),setTimeout(()=>{document.body.removeChild(s)},3e3)}(`${s}${(null==t?void 0:t.description)?`. ${t.description}`:""}`,"error"===e?"assertive":"polite")}return a},[]),t=u.useCallback(e=>{r(r=>r.filter(r=>r.id!==e))},[]),a=u.useCallback(()=>{r([])},[]),n=u.useCallback((e,r)=>s("success",e,r),[s]),l=u.useCallback((e,r)=>s("error",e,r),[s]),i=u.useCallback((e,r)=>s("warning",e,r),[s]),o=u.useCallback((e,r)=>s("info",e,r),[s]);return{toasts:e,addToast:s,removeToast:t,clearAllToasts:a,success:n,error:l,warning:i,info:o}}he.displayName="Button";const fe=({id:e,type:r,title:s,description:t,duration:a=5e3,action:n,onClose:l})=>{u.useEffect(()=>{if(a>0){const e=setTimeout(l,a);return()=>clearTimeout(e)}},[a,l]);const i={success:b,error:y,warning:f,info:p}[r];return x.jsxs(K.div,{initial:{opacity:0,x:100,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{duration:.2},className:`\n        min-w-80 max-w-md p-4 rounded-lg border shadow-lg ${{success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[r]}\n        relative flex items-start space-x-3\n      `,role:"alert","aria-live":"assertive",children:[x.jsx(i,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"font-medium text-sm",children:s}),t&&x.jsx("p",{className:"text-sm opacity-90 mt-1",children:t}),n&&x.jsx("button",{onClick:n.onClick,className:"mt-2 text-sm font-medium underline hover:no-underline",children:n.label})]}),x.jsx("button",{onClick:l,className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity","aria-label":"알림 닫기",children:x.jsx(g,{className:"w-4 h-4"})})]})},ye=u.createContext(null),be=({children:e})=>{const r=pe();return x.jsxs(ye.Provider,{value:r,children:[e,x.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2","aria-live":"polite","aria-label":"알림 메시지",children:r.toasts.map(e=>x.jsx(fe,o(i({},e),{onClose:()=>r.removeToast(e.id)}),e.id))})]})},ge=u.forwardRef((e,r)=>{var s=e,{children:t,className:a,padding:n="md",shadow:l="sm",hover:d=!1,onClick:m}=s,u=c(s,["children","className","padding","shadow","hover","onClick"]);const h=m?"cursor-pointer transition-all duration-200":"",p=d?"hover:shadow-lg hover:border-elderberry-200 hover:-translate-y-1":"",f=m?K.div:"div",y=m?{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1}}:{};return x.jsx(f,o(i(i({ref:r,className:ue("bg-white rounded-xl border border-elderberry-100",{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[n],{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[l],h,p,a),onClick:m},y),u),{children:t}))});ge.displayName="Card";const Ne=u.forwardRef((e,r)=>{var s=e,{className:t}=s,a=c(s,["className"]);return x.jsx("div",i({ref:r,className:ue("flex flex-col space-y-1.5 p-6",t)},a))});Ne.displayName="CardHeader";const ve=u.forwardRef((e,r)=>{var s=e,{className:t,children:a}=s,n=c(s,["className","children"]);return x.jsx("h3",o(i({ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight",t)},n),{children:a}))});ve.displayName="CardTitle";const je=u.forwardRef((e,r)=>{var s=e,{className:t}=s,a=c(s,["className"]);return x.jsx("p",i({ref:r,className:ue("text-sm text-muted-foreground",t)},a))});je.displayName="CardDescription";const we=u.forwardRef((e,r)=>{var s=e,{className:t}=s,a=c(s,["className"]);return x.jsx("div",i({ref:r,className:ue("p-6 pt-0",t)},a))});we.displayName="CardContent";const Ee=u.forwardRef((e,r)=>{var s=e,{className:t}=s,a=c(s,["className"]);return x.jsx("div",i({ref:r,className:ue("flex items-center p-6 pt-0",t)},a))});Ee.displayName="CardFooter";const Te=P({email:D().min(1,"이메일을 입력해주세요").email("올바른 이메일 형식이 아닙니다"),password:D().min(1,"비밀번호를 입력해주세요").min(6,"비밀번호는 최소 6자 이상이어야 합니다")});const Re=Object.freeze(Object.defineProperty({__proto__:null,default:function(){var e;const r=N(),s=v(),{login:t,isLoading:a,error:n,clearError:l,isAuthenticated:o}=de(),c=(()=>{const e=u.useContext(ye);if(!e)throw new Error("useToastContext must be used within a ToastProvider");return e})(),[m,h]=u.useState(!1),[p,f]=u.useState(!1),b=(null==(e=s.state)?void 0:e.from)||"/dashboard";u.useEffect(()=>{o&&r(b,{replace:!0})},[o,r,b]),u.useEffect(()=>()=>l(),[l]);const{register:g,handleSubmit:A,formState:{errors:C}}=j({resolver:L(Te)});return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-elderberry-50 to-elderberry-100 p-4",children:x.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 mx-auto mb-4 bg-elderberry-600 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-2xl text-white font-bold",children:"E"})}),x.jsx("h1",{className:"text-3xl font-bold text-elderberry-900",children:"Elderberry"}),x.jsx("p",{className:"text-elderberry-600 mt-2",children:"글로벌 요양 서비스 플랫폼에 오신 것을 환영합니다"})]}),x.jsxs(ge,{className:"shadow-xl border-0",children:[x.jsxs(Ne,{className:"text-center",children:[x.jsx(ve,{className:"text-2xl font-bold text-elderberry-900",children:"로그인"}),x.jsx(je,{children:"계정에 로그인하여 서비스를 이용해보세요"})]}),x.jsxs(we,{className:"space-y-6",children:[n&&x.jsxs(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[x.jsx(y,{className:"w-5 h-5 flex-shrink-0"}),x.jsx("span",{className:"text-sm",children:n})]}),x.jsxs("form",{onSubmit:A(e=>d(null,null,function*(){try{yield t(e),c.success("로그인 성공",{description:"엘더베리에 오신 것을 환영합니다!"}),r(b,{replace:!0})}catch(s){c.error("로그인 실패",{description:"이메일 또는 비밀번호를 확인해주세요."})}})),className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"이메일"}),x.jsxs("div",{className:"relative",children:[x.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",i({id:"email",type:"email",placeholder:"your@email.com",className:`\n                      w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors\n                      ${C.email?"border-red-300 bg-red-50":"border-gray-300"}\n                    `},g("email")))]}),C.email&&x.jsx("p",{className:"text-sm text-red-600",children:C.email.message})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"비밀번호"}),x.jsxs("div",{className:"relative",children:[x.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5","aria-hidden":"true"}),x.jsx("input",i({id:"password",type:m?"text":"password",placeholder:"비밀번호를 입력하세요",className:`\n                      w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors min-h-[44px]\n                      ${C.password?"border-red-300 bg-red-50":"border-gray-300"}\n                    `,"aria-describedby":C.password?"password-error":void 0},g("password"))),x.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":m?"비밀번호 숨기기":"비밀번호 보이기",children:m?x.jsx(T,{className:"w-5 h-5","aria-hidden":"true"}):x.jsx(R,{className:"w-5 h-5","aria-hidden":"true"})})]}),C.password&&x.jsx("p",{id:"password-error",className:"text-sm text-red-600",role:"alert",children:C.password.message})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("label",{className:"flex items-center space-x-2 min-h-[44px]",children:[x.jsx("input",{type:"checkbox",checked:p,onChange:e=>f(e.target.checked),className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500 focus:ring-2 focus:ring-offset-2","aria-describedby":"remember-me-desc"}),x.jsx("span",{className:"text-sm text-gray-700",children:"로그인 상태 유지"}),x.jsx("span",{id:"remember-me-desc",className:"sr-only",children:"체크하면 다음에 자동으로 로그인됩니다"})]}),x.jsx(O,{to:"/forgot-password",className:"text-sm text-elderberry-600 hover:text-elderberry-800 transition-colors focus:ring-2 focus:ring-elderberry-500 focus:ring-offset-2 rounded px-2 py-1",children:"비밀번호 찾기"})]}),x.jsxs(he,{type:"submit",variant:"primary",fullWidth:!0,loading:a,className:"py-3 text-base font-semibold",children:[a?"로그인 중...":"로그인",!a&&x.jsx(S,{className:"w-5 h-5 ml-2"})]})]})]}),x.jsxs(Ee,{className:"flex flex-col space-y-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white text-gray-500",children:"또는"})})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"계정이 없으신가요? "}),x.jsx(O,{to:"/register",className:"text-sm text-elderberry-600 hover:text-elderberry-800 font-medium transition-colors",children:"회원가입하기"})]}),x.jsx("div",{className:"text-center",children:x.jsx(O,{to:"/chat-home",className:"text-sm text-gray-600 hover:text-elderberry-600 transition-colors",children:"🤖 로그인 없이 챗봇 사용하기"})})]})]}),x.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[x.jsx(O,{to:"/terms",className:"hover:text-elderberry-600 transition-colors",children:"이용약관"}),x.jsx("span",{className:"mx-2",children:"•"}),x.jsx(O,{to:"/privacy",className:"hover:text-elderberry-600 transition-colors",children:"개인정보처리방침"}),x.jsx("span",{className:"mx-2",children:"•"}),x.jsx(O,{to:"/help",className:"hover:text-elderberry-600 transition-colors",children:"고객지원"})]})]})})}},Symbol.toStringTag,{value:"Module"})),Oe=P({email:D().min(1,"이메일을 입력해주세요").email("올바른 이메일 형식이 아닙니다"),password:D().min(8,"비밀번호는 최소 8자 이상이어야 합니다").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"비밀번호는 영문 대소문자와 숫자를 포함해야 합니다"),confirmPassword:D().min(1,"비밀번호 확인을 입력해주세요"),name:D().min(2,"이름은 최소 2자 이상이어야 합니다").max(50,"이름은 50자를 초과할 수 없습니다"),phone:D().optional().refine(e=>!e||/^[0-9-+().\s]+$/.test(e),"올바른 전화번호 형식이 아닙니다"),role:M(me),agreeToTerms:U().refine(e=>!0===e,"이용약관에 동의해주세요"),agreeToPrivacy:U().refine(e=>!0===e,"개인정보처리방침에 동의해주세요")}).refine(e=>e.password===e.confirmPassword,{message:"비밀번호가 일치하지 않습니다",path:["confirmPassword"]}),Se={[me.CAREGIVER]:{title:"간병인",description:"환자 돌봄 서비스를 제공하는 전문 간병인",icon:"🏥"},[me.COORDINATOR]:{title:"코디네이터",description:"간병인과 고용주를 연결하는 전문 코디네이터",icon:"🤝"},[me.EMPLOYER]:{title:"고용주",description:"간병 서비스를 필요로 하는 개인 또는 기관",icon:"👨‍👩‍👧‍👦"}};const Ae=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const e=N(),{register:r,isLoading:s,error:t,clearError:a,isAuthenticated:n}=de(),[l,m]=u.useState(!1),[h,p]=u.useState(!1),[f,g]=u.useState(1);u.useEffect(()=>{n&&e("/dashboard",{replace:!0})},[n,e]),u.useEffect(()=>()=>a(),[a]);const{register:v,handleSubmit:S,watch:k,formState:{errors:_,isValid:P}}=j({resolver:L(Oe),defaultValues:{role:me.CAREGIVER,agreeToTerms:!1,agreeToPrivacy:!1},mode:"onChange"}),D=k("password"),U=k("role"),M=D?(e=>{let r=0;return e.length>=8&&r++,/[a-z]/.test(e)&&r++,/[A-Z]/.test(e)&&r++,/\d/.test(e)&&r++,/[^a-zA-Z\d]/.test(e)&&r++,r})(D):0;return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-elderberry-50 to-elderberry-100 p-4",children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-8 pt-8",children:[x.jsxs(O,{to:"/login",className:"inline-flex items-center text-elderberry-600 hover:text-elderberry-800 transition-colors mb-6",children:[x.jsx(A,{className:"w-5 h-5 mr-2"}),"로그인으로 돌아가기"]}),x.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-16 h-16 mx-auto mb-4 bg-elderberry-600 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-2xl text-white font-bold",children:"E"})}),x.jsx("h1",{className:"text-3xl font-bold text-elderberry-900",children:"계정 만들기"}),x.jsx("p",{className:"text-elderberry-600 mt-2",children:"Elderberry에 가입하여 전문적인 요양 서비스를 경험해보세요"})]}),x.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:x.jsxs(ge,{className:"shadow-xl border-0",children:[x.jsxs(Ne,{children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx(ve,{className:"text-2xl font-bold text-elderberry-900",children:"회원가입"}),x.jsx(je,{children:1===f?"기본 정보를 입력해주세요":"약관 동의 및 계정 생성"})]}),x.jsxs("div",{className:"text-sm text-gray-500",children:[f,"/2 단계"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-elderberry-600 h-2 rounded-full transition-all duration-300",style:{width:f/2*100+"%"}})})]}),x.jsxs(we,{children:[t&&x.jsxs(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2 mb-6",children:[x.jsx(y,{className:"w-5 h-5 flex-shrink-0"}),x.jsx("span",{className:"text-sm",children:t})]}),x.jsxs("form",{onSubmit:S(s=>d(null,null,function*(){try{const t=s,{confirmPassword:a,agreeToTerms:n,agreeToPrivacy:l}=t,i=c(t,["confirmPassword","agreeToTerms","agreeToPrivacy"]);yield r(i),e("/dashboard",{replace:!0})}catch(t){}})),className:"space-y-6",children:[1===f&&x.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["가입 유형 선택 ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(Se).map(([e,r])=>x.jsxs("label",{className:`\n                              relative p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md\n                              ${U===e?"border-elderberry-500 bg-elderberry-50":"border-gray-200 hover:border-elderberry-300"}\n                            `,children:[x.jsx("input",o(i({type:"radio",value:e},v("role")),{className:"sr-only"})),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-3xl mb-2",children:r.icon}),x.jsx("div",{className:"font-semibold text-gray-900",children:r.title}),x.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r.description})]}),U===e&&x.jsx("div",{className:"absolute top-2 right-2",children:x.jsx(b,{className:"w-5 h-5 text-elderberry-500"})})]},e))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:["이름 ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",i({id:"name",type:"text",placeholder:"홍길동",className:`\n                            w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors\n                            ${_.name?"border-red-300 bg-red-50":"border-gray-300"}\n                          `},v("name")))]}),_.name&&x.jsx("p",{className:"text-sm text-red-600",children:_.name.message})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:["이메일 ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",i({id:"email",type:"email",placeholder:"your@email.com",className:`\n                            w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors\n                            ${_.email?"border-red-300 bg-red-50":"border-gray-300"}\n                          `},v("email")))]}),_.email&&x.jsx("p",{className:"text-sm text-red-600",children:_.email.message})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"전화번호 (선택)"}),x.jsxs("div",{className:"relative",children:[x.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",i({id:"phone",type:"tel",placeholder:"010-1234-5678",className:`\n                            w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors\n                            ${_.phone?"border-red-300 bg-red-50":"border-gray-300"}\n                          `},v("phone")))]}),_.phone&&x.jsx("p",{className:"text-sm text-red-600",children:_.phone.message})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:["비밀번호 ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",i({id:"password",type:l?"text":"password",placeholder:"8자 이상, 영문 대소문자와 숫자 포함",className:`\n                            w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors\n                            ${_.password?"border-red-300 bg-red-50":"border-gray-300"}\n                          `},v("password"))),x.jsx("button",{type:"button",onClick:()=>m(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?x.jsx(T,{className:"w-5 h-5"}):x.jsx(R,{className:"w-5 h-5"})})]}),D&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((e,r)=>x.jsx("div",{className:"h-2 flex-1 rounded "+(r<M?M<=2?"bg-red-400":M<=3?"bg-yellow-400":"bg-green-400":"bg-gray-200")},r))}),x.jsxs("p",{className:"text-xs text-gray-600",children:["강도: ",M<=2?"약함":M<=3?"보통":M<=4?"강함":"매우 강함"]})]}),_.password&&x.jsx("p",{className:"text-sm text-red-600",children:_.password.message})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:["비밀번호 확인 ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",i({id:"confirmPassword",type:h?"text":"password",placeholder:"비밀번호를 다시 입력하세요",className:`\n                            w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 transition-colors\n                            ${_.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}\n                          `},v("confirmPassword"))),x.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:h?x.jsx(T,{className:"w-5 h-5"}):x.jsx(R,{className:"w-5 h-5"})})]}),_.confirmPassword&&x.jsx("p",{className:"text-sm text-red-600",children:_.confirmPassword.message})]}),x.jsx(he,{type:"button",onClick:()=>g(2),variant:"primary",fullWidth:!0,className:"py-3",children:"다음 단계"})]}),2===f&&x.jsxs(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"약관 동의"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-start space-x-3",children:[x.jsx("input",i({type:"checkbox",className:"w-5 h-5 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500 mt-0.5"},v("agreeToTerms"))),x.jsxs("div",{className:"flex-1",children:[x.jsxs("span",{className:"text-sm text-gray-900",children:[x.jsx("span",{className:"text-red-500",children:"*"})," 이용약관에 동의합니다"]}),x.jsx(O,{to:"/terms",className:"text-elderberry-600 hover:text-elderberry-800 ml-2 text-sm underline",children:"약관 보기"})]})]}),_.agreeToTerms&&x.jsx("p",{className:"text-sm text-red-600 ml-8",children:_.agreeToTerms.message}),x.jsxs("label",{className:"flex items-start space-x-3",children:[x.jsx("input",i({type:"checkbox",className:"w-5 h-5 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500 mt-0.5"},v("agreeToPrivacy"))),x.jsxs("div",{className:"flex-1",children:[x.jsxs("span",{className:"text-sm text-gray-900",children:[x.jsx("span",{className:"text-red-500",children:"*"})," 개인정보처리방침에 동의합니다"]}),x.jsx(O,{to:"/privacy",className:"text-elderberry-600 hover:text-elderberry-800 ml-2 text-sm underline",children:"방침 보기"})]})]}),_.agreeToPrivacy&&x.jsx("p",{className:"text-sm text-red-600 ml-8",children:_.agreeToPrivacy.message})]})]}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx(he,{type:"button",onClick:()=>g(1),variant:"outline",className:"flex-1 py-3",children:"이전 단계"}),x.jsx(he,{type:"submit",variant:"primary",loading:s,className:"flex-1 py-3",children:s?"계정 생성 중...":"계정 만들기"})]})]})]})]}),x.jsx(Ee,{className:"text-center",children:x.jsxs("div",{className:"text-sm text-gray-600",children:["이미 계정이 있으신가요?",x.jsx(O,{to:"/login",className:"text-elderberry-600 hover:text-elderberry-800 font-medium ml-1 transition-colors",children:"로그인하기"})]})})]})})]})})}},Symbol.toStringTag,{value:"Module"}));export{he as B,ge as C,Re as L,me as M,Ae as R,be as T,we as a,Ne as b,ve as c,ue as d,je as e,Ee as f,J as g,G as n,de as u};
