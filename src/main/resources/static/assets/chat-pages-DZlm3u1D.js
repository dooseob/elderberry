var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(r,a,t)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,s=(e,r)=>{for(var a in r||(r={}))l.call(r,a)&&n(e,a,r[a]);if(t)for(var a of t(r))i.call(r,a)&&n(e,a,r[a]);return e},o=(e,t)=>r(e,a(t)),c=(e,r)=>{var a={};for(var n in e)l.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&t)for(var n of t(e))r.indexOf(n)<0&&i.call(e,n)&&(a[n]=e[n]);return a};import{r as d,j as m,z as x,e as h,D as p,G as v,P as f,i as u,J as b,K as g,N as w,O as N,A as y}from"./react-vendor-DjlEhPtN.js";import{B as j}from"./core-ui-CLdLL7GI.js";import{a as k}from"./style-utils-DeQRAeyh.js";import{c as C}from"./board-pages-Boj7UMsD.js";import{u as z,a as L}from"./theme-layout-lfdIx57L.js";import{m as T,A as O}from"./animation-lib-Df_skjj_.js";const D=k(["rounded-[var(--linear-radius-medium)] border","transition-all duration-[var(--linear-transition-fast)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--linear-color-accent)] focus-visible:ring-offset-2","relative overflow-hidden"],{variants:{surface:{default:["bg-[var(--linear-color-background)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-subtle)]"],elevated:["bg-[var(--linear-color-surface-elevated)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-subtle)]"],panel:["bg-[var(--linear-color-surface-panel)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-default)]"],modal:["bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-default)]"],gradient:["bg-gradient-to-br from-[var(--linear-color-surface-elevated)] to-[var(--linear-color-surface-panel)]","text-[var(--linear-color-text-primary)] border-[var(--linear-color-border-subtle)]"],"accent-gradient":["bg-gradient-to-br from-[var(--linear-color-accent)] to-[var(--linear-color-accent-hover)]","text-[var(--linear-color-text-on-accent)] border-[var(--linear-color-accent)]"]},padding:{none:"p-0",xs:"p-[var(--linear-spacing-xs)]",sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-lg)]",lg:"p-[var(--linear-spacing-xl)]",xl:"p-[var(--linear-spacing-2xl)]"},shadow:{none:"shadow-none",card:"shadow-[var(--linear-shadow-card)]",modal:"shadow-[var(--linear-shadow-modal)]",dropdown:"shadow-[var(--linear-shadow-dropdown)]"},radius:{none:"rounded-none",sm:"rounded-[var(--linear-radius-small)]",md:"rounded-[var(--linear-radius-medium)]",lg:"rounded-[var(--linear-radius-large)]",full:"rounded-[var(--linear-radius-full)]"},interactive:{false:"",true:["cursor-pointer select-none","hover:shadow-[var(--linear-shadow-modal)] hover:border-[var(--linear-color-border-default)]","hover:-translate-y-1 active:translate-y-0 active:scale-[0.98]","focus-visible:ring-2 focus-visible:ring-[var(--linear-color-accent)]"]}},defaultVariants:{surface:"elevated",padding:"md",shadow:"card",radius:"md",interactive:!1}}),P=d.forwardRef((e,r)=>{var a=e,{children:t,className:l,surface:i,padding:n,shadow:x,radius:h,interactive:p,animation:v=!0,title:f,description:u,headerContent:b,footerContent:g,loading:w=!1,empty:N=!1,emptyMessage:y="데이터가 없습니다.",error:j=!1,errorMessage:k="오류가 발생했습니다.",overlay:L,badge:O,onClick:P,onKeyDown:H,role:S,"aria-label":A,"aria-describedby":B}=a,$=c(a,["children","className","surface","padding","shadow","radius","interactive","animation","title","description","headerContent","footerContent","loading","empty","emptyMessage","error","errorMessage","overlay","badge","onClick","onKeyDown","role","aria-label","aria-describedby"]);const{isDark:W,isHighContrast:I}=z(),V=Boolean(P||p),J=v&&V,F=S||(V?"button":"article"),R=A||(f&&V?`${f} 카드`:void 0),G=J?{whileHover:{y:-2,scale:1.01,transition:{duration:.15,ease:"easeOut"}},whileTap:{scale:.98,y:0,transition:{duration:.1,ease:"easeOut"}}}:{},U=J?T.div:"div";return m.jsxs(U,o(s(s({ref:r,className:C(D({surface:i,padding:n,shadow:x,radius:h,interactive:V}),"linear-animate-in",l),onClick:V?P:void 0,onKeyDown:V?e=>{!V||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),null==P||P(e)),null==H||H(e)}:void 0,tabIndex:V?0:void 0,role:F,"aria-label":R,"aria-describedby":B,"aria-busy":w,"aria-disabled":w||j},J?G:{}),$),{children:[O&&m.jsx("div",{className:"absolute top-2 right-2 z-10",children:O}),f||u||b?m.jsxs(_,{children:[(f||u)&&m.jsxs("div",{className:"space-y-[var(--linear-spacing-xs)]",children:[f&&m.jsx(E,{id:`card-title-${d.useId()}`,children:f}),u&&m.jsx(M,{children:u})]}),b]}):null,m.jsx("div",{className:C(f||u||b?"px-[var(--linear-spacing-lg)] pb-[var(--linear-spacing-lg)]":"",g?"pb-0":""),children:w?m.jsxs("div",{className:"flex items-center justify-center p-[var(--linear-spacing-2xl)]",children:[m.jsx("div",{className:"w-6 h-6 border-2 border-[var(--linear-color-accent)] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"ml-2 text-[var(--linear-color-text-secondary)]",children:"로딩 중..."})]}):j?m.jsxs("div",{className:"flex flex-col items-center justify-center p-[var(--linear-spacing-2xl)] text-center",children:[m.jsx("div",{className:"w-12 h-12 mb-4 rounded-full bg-[var(--linear-color-error-bg)] flex items-center justify-center",children:m.jsx("svg",{className:"w-6 h-6 text-[var(--linear-color-error)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5C2.962 18.333 3.924 20 5.464 20z"})})}),m.jsx("p",{className:"text-[var(--linear-color-error)]",children:k})]}):N&&!t?m.jsxs("div",{className:"flex flex-col items-center justify-center p-[var(--linear-spacing-2xl)] text-center",children:[m.jsx("div",{className:"w-12 h-12 mb-4 rounded-full bg-[var(--linear-color-surface-panel)] flex items-center justify-center",children:m.jsx("svg",{className:"w-6 h-6 text-[var(--linear-color-text-tertiary)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),m.jsx("p",{className:"text-[var(--linear-color-text-secondary)]",children:y})]}):t}),g?m.jsx(K,{children:g}):null,L&&m.jsx("div",{className:"absolute inset-0 bg-[var(--linear-color-surface-modal)] bg-opacity-90 flex items-center justify-center z-20",children:L})]}))});P.displayName="LinearCard";const _=d.forwardRef((e,r)=>{var a=e,{className:t,centered:l=!1,border:i=!1}=a,n=c(a,["className","centered","border"]);return m.jsx("div",s({ref:r,className:C("flex flex-col space-y-[var(--linear-spacing-xs)] p-[var(--linear-spacing-lg)] pb-[var(--linear-spacing-md)]",l&&"items-center text-center",i&&"border-b border-[var(--linear-color-border-subtle)] mb-[var(--linear-spacing-md)] pb-[var(--linear-spacing-lg)]",t)},n))}),E=d.forwardRef((e,r)=>{var a=e,{className:t,children:l,level:i=3,size:n="md",variant:d="primary"}=a,x=c(a,["className","children","level","size","variant"]);const h=`h${i}`;return m.jsx(h,o(s({ref:r,className:C("leading-[var(--linear-line-height-tight)] tracking-tight",{sm:"text-base font-[var(--linear-font-weight-medium)]",md:"text-lg font-[var(--linear-font-weight-semibold)]",lg:"text-xl font-[var(--linear-font-weight-semibold)]",xl:"text-2xl font-[var(--linear-font-weight-bold)]"}[n],{primary:"text-[var(--linear-color-text-primary)]",secondary:"text-[var(--linear-color-text-secondary)]",accent:"text-[var(--linear-color-accent)]",muted:"text-[var(--linear-color-text-tertiary)]"}[d],t)},x),{children:l}))}),M=d.forwardRef((e,r)=>{var a=e,{className:t,size:l="sm",variant:i="secondary",maxLines:n,style:o}=a,d=c(a,["className","size","variant","maxLines","style"]);const x=n?s({display:"-webkit-box",WebkitLineClamp:n,WebkitBoxOrient:"vertical",overflow:"hidden"},o):o;return m.jsx("p",s({ref:r,className:C("leading-[var(--linear-line-height-normal)]",{sm:"text-sm",md:"text-base",lg:"text-lg"}[l],{secondary:"text-[var(--linear-color-text-secondary)]",tertiary:"text-[var(--linear-color-text-tertiary)]",muted:"text-[var(--linear-color-text-tertiary)] opacity-75"}[i],t),style:x},d))}),H=d.forwardRef((e,r)=>{var a=e,{className:t,padding:l="lg",centered:i=!1,as:n="div"}=a,o=c(a,["className","padding","centered","as"]);const d=n;return m.jsx(d,s({ref:r,className:C("text-[var(--linear-color-text-primary)]",{none:"p-0",sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-md)]",lg:"p-[var(--linear-spacing-lg)]"}[l],"pt-0",i&&"flex flex-col items-center justify-center text-center",t)},o))}),K=d.forwardRef((e,r)=>{var a=e,{className:t,justify:l="start",border:i=!1,padding:n="lg"}=a,o=c(a,["className","justify","border","padding"]);return m.jsx("div",s({ref:r,className:C("flex items-center pt-0 gap-[var(--linear-spacing-sm)]",{sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-md)]",lg:"p-[var(--linear-spacing-lg)]"}[n],{start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between",around:"justify-around"}[l],i&&"border-t border-[var(--linear-color-border-subtle)] mt-[var(--linear-spacing-md)] pt-[var(--linear-spacing-lg)]",t)},o))});_.displayName="LinearCardHeader",E.displayName="LinearCardTitle",M.displayName="LinearCardDescription",H.displayName="LinearCardContent",K.displayName="LinearCardFooter";const S=k(["absolute z-[var(--linear-z-tooltip)]","bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border border-[var(--linear-color-border-default)]","rounded-[var(--linear-radius-small)]","shadow-[var(--linear-shadow-dropdown)]","px-[var(--linear-spacing-sm)] py-[var(--linear-spacing-xs)]","text-sm font-[var(--linear-font-weight-normal)]","max-w-xs break-words","pointer-events-none select-none"],{variants:{variant:{default:["bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-default)]"],dark:["bg-gray-900 text-white","border-gray-700"],light:["bg-white text-gray-900","border-gray-200"],accent:["bg-[var(--linear-color-accent)] text-[var(--linear-color-text-on-accent)]","border-[var(--linear-color-accent)]"],error:["bg-[var(--linear-color-error)] text-white","border-[var(--linear-color-error)]"],success:["bg-[var(--linear-color-success)] text-white","border-[var(--linear-color-success)]"],warning:["bg-[var(--linear-color-warning)] text-white","border-[var(--linear-color-warning)]"]},size:{sm:"text-xs px-[var(--linear-spacing-xs)] py-[calc(var(--linear-spacing-xs)/2)] max-w-[200px]",md:"text-sm px-[var(--linear-spacing-sm)] py-[var(--linear-spacing-xs)] max-w-[300px]",lg:"text-base px-[var(--linear-spacing-md)] py-[var(--linear-spacing-sm)] max-w-[400px]"}},defaultVariants:{variant:"default",size:"md"}}),A=k(["absolute w-2 h-2 rotate-45","border border-[var(--linear-color-border-default)]"],{variants:{variant:{default:"bg-[var(--linear-color-surface-modal)]",dark:"bg-gray-900 border-gray-700",light:"bg-white border-gray-200",accent:"bg-[var(--linear-color-accent)] border-[var(--linear-color-accent)]",error:"bg-[var(--linear-color-error)] border-[var(--linear-color-error)]",success:"bg-[var(--linear-color-success)] border-[var(--linear-color-success)]",warning:"bg-[var(--linear-color-warning)] border-[var(--linear-color-warning)]"}},defaultVariants:{variant:"default"}}),B=d.forwardRef((e,r)=>{var a=e,{content:t,children:l,className:i,variant:n,size:h,position:p="top",trigger:v="hover",showDelay:f=500,hideDelay:u=0,showArrow:b=!0,open:g,onOpenChange:w,disabled:N=!1,animation:y=!0,offset:j=8,autoPosition:k=!0,container:z,role:D="tooltip",id:P}=a,_=c(a,["content","children","className","variant","size","position","trigger","showDelay","hideDelay","showArrow","open","onOpenChange","disabled","animation","offset","autoPosition","container","role","id"]);const{isReducedMotion:E}=L(),[M,H]=d.useState(!1),[K,B]=d.useState(!1),$=d.useRef(null),W=d.useRef(null),I=d.useRef(),V=d.useRef(),J=P||d.useId(),F="manual"===v,R=F?null!=g&&g:M,G=y&&!E,{calculatedPosition:U,coordinates:X,arrowPosition:Y,calculatePosition:q}=((e,r,a,t,l)=>{const[i,n]=d.useState(a),[s,o]=d.useState({x:0,y:0}),[c,m]=d.useState({x:0,y:0});return{calculatedPosition:i,coordinates:s,arrowPosition:c,calculatePosition:d.useCallback(()=>{if(!e.current||!r.current)return;const i=e.current.getBoundingClientRect(),s=r.current.getBoundingClientRect(),c=window.innerWidth,d=window.innerHeight;let x=a,h=0,p=0,v=0,f=0;const u=e=>{switch(e){case"top":case"top-start":case"top-end":h="top-start"===e?i.left:"top-end"===e?i.right-s.width:i.left+(i.width-s.width)/2,p=i.top-s.height-t,v="top-start"===e?16:"top-end"===e?s.width-16-8:s.width/2-4,f=s.height-1;break;case"bottom":case"bottom-start":case"bottom-end":h="bottom-start"===e?i.left:"bottom-end"===e?i.right-s.width:i.left+(i.width-s.width)/2,p=i.bottom+t,v="bottom-start"===e?16:"bottom-end"===e?s.width-16-8:s.width/2-4,f=-4;break;case"left":case"left-start":case"left-end":h=i.left-s.width-t,p="left-start"===e?i.top:"left-end"===e?i.bottom-s.height:i.top+(i.height-s.height)/2,v=s.width-1,f="left-start"===e?16:"left-end"===e?s.height-16-8:s.height/2-4;break;case"right":case"right-start":case"right-end":h=i.right+t,p="right-start"===e?i.top:"right-end"===e?i.bottom-s.height:i.top+(i.height-s.height)/2,v=-4,f="right-start"===e?16:"right-end"===e?s.height-16-8:s.height/2-4}return{x:h,y:p,arrowX:v,arrowY:f}},b=u(x);if(h=b.x,p=b.y,v=b.arrowX,f=b.arrowY,l&&(h+s.width>c&&(x.includes("left")?x=x.replace("left","right"):x.includes("right")?x=x.replace("right","left"):h=c-s.width-8),h<0&&(x.includes("right")?x=x.replace("right","left"):x.includes("left")?x=x.replace("left","right"):h=8),p+s.height>d&&(x.includes("bottom")?x=x.replace("bottom","top"):x.includes("top")?x=x.replace("top","bottom"):p=d-s.height-8),p<0&&(x.includes("top")?x=x.replace("top","bottom"):x.includes("bottom")?x=x.replace("bottom","top"):p=8),x!==a)){const e=u(x);h=e.x,p=e.y,v=e.arrowX,f=e.arrowY}n(x),o({x:h,y:p}),m({x:v,y:f})},[a,t,l,e,r])}})($,W,p,j,k),Q=d.useCallback(()=>{N||(V.current&&clearTimeout(V.current),f>0?I.current=setTimeout(()=>{F?null==w||w(!0):H(!0)},f):F?null==w||w(!0):H(!0))},[N,f,F,w]),Z=d.useCallback(()=>{I.current&&clearTimeout(I.current),u>0?V.current=setTimeout(()=>{F?null==w||w(!1):H(!1)},u):F?null==w||w(!1):H(!1)},[u,F,w]),ee=d.cloneElement(l,{ref:e=>{$.current=e,l.ref&&("function"==typeof l.ref?l.ref(e):l.ref.current=e)},onMouseEnter:e=>{var r,a;null==(a=(r=l.props).onMouseEnter)||a.call(r,e),"hover"===v&&Q()},onMouseLeave:e=>{var r,a;null==(a=(r=l.props).onMouseLeave)||a.call(r,e),"hover"===v&&Z()},onClick:e=>{var r,a;null==(a=(r=l.props).onClick)||a.call(r,e),"click"===v&&(R?Z():Q())},onFocus:e=>{var r,a;null==(a=(r=l.props).onFocus)||a.call(r,e),"focus"===v&&Q()},onBlur:e=>{var r,a;null==(a=(r=l.props).onBlur)||a.call(r,e),"focus"===v&&Z()},onKeyDown:e=>{var r,a;null==(a=(r=l.props).onKeyDown)||a.call(r,e),(e=>{"Escape"===e.key&&R&&Z()})(e)},"aria-describedby":"tooltip"===D&&R?J:void 0,"aria-expanded":"click"===v?R:void 0,"aria-haspopup":"click"===v?"dialog":void 0});d.useEffect(()=>{B(!0)},[]),d.useEffect(()=>{if(R&&K){q();const e=()=>q();return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[R,K,q]),d.useEffect(()=>()=>{I.current&&clearTimeout(I.current),V.current&&clearTimeout(V.current)},[]);const re=d.useMemo(()=>z?"function"==typeof z?z():z:"undefined"!=typeof document?document.body:null,[z]);if(!K||!re||N)return ee;const ae=m.jsx(O,{children:R&&m.jsxs(T.div,o(s(s({ref:d.useMemo(()=>e=>{r&&("function"==typeof r?r(e):r.current=e),W.current=e},[r]),className:C(S({variant:n,size:h}),i),style:{left:X.x,top:X.y},role:D,id:J},G?{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15,ease:"easeOut"}}:{}),_),{children:[t,b&&m.jsx("div",{className:C(A({variant:n}),(te=U,te.includes("top")?"border-t-0 border-l-0":te.includes("bottom")?"border-b-0 border-r-0":te.includes("left")?"border-l-0 border-b-0":te.includes("right")?"border-r-0 border-t-0":"")),style:{left:Y.x,top:Y.y}})]}))});var te;return m.jsxs(m.Fragment,{children:[ee,x.createPortal(ae,re)]})});B.displayName="LinearTooltip",d.forwardRef((e,r)=>{var a=e,{iconSize:t="md",className:l}=a,i=c(a,["iconSize","className"]);return m.jsx(B,o(s({ref:r,trigger:"hover",position:"top",variant:"default",size:"sm",className:l},i),{children:m.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full text-[var(--linear-color-text-tertiary)] hover:text-[var(--linear-color-text-primary)] transition-colors","aria-label":"추가 정보",children:m.jsx("svg",{className:{sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"}[t],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}))}).displayName="LinearInfoTooltip",d.forwardRef((e,r)=>{var a=e,{shortcut:t,description:l}=a,i=c(a,["shortcut","description"]);const n=Array.isArray(t)?t:[t],o=m.jsxs("div",{className:"flex flex-col gap-1",children:[l&&m.jsx("div",{className:"text-sm",children:l}),m.jsx("div",{className:"flex items-center gap-1",children:n.map((e,r)=>m.jsxs(d.Fragment,{children:[r>0&&m.jsx("span",{className:"text-xs opacity-70",children:"+"}),m.jsx("kbd",{className:"px-1.5 py-0.5 text-xs font-mono bg-[var(--linear-color-surface-panel)] border border-[var(--linear-color-border-default)] rounded",children:e})]},e))})]});return m.jsx(B,s({ref:r,content:o,variant:"default",size:"sm",position:"bottom"},i))}).displayName="LinearShortcutTooltip";const $=({children:e,defaultDelay:r=500,defaultPosition:a="top"})=>m.jsx(m.Fragment,{children:e});$.displayName="LinearTooltipProvider";const W=d.forwardRef(({children:e,asChild:r=!1},a)=>r?d.cloneElement(e,{ref:a}):e);W.displayName="LinearTooltipTrigger";const I=d.forwardRef(({children:e,className:r},a)=>m.jsx("div",{ref:a,className:r,children:e}));I.displayName="LinearTooltipContent";const V={log:(...e)=>{},warn:(...e)=>{},debug:(...e)=>{},performance:(e,r)=>{},action:(e,r)=>{}},J={error:(e,r,a)=>{},warn:(e,r)=>{},network:(e,r)=>{},component:(e,r,a)=>{}},F=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const e=h(),[r,a]=d.useState(!1),[t,l]=d.useState(""),i=[{icon:m.jsx(b,{className:"w-4 h-4"}),text:"도움말"},{icon:m.jsx(g,{className:"w-4 h-4"}),text:"로그인"},{icon:m.jsx(w,{className:"w-4 h-4"}),text:"Elderberry로 이동",onClick:()=>e("/")}],n=()=>{const r=t.trim();r&&e("/chat",{state:{prompt:r}})},s=()=>{e("/chat")};return m.jsxs("div",{className:"flex h-screen items-start bg-white",children:[m.jsxs("aside",{className:"hidden sm:flex flex-col h-full items-start py-[15px] sm:py-[20px] md:py-[30px] bg-white border-r border-[#e8e8e8] transition-all duration-300 "+(r?"w-[60px] px-2":"w-[180px] sm:w-[220px] md:w-[260px] pl-2 sm:pl-4 md:pl-6 pr-2 sm:pr-4 md:pr-[25px]"),children:[m.jsxs("div",{className:"flex flex-col gap-5 pb-5 w-full "+(r?"items-center":"items-start"),children:[m.jsxs("div",{className:"flex items-center w-full "+(r?"justify-center":"justify-between"),children:[!r&&m.jsx("div",{className:"flex flex-col w-[132px] h-[26px] items-start",children:m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"font-bold text-lg",children:"ai search"})})}),m.jsx(j,{variant:"outline",size:"icon",className:"w-8 h-8 border-[#e4e4e4]",onClick:()=>a(!r),children:r?m.jsx(p,{className:"w-5 h-5"}):m.jsx(v,{className:"w-5 h-5"})})]}),!r&&m.jsxs(j,{variant:"outline",className:"flex h-[42px] items-center justify-center gap-1 px-[27px] py-[11px] w-full border-[#dedede]",onClick:s,children:[m.jsx(f,{className:"w-4 h-4"}),m.jsx("span",{className:"font-bold text-[14.2px] text-[#404042]",children:"새 대화"})]}),r&&m.jsx(j,{variant:"outline",size:"icon",className:"w-8 h-8 border-[#dedede]",onClick:s,children:m.jsx(f,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"flex flex-col pt-[21px] pb-0 w-full bg-white border-t border-[#e4e4e4] mt-auto "+(r?"items-center":"items-start"),children:m.jsx("div",{className:"flex flex-col gap-1 w-full "+(r?"items-center":"items-start"),children:i.map((e,a)=>m.jsxs("div",{className:"flex min-h-[22px] items-center gap-1.5 p-1.5 w-full cursor-pointer hover:bg-gray-50 rounded "+(r?"justify-center":""),onClick:e.onClick,children:[m.jsx("div",{className:"flex flex-col w-4 h-4 "+(r?"items-center":"items-start"),children:e.icon}),!r&&m.jsx("div",{className:"flex flex-col h-[22.39px] items-start flex-1",children:m.jsx("div",{className:"relative self-stretch mt-[-1.00px] font-normal text-[#404042] text-[13.1px] tracking-[0] leading-[22.4px] overflow-hidden text-ellipsis",children:e.text})}),"로그인"===e.text&&m.jsx($,{children:m.jsxs(B,{children:[m.jsx(W,{asChild:!0,children:m.jsx("div",{className:"relative"})}),m.jsx(I,{side:"right",className:"bg-[#202020e6] border-none rounded-md",children:m.jsx("span",{className:"font-bold text-white text-[12.2px]",children:"로그인 해주세요."})})]})})]},a))})})]}),m.jsx("div",{className:"sm:hidden fixed top-4 left-4 z-10",children:m.jsx(j,{variant:"outline",size:"icon",className:"w-10 h-10 border-[#e4e4e4]",children:m.jsx(f,{className:"w-5 h-5 rotate-45"})})}),m.jsxs("main",{className:"flex flex-col items-center justify-center flex-1 h-full bg-white overflow-y-auto",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 w-full max-w-[900px] px-4 sm:px-8 md:px-16",children:[m.jsx("div",{className:"flex flex-col items-center w-full",children:m.jsx("h1",{className:"font-bold text-[#111111] text-[28.2px] text-center leading-[48px]",children:"Elderberry"})}),m.jsxs(P,{className:"flex flex-col w-full bg-white rounded-2xl border-2 border-[#29b79c] shadow-[0px_2px_10px_#00000029]",children:[m.jsx(H,{className:"p-0 w-full bg-white",children:m.jsx("div",{className:"flex flex-col w-full",children:m.jsx("textarea",{value:t,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n())},className:"w-full min-h-[80px] p-4 text-[15px] text-[#333] bg-transparent border-none outline-none resize-none placeholder:text-[#818181]",placeholder:"당신의 노년을 돕습니다.",rows:2})})}),m.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-3 border-t border-[#e4e4e4]",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(j,{variant:"ghost",size:"sm",className:"h-8 px-3 text-[#666] hover:bg-gray-100 text-sm",children:"📎 첨부하기"}),m.jsx(j,{variant:"ghost",size:"sm",className:"h-8 px-3 text-[#666] hover:bg-gray-100 text-sm",children:"📄 문서첨부"})]}),m.jsx(j,{variant:"ghost",size:"icon",className:"w-10 h-10 p-0 hover:bg-gray-100 rounded-full",onClick:n,disabled:!t.trim(),children:m.jsx(u,{className:"w-5 h-5 text-[#29b79c]"})})]})]})]}),m.jsxs("footer",{className:"flex items-center justify-center gap-[12.01px] w-full mt-8",children:[m.jsx("div",{className:"text-[#818181] text-[11.1px] text-center leading-[19.2px]",children:"AI 모델에 의해 부정확한 정보가 포함될 수 있습니다."}),m.jsxs("div",{className:"text-[#818181] text-[11.2px] text-center leading-[19.2px]",children:[m.jsx("span",{className:"font-bold",children:"개인정보처리방침 "}),m.jsx("span",{className:"font-normal",children:"이용약관"})]})]})]})]})}},Symbol.toStringTag,{value:"Module"})),R=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const e=N(),r=h(),[a,t]=d.useState(!1),[l,i]=d.useState([]),[n,s]=d.useState(""),[o,c]=d.useState(!1),[x,f]=d.useState(""),k=d.useRef(null);d.useEffect(()=>{var r;const a=null==(r=e.state)?void 0:r.prompt;a&&(s(a),setTimeout(()=>{T(a)},100))},[e.state]),d.useEffect(()=>{z()},[l]);const C=[{icon:m.jsx(b,{className:"w-4 h-4"}),text:"도움말"},{icon:m.jsx(g,{className:"w-4 h-4"}),text:"로그인"},{icon:m.jsx(w,{className:"w-4 h-4"}),text:"Elderberry로 이동",onClick:()=>r("/")}],z=()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},L=(e,r,a)=>{const t={id:Date.now(),text:e,isUser:r,timestamp:(new Date).toISOString(),extractedInfo:a};i(e=>[...e,t])},T=(...e)=>{return r=[...e],a=function*(e=n.trim()){if(e){L(e,!0),s(""),c(!0),f("");try{const r=yield fetch("/api/chatbot/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!r.ok){const e=yield r.text();throw J.network("/api/chatbot/message",{status:r.status,statusText:r.statusText,errorText:e}),new Error(`HTTP error! status: ${r.status}`)}const a=yield r.json();V.log("서버 응답:",a);const t=a.response||"죄송합니다. 응답을 처리할 수 없습니다.";"coordinator_recommendation"===a.response_type&&a.recommendations?L(t,!1,{recommendations:a.recommendations}):L(t,!1)}catch(r){J.error("챗봇 메시지 처리 오류",r),f("메시지 처리 중 오류가 발생했습니다. 다시 시도해 주세요."),L("죄송합니다. 현재 서버에 연결할 수 없습니다. 잠시 후 다시 시도해주세요.",!1)}finally{c(!1)}}},new Promise((e,t)=>{var l=e=>{try{n(a.next(e))}catch(r){t(r)}},i=e=>{try{n(a.throw(e))}catch(r){t(r)}},n=r=>r.done?e(r.value):Promise.resolve(r.value).then(l,i);n((a=a.apply(null,r)).next())});var r,a},O=()=>{r("/chat-home")};return m.jsxs("div",{className:"flex h-screen items-start bg-white",children:[m.jsxs("aside",{className:"hidden sm:flex flex-col h-full items-start py-[15px] sm:py-[20px] md:py-[30px] bg-white border-r border-[#e8e8e8] transition-all duration-300 "+(a?"w-[60px] px-2":"w-[180px] sm:w-[220px] md:w-[260px] pl-2 sm:pl-4 md:pl-6 pr-2 sm:pr-4 md:pr-[25px]"),children:[m.jsxs("div",{className:"flex flex-col gap-5 pb-5 w-full "+(a?"items-center":"items-start"),children:[m.jsxs("div",{className:"flex items-center w-full "+(a?"justify-center":"justify-between"),children:[!a&&m.jsx("div",{className:"flex flex-col w-[132px] h-[26px] items-start",children:m.jsx("div",{className:"flex items-center",children:m.jsx("span",{className:"font-bold text-lg",children:"ai search"})})}),m.jsx(j,{variant:"outline",size:"icon",className:"w-8 h-8 border-[#e4e4e4]",onClick:()=>t(!a),children:a?m.jsx(p,{className:"w-5 h-5"}):m.jsx(v,{className:"w-5 h-5"})})]}),!a&&m.jsxs(j,{variant:"outline",className:"flex h-[42px] items-center justify-center gap-1 px-[27px] py-[11px] w-full border-[#dedede]",onClick:O,children:[m.jsx(y,{className:"w-4 h-4"}),m.jsx("span",{className:"font-bold text-[14.2px] text-[#404042]",children:"홈으로"})]}),a&&m.jsx(j,{variant:"outline",size:"icon",className:"w-8 h-8 border-[#dedede]",onClick:O,children:m.jsx(y,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"flex flex-col pt-[21px] pb-0 w-full bg-white border-t border-[#e4e4e4] mt-auto "+(a?"items-center":"items-start"),children:m.jsx("div",{className:"flex flex-col gap-1 w-full "+(a?"items-center":"items-start"),children:C.map((e,r)=>m.jsxs("div",{className:"flex min-h-[22px] items-center gap-1.5 p-1.5 w-full cursor-pointer hover:bg-gray-50 rounded "+(a?"justify-center":""),onClick:e.onClick,children:[m.jsx("div",{className:"flex flex-col w-4 h-4 "+(a?"items-center":"items-start"),children:e.icon}),!a&&m.jsx("div",{className:"flex flex-col h-[22.39px] items-start flex-1",children:m.jsx("div",{className:"relative self-stretch mt-[-1.00px] font-normal text-[#404042] text-[13.1px] tracking-[0] leading-[22.4px] overflow-hidden text-ellipsis",children:e.text})})]},r))})})]}),m.jsxs("main",{className:"flex flex-col flex-1 h-full bg-white",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e8e8e8] bg-[#f8f9fa]",children:[m.jsx("h1",{className:"font-bold text-xl text-[#111111]",children:"Elderberry Chat"}),m.jsx(j,{variant:"outline",size:"sm",onClick:()=>{i([]),f("")},className:"text-[#666] hover:bg-gray-100",children:"대화 내용 지우기"})]}),m.jsxs("div",{ref:k,className:"flex-1 overflow-y-auto p-6 space-y-6",style:{maxHeight:"calc(100vh - 200px)"},children:[l.map(e=>m.jsxs("div",{className:"animate-in fade-in duration-300",children:[m.jsx("div",{className:`flex ${e.isUser?"justify-end":"justify-start"} mb-2`,children:m.jsxs("div",{className:"max-w-[75%] "+(e.isUser?"ml-12":"mr-12"),children:[m.jsxs("div",{className:"text-xs text-gray-500 mb-1 "+(e.isUser?"text-right":"text-left"),children:[e.isUser?"나":"Elderberry"," • ",new Date(e.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})]}),m.jsx("div",{className:"p-4 rounded-2xl shadow-sm "+(e.isUser?"bg-[#29b79c] text-white rounded-br-md":"bg-white text-[#333] border border-gray-200 rounded-bl-md"),children:m.jsx("div",{className:"text-[15px] leading-relaxed whitespace-pre-wrap break-words",children:e.text})})]})}),e.extractedInfo&&Object.keys(e.extractedInfo).length>0&&m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"max-w-[75%] mr-12 mt-2",children:e.extractedInfo.recommendations?m.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),m.jsx("span",{className:"text-sm font-semibold text-green-800",children:"추천 요양보호사"})]}),m.jsx("div",{className:"space-y-3",children:e.extractedInfo.recommendations.map((e,r)=>m.jsxs("div",{className:"bg-white/70 p-3 rounded-lg border border-green-100",children:[m.jsx("div",{className:"font-medium text-green-900 mb-1",children:e.name||`요양보호사 ${r+1}`}),e.experience&&m.jsxs("div",{className:"text-sm text-green-700 mb-1",children:["경력: ",e.experience]}),e.specialization&&m.jsxs("div",{className:"text-sm text-green-700 mb-1",children:["전문분야: ",e.specialization]}),e.location&&m.jsxs("div",{className:"text-sm text-green-700 mb-1",children:["지역: ",e.location]}),e.rating&&m.jsxs("div",{className:"text-sm text-green-700",children:["평점: ⭐ ",e.rating]})]},r))})]}):m.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),m.jsx("span",{className:"text-sm font-semibold text-blue-800",children:"추출된 정보"})]}),m.jsx("pre",{className:"text-sm text-blue-700 whitespace-pre-wrap font-mono bg-white/50 p-3 rounded-lg overflow-x-auto",children:JSON.stringify(e.extractedInfo,null,2)})]})})})]},e.id)),o&&m.jsx("div",{className:"flex justify-start animate-in fade-in duration-300",children:m.jsxs("div",{className:"max-w-[75%] mr-12",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Elderberry • 입력 중..."}),m.jsx("div",{className:"bg-white border border-gray-200 text-[#666] p-4 rounded-2xl rounded-bl-md shadow-sm",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),m.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),m.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),m.jsx("span",{className:"text-sm",children:"응답 생성 중입니다..."})]})})]})}),0===l.length&&!o&&m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#29b79c] to-[#20a085] rounded-full flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-2xl text-white",children:"🤖"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Elderberry와 대화를 시작해보세요"}),m.jsx("p",{className:"text-gray-500 max-w-md",children:"궁금한 것이 있으시면 언제든지 물어보세요. 도움이 되도록 최선을 다하겠습니다."})]})]}),x&&m.jsx("div",{className:"mx-4 p-3 bg-[#f8d7da] text-[#dc3545] rounded-lg border border-[#f5c6cb]",children:x}),m.jsx("div",{className:"p-4 border-t border-[#e8e8e8]",children:m.jsxs(P,{className:"flex flex-col w-full bg-white rounded-2xl border-2 border-[#29b79c] shadow-[0px_2px_10px_#00000029]",children:[m.jsx(H,{className:"p-0 w-full bg-white",children:m.jsx("div",{className:"flex flex-col w-full",children:m.jsx("textarea",{value:n,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),T())},className:"w-full min-h-[80px] p-4 text-[15px] text-[#333] bg-transparent border-none outline-none resize-none placeholder:text-[#818181]",placeholder:"메시지를 입력하세요...",rows:2,disabled:o})})}),m.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-3 border-t border-[#e4e4e4]",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(j,{variant:"ghost",size:"sm",className:"h-8 px-3 text-[#666] hover:bg-gray-100 text-sm",children:"📎 첨부하기"}),m.jsx(j,{variant:"ghost",size:"sm",className:"h-8 px-3 text-[#666] hover:bg-gray-100 text-sm",children:"📄 문서첨부"})]}),m.jsx(j,{variant:"ghost",size:"icon",className:"w-10 h-10 p-0 hover:bg-gray-100 rounded-full",onClick:()=>T(),disabled:o||!n.trim(),children:m.jsx(u,{className:"w-5 h-5 text-[#29b79c]"})})]})]})})]})]})}},Symbol.toStringTag,{value:"Module"}));export{P as C,H as a,_ as b,E as c,M as d,K as e,J as f,V as g,F as h,R as i};
