var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,i=(e,r)=>{for(var t in r||(r={}))s.call(r,t)&&l(e,t,r[t]);if(a)for(var t of a(r))n.call(r,t)&&l(e,t,r[t]);return e},o=(e,a)=>r(e,t(a)),c=(e,r)=>{var t={};for(var l in e)s.call(e,l)&&r.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&a)for(var l of a(e))r.indexOf(l)<0&&n.call(e,l)&&(t[l]=e[l]);return t},d=(e,r,t)=>new Promise((a,s)=>{var n=e=>{try{i(t.next(e))}catch(r){s(r)}},l=e=>{try{i(t.throw(e))}catch(r){s(r)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,l);i((t=t.apply(e,r)).next())});import{c as m,r as u,j as h,L as x,a as p,R as g,C as v,b as f,T as y,S as b,X as N,E as j,d as w,u as T,e as E,P as C,M as k,f as S,g as R,F as I,h as L,i as O,A as P,k as A,l as M,m as D,n as _,o as $,p as H,q as z,B,s as F,t as U,D as K,v as V,w as W,x as G,y as q,U as J,I as Y,z as Q,G as X}from"./react-vendor-DxVTcXnD.js";import{m as Z,A as ee}from"./ui-libs-CJrx2-W2.js";import{t as re,c as te}from"./vendor-Cb5iQNse.js";import{a as ae,c as se}from"./utils-D3YFsgXT.js";import{p as ne}from"./state-management-DszUOxv_.js";function le(e){return"object"==typeof e&&null!==e&&"message"in e&&"code"in e&&"status"in e&&"timestamp"in e&&"path"in e}function ie(e){return e instanceof Error&&"code"in e&&["NETWORK_ERROR","TIMEOUT_ERROR","CONNECTION_ERROR"].includes(e.code)}function oe(e){return le(e)&&["UNAUTHORIZED","FORBIDDEN","TOKEN_EXPIRED","INVALID_CREDENTIALS"].includes(e.code)}function ce(e){return le(e)&&["VALIDATION_FAILED","RESOURCE_NOT_FOUND","BUSINESS_RULE_VIOLATION"].includes(e.code)}function de(e){return le(e)&&["INTERNAL_ERROR","SERVICE_UNAVAILABLE","DATABASE_ERROR"].includes(e.code)}function me(e,r){if(le(e)||ie(e))return e;if(e instanceof Error){return{name:e.name,message:e.message,code:"NETWORK_ERROR",stack:e.stack}}if("string"==typeof e){return{name:"Error",message:e,code:"NETWORK_ERROR"}}if("object"==typeof e&&null!==e){const t=e;if("response"in t&&"object"==typeof t.response&&null!==t.response){const e=t.response;if("data"in e&&"object"==typeof e.data&&null!==e.data){const t=e.data;return{message:t.message||"알 수 없는 오류가 발생했습니다.",code:t.code||"UNKNOWN_ERROR",status:e.status||500,timestamp:t.timestamp||(new Date).toISOString(),path:t.path||(null==r?void 0:r.route)||"",details:t.details||{}}}}return{message:t.message||"알 수 없는 오류가 발생했습니다.",code:t.code||"UNKNOWN_ERROR",status:t.status||500,timestamp:(new Date).toISOString(),path:(null==r?void 0:r.route)||"",details:t}}return{message:"알 수 없는 오류가 발생했습니다.",code:"UNKNOWN_ERROR",status:500,timestamp:(new Date).toISOString(),path:(null==r?void 0:r.route)||""}}function ue(e,r){const t=function(e){return ie(e)?"NETWORK":oe(e)?"AUTH":ce(e)?"BUSINESS":de(e)?"SYSTEM":le(e)?"VALIDATION":"UNKNOWN"}(e),a=function(e){return oe(e)?"UNAUTHORIZED"===e.code?"HIGH":"MEDIUM":de(e)?"CRITICAL":ie(e)?"MEDIUM":ce(e)?"LOW":"MEDIUM"}(e);return{category:t,severity:a,message:e.message,details:"details"in e?e.details:void 0,timestamp:new Date,userMessage:he(e)}}function he(e){if(oe(e))switch(e.code){case"UNAUTHORIZED":return"로그인이 필요합니다.";case"FORBIDDEN":return"접근 권한이 없습니다.";case"TOKEN_EXPIRED":return"세션이 만료되었습니다. 다시 로그인해주세요.";case"INVALID_CREDENTIALS":return"이메일 또는 비밀번호가 올바르지 않습니다.";default:return"인증 오류가 발생했습니다."}if(ie(e))switch(e.code){case"NETWORK_ERROR":return"네트워크 연결을 확인해주세요.";case"TIMEOUT_ERROR":return"요청 시간이 초과되었습니다. 잠시 후 다시 시도해주세요.";case"CONNECTION_ERROR":return"서버에 연결할 수 없습니다.";default:return"네트워크 오류가 발생했습니다."}if(ce(e))switch(e.code){case"VALIDATION_FAILED":return"입력 정보를 확인해주세요.";case"RESOURCE_NOT_FOUND":return"요청하신 정보를 찾을 수 없습니다.";case"BUSINESS_RULE_VIOLATION":return"비즈니스 규칙 위반입니다.";default:return"처리 중 오류가 발생했습니다."}if(de(e))switch(e.code){case"INTERNAL_ERROR":return"시스템 오류가 발생했습니다. 관리자에게 문의해주세요.";case"SERVICE_UNAVAILABLE":return"서비스가 일시적으로 사용할 수 없습니다.";case"DATABASE_ERROR":return"데이터 처리 중 오류가 발생했습니다.";default:return"시스템 오류가 발생했습니다."}return e.message||"알 수 없는 오류가 발생했습니다."}const xe={error:(e,r)=>{ue(me(e,r))},warn:(e,r)=>{me(e,r)},info:(e,r)=>{}},pe=ae.create({baseURL:"http://localhost:8080/api/auth",timeout:1e4,headers:{"Content-Type":"application/json"}}),ge=ae.create({baseURL:"http://localhost:8080/api/members",timeout:1e4,headers:{"Content-Type":"application/json"}});pe.interceptors.request.use(e=>{if(["/login","/register","/signup","/login-test","/login-dto-test","/login-simple-test","/login-map-test","/password-hash-test"].some(r=>{const t=e.url||"";return t===r||t.endsWith(r)}))delete e.headers.Authorization;else{const r=localStorage.getItem("accessToken");r&&(e.headers.Authorization=`Bearer ${r}`)}return e}),ge.interceptors.request.use(e=>{const r=localStorage.getItem("accessToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e});const ve=e=>{var r,t,a;const s=e,n={component:"authApi",route:(null==(r=null==s?void 0:s.config)?void 0:r.url)||""};if(401===(null==(t=null==s?void 0:s.response)?void 0:t.status)){const r=(null==(a=s.config)?void 0:a.url)||"";if(r.includes("/login")||r.includes("/register")){const r=me(e,n);return Promise.reject(r)}{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user");const r=me(e,n);return xe.warn(r,n),Promise.reject(r)}}const l=me(e,n);return xe.error(l,n),Promise.reject(l)};pe.interceptors.response.use(e=>e,ve),ge.interceptors.response.use(e=>e,ve);const fe={login(e){return d(this,null,function*(){return(yield pe.post("/login",e)).data})},register(e){return d(this,null,function*(){return(yield pe.post("/register",e)).data})},logout(){return d(this,null,function*(){yield pe.post("/logout")})},refreshToken(e){return d(this,null,function*(){return(yield pe.post("/refresh",e)).data})},validateToken(e){return d(this,null,function*(){return(yield pe.post("/validate",e)).data})},invalidateAllTokens(){return d(this,null,function*(){yield pe.post("/invalidate-all")})},getActiveTokens(){return d(this,null,function*(){return(yield pe.get("/active-tokens")).data})},invalidateToken(e){return d(this,null,function*(){yield pe.post(`/invalidate/${e}`)})},getTokenMetadata(){return d(this,null,function*(){return(yield pe.get("/token-metadata")).data})}},ye={getProfile(){return d(this,null,function*(){return(yield ge.get("/profile")).data})},updateProfile(e){return d(this,null,function*(){return(yield ge.put("/profile",e)).data})},deleteAccount(){return d(this,null,function*(){yield ge.delete("/profile")})},getMember(e){return d(this,null,function*(){return(yield ge.get(`/${e}`)).data})},getAllMembers(){return d(this,null,function*(){return(yield ge.get("")).data})},getMembersByRole(e){return d(this,null,function*(){return(yield ge.get(`/role/${e}`)).data})},createMember(e){return d(this,null,function*(){return(yield ge.post("",e)).data})},updateMember(e,r){return d(this,null,function*(){return(yield ge.put(`/${e}`,r)).data})},deleteMember(e){return d(this,null,function*(){yield ge.delete(`/${e}`)})}},be={ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken",USER:"user"},Ne=e=>{try{return sessionStorage.getItem(be[e])}catch(r){return null}},je=(e,r)=>{try{sessionStorage.setItem(be[e],r)}catch(t){}},we=e=>{try{sessionStorage.removeItem(be[e])}catch(r){}},Te=e=>{try{sessionStorage.setItem(be.USER,JSON.stringify(e))}catch(r){}},Ee=()=>{try{sessionStorage.removeItem(be.USER)}catch(e){}},Ce={user:(()=>{try{const e=sessionStorage.getItem(be.USER);return e?JSON.parse(e):null}catch(e){return null}})(),accessToken:Ne("ACCESS_TOKEN"),refreshToken:Ne("REFRESH_TOKEN"),isAuthenticated:!!Ne("ACCESS_TOKEN"),isLoading:!1,error:null},ke=m()(ne((e,r)=>o(i({},Ce),{login:r=>d(null,null,function*(){var t;try{e({isLoading:!0,error:null}),we("ACCESS_TOKEN"),we("REFRESH_TOKEN"),Ee();const t=yield fe.login(r),a={id:t.member.id,email:t.member.email,name:t.member.name,role:t.member.role,profileCompletionRate:t.member.profileCompletionRate||0,isActive:t.member.isActive};je("ACCESS_TOKEN",t.accessToken),t.refreshToken&&je("REFRESH_TOKEN",t.refreshToken),Te(a),e({user:a,accessToken:t.accessToken,refreshToken:t.refreshToken||null,isAuthenticated:!0,isLoading:!1,error:null})}catch(a){const r={component:"authStore",action:"login"},s=me(a,r),n=(null==(t=s.message)?void 0:t.includes("401"))?"이메일 또는 비밀번호가 올바르지 않습니다.":s.message||"로그인에 실패했습니다.";throw xe.warn(s,r),e({isLoading:!1,error:n}),s}}),register:r=>d(null,null,function*(){var t;try{e({isLoading:!0,error:null});const t=yield fe.register(r),a={id:t.member.id,email:t.member.email,name:t.member.name,role:t.member.role,profileCompletionRate:t.member.profileCompletionRate||0,isActive:t.member.isActive};je("ACCESS_TOKEN",t.accessToken),je("REFRESH_TOKEN",t.refreshToken),Te(a),e({user:a,accessToken:t.accessToken,refreshToken:t.refreshToken,isAuthenticated:!0,isLoading:!1,error:null})}catch(a){const r={component:"authStore",action:"register"},s=me(a,r),n=(null==(t=s.message)?void 0:t.includes("409"))?"이미 사용중인 이메일입니다.":s.message||"회원가입에 실패했습니다.";throw xe.warn(s,r),e({isLoading:!1,error:n}),s}}),logout:()=>d(null,null,function*(){try{e({isLoading:!0}),yield fe.logout()}catch(r){xe.warn(r,{component:"authStore",action:"logout"})}finally{we("ACCESS_TOKEN"),we("REFRESH_TOKEN"),Ee(),e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null})}}),refreshToken:()=>d(null,null,function*(){try{const{refreshToken:t}=r();if(!t)throw new Error("리프레시 토큰이 없습니다.");const a=yield fe.refreshToken({refreshToken:t}),s={id:a.member.id,email:a.member.email,name:a.member.name,role:a.member.role,profileCompletionRate:a.member.profileCompletionRate||0,isActive:a.member.isActive};je("ACCESS_TOKEN",a.accessToken),je("REFRESH_TOKEN",a.refreshToken),Te(s),e({user:s,accessToken:a.accessToken,refreshToken:a.refreshToken,isAuthenticated:!0,error:null})}catch(t){const e={component:"authStore",action:"refreshToken"},a=me(t,e);throw xe.error(a,e),r().logout(),a}}),refreshUser:()=>d(null,null,function*(){try{e({isLoading:!0});const r=yield ye.getProfile(),t={id:r.id,email:r.email,name:r.name,role:r.role,profileCompletionRate:r.profileCompletionRate,isActive:r.isActive};Te(t),e({user:t,isLoading:!1,error:null})}catch(r){const t={component:"authStore",action:"refreshUser"},a=me(r,t);throw xe.error(a,t),e({isLoading:!1,error:a.message||"사용자 정보 조회에 실패했습니다."}),a}}),updateProfile:r=>d(null,null,function*(){try{e({isLoading:!0,error:null});const t=yield ye.updateProfile(r),a={id:t.id,email:t.email,name:t.name,role:t.role,profileCompletionRate:t.profileCompletionRate,isActive:t.isActive};Te(a),e({user:a,isLoading:!1,error:null})}catch(t){const r={component:"authStore",action:"updateProfile"},a=me(t,r);throw xe.error(a,r),e({isLoading:!1,error:a.message||"프로필 업데이트에 실패했습니다."}),a}}),validateToken:()=>d(null,null,function*(){try{const{accessToken:e}=r();if(!e)return!1;return(yield fe.validateToken({token:e})).valid}catch(e){return xe.warn(e,{component:"authStore",action:"validateToken"}),!1}}),clearError:()=>{e({error:null})},setLoading:r=>{e({isLoading:r})},reset:()=>{we("ACCESS_TOKEN"),we("REFRESH_TOKEN"),Ee(),e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null})}}),{name:"elderberry-auth",partialize:e=>({isAuthenticated:e.isAuthenticated})}));var Se=(e=>(e.ADMIN="ADMIN",e.FACILITY="FACILITY",e.COORDINATOR="COORDINATOR",e.USER_DOMESTIC="USER_DOMESTIC",e.USER_OVERSEAS="USER_OVERSEAS",e.JOB_SEEKER_DOMESTIC="JOB_SEEKER_DOMESTIC",e.JOB_SEEKER_OVERSEAS="JOB_SEEKER_OVERSEAS",e))(Se||{});const Re={currentThemeId:"default-light",availableThemes:{"default-light":{core:{base:[95,2,266,1],accent:[44,99,307,1],contrast:30}},"default-dark":{core:{base:[18,11,280,1],accent:[72,40,311,1],contrast:30}},"catppuccin-latte":{core:{base:[95.07617314910061,2.1856276247566773,265.9705972968138,1],accent:[43.717135811988086,99.37386079300107,307.12305463765506,1],contrast:30}},"catppuccin-mocha":{core:{base:[16.02115422223583,13.102236978320558,282.51213623981425,1],accent:[71.7932136171783,46.50946588741101,305.26693753987405,1],contrast:30}},"github-light":{core:{base:[98,0,0,1],accent:[40,80,210,1],contrast:35}},"tokyo-night":{core:{base:[15,15,250,1],accent:[60,90,200,1],contrast:40}},"minimal-dark":{core:{base:[12,8,270,1],accent:[65,85,250,1],contrast:35,sidebar:{base:[8,5,270,1],accent:[65,85,250,1],contrast:35}}},"warm-light":{core:{base:[97,5,40,1],accent:[50,90,15,1],contrast:30,sidebar:{base:[94,8,40,1],accent:[50,90,15,1],contrast:30}}}},customThemes:{},isHighContrast:!1,isReducedMotion:!1,isSystemTheme:!1,loading:!1,error:null,history:[]},Ie=(e,r)=>{var t,a;switch(r.type){case"SET_THEME":return o(i({},e),{currentThemeId:r.payload.themeId,error:null});case"ADD_CUSTOM_THEME":return o(i({},e),{customThemes:o(i({},e.customThemes),{[r.payload.themeId]:r.payload.config})});case"REMOVE_CUSTOM_THEME":const s=e.customThemes,{[t=r.payload.themeId]:n}=s,l=c(s,[(a=t,"symbol"==typeof a?a:a+"")]);return o(i({},e),{customThemes:l,currentThemeId:e.currentThemeId===r.payload.themeId?"default-light":e.currentThemeId});case"TOGGLE_HIGH_CONTRAST":return o(i({},e),{isHighContrast:!e.isHighContrast});case"TOGGLE_REDUCED_MOTION":return o(i({},e),{isReducedMotion:!e.isReducedMotion});case"SET_SYSTEM_THEME":return o(i({},e),{isSystemTheme:r.payload.enabled});case"SET_LOADING":return o(i({},e),{loading:r.payload.loading});case"SET_ERROR":return o(i({},e),{error:r.payload.error,loading:!1});case"LOAD_THEMES":return o(i({},e),{availableThemes:i(i({},e.availableThemes),r.payload.themes)});case"ADD_HISTORY_ENTRY":return o(i({},e),{history:[r.payload.entry,...e.history.slice(0,49)]});case"CLEAR_HISTORY":return o(i({},e),{history:[]});default:return e}},Le=u.createContext(null);class Oe{constructor(){var e;l(this,"symbol"!=typeof(e="listeners")?e+"":e,new Map)}addEventListener(e,r){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(r)}removeEventListener(e,r){const t=this.listeners.get(e);t&&t.delete(r)}emit(e,r){const t=this.listeners.get(e);if(t){const a={type:e,timestamp:new Date,data:r};t.forEach(e=>e(a))}}}const Pe=({children:e,initialTheme:r,enableSystemTheme:t=!0,enableAnimations:a=!0,storageKey:s="linear-theme-state"})=>{const[n,l]=u.useReducer(Ie,Re),o=u.useMemo(()=>new Oe,[]);u.useEffect(()=>{d(null,null,function*(){try{l({type:"SET_LOADING",payload:{loading:!0}});const e=localStorage.getItem(s);if(e){const r=JSON.parse(e);r.customThemes&&Object.entries(r.customThemes).forEach(([e,r])=>{l({type:"ADD_CUSTOM_THEME",payload:{themeId:e,config:r}})}),r.currentThemeId&&l({type:"SET_THEME",payload:{themeId:r.currentThemeId}}),void 0!==r.isHighContrast&&r.isHighContrast!==n.isHighContrast&&l({type:"TOGGLE_HIGH_CONTRAST"})}const t=r||n.currentThemeId;yield m(t),l({type:"SET_LOADING",payload:{loading:!1}})}catch(e){l({type:"SET_ERROR",payload:{error:"테마 상태를 로드하는 중 오류가 발생했습니다."}})}})},[r,s]),u.useEffect(()=>{const e={currentThemeId:n.currentThemeId,customThemes:n.customThemes,isHighContrast:n.isHighContrast,isReducedMotion:n.isReducedMotion,isSystemTheme:n.isSystemTheme};localStorage.setItem(s,JSON.stringify(e))},[n.currentThemeId,n.customThemes,n.isHighContrast,n.isReducedMotion,n.isSystemTheme,s]);const c=u.useCallback((e,r={})=>{var t;const s=document.documentElement,{animated:l=a,animationDuration:i=300}=r;l&&(s.style.setProperty("--theme-transition-duration",`${i}ms`),s.classList.add("theme-transitioning"));const{base:o,accent:c,contrast:d,sidebar:m}=e.core;s.style.setProperty("--linear-lch-base",`${o[0]} ${o[1]} ${o[2]}`),s.style.setProperty("--linear-lch-accent",`${c[0]} ${c[1]} ${c[2]}`),s.style.setProperty("--linear-contrast",d.toString()),m&&(s.style.setProperty("--linear-sidebar-lch-base",`${m.base[0]} ${m.base[1]} ${m.base[2]}`),s.style.setProperty("--linear-sidebar-lch-accent",`${m.accent[0]} ${m.accent[1]} ${m.accent[2]}`),s.style.setProperty("--linear-sidebar-contrast",m.contrast.toString()));const u=o[0]<=50;s.classList.remove("theme-light","theme-dark"),s.classList.add(u?"theme-dark":"theme-light"),n.isHighContrast?s.classList.add("theme-high-contrast"):s.classList.remove("theme-high-contrast"),n.isReducedMotion?s.classList.add("theme-reduced-motion"):s.classList.remove("theme-reduced-motion"),l?setTimeout(()=>{var e;s.classList.remove("theme-transitioning"),s.style.removeProperty("--theme-transition-duration"),null==(e=r.onComplete)||e.call(r)},i):null==(t=r.onComplete)||t.call(r)},[a,n.isHighContrast,n.isReducedMotion]),m=u.useCallback((e,...r)=>d(null,[e,...r],function*(e,r={}){var t;try{const t=i(i({},n.availableThemes),n.customThemes)[e];if(!t)throw new Error(`테마 '${e}'를 찾을 수 없습니다.`);const a=n.currentThemeId;l({type:"SET_THEME",payload:{themeId:e,options:r}}),c(t,r);const s={themeId:e,themeName:`Theme ${e}`,changedAt:new Date,reason:r.immediate?"immediate":"user-selection"};l({type:"ADD_HISTORY_ENTRY",payload:{entry:s}}),o.emit("theme-changed",{themeId:e,previousThemeId:a,config:t}),!1!==r.persist&&localStorage.setItem("linear-current-theme",e)}catch(a){const e=a instanceof Error?a.message:"알 수 없는 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),o.emit("theme-error",{error:e}),null==(t=r.onError)||t.call(r,a),a}}),[n.availableThemes,n.customThemes,n.currentThemeId,c,o]),x=u.useCallback((e,r)=>d(null,null,function*(){try{l({type:"ADD_CUSTOM_THEME",payload:{themeId:e,config:r}});const t=JSON.parse(localStorage.getItem("linear-custom-themes")||"{}");t[e]=r,localStorage.setItem("linear-custom-themes",JSON.stringify(t)),o.emit("custom-theme-created",{themeId:e,config:r})}catch(t){const e=t instanceof Error?t.message:"커스텀 테마 추가 중 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),t}}),[o]),p=u.useCallback(e=>d(null,null,function*(){try{l({type:"REMOVE_CUSTOM_THEME",payload:{themeId:e}});const r=JSON.parse(localStorage.getItem("linear-custom-themes")||"{}");delete r[e],localStorage.setItem("linear-custom-themes",JSON.stringify(r)),o.emit("custom-theme-deleted",{themeId:e})}catch(r){const e=r instanceof Error?r.message:"커스텀 테마 제거 중 오류가 발생했습니다.";throw l({type:"SET_ERROR",payload:{error:e}}),r}}),[o]),g=u.useCallback(()=>{l({type:"TOGGLE_HIGH_CONTRAST"}),o.emit("contrast-toggled",{isHighContrast:!n.isHighContrast});const e=i(i({},n.availableThemes),n.customThemes)[n.currentThemeId];e&&c(e)},[n.isHighContrast,n.availableThemes,n.customThemes,n.currentThemeId,c,o]),v=u.useCallback(()=>{l({type:"TOGGLE_REDUCED_MOTION"})},[]),f=u.useCallback(e=>{if(l({type:"SET_SYSTEM_THEME",payload:{enabled:e}}),e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;m(e?"default-dark":"default-light")}},[m]),y=u.useCallback((e,r,t,a=30)=>d(null,null,function*(){const s=e.toLowerCase().replace(/\s+/g,"-"),n={core:{base:r,accent:t,contrast:a}};return yield x(s,n),s}),[x]),b=u.useCallback(e=>{const r=i(i({},n.availableThemes),n.customThemes)[e];if(!r)return null;const t={version:"2025.1.0",theme:r,exportedAt:(new Date).toISOString(),compatibility:{minVersion:"2025.1.0"}};return JSON.stringify(t,null,2)},[n.availableThemes,n.customThemes]),N=u.useCallback(e=>d(null,null,function*(){var r;try{const t=JSON.parse(e);if(!t.theme||!t.theme.core)throw new Error("유효하지 않은 테마 형식입니다.");const a=((null==(r=t.theme.metadata)?void 0:r.name)||"Imported Theme").toLowerCase().replace(/\s+/g,"-");return yield x(a,t.theme),a}catch(t){throw new Error("테마 가져오기에 실패했습니다: "+t.message)}}),[x]),j=u.useCallback(()=>d(null,null,function*(){l({type:"CLEAR_HISTORY"}),localStorage.removeItem(s),localStorage.removeItem("linear-custom-themes"),yield m("default-light")}),[s,m]),w=u.useCallback(()=>{l({type:"CLEAR_HISTORY"})},[]);u.useEffect(()=>{if(!t||!n.isSystemTheme)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),r=e=>{const r=e.matches?"default-dark":"default-light";m(r)};return e.addEventListener("change",r),()=>e.removeEventListener("change",r)},[t,n.isSystemTheme,m]),u.useEffect(()=>{const e=window.matchMedia("(prefers-contrast: high)"),r=e=>{e.matches&&!n.isHighContrast&&g()},t=window.matchMedia("(prefers-reduced-motion: reduce)"),a=e=>{e.matches!==n.isReducedMotion&&v()};return e.addEventListener("change",r),t.addEventListener("change",a),()=>{e.removeEventListener("change",r),t.removeEventListener("change",a)}},[n.isHighContrast,n.isReducedMotion,g,v]);const T=u.useMemo(()=>{const e=i(i({},n.availableThemes),n.customThemes),r=e[n.currentThemeId]||null,t=!!r&&r.core.base[0]<=50,a=Object.entries(e).map(([e,r])=>({id:e,name:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),description:`${r.core.base[0]<=50?"Dark":"Light"} theme with ${r.core.contrast}% contrast`,previewColors:{background:`lch(${r.core.base[0]} ${r.core.base[1]} ${r.core.base[2]})`,foreground:`lch(${r.core.base[0]<=50?"90":"20"} 5 ${r.core.base[2]})`,accent:`lch(${r.core.accent[0]} ${r.core.accent[1]} ${r.core.accent[2]})`,border:`lch(${r.core.base[0]<=50?"30":"85"} 5 ${r.core.base[2]})`},category:e.includes("catppuccin")?"pastel":e.includes("minimal")?"minimal":e.includes("tokyo")||e.includes("warm")?"vibrant":"classic",variant:r.core.base[0]<=50?"dark":"light"}));return{currentThemeId:n.currentThemeId,availableThemes:n.availableThemes,customThemes:n.customThemes,isHighContrast:n.isHighContrast,isReducedMotion:n.isReducedMotion,isSystemTheme:n.isSystemTheme,loading:n.loading,error:n.error,history:n.history,currentTheme:r,isDarkMode:t,allThemes:e,themePreview:a,setTheme:m,addCustomTheme:x,removeCustomTheme:p,toggleHighContrast:g,toggleReducedMotion:v,toggleSystemTheme:f,generateThemeFromColors:y,exportTheme:b,importTheme:N,resetToDefaults:j,clearHistory:w,addEventListener:o.addEventListener.bind(o),removeEventListener:o.removeEventListener.bind(o)}},[n,m,x,p,g,v,f,y,b,N,j,w,o]);return h.jsx(Le.Provider,{value:T,children:e})},Ae=()=>{const e=u.useContext(Le);if(!e)throw new Error("useThemeContext는 ThemeProvider 내에서 사용되어야 합니다.");return e},Me=(e={})=>{const{debounceDelay:r=300,enableAnimations:t=!0,autoSave:a=!0,detectSystemTheme:s=!0,autoAccessibility:n=!0}=e,l=Ae(),[c,m]=u.useState({totalThemes:0,customThemes:0,sessionChanges:0,mostUsedTheme:null,averageUsageTime:0}),[h,x]=u.useState(!1),[p,g]=u.useState(null),v=u.useRef(),f=u.useRef(),y=u.useRef(Date.now()),b=u.useRef(new Map),N=u.useCallback((e,s)=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{l.setTheme(e,i({animated:t,persist:a},s)),y.current=Date.now()},r)},[l.setTheme,r,t,a]),j=u.useCallback((e,r)=>{v.current&&clearTimeout(v.current),l.setTheme(e,i({animated:t,persist:a,immediate:!0},r)),y.current=Date.now()},[l.setTheme,t,a]),w=u.useCallback((e,r={})=>{const{duration:a=3e3,autoRevert:s=!0,blockEvents:n=!0}=r;h&&f.current&&clearTimeout(f.current);const i=l.currentThemeId;x(!0),g(e),l.setTheme(e,{animated:t,persist:!1,immediate:!1}),s&&(f.current=setTimeout(()=>{l.setTheme(i,{animated:t,persist:!1}),x(!1),g(null)},a))},[l.setTheme,l.currentThemeId,t,h]),T=u.useCallback(()=>{if(f.current&&clearTimeout(f.current),h){const e=localStorage.getItem("linear-current-theme")||"default-light";l.setTheme(e,{animated:t,persist:!1})}x(!1),g(null)},[l.setTheme,t,h]),E=u.useCallback(e=>{const r=e||l.currentThemeId,t=l.allThemes[r];if(!t)return null;const{base:a,accent:s}=t.core,n=a[0],i=s[0],o=Math.abs(n-i)/100*21;let c;c=o>=7?"AAA":o>=4.5?"AA":"FAIL";const d=Math.abs(a[2]-s[2]);let m;m=d<30?"monochromatic":d<60?"analogous":d>150&&d<210?"complementary":d>100&&d<140?"triadic":"custom";const u=(a[2]+s[2])/2;let h;h=u>=0&&u<=60||u>=300?"warm":u>180&&u<300?"cool":"neutral";const x=(a[1]+s[1])/2;let p;return p=x<20?"low":x<60?"medium":"high",{contrastRatio:o,accessibilityGrade:c,harmony:m,temperature:h,saturationLevel:p}},[l.currentThemeId,l.allThemes]),C=u.useCallback((e,r,t,a=30)=>d(null,null,function*(){try{const s=yield l.generateThemeFromColors(e,r,t,a),i=E(s);return n&&(null==i||i.accessibilityGrade),s}catch(s){throw s}}),[l.generateThemeFromColors,E,n]),k=u.useCallback(()=>{var e;const r=l.currentTheme;if(!r)return;const t=r.core.base[0]<=50?"light":"dark",a=l.themePreview,s=null==(e=a.find(e=>e.id===l.currentThemeId))?void 0:e.category,n=a.find(e=>e.variant===t&&(e.category===s||e.id.includes(l.currentThemeId.replace(/-?(light|dark)$/,""))));if(n)j(n.id);else{j("dark"===t?"default-dark":"default-light")}},[l.currentTheme,l.currentThemeId,l.themePreview,j]),S=u.useCallback(()=>{const e=Object.keys(l.allThemes).filter(e=>e!==l.currentThemeId);if(0===e.length)return;const r=e[Math.floor(Math.random()*e.length)];j(r)},[l.allThemes,l.currentThemeId,j]),R=u.useCallback((e,r)=>{l.addEventListener(e,r),b.current.has(e)||b.current.set(e,new Set),b.current.get(e).add(r)},[l.addEventListener]),I=u.useCallback((e,r)=>{l.removeEventListener(e,r);const t=b.current.get(e);t&&t.delete(r)},[l.removeEventListener]),L=u.useMemo(()=>{const e=Object.keys(l.allThemes).length,r=Object.keys(l.customThemes).length,t=l.themePreview.find(e=>e.id===l.currentThemeId);return{totalThemes:e,customThemes:r,compatibleThemes:t?l.themePreview.filter(e=>e.id!==l.currentThemeId&&(e.category===t.category||e.variant===t.variant)):[],isValidTheme:null!==l.currentTheme,hasCustomThemes:r>0,canToggleDarkMode:!0}},[l.allThemes,l.customThemes,l.currentThemeId,l.currentTheme,l.themePreview]);return u.useEffect(()=>()=>{v.current&&clearTimeout(v.current),f.current&&clearTimeout(f.current)},[]),u.useMemo(()=>o(i({currentThemeId:l.currentThemeId,currentTheme:l.currentTheme,allThemes:l.allThemes,customThemes:l.customThemes,isDarkMode:l.isDarkMode,isHighContrast:l.isHighContrast,isReducedMotion:l.isReducedMotion,isSystemTheme:l.isSystemTheme,loading:l.loading,error:l.error,history:l.history,themePreview:l.themePreview},L),{currentAnalysis:l.currentTheme?E():null,sessionStats:c,isPreviewMode:h,previewThemeId:p,toggleHighContrast:l.toggleHighContrast,toggleReducedMotion:l.toggleReducedMotion,toggleSystemTheme:l.toggleSystemTheme,addCustomTheme:l.addCustomTheme,removeCustomTheme:l.removeCustomTheme,exportTheme:l.exportTheme,importTheme:l.importTheme,resetToDefaults:l.resetToDefaults,clearHistory:l.clearHistory,setTheme:N,setThemeImmediate:j,previewTheme:w,cancelPreview:T,analyzeTheme:E,createThemeFromColors:C,toggleDarkMode:k,randomTheme:S,addEventListener:R,removeEventListener:I,getThemeById:e=>l.allThemes[e]||null,getThemesByCategory:e=>l.themePreview.filter(r=>r.category===e),getThemesByVariant:e=>l.themePreview.filter(r=>r.variant===e),searchThemes:e=>l.themePreview.filter(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase())),lchToHex:e=>{const[r,t,a]=e;return`hsl(${a}, ${t}%, ${r}%)`},hexToLch:e=>[50,50,0,1],validateTheme:e=>{const{base:r,accent:t,contrast:a}=e.core;return Array.isArray(r)&&4===r.length&&Array.isArray(t)&&4===t.length&&"number"==typeof a&&a>=0&&a<=100}}),[l,L,c,h,p,N,j,w,T,E,C,k,S,R,I])},De=({size:e="md",color:r="blue",text:t,className:a=""})=>{const s={blue:"text-blue-600",gray:"text-gray-600",white:"text-white"};return h.jsxs("div",{className:`flex flex-col items-center justify-center ${a}`,children:[h.jsx(x,{className:`animate-spin ${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[e]} ${s[r]}`,"aria-label":"로딩 중"}),t&&h.jsx("p",{className:`mt-2 ${{sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e]} ${s[r]} animate-pulse`,children:t})]})};function _e(...e){return re(se(e))}const $e=te(["inline-flex items-center justify-center whitespace-nowrap","font-[var(--linear-font-weight-medium)] text-sm","transition-all duration-[var(--linear-transition-fast)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--linear-color-accent)] focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","min-h-[44px] min-w-[44px]","select-none cursor-pointer","relative overflow-hidden"],{variants:{variant:{primary:["bg-[var(--linear-color-accent)] text-[var(--linear-color-text-on-accent)]","border-[var(--linear-color-accent)] border","hover:bg-[var(--linear-color-accent-hover)] hover:border-[var(--linear-color-accent-hover)]","active:bg-[var(--linear-color-accent-active)] active:border-[var(--linear-color-accent-active)]","hover:shadow-[var(--linear-shadow-card)] hover:-translate-y-0.5","active:translate-y-0 active:shadow-none"],secondary:["bg-transparent text-[var(--linear-color-accent)]","border border-[var(--linear-color-accent)]","hover:bg-[var(--linear-color-accent)] hover:text-[var(--linear-color-text-on-accent)]","hover:shadow-[var(--linear-shadow-card)] hover:-translate-y-0.5","active:translate-y-0 active:shadow-none"],ghost:["bg-transparent text-[var(--linear-color-text-primary)] border-transparent","hover:bg-[var(--linear-color-surface-elevated)] hover:text-[var(--linear-color-text-primary)]","active:bg-[var(--linear-color-control-active)]"],outline:["bg-transparent text-[var(--linear-color-text-primary)]","border border-[var(--linear-color-border-default)]","hover:bg-[var(--linear-color-surface-elevated)] hover:border-[var(--linear-color-border-strong)]","active:bg-[var(--linear-color-control-active)]"],link:["bg-transparent text-[var(--linear-color-accent)] border-transparent","hover:text-[var(--linear-color-accent-hover)] hover:underline","underline-offset-4 p-0 h-auto min-h-0 min-w-0"],destructive:["bg-[var(--linear-color-error)] text-[var(--linear-color-text-on-accent)]","border border-[var(--linear-color-error)]","hover:brightness-110 hover:shadow-[var(--linear-shadow-card)] hover:-translate-y-0.5","active:translate-y-0 active:shadow-none active:brightness-95"],success:["bg-[var(--linear-color-success)] text-[var(--linear-color-text-on-accent)]","border border-[var(--linear-color-success)]","hover:brightness-110 hover:shadow-[var(--linear-shadow-card)] hover:-translate-y-0.5","active:translate-y-0 active:shadow-none active:brightness-95"],warning:["bg-[var(--linear-color-warning)] text-[var(--linear-color-text-on-accent)]","border border-[var(--linear-color-warning)]","hover:brightness-110 hover:shadow-[var(--linear-shadow-card)] hover:-translate-y-0.5","active:translate-y-0 active:shadow-none active:brightness-95"],gradient:["bg-gradient-to-r from-[var(--linear-color-accent)] to-[var(--linear-color-accent-hover)]","text-[var(--linear-color-text-on-accent)] border-transparent","hover:shadow-[var(--linear-shadow-card)] hover:-translate-y-0.5 hover:brightness-110","active:translate-y-0 active:shadow-none active:brightness-95"]},size:{sm:"text-sm px-[var(--linear-spacing-sm)] py-[var(--linear-spacing-xs)] min-h-[36px] gap-1",default:"text-sm px-[var(--linear-spacing-lg)] py-[var(--linear-spacing-sm)] min-h-[44px] gap-2",lg:"text-base px-[var(--linear-spacing-xl)] py-[var(--linear-spacing-md)] min-h-[52px] gap-2",xl:"text-lg px-[var(--linear-spacing-2xl)] py-[var(--linear-spacing-lg)] min-h-[60px] gap-3",icon:"w-[44px] h-[44px] p-0","icon-sm":"w-[36px] h-[36px] p-0","icon-lg":"w-[52px] h-[52px] p-0"},radius:{none:"rounded-none",sm:"rounded-[var(--linear-radius-small)]",md:"rounded-[var(--linear-radius-medium)]",lg:"rounded-[var(--linear-radius-large)]",full:"rounded-[var(--linear-radius-full)]"}},defaultVariants:{variant:"primary",size:"default",radius:"md"}}),He=u.forwardRef((e,r)=>{var t=e,{className:a,variant:s,size:n,radius:l,loading:d=!1,fullWidth:m=!1,icon:p,iconPosition:g="left",animation:v=!0,loadingSpinner:f,disabledReason:y,asChild:b=!1,testId:N,children:j,disabled:w,onClick:T,onKeyDown:E,"aria-label":C,"aria-describedby":k,"aria-expanded":S,"aria-controls":R}=t,I=c(t,["className","variant","size","radius","loading","fullWidth","icon","iconPosition","animation","loadingSpinner","disabledReason","asChild","testId","children","disabled","onClick","onKeyDown","aria-label","aria-describedby","aria-expanded","aria-controls"]);const{isReducedMotion:L}=Me(),O=w||d,P=v&&!L&&!O,A=m?"w-full":"",M=u.useMemo(()=>C||(d?"로딩 중...":O&&y?`버튼 비활성화됨: ${y}`:void 0),[C,d,O,y]),D=u.useMemo(()=>{const e=[k,y&&O?"button-disabled-reason":null].filter(Boolean);return e.length>0?e.join(" "):void 0},[k,y,O]),_=()=>{var e;if(d)return f||h.jsx(x,{className:_e("animate-spin","sm"===n?"w-3 h-3":"lg"===n?"w-5 h-5":"w-4 h-4"),"aria-hidden":"true"});if(!p)return null;if(u.isValidElement(p)){const r="sm"===n?"w-3 h-3":"lg"===n?"w-5 h-5":"w-4 h-4";return u.cloneElement(p,{className:_e(r,null==(e=p.props)?void 0:e.className),"aria-hidden":"true"})}return p},$=e=>{O?e.preventDefault():(" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),null==T||T(e)),null==E||E(e))},H=e=>{O?e.preventDefault():null==T||T(e)},z=P?{whileHover:"link"!==s?{y:-1,transition:{duration:.15,ease:"easeOut"}}:void 0,whileTap:"link"!==s?{scale:.98,y:0,transition:{duration:.1,ease:"easeOut"}}:void 0}:{};if(b&&u.isValidElement(j))return u.cloneElement(j,i(i({className:_e($e({variant:s,size:n,radius:l}),A,"linear-animate-in",a,j.props.className),disabled:O,onClick:H,onKeyDown:$,"aria-label":M,"aria-describedby":D,"aria-expanded":S,"aria-controls":R,"aria-busy":d,"aria-disabled":O,"data-testid":N,tabIndex:O?-1:0},j.props),I));const B=P?Z.button:"button";return h.jsxs(h.Fragment,{children:[h.jsx(B,o(i(i({ref:r,type:"button",className:_e($e({variant:s,size:n,radius:l}),A,"linear-animate-in",a),disabled:O,onClick:H,onKeyDown:$,"aria-label":M,"aria-describedby":D,"aria-expanded":S,"aria-controls":R,"aria-busy":d,"aria-disabled":O,tabIndex:O?-1:0,"data-testid":N},P?z:{}),I),{children:(()=>{const e=_();return e||d?j?"right"===g?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"flex-1",children:j}),e]}):h.jsxs(h.Fragment,{children:[e,h.jsx("span",{className:"flex-1",children:j})]}):e:j})()})),y&&O&&h.jsx("span",{id:"button-disabled-reason",className:"sr-only","aria-live":"polite",children:y})]})});He.displayName="LinearButton";const ze=te(["rounded-[var(--linear-radius-medium)] border","transition-all duration-[var(--linear-transition-fast)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--linear-color-accent)] focus-visible:ring-offset-2","relative overflow-hidden"],{variants:{surface:{default:["bg-[var(--linear-color-background)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-subtle)]"],elevated:["bg-[var(--linear-color-surface-elevated)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-subtle)]"],panel:["bg-[var(--linear-color-surface-panel)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-default)]"],modal:["bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-default)]"],gradient:["bg-gradient-to-br from-[var(--linear-color-surface-elevated)] to-[var(--linear-color-surface-panel)]","text-[var(--linear-color-text-primary)] border-[var(--linear-color-border-subtle)]"],"accent-gradient":["bg-gradient-to-br from-[var(--linear-color-accent)] to-[var(--linear-color-accent-hover)]","text-[var(--linear-color-text-on-accent)] border-[var(--linear-color-accent)]"]},padding:{none:"p-0",xs:"p-[var(--linear-spacing-xs)]",sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-lg)]",lg:"p-[var(--linear-spacing-xl)]",xl:"p-[var(--linear-spacing-2xl)]"},shadow:{none:"shadow-none",card:"shadow-[var(--linear-shadow-card)]",modal:"shadow-[var(--linear-shadow-modal)]",dropdown:"shadow-[var(--linear-shadow-dropdown)]"},radius:{none:"rounded-none",sm:"rounded-[var(--linear-radius-small)]",md:"rounded-[var(--linear-radius-medium)]",lg:"rounded-[var(--linear-radius-large)]",full:"rounded-[var(--linear-radius-full)]"},interactive:{false:"",true:["cursor-pointer select-none","hover:shadow-[var(--linear-shadow-modal)] hover:border-[var(--linear-color-border-default)]","hover:-translate-y-1 active:translate-y-0 active:scale-[0.98]","focus-visible:ring-2 focus-visible:ring-[var(--linear-color-accent)]"]}},defaultVariants:{surface:"elevated",padding:"md",shadow:"card",radius:"md",interactive:!1}}),Be=u.forwardRef((e,r)=>{var t=e,{children:a,className:s,surface:n,padding:l,shadow:d,radius:m,interactive:x,animation:p=!0,title:g,description:v,headerContent:f,footerContent:y,loading:b=!1,empty:N=!1,emptyMessage:j="데이터가 없습니다.",error:w=!1,errorMessage:T="오류가 발생했습니다.",overlay:E,badge:C,onClick:k,onKeyDown:S,role:R,"aria-label":I,"aria-describedby":L}=t,O=c(t,["children","className","surface","padding","shadow","radius","interactive","animation","title","description","headerContent","footerContent","loading","empty","emptyMessage","error","errorMessage","overlay","badge","onClick","onKeyDown","role","aria-label","aria-describedby"]);const{isDark:P,isHighContrast:A}=(()=>{const e=Ae();return u.useMemo(()=>({themeId:e.currentThemeId,theme:e.currentTheme,isDark:e.isDarkMode,isHighContrast:e.isHighContrast}),[e.currentThemeId,e.currentTheme,e.isDarkMode,e.isHighContrast])})(),M=Boolean(k||x),D=p&&M,_=R||(M?"button":"article"),$=I||(g&&M?`${g} 카드`:void 0),H=D?{whileHover:{y:-2,scale:1.01,transition:{duration:.15,ease:"easeOut"}},whileTap:{scale:.98,y:0,transition:{duration:.1,ease:"easeOut"}}}:{},z=D?Z.div:"div";return h.jsxs(z,o(i(i({ref:r,className:_e(ze({surface:n,padding:l,shadow:d,radius:m,interactive:M}),"linear-animate-in",s),onClick:M?k:void 0,onKeyDown:M?e=>{!M||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),null==k||k(e)),null==S||S(e)}:void 0,tabIndex:M?0:void 0,role:_,"aria-label":$,"aria-describedby":L,"aria-busy":b,"aria-disabled":b||w},D?H:{}),O),{children:[C&&h.jsx("div",{className:"absolute top-2 right-2 z-10",children:C}),g||v||f?h.jsxs(Fe,{children:[(g||v)&&h.jsxs("div",{className:"space-y-[var(--linear-spacing-xs)]",children:[g&&h.jsx(Ue,{id:`card-title-${u.useId()}`,children:g}),v&&h.jsx(Ke,{children:v})]}),f]}):null,h.jsx("div",{className:_e(g||v||f?"px-[var(--linear-spacing-lg)] pb-[var(--linear-spacing-lg)]":"",y?"pb-0":""),children:b?h.jsxs("div",{className:"flex items-center justify-center p-[var(--linear-spacing-2xl)]",children:[h.jsx("div",{className:"w-6 h-6 border-2 border-[var(--linear-color-accent)] border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"ml-2 text-[var(--linear-color-text-secondary)]",children:"로딩 중..."})]}):w?h.jsxs("div",{className:"flex flex-col items-center justify-center p-[var(--linear-spacing-2xl)] text-center",children:[h.jsx("div",{className:"w-12 h-12 mb-4 rounded-full bg-[var(--linear-color-error-bg)] flex items-center justify-center",children:h.jsx("svg",{className:"w-6 h-6 text-[var(--linear-color-error)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5C2.962 18.333 3.924 20 5.464 20z"})})}),h.jsx("p",{className:"text-[var(--linear-color-error)]",children:T})]}):N&&!a?h.jsxs("div",{className:"flex flex-col items-center justify-center p-[var(--linear-spacing-2xl)] text-center",children:[h.jsx("div",{className:"w-12 h-12 mb-4 rounded-full bg-[var(--linear-color-surface-panel)] flex items-center justify-center",children:h.jsx("svg",{className:"w-6 h-6 text-[var(--linear-color-text-tertiary)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),h.jsx("p",{className:"text-[var(--linear-color-text-secondary)]",children:j})]}):a}),y?h.jsx(We,{children:y}):null,E&&h.jsx("div",{className:"absolute inset-0 bg-[var(--linear-color-surface-modal)] bg-opacity-90 flex items-center justify-center z-20",children:E})]}))});Be.displayName="LinearCard";const Fe=u.forwardRef((e,r)=>{var t=e,{className:a,centered:s=!1,border:n=!1}=t,l=c(t,["className","centered","border"]);return h.jsx("div",i({ref:r,className:_e("flex flex-col space-y-[var(--linear-spacing-xs)] p-[var(--linear-spacing-lg)] pb-[var(--linear-spacing-md)]",s&&"items-center text-center",n&&"border-b border-[var(--linear-color-border-subtle)] mb-[var(--linear-spacing-md)] pb-[var(--linear-spacing-lg)]",a)},l))}),Ue=u.forwardRef((e,r)=>{var t=e,{className:a,children:s,level:n=3,size:l="md",variant:d="primary"}=t,m=c(t,["className","children","level","size","variant"]);const u=`h${n}`;return h.jsx(u,o(i({ref:r,className:_e("leading-[var(--linear-line-height-tight)] tracking-tight",{sm:"text-base font-[var(--linear-font-weight-medium)]",md:"text-lg font-[var(--linear-font-weight-semibold)]",lg:"text-xl font-[var(--linear-font-weight-semibold)]",xl:"text-2xl font-[var(--linear-font-weight-bold)]"}[l],{primary:"text-[var(--linear-color-text-primary)]",secondary:"text-[var(--linear-color-text-secondary)]",accent:"text-[var(--linear-color-accent)]",muted:"text-[var(--linear-color-text-tertiary)]"}[d],a)},m),{children:s}))}),Ke=u.forwardRef((e,r)=>{var t=e,{className:a,size:s="sm",variant:n="secondary",maxLines:l,style:o}=t,d=c(t,["className","size","variant","maxLines","style"]);const m=l?i({display:"-webkit-box",WebkitLineClamp:l,WebkitBoxOrient:"vertical",overflow:"hidden"},o):o;return h.jsx("p",i({ref:r,className:_e("leading-[var(--linear-line-height-normal)]",{sm:"text-sm",md:"text-base",lg:"text-lg"}[s],{secondary:"text-[var(--linear-color-text-secondary)]",tertiary:"text-[var(--linear-color-text-tertiary)]",muted:"text-[var(--linear-color-text-tertiary)] opacity-75"}[n],a),style:m},d))}),Ve=u.forwardRef((e,r)=>{var t=e,{className:a,padding:s="lg",centered:n=!1,as:l="div"}=t,o=c(t,["className","padding","centered","as"]);const d=l;return h.jsx(d,i({ref:r,className:_e("text-[var(--linear-color-text-primary)]",{none:"p-0",sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-md)]",lg:"p-[var(--linear-spacing-lg)]"}[s],"pt-0",n&&"flex flex-col items-center justify-center text-center",a)},o))}),We=u.forwardRef((e,r)=>{var t=e,{className:a,justify:s="start",border:n=!1,padding:l="lg"}=t,o=c(t,["className","justify","border","padding"]);return h.jsx("div",i({ref:r,className:_e("flex items-center pt-0 gap-[var(--linear-spacing-sm)]",{sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-md)]",lg:"p-[var(--linear-spacing-lg)]"}[l],{start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between",around:"justify-around"}[s],n&&"border-t border-[var(--linear-color-border-subtle)] mt-[var(--linear-spacing-md)] pt-[var(--linear-spacing-lg)]",a)},o))});Fe.displayName="LinearCardHeader",Ue.displayName="LinearCardTitle",Ke.displayName="LinearCardDescription",Ve.displayName="LinearCardContent",We.displayName="LinearCardFooter";const Ge=te(["absolute z-[var(--linear-z-tooltip)]","bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border border-[var(--linear-color-border-default)]","rounded-[var(--linear-radius-small)]","shadow-[var(--linear-shadow-dropdown)]","px-[var(--linear-spacing-sm)] py-[var(--linear-spacing-xs)]","text-sm font-[var(--linear-font-weight-normal)]","max-w-xs break-words","pointer-events-none select-none"],{variants:{variant:{default:["bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-default)]"],dark:["bg-gray-900 text-white","border-gray-700"],light:["bg-white text-gray-900","border-gray-200"],accent:["bg-[var(--linear-color-accent)] text-[var(--linear-color-text-on-accent)]","border-[var(--linear-color-accent)]"],error:["bg-[var(--linear-color-error)] text-white","border-[var(--linear-color-error)]"],success:["bg-[var(--linear-color-success)] text-white","border-[var(--linear-color-success)]"],warning:["bg-[var(--linear-color-warning)] text-white","border-[var(--linear-color-warning)]"]},size:{sm:"text-xs px-[var(--linear-spacing-xs)] py-[calc(var(--linear-spacing-xs)/2)] max-w-[200px]",md:"text-sm px-[var(--linear-spacing-sm)] py-[var(--linear-spacing-xs)] max-w-[300px]",lg:"text-base px-[var(--linear-spacing-md)] py-[var(--linear-spacing-sm)] max-w-[400px]"}},defaultVariants:{variant:"default",size:"md"}}),qe=te(["absolute w-2 h-2 rotate-45","border border-[var(--linear-color-border-default)]"],{variants:{variant:{default:"bg-[var(--linear-color-surface-modal)]",dark:"bg-gray-900 border-gray-700",light:"bg-white border-gray-200",accent:"bg-[var(--linear-color-accent)] border-[var(--linear-color-accent)]",error:"bg-[var(--linear-color-error)] border-[var(--linear-color-error)]",success:"bg-[var(--linear-color-success)] border-[var(--linear-color-success)]",warning:"bg-[var(--linear-color-warning)] border-[var(--linear-color-warning)]"}},defaultVariants:{variant:"default"}}),Je=u.forwardRef((e,r)=>{var t=e,{content:a,children:s,className:n,variant:l,size:d,position:m="top",trigger:x="hover",showDelay:g=500,hideDelay:v=0,showArrow:f=!0,open:y,onOpenChange:b,disabled:N=!1,animation:j=!0,offset:w=8,autoPosition:T=!0,container:E,role:C="tooltip",id:k}=t,S=c(t,["content","children","className","variant","size","position","trigger","showDelay","hideDelay","showArrow","open","onOpenChange","disabled","animation","offset","autoPosition","container","role","id"]);const{isReducedMotion:R}=Me(),[I,L]=u.useState(!1),[O,P]=u.useState(!1),A=u.useRef(null),M=u.useRef(null),D=u.useRef(),_=u.useRef(),$=k||u.useId(),H="manual"===x,z=H?null!=y&&y:I,B=j&&!R,{calculatedPosition:F,coordinates:U,arrowPosition:K,calculatePosition:V}=((e,r,t,a,s)=>{const[n,l]=u.useState(t),[i,o]=u.useState({x:0,y:0}),[c,d]=u.useState({x:0,y:0});return{calculatedPosition:n,coordinates:i,arrowPosition:c,calculatePosition:u.useCallback(()=>{if(!e.current||!r.current)return;const n=e.current.getBoundingClientRect(),i=r.current.getBoundingClientRect(),c=window.innerWidth,m=window.innerHeight;let u=t,h=0,x=0,p=0,g=0;const v=e=>{switch(e){case"top":case"top-start":case"top-end":h="top-start"===e?n.left:"top-end"===e?n.right-i.width:n.left+(n.width-i.width)/2,x=n.top-i.height-a,p="top-start"===e?16:"top-end"===e?i.width-16-8:i.width/2-4,g=i.height-1;break;case"bottom":case"bottom-start":case"bottom-end":h="bottom-start"===e?n.left:"bottom-end"===e?n.right-i.width:n.left+(n.width-i.width)/2,x=n.bottom+a,p="bottom-start"===e?16:"bottom-end"===e?i.width-16-8:i.width/2-4,g=-4;break;case"left":case"left-start":case"left-end":h=n.left-i.width-a,x="left-start"===e?n.top:"left-end"===e?n.bottom-i.height:n.top+(n.height-i.height)/2,p=i.width-1,g="left-start"===e?16:"left-end"===e?i.height-16-8:i.height/2-4;break;case"right":case"right-start":case"right-end":h=n.right+a,x="right-start"===e?n.top:"right-end"===e?n.bottom-i.height:n.top+(n.height-i.height)/2,p=-4,g="right-start"===e?16:"right-end"===e?i.height-16-8:i.height/2-4}return{x:h,y:x,arrowX:p,arrowY:g}},f=v(u);if(h=f.x,x=f.y,p=f.arrowX,g=f.arrowY,s&&(h+i.width>c&&(u.includes("left")?u=u.replace("left","right"):u.includes("right")?u=u.replace("right","left"):h=c-i.width-8),h<0&&(u.includes("right")?u=u.replace("right","left"):u.includes("left")?u=u.replace("left","right"):h=8),x+i.height>m&&(u.includes("bottom")?u=u.replace("bottom","top"):u.includes("top")?u=u.replace("top","bottom"):x=m-i.height-8),x<0&&(u.includes("top")?u=u.replace("top","bottom"):u.includes("bottom")?u=u.replace("bottom","top"):x=8),u!==t)){const e=v(u);h=e.x,x=e.y,p=e.arrowX,g=e.arrowY}l(u),o({x:h,y:x}),d({x:p,y:g})},[t,a,s,e,r])}})(A,M,m,w,T),W=u.useCallback(()=>{N||(_.current&&clearTimeout(_.current),g>0?D.current=setTimeout(()=>{H?null==b||b(!0):L(!0)},g):H?null==b||b(!0):L(!0))},[N,g,H,b]),G=u.useCallback(()=>{D.current&&clearTimeout(D.current),v>0?_.current=setTimeout(()=>{H?null==b||b(!1):L(!1)},v):H?null==b||b(!1):L(!1)},[v,H,b]),q=u.cloneElement(s,{ref:e=>{A.current=e,s.ref&&("function"==typeof s.ref?s.ref(e):s.ref.current=e)},onMouseEnter:e=>{var r,t;null==(t=(r=s.props).onMouseEnter)||t.call(r,e),"hover"===x&&W()},onMouseLeave:e=>{var r,t;null==(t=(r=s.props).onMouseLeave)||t.call(r,e),"hover"===x&&G()},onClick:e=>{var r,t;null==(t=(r=s.props).onClick)||t.call(r,e),"click"===x&&(z?G():W())},onFocus:e=>{var r,t;null==(t=(r=s.props).onFocus)||t.call(r,e),"focus"===x&&W()},onBlur:e=>{var r,t;null==(t=(r=s.props).onBlur)||t.call(r,e),"focus"===x&&G()},onKeyDown:e=>{var r,t;null==(t=(r=s.props).onKeyDown)||t.call(r,e),(e=>{"Escape"===e.key&&z&&G()})(e)},"aria-describedby":"tooltip"===C&&z?$:void 0,"aria-expanded":"click"===x?z:void 0,"aria-haspopup":"click"===x?"dialog":void 0});u.useEffect(()=>{P(!0)},[]),u.useEffect(()=>{if(z&&O){V();const e=()=>V();return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[z,O,V]),u.useEffect(()=>()=>{D.current&&clearTimeout(D.current),_.current&&clearTimeout(_.current)},[]);const J=u.useMemo(()=>E?"function"==typeof E?E():E:"undefined"!=typeof document?document.body:null,[E]);if(!O||!J||N)return q;const Y=h.jsx(ee,{children:z&&h.jsxs(Z.div,o(i(i({ref:u.useMemo(()=>e=>{r&&("function"==typeof r?r(e):r.current=e),M.current=e},[r]),className:_e(Ge({variant:l,size:d}),n),style:{left:U.x,top:U.y},role:C,id:$},B?{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15,ease:"easeOut"}}:{}),S),{children:[a,f&&h.jsx("div",{className:_e(qe({variant:l}),(Q=F,Q.includes("top")?"border-t-0 border-l-0":Q.includes("bottom")?"border-b-0 border-r-0":Q.includes("left")?"border-l-0 border-b-0":Q.includes("right")?"border-r-0 border-t-0":"")),style:{left:K.x,top:K.y}})]}))});var Q;return h.jsxs(h.Fragment,{children:[q,p.createPortal(Y,J)]})});Je.displayName="LinearTooltip";u.forwardRef((e,r)=>{var t=e,{iconSize:a="md",className:s}=t,n=c(t,["iconSize","className"]);return h.jsx(Je,o(i({ref:r,trigger:"hover",position:"top",variant:"default",size:"sm",className:s},n),{children:h.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full text-[var(--linear-color-text-tertiary)] hover:text-[var(--linear-color-text-primary)] transition-colors","aria-label":"추가 정보",children:h.jsx("svg",{className:{sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"}[a],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}))}).displayName="LinearInfoTooltip";u.forwardRef((e,r)=>{var t=e,{shortcut:a,description:s}=t,n=c(t,["shortcut","description"]);const l=Array.isArray(a)?a:[a],o=h.jsxs("div",{className:"flex flex-col gap-1",children:[s&&h.jsx("div",{className:"text-sm",children:s}),h.jsx("div",{className:"flex items-center gap-1",children:l.map((e,r)=>h.jsxs(u.Fragment,{children:[r>0&&h.jsx("span",{className:"text-xs opacity-70",children:"+"}),h.jsx("kbd",{className:"px-1.5 py-0.5 text-xs font-mono bg-[var(--linear-color-surface-panel)] border border-[var(--linear-color-border-default)] rounded",children:e})]},e))})]});return h.jsx(Je,i({ref:r,content:o,variant:"default",size:"sm",position:"bottom"},n))}).displayName="LinearShortcutTooltip";const Ye=({children:e,defaultDelay:r=500,defaultPosition:t="top"})=>h.jsx(h.Fragment,{children:e});Ye.displayName="LinearTooltipProvider";const Qe=u.forwardRef(({children:e,asChild:r=!1},t)=>r?u.cloneElement(e,{ref:t}):e);Qe.displayName="LinearTooltipTrigger";const Xe=u.forwardRef(({children:e,className:r},t)=>h.jsx("div",{ref:t,className:r,children:e}));Xe.displayName="LinearTooltipContent";const Ze=te("inline-flex items-center px-2 py-1 text-xs font-medium rounded-md",{variants:{variant:{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-purple-100 text-purple-800",success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",outline:"border border-gray-300 text-gray-700"}},defaultVariants:{variant:"default"}}),er=g.forwardRef((e,r)=>{var t=e,{className:a,variant:s,children:n}=t,l=c(t,["className","variant","children"]);return h.jsx("span",o(i({ref:r,className:_e(Ze({variant:s}),a)},l),{children:n}))});er.displayName="Badge";const rr=te(["w-full border rounded-[var(--linear-radius-medium)]","bg-[var(--linear-color-surface-input)] text-[var(--linear-color-text-primary)]","border-[var(--linear-color-border-input)]","transition-all duration-[var(--linear-transition-fast)]","placeholder:text-[var(--linear-color-text-tertiary)]","font-[var(--linear-font-family)] font-[var(--linear-font-weight-normal)]","focus:outline-none focus:border-[var(--linear-color-accent)]","focus:ring-2 focus:ring-[var(--linear-color-accent)] focus:ring-opacity-20","disabled:opacity-60 disabled:cursor-not-allowed disabled:bg-[var(--linear-color-control-default)]","read-only:bg-[var(--linear-color-surface-panel)] read-only:cursor-default"],{variants:{variant:{default:[],search:["pl-10 pr-10"],password:["pr-10"],textarea:["resize-y min-h-[80px] py-[var(--linear-spacing-sm)]"],number:["text-right"]},size:{sm:"text-sm py-[var(--linear-spacing-xs)] px-[var(--linear-spacing-sm)] min-h-[36px]",default:"text-sm py-[var(--linear-spacing-sm)] px-[var(--linear-spacing-md)] min-h-[44px]",lg:"text-base py-[var(--linear-spacing-md)] px-[var(--linear-spacing-lg)] min-h-[52px]"},state:{default:[],error:["border-[var(--linear-color-error)] bg-[var(--linear-color-error-bg)]","focus:border-[var(--linear-color-error)] focus:ring-[var(--linear-color-error)]"],success:["border-[var(--linear-color-success)] bg-[var(--linear-color-success-bg)]","focus:border-[var(--linear-color-success)] focus:ring-[var(--linear-color-success)]"],warning:["border-[var(--linear-color-warning)] bg-[var(--linear-color-warning-bg)]","focus:border-[var(--linear-color-warning)] focus:ring-[var(--linear-color-warning)]"],info:["border-[var(--linear-color-info)] bg-[var(--linear-color-info-bg)]","focus:border-[var(--linear-color-info)] focus:ring-[var(--linear-color-info)]"]}},defaultVariants:{variant:"default",size:"default",state:"default"}}),tr=u.forwardRef((e,r)=>{var t=e,{className:a,type:s="text",variant:n,size:l,state:d,label:m,helperText:x,errorText:p,successText:g,warningText:T,infoText:E,startIcon:C,endIcon:k,fullWidth:S=!0,showPasswordToggle:R=!1,clearable:I=!1,validate:L,multiline:O=!1,rows:P=3,hideErrorIcon:A=!1,hideSuccessIcon:M=!1,onSearch:D,onClear:_,value:$,onChange:H,onBlur:z,onFocus:B,disabled:F,readOnly:U,required:K,"aria-describedby":V,"aria-invalid":W,"aria-required":G,testId:q}=t,J=c(t,["className","type","variant","size","state","label","helperText","errorText","successText","warningText","infoText","startIcon","endIcon","fullWidth","showPasswordToggle","clearable","validate","multiline","rows","hideErrorIcon","hideSuccessIcon","onSearch","onClear","value","onChange","onBlur","onFocus","disabled","readOnly","required","aria-describedby","aria-invalid","aria-required","testId"]);const{isReducedMotion:Y}=Me(),[Q,X]=u.useState(!1),[Z,ee]=u.useState(!1),[re,te]=u.useState($||""),[ae,se]=u.useState(null),ne=u.useId(),le=u.useId(),ie=u.useId(),oe=u.useId(),ce=u.useId(),de=u.useId(),me=u.useMemo(()=>p||ae?"error":g?"success":T?"warning":E?"info":d||"default",[p,g,T,E,ae,d]),ue=u.useMemo(()=>n||("password"===s||R?"password":"search"===s||D?"search":O?"textarea":"number"===s?"number":"default"),[n,s,R,D,O]),he=u.useMemo(()=>"password"===s&&Z?"text":s,[s,Z]),xe=u.useMemo(()=>{const e=[V,x&&le,p&&ie,ae&&ie,g&&oe,T&&ce,E&&de].filter(Boolean);return e.length>0?e.join(" "):void 0},[V,x,p,g,T,E,ae,le,ie,oe,ce,de]),pe=u.useCallback(e=>{if(!L)return;const r=L(e);se(r)},[L]),ge=()=>{ee(!Z)},ve=()=>{if(te(""),se(null),null==_||_(),H){H({target:{value:""},currentTarget:{value:""}})}},fe=()=>{null==D||D(("string"==typeof $?$:re).toString())},ye=O?"textarea":"input";return h.jsxs("div",{className:_e("linear-input-group",S&&"w-full",!Y&&"linear-animate-in"),children:[m&&h.jsxs("label",{htmlFor:ne,className:"block text-sm font-[var(--linear-font-weight-medium)] text-[var(--linear-color-text-primary)] mb-[var(--linear-spacing-xs)]",children:[m,(K||G)&&h.jsx("span",{className:"text-[var(--linear-color-error)] ml-1","aria-label":"필수",children:"*"})]}),h.jsxs("div",{className:"relative",children:["search"===ue?h.jsx("button",{type:"button",onClick:fe,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--linear-color-text-tertiary)] hover:text-[var(--linear-color-text-primary)] transition-colors",tabIndex:-1,"aria-label":"검색",children:h.jsx(b,{className:"w-4 h-4"})}):C?h.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--linear-color-text-tertiary)] pointer-events-none",children:C}):null,h.jsx(ye,i(i(o(i({},O?{}:{type:he}),{id:ne,className:_e(rr({variant:ue,size:l,state:me}),(C||"search"===ue)&&"pl-10",(k||R||I||"default"!==me)&&"pr-10",Q&&"ring-2 ring-[var(--linear-color-accent)] ring-opacity-20",a),ref:r,value:void 0!==$?$:re,onChange:e=>{const r=e.target.value;te(r),pe(r),null==H||H(e)},onFocus:e=>{X(!0),null==B||B(e)},onBlur:e=>{X(!1),pe(e.target.value),null==z||z(e)},onKeyDown:e=>{var r;"Enter"===e.key&&"search"===ue&&(e.preventDefault(),fe()),null==(r=J.onKeyDown)||r.call(J,e)},disabled:F,readOnly:U,required:K,"aria-describedby":xe,"aria-invalid":void 0!==W?W:!!p||!!ae,"aria-required":void 0!==G?G:K,"data-testid":q}),O?{rows:P}:{}),J)),(()=>{const e=[];I&&re&&!F&&!U&&e.push(h.jsx("button",{type:"button",onClick:ve,className:"text-[var(--linear-color-text-tertiary)] hover:text-[var(--linear-color-text-primary)] transition-colors",tabIndex:-1,"aria-label":"지우다",children:h.jsx(N,{className:"w-4 h-4"})},"clear")),!R||"password"!==s&&"password"!==ue||e.push(h.jsx("button",{type:"button",onClick:ge,className:"text-[var(--linear-color-text-tertiary)] hover:text-[var(--linear-color-text-primary)] transition-colors",tabIndex:-1,"aria-label":Z?"비밀번호 숨기기":"비밀번호 보기",children:Z?h.jsx(j,{className:"w-4 h-4"}):h.jsx(w,{className:"w-4 h-4"})},"password-toggle"));const r="error"!==me||A?"success"!==me||M?"warning"===me?h.jsx(y,{className:"w-4 h-4 text-[var(--linear-color-warning)]"}):null:h.jsx(f,{className:"w-4 h-4 text-[var(--linear-color-success)]"}):h.jsx(v,{className:"w-4 h-4 text-[var(--linear-color-error)]"});return r&&e.push(h.jsx("div",{className:"pointer-events-none",children:r},"state")),k&&!r&&e.push(h.jsx("div",{className:"text-[var(--linear-color-text-tertiary)] pointer-events-none",children:k},"custom")),0===e.length?null:h.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:e})})()]}),x&&"default"===me&&h.jsx("p",{id:le,className:"mt-[var(--linear-spacing-xs)] text-sm text-[var(--linear-color-text-secondary)]",children:x}),(p||ae)&&h.jsxs("p",{id:ie,className:"mt-[var(--linear-spacing-xs)] text-sm text-[var(--linear-color-error)] flex items-center gap-1",role:"alert",children:[!A&&h.jsx(v,{className:"w-4 h-4 flex-shrink-0"}),p||ae]}),g&&"success"===me&&h.jsxs("p",{id:oe,className:"mt-[var(--linear-spacing-xs)] text-sm text-[var(--linear-color-success)] flex items-center gap-1",children:[!M&&h.jsx(f,{className:"w-4 h-4 flex-shrink-0"}),g]}),T&&"warning"===me&&h.jsxs("p",{id:ce,className:"mt-[var(--linear-spacing-xs)] text-sm text-[var(--linear-color-warning)] flex items-center gap-1",children:[h.jsx(y,{className:"w-4 h-4 flex-shrink-0"}),T]}),E&&"info"===me&&h.jsxs("p",{id:de,className:"mt-[var(--linear-spacing-xs)] text-sm text-[var(--linear-color-info)] flex items-center gap-1",children:[h.jsx(v,{className:"w-4 h-4 flex-shrink-0"}),E]})]})});tr.displayName="LinearInput";const ar=e=>{if(!e)return null;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"유효한 이메일 주소를 입력해주세요."},sr=e=>e?e.length<8?"비밀번호는 8자 이상이어야 합니다.":/(?=.*[a-z])/.test(e)?/(?=.*[A-Z])/.test(e)?/(?=.*\d)/.test(e)?null:"비밀번호에 숫자가 포함되어야 합니다.":"비밀번호에 대문자가 포함되어야 합니다.":"비밀번호에 소문자가 포함되어야 합니다.":null,nr=e=>{if(!e)return null;return/^01[0-9]-?[0-9]{3,4}-?[0-9]{4}$/.test(e.replace(/\s/g,""))?null:"유효한 전화번호를 입력해주세요."};u.forwardRef((e,r)=>{var t=e,{rows:a=3}=t,s=c(t,["rows"]);return h.jsx(tr,o(i({},s),{ref:r,multiline:!0,rows:a,variant:"textarea"}))}).displayName="LinearTextarea";const lr=te(["relative bg-[var(--linear-color-surface-modal)] text-[var(--linear-color-text-primary)]","border border-[var(--linear-color-border-default)]","rounded-[var(--linear-radius-large)]","shadow-[var(--linear-shadow-modal)]","outline-none","max-h-[90vh] overflow-hidden","flex flex-col"],{variants:{size:{sm:"w-full max-w-sm",md:"w-full max-w-md",lg:"w-full max-w-lg",xl:"w-full max-w-2xl","2xl":"w-full max-w-4xl","3xl":"w-full max-w-6xl",full:"w-[95vw] h-[90vh]"},position:{center:"mx-auto my-auto",top:"mx-auto mt-[10vh]",bottom:"mx-auto mb-[10vh] mt-auto"}},defaultVariants:{size:"md",position:"center"}}),ir=te(["fixed inset-0 z-50","bg-black/50 backdrop-blur-sm","flex items-center justify-center p-4"]),or=u.createContext(null),cr=u.forwardRef((e,r)=>{var t=e,{children:a,className:s,open:n,onClose:l,size:d,position:m,title:x,description:g,headerContent:v,footerContent:f,showCloseButton:y=!0,closeOnEsc:b=!0,closeOnOverlayClick:j=!0,lockScroll:w=!0,trapFocus:T=!0,animation:E=!0,initialFocus:C,restoreFocus:k,loading:S=!1,error:R=!1,errorMessage:I="오류가 발생했습니다.",container:L,"aria-label":O,"aria-describedby":P,"aria-labelledby":A}=t,M=c(t,["children","className","open","onClose","size","position","title","description","headerContent","footerContent","showCloseButton","closeOnEsc","closeOnOverlayClick","lockScroll","trapFocus","animation","initialFocus","restoreFocus","loading","error","errorMessage","container","aria-label","aria-describedby","aria-labelledby"]);const{isReducedMotion:D}=Me(),_=u.useRef(null),$=u.useRef(null),H=u.useId(),z=u.useId(),B=E&&!D,F=u.useMemo(()=>({onClose:l,titleId:H,descriptionId:z}),[l,H,z]);var U,K,V;U=_,K=n&&T,u.useEffect(()=>{if(!K||!U.current)return;const e=U.current,r=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=r[0],a=r[r.length-1],s=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===t&&(e.preventDefault(),null==a||a.focus()):document.activeElement===a&&(e.preventDefault(),null==t||t.focus()))};return e.addEventListener("keydown",s),null==t||t.focus(),()=>{e.removeEventListener("keydown",s)}},[K,U]),V=n&&w,u.useEffect(()=>{if(!V)return;const e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[V]),u.useEffect(()=>{if(!n||!b)return;const e=e=>{"Escape"===e.key&&(e.preventDefault(),l())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,b,l]);u.useEffect(()=>{if(!n)return;if(null==C?void 0:C.current)C.current.focus();else if(_.current){const e=_.current.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');null==e||e.focus()}const e=document.activeElement;return()=>{(null==k?void 0:k.current)?k.current.focus():e&&e!==document.body&&e.focus()}},[n,C,k]);const W=u.useMemo(()=>L?"function"==typeof L?L():L:"undefined"!=typeof document?document.body:null,[L]);if(!W)return null;const G=h.jsx(ee,{children:n&&h.jsx(or.Provider,{value:F,children:h.jsx(Z.div,o(i({ref:$,className:ir(),onClick:e=>{j&&e.target===$.current&&l()}},B?{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}}:{}),{children:h.jsxs(Z.div,o(i(i({ref:u.useMemo(()=>e=>{r&&("function"==typeof r?r(e):r.current=e),_.current=e},[r]),className:_e(lr({size:d,position:m}),s),role:"dialog","aria-modal":"true","aria-label":O,"aria-labelledby":O?void 0:A||(x?H:void 0),"aria-describedby":P||(g?z:void 0),onClick:e=>e.stopPropagation()},B?{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"}}:{}),M),{children:[x||g||v||y?h.jsx(dr,{children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[x&&h.jsx(mr,{id:A||H,children:x}),g&&h.jsx(ur,{id:P||z,children:g}),v]}),y&&h.jsx("button",{type:"button",onClick:l,className:"ml-4 p-2 -mt-2 -mr-2 text-[var(--linear-color-text-tertiary)] hover:text-[var(--linear-color-text-primary)] hover:bg-[var(--linear-color-surface-elevated)] rounded-[var(--linear-radius-medium)] transition-colors","aria-label":"모달 닫기",children:h.jsx(N,{className:"w-5 h-5"})})]})}):null,h.jsx(hr,{children:S?h.jsxs("div",{className:"flex items-center justify-center p-[var(--linear-spacing-2xl)]",children:[h.jsx("div",{className:"w-8 h-8 border-2 border-[var(--linear-color-accent)] border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"ml-3 text-[var(--linear-color-text-secondary)]",children:"로딩 중..."})]}):R?h.jsxs("div",{className:"flex flex-col items-center justify-center p-[var(--linear-spacing-2xl)] text-center",children:[h.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-[var(--linear-color-error-bg)] flex items-center justify-center",children:h.jsx("svg",{className:"w-8 h-8 text-[var(--linear-color-error)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5C2.962 18.333 3.924 20 5.464 20z"})})}),h.jsx("p",{className:"text-[var(--linear-color-error)] text-lg font-medium",children:I})]}):a}),f?h.jsx(xr,{children:f}):null]}))}))})});return p.createPortal(G,W)});cr.displayName="LinearModal";const dr=u.forwardRef((e,r)=>{var t=e,{className:a,border:s=!0}=t,n=c(t,["className","border"]);return h.jsx("div",i({ref:r,className:_e("flex-shrink-0 px-[var(--linear-spacing-xl)] py-[var(--linear-spacing-lg)]",s&&"border-b border-[var(--linear-color-border-subtle)]",a)},n))}),mr=u.forwardRef((e,r)=>{var t=e,{className:a,children:s,level:n=2,size:l="lg"}=t,d=c(t,["className","children","level","size"]);const m=`h${n}`;return h.jsx(m,o(i({ref:r,className:_e("text-[var(--linear-color-text-primary)] leading-[var(--linear-line-height-tight)] tracking-tight",{sm:"text-lg font-[var(--linear-font-weight-semibold)]",md:"text-xl font-[var(--linear-font-weight-semibold)]",lg:"text-2xl font-[var(--linear-font-weight-bold)]",xl:"text-3xl font-[var(--linear-font-weight-bold)]"}[l],a)},d),{children:s}))}),ur=u.forwardRef((e,r)=>{var t=e,{className:a,size:s="md"}=t,n=c(t,["className","size"]);return h.jsx("p",i({ref:r,className:_e("text-[var(--linear-color-text-secondary)] leading-[var(--linear-line-height-normal)] mt-1",{sm:"text-sm",md:"text-base",lg:"text-lg"}[s],a)},n))}),hr=u.forwardRef((e,r)=>{var t=e,{className:a,padding:s="xl",scrollable:n=!0}=t,l=c(t,["className","padding","scrollable"]);return h.jsx("div",i({ref:r,className:_e("flex-1 text-[var(--linear-color-text-primary)]",{none:"p-0",sm:"p-[var(--linear-spacing-sm)]",md:"p-[var(--linear-spacing-md)]",lg:"p-[var(--linear-spacing-lg)]",xl:"px-[var(--linear-spacing-xl)] py-[var(--linear-spacing-lg)]"}[s],n&&"overflow-y-auto",a)},l))}),xr=u.forwardRef((e,r)=>{var t=e,{className:a,justify:s="end",border:n=!0}=t,l=c(t,["className","justify","border"]);return h.jsx("div",i({ref:r,className:_e("flex-shrink-0 flex items-center gap-[var(--linear-spacing-sm)] px-[var(--linear-spacing-xl)] py-[var(--linear-spacing-lg)]",{start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between"}[s],n&&"border-t border-[var(--linear-color-border-subtle)]",a)},l))});dr.displayName="LinearModalHeader",mr.displayName="LinearModalTitle",ur.displayName="LinearModalDescription",hr.displayName="LinearModalContent",xr.displayName="LinearModalFooter";u.forwardRef((e,r)=>{var t=e,{confirmText:a="확인",cancelText:s="취소",confirmVariant:n="primary",onConfirm:l,onCancel:o,onClose:d}=t,m=c(t,["confirmText","cancelText","confirmVariant","onConfirm","onCancel","onClose"]);return h.jsx(cr,i({ref:r,onClose:d,size:"sm",footerContent:h.jsxs("div",{className:"flex gap-2 w-full justify-end",children:[h.jsx("button",{type:"button",onClick:()=>{null==o||o(),d()},className:"px-4 py-2 text-sm font-medium text-[var(--linear-color-text-primary)] bg-transparent border border-[var(--linear-color-border-default)] rounded-[var(--linear-radius-medium)] hover:bg-[var(--linear-color-surface-elevated)] transition-colors",children:s}),h.jsx("button",{type:"button",onClick:()=>{l(),d()},className:_e("px-4 py-2 text-sm font-medium rounded-[var(--linear-radius-medium)] transition-colors","destructive"===n&&"bg-[var(--linear-color-error)] text-white hover:brightness-110","warning"===n&&"bg-[var(--linear-color-warning)] text-white hover:brightness-110","primary"===n&&"bg-[var(--linear-color-accent)] text-[var(--linear-color-text-on-accent)] hover:bg-[var(--linear-color-accent-hover)]"),children:a})]})},m))}).displayName="LinearConfirmModal";const pr=()=>({isReducedMotion:!1,isDarkMode:!1,isHighContrast:!1,currentTheme:null,currentThemeId:"default-light",setTheme:()=>{},toggleDarkMode:()=>{}}),gr=te(["flex-shrink-0 border-0","transition-all duration-[var(--linear-transition-fast)]"],{variants:{orientation:{horizontal:"w-full h-px",vertical:"h-full w-px"},variant:{subtle:"bg-[var(--linear-color-border-subtle)]",default:"bg-[var(--linear-color-border-default)]",strong:"bg-[var(--linear-color-border-strong)]",accent:"bg-[var(--linear-color-accent)]",gradient:"bg-gradient-to-r from-transparent via-[var(--linear-color-border-default)] to-transparent",dashed:"border-t border-dashed border-[var(--linear-color-border-default)] bg-transparent",dotted:"border-t border-dotted border-[var(--linear-color-border-default)] bg-transparent"},thickness:{thin:"",normal:"h-0.5",thick:"h-1",thicker:"h-1.5"},spacing:{none:"my-0",xs:"my-[var(--linear-spacing-xs)]",sm:"my-[var(--linear-spacing-sm)]",md:"my-[var(--linear-spacing-md)]",lg:"my-[var(--linear-spacing-lg)]",xl:"my-[var(--linear-spacing-xl)]","2xl":"my-[var(--linear-spacing-2xl)]"}},compoundVariants:[{orientation:"vertical",variant:"dashed",className:"border-t-0 border-l border-dashed"},{orientation:"vertical",variant:"dotted",className:"border-t-0 border-l border-dotted"},{orientation:"vertical",thickness:"normal",className:"h-full w-0.5"},{orientation:"vertical",thickness:"thick",className:"h-full w-1"},{orientation:"vertical",thickness:"thicker",className:"h-full w-1.5"},{orientation:"vertical",spacing:"xs",className:"my-0 mx-[var(--linear-spacing-xs)]"},{orientation:"vertical",spacing:"sm",className:"my-0 mx-[var(--linear-spacing-sm)]"},{orientation:"vertical",spacing:"md",className:"my-0 mx-[var(--linear-spacing-md)]"},{orientation:"vertical",spacing:"lg",className:"my-0 mx-[var(--linear-spacing-lg)]"},{orientation:"vertical",spacing:"xl",className:"my-0 mx-[var(--linear-spacing-xl)]"},{orientation:"vertical",spacing:"2xl",className:"my-0 mx-[var(--linear-spacing-2xl)]"}],defaultVariants:{orientation:"horizontal",variant:"subtle",thickness:"thin",spacing:"md"}}),vr=u.forwardRef((e,r)=>{var t,a=e,{className:s,orientation:n,variant:l,thickness:d,spacing:m,label:x,icon:p,labelPosition:g="center",animation:v=!1,fade:f=!1,customColor:y,role:b="separator","aria-label":N}=a,j=c(a,["className","orientation","variant","thickness","spacing","label","icon","labelPosition","animation","fade","customColor","role","aria-label"]);const w=v&&!0,T=Boolean(x||p),E="horizontal"===n,C=u.useMemo(()=>{if(!y)return;const e=y.startsWith("#")?y:`var(${y})`;return"gradient"===l?{background:E?`linear-gradient(to right, transparent, ${e}, transparent)`:`linear-gradient(to bottom, transparent, ${e}, transparent)`}:{backgroundColor:e}},[y,l,E]);return T&&E?h.jsxs("div",o(i({ref:r,className:_e("flex items-center",m&&`my-[var(--linear-spacing-${m})]`,w&&"linear-animate-in",s),role:b,"aria-label":N||("string"==typeof x?x:void 0)},j),{children:["left"!==g&&h.jsx("div",{className:_e(gr({orientation:"horizontal",variant:f?"gradient":l,thickness:d,spacing:"none"}),"flex-1"),style:C}),h.jsxs("div",{className:"flex items-center px-[var(--linear-spacing-md)] text-[var(--linear-color-text-secondary)] text-sm font-[var(--linear-font-weight-medium)]",children:[p&&h.jsx("span",{className:"flex items-center justify-center mr-2",children:u.isValidElement(p)?u.cloneElement(p,{className:_e("w-4 h-4",null==(t=p.props)?void 0:t.className),"aria-hidden":"true"}):p}),x&&h.jsx("span",{children:x})]}),"right"!==g&&h.jsx("div",{className:_e(gr({orientation:"horizontal",variant:f?"gradient":l,thickness:d,spacing:"none"}),"flex-1"),style:C})]})):h.jsx("div",i({ref:r,className:_e(gr({orientation:n,variant:l,thickness:d,spacing:m}),w&&"linear-animate-in",s),style:C,role:b,"aria-label":N},j))});vr.displayName="LinearSeparator";u.forwardRef((e,r)=>{var t=e,{title:a,description:s}=t,n=c(t,["title","description"]);return h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsx(vr,i({ref:r,label:a,variant:"gradient",spacing:"lg",role:"separator","aria-label":`${a} 섹션 구분`},n)),s&&h.jsx("p",{className:"text-center text-sm text-[var(--linear-color-text-tertiary)] px-4",children:s})]})}).displayName="LinearSectionSeparator";u.forwardRef((e,r)=>{var t=e,{iconType:a="chevron",className:s}=t,n=c(t,["iconType","className"]);const l={chevron:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),slash:h.jsx("span",{className:"text-[var(--linear-color-text-tertiary)]",children:"/"}),dot:h.jsx("span",{className:"text-[var(--linear-color-text-tertiary)]",children:"•"}),arrow:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})};return h.jsx("span",o(i({ref:r,className:_e("inline-flex items-center justify-center text-[var(--linear-color-text-tertiary)] mx-2",s),role:"presentation","aria-hidden":"true"},n),{children:l[a]}))}).displayName="LinearBreadcrumbSeparator";u.forwardRef((e,r)=>{var t=e,{node:a,active:s=!1,completed:n=!1,className:l}=t,o=c(t,["node","active","completed","className"]);const d=n?"accent":s?"default":"subtle";return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:_e("flex items-center justify-center w-8 h-8 rounded-full border-2 bg-[var(--linear-color-background)]",n&&"border-[var(--linear-color-accent)] bg-[var(--linear-color-accent)] text-white",s&&"border-[var(--linear-color-accent)] text-[var(--linear-color-accent)]",!s&&!n&&"border-[var(--linear-color-border-default)] text-[var(--linear-color-text-tertiary)]"),children:a||h.jsx("div",{className:_e("w-2 h-2 rounded-full",n&&"bg-white",s&&"bg-[var(--linear-color-accent)]",!s&&!n&&"bg-[var(--linear-color-border-default)]")})}),h.jsx(vr,i({ref:r,orientation:"vertical",variant:d,thickness:"thin",spacing:"none",className:_e("h-8 my-2",l),role:"presentation"},o))]})}).displayName="LinearTimelineSeparator";const fr=u.createContext(null),yr=()=>{const e=u.useContext(fr);if(!e)throw new Error("Form compound components must be used within Form.Root");return e};u.forwardRef(({title:e,description:r,children:t,className:a,"data-testid":s},n)=>h.jsxs("div",{ref:n,className:_e("space-y-4",a),"data-testid":s,children:[e&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"text-lg font-medium",children:e}),r&&h.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),h.jsx("div",{className:"space-y-4",children:t})]})).displayName="FormGroup";u.forwardRef(({children:e,align:r="right",className:t,"data-testid":a},s)=>h.jsx("div",{ref:s,className:_e("flex gap-3",{left:"justify-start",center:"justify-center",right:"justify-end"}[r],t),"data-testid":a,children:e})).displayName="FormActions";u.forwardRef(({children:e,variant:r="primary",size:t="md",disabled:a,loading:s,className:n,"data-testid":l},i)=>{const{formState:{isSubmitting:o,isValid:c}}=yr(),d=a||o||s,m=o||s;return h.jsxs("button",{ref:i,type:"submit",disabled:d,className:_e("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50",{primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-300",secondary:"bg-gray-600 text-white hover:bg-gray-700 disabled:bg-gray-300",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:bg-gray-100"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[t],n),"data-testid":l,children:[m&&h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})}).displayName="FormSubmit";u.forwardRef(({children:e,variant:r="outline",size:t="md",className:a,"data-testid":s},n)=>{const{reset:l}=yr();return h.jsx("button",{ref:n,type:"button",onClick:()=>l(),className:_e("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",{secondary:"bg-gray-600 text-white hover:bg-gray-700",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50",ghost:"text-gray-700 hover:bg-gray-100"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[t],a),"data-testid":s,children:e})}).displayName="FormReset";const br=({progress:e,steps:r=[],currentStep:t=0,showPercentage:a=!0,showSteps:s=!1,className:n=""})=>{const l=Math.max(0,Math.min(100,e));return h.jsxs("div",{className:`w-full ${n}`,children:[a&&h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"text-sm font-medium text-elderberry-700",children:"진행률"}),h.jsxs("span",{className:"text-sm font-semibold text-elderberry-900",children:[Math.round(l),"%"]})]}),h.jsx("div",{className:"w-full bg-elderberry-100 rounded-full h-3 overflow-hidden",children:h.jsx(Z.div,{className:"h-full bg-gradient-to-r from-elderberry-500 to-elderberry-600 rounded-full",initial:{width:0},animate:{width:`${l}%`},transition:{duration:.8,ease:"easeOut"}})}),s&&r.length>0&&h.jsxs("div",{className:"mt-4",children:[h.jsx("div",{className:"flex justify-between items-center",children:r.map((e,r)=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`\n                    w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold\n                    transition-all duration-300\n                    ${r<=t?"bg-elderberry-600 text-white":"bg-elderberry-100 text-elderberry-400"}\n                  `,children:r+1}),h.jsx("span",{className:`\n                    mt-2 text-xs text-center max-w-16\n                    ${r<=t?"text-elderberry-700 font-medium":"text-elderberry-400"}\n                  `,children:e})]},r))}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-elderberry-100"}),h.jsx(Z.div,{className:"absolute top-0 left-0 h-0.5 bg-elderberry-600",initial:{width:0},animate:{width:r.length>1?t/(r.length-1)*100+"%":"0%"},transition:{duration:.8,ease:"easeOut"}})]})]})]})},Nr=({title:e,description:r,keywords:t,ogTitle:a,ogDescription:s,ogImage:n="/og-image.jpg",canonicalUrl:l,noIndex:i=!1})=>{u.useEffect(()=>{const o="엘더베리",c="재외동포를 위한 한국 요양원 구인구직 매칭 서비스",d="해외 거주 재외동포와 한국 요양원을 연결하는 전문 매칭 플랫폼. 건강평가부터 시설매칭, 코디네이터 연결까지 원스톱 서비스 제공.";return document.title=e?`${e} | ${o}`:`${o} - ${c}`,jr("description",r||d),t&&jr("keywords",t),jr("robots",i?"noindex, nofollow":"index, follow"),wr("og:title",a||e||c),wr("og:description",s||r||d),wr("og:image",n),wr("og:url",l||window.location.href),jr("twitter:title",a||e||c),jr("twitter:description",s||r||d),jr("twitter:image",n),l&&Tr(l),()=>{document.title=`${o} - ${c}`,jr("description",d),jr("robots","index, follow")}},[e,r,t,a,s,n,l,i])},jr=(e,r)=>{let t=document.querySelector(`meta[name="${e}"]`);t?t.content=r:(t=document.createElement("meta"),t.name=e,t.content=r,document.head.appendChild(t))},wr=(e,r)=>{let t=document.querySelector(`meta[property="${e}"]`);t?t.content=r:(t=document.createElement("meta"),t.setAttribute("property",e),t.content=r,document.head.appendChild(t))},Tr=e=>{let r=document.querySelector('link[rel="canonical"]');r?r.href=e:(r=document.createElement("link"),r.rel="canonical",r.href=e,document.head.appendChild(r))},Er=(e,r)=>{const t=r||"structured-data",a=document.getElementById(t);a&&a.remove();const s=document.createElement("script");s.id=t,s.type="application/ld+json",s.textContent=JSON.stringify(e),document.head.appendChild(s)},Cr={healthAssessment:{title:"건강 평가",description:"재외동포를 위한 전문 건강 평가 서비스. ADL 평가부터 장기요양등급까지 체계적 건강 상태 진단.",keywords:"건강평가, ADL평가, 장기요양등급, 요양원, 재외동포",ogTitle:"건강 평가 - 엘더베리",canonicalUrl:"https://elderberry.co.kr/health-assessment"},facilitySearch:{title:"시설 검색",description:"전국 요양원 시설 검색 및 매칭 서비스. 지역별, 서비스별 맞춤 시설 추천.",keywords:"요양원검색, 시설매칭, 요양시설, 노인요양원, 재외동포",ogTitle:"시설 검색 - 엘더베리",canonicalUrl:"https://elderberry.co.kr/facility-search"}},kr=ae.create({baseURL:"http://localhost:8080/api/boards",timeout:1e4,headers:{"Content-Type":"application/json"}}),Sr=ae.create({baseURL:"http://localhost:8080/api/posts",timeout:1e4,headers:{"Content-Type":"application/json"}}),Rr=ae.create({baseURL:"http://localhost:8080/api/comments",timeout:1e4,headers:{"Content-Type":"application/json"}}),Ir=ae.create({baseURL:"http://localhost:8080/api/files",timeout:3e4,headers:{"Content-Type":"multipart/form-data"}}),Lr=e=>{const r=localStorage.getItem("accessToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e};kr.interceptors.request.use(Lr),Sr.interceptors.request.use(Lr),Rr.interceptors.request.use(Lr),Ir.interceptors.request.use(Lr);const Or=e=>{var r,t,a,s,n,l,i,o;const c={message:(null==(t=null==(r=e.response)?void 0:r.data)?void 0:t.message)||"네트워크 오류가 발생했습니다.",code:(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.code)||"NETWORK_ERROR",status:(null==(n=e.response)?void 0:n.status)||500,timestamp:(new Date).toISOString(),path:(null==(l=e.config)?void 0:l.url)||"",details:null==(o=null==(i=e.response)?void 0:i.data)?void 0:o.details};return Promise.reject(c)};[kr,Sr,Rr,Ir].forEach(e=>{e.interceptors.response.use(e=>e,Or)});const Pr={getBoards(){return d(this,null,function*(){return(yield kr.get("")).data})},getBoard(e){return d(this,null,function*(){return(yield kr.get(`/${e}`)).data})},createBoard(e){return d(this,null,function*(){return(yield kr.post("",e)).data})},updateBoard(e,r){return d(this,null,function*(){return(yield kr.put(`/${e}`,r)).data})},deleteBoard(e){return d(this,null,function*(){yield kr.delete(`/${e}`)})},getBoardStatistics(){return d(this,null,function*(){return(yield kr.get("/statistics")).data})}},Ar={getPosts(){return d(this,arguments,function*(e={}){return(yield Sr.get("",{params:e})).data})},getPost(e){return d(this,null,function*(){return(yield Sr.get(`/${e}`)).data})},createPost(e){return d(this,null,function*(){return(yield Sr.post("",e)).data})},updatePost(e,r){return d(this,null,function*(){return(yield Sr.put(`/${e}`,r)).data})},deletePost(e){return d(this,null,function*(){yield Sr.delete(`/${e}`)})},getMyPosts(){return d(this,arguments,function*(e={}){return(yield Sr.get("/my",{params:e})).data})},incrementViewCount(e){return d(this,null,function*(){yield Sr.post(`/${e}/view`)})},likePost(e){return d(this,null,function*(){return(yield Sr.post(`/${e}/like`)).data})},unlikePost(e){return d(this,null,function*(){return(yield Sr.delete(`/${e}/like`)).data})},checkPostLike(e){return d(this,null,function*(){return(yield Sr.get(`/${e}/like/status`)).data})},getPopularPosts(e=10){return d(this,null,function*(){return(yield Sr.get("/popular",{params:{limit:e}})).data})},getLatestPosts(e=10){return d(this,null,function*(){return(yield Sr.get("/latest",{params:{limit:e}})).data})},getRecommendedPosts(e=10){return d(this,null,function*(){return(yield Sr.get("/recommended",{params:{limit:e}})).data})}},Mr={getComments(e){return d(this,arguments,function*(e,r={}){return(yield Rr.get(`/post/${e}`,{params:r})).data})},getComment(e){return d(this,null,function*(){return(yield Rr.get(`/${e}`)).data})},createComment(e){return d(this,null,function*(){return(yield Rr.post("",e)).data})},updateComment(e,r){return d(this,null,function*(){return(yield Rr.put(`/${e}`,r)).data})},deleteComment(e){return d(this,null,function*(){yield Rr.delete(`/${e}`)})},getMyComments(){return d(this,arguments,function*(e={}){return(yield Rr.get("/my",{params:e})).data})},likeComment(e){return d(this,null,function*(){return(yield Rr.post(`/${e}/like`)).data})},unlikeComment(e){return d(this,null,function*(){return(yield Rr.delete(`/${e}/like`)).data})},checkCommentLike(e){return d(this,null,function*(){return(yield Rr.get(`/${e}/like/status`)).data})}},Dr={uploadFile(e){return d(this,null,function*(){const r=new FormData;r.append("file",e);return(yield Ir.post("/upload",r)).data})},uploadFiles(e){return d(this,null,function*(){const r=new FormData;e.forEach(e=>{r.append("files",e)});return(yield Ir.post("/upload/multiple",r)).data})},getFileDownloadUrl:e=>`/api/files/download/${e}`,getFileInfo(e){return d(this,null,function*(){return(yield Ir.get(`/${e}`)).data})},deleteFile(e){return d(this,null,function*(){yield Ir.delete(`/${e}`)})}},_r={page:0,size:20,sortBy:"createdAt",sortDirection:"desc"},$r={boards:[],currentBoard:null,boardsLoading:!1,boardsError:null,posts:[],currentPost:null,postsLoading:!1,postsError:null,postsTotalPages:0,postsCurrentPage:0,postsTotalElements:0,comments:[],commentsLoading:!1,commentsError:null,commentsTotalPages:0,commentsCurrentPage:0,statistics:null,popularPosts:[],statisticsLoading:!1,statisticsError:null,searchParams:_r,likedPosts:new Set,likedComments:new Set},Hr=m()((e,r)=>o(i({},$r),{loadBoards:()=>d(null,null,function*(){try{e({boardsLoading:!0,boardsError:null});const r=yield Pr.getBoards();e({boards:r,boardsLoading:!1})}catch(r){throw e({boardsLoading:!1,boardsError:r.message||"게시판 목록을 불러오는데 실패했습니다."}),r}}),loadBoard:r=>d(null,null,function*(){try{e({boardsLoading:!0,boardsError:null});const t=yield Pr.getBoard(r);e({currentBoard:t,boardsLoading:!1})}catch(t){throw e({boardsLoading:!1,boardsError:t.message||"게시판 정보를 불러오는데 실패했습니다."}),t}}),loadPosts:t=>d(null,null,function*(){try{e({postsLoading:!0,postsError:null});const a=i(i({},r().searchParams),t),s=yield Ar.getPosts(a);e({posts:s.content,postsTotalPages:s.totalPages,postsCurrentPage:s.page,postsTotalElements:s.totalElements,searchParams:a,postsLoading:!1})}catch(a){throw e({postsLoading:!1,postsError:a.message||"게시글 목록을 불러오는데 실패했습니다."}),a}}),loadPost:r=>d(null,null,function*(){try{e({postsLoading:!0,postsError:null});const a=yield Ar.getPost(r);yield Ar.incrementViewCount(r);try{(yield Ar.checkPostLike(r)).liked&&e(e=>({likedPosts:new Set([...e.likedPosts,r])}))}catch(t){}e({currentPost:o(i({},a),{viewCount:a.viewCount+1}),postsLoading:!1})}catch(t){throw e({postsLoading:!1,postsError:t.message||"게시글을 불러오는데 실패했습니다."}),t}}),createPost:r=>d(null,null,function*(){try{e({postsLoading:!0,postsError:null});const t=yield Ar.createPost(r);return e(e=>({posts:[t,...e.posts],postsTotalElements:e.postsTotalElements+1,postsLoading:!1})),t}catch(t){throw e({postsLoading:!1,postsError:t.message||"게시글 작성에 실패했습니다."}),t}}),updatePost:(r,t)=>d(null,null,function*(){try{e({postsLoading:!0,postsError:null});const a=yield Ar.updatePost(r,t);return e(e=>{var t;return{posts:e.posts.map(e=>e.id===r?a:e),currentPost:(null==(t=e.currentPost)?void 0:t.id)===r?a:e.currentPost,postsLoading:!1}}),a}catch(a){throw e({postsLoading:!1,postsError:a.message||"게시글 수정에 실패했습니다."}),a}}),deletePost:r=>d(null,null,function*(){try{e({postsLoading:!0,postsError:null}),yield Ar.deletePost(r),e(e=>{var t;return{posts:e.posts.filter(e=>e.id!==r),currentPost:(null==(t=e.currentPost)?void 0:t.id)===r?null:e.currentPost,postsTotalElements:e.postsTotalElements-1,postsLoading:!1}})}catch(t){throw e({postsLoading:!1,postsError:t.message||"게시글 삭제에 실패했습니다."}),t}}),loadMyPosts:t=>d(null,null,function*(){try{e({postsLoading:!0,postsError:null});const a=i(i({},r().searchParams),t),s=yield Ar.getMyPosts(a);e({posts:s.content,postsTotalPages:s.totalPages,postsCurrentPage:s.page,postsTotalElements:s.totalElements,searchParams:a,postsLoading:!1})}catch(a){throw e({postsLoading:!1,postsError:a.message||"내 게시글을 불러오는데 실패했습니다."}),a}}),incrementPostView:r=>d(null,null,function*(){try{yield Ar.incrementViewCount(r),e(e=>{var t;return{posts:e.posts.map(e=>e.id===r?o(i({},e),{viewCount:e.viewCount+1}):e),currentPost:(null==(t=e.currentPost)?void 0:t.id)===r?o(i({},e.currentPost),{viewCount:e.currentPost.viewCount+1}):e.currentPost}})}catch(t){}}),loadComments:(r,t=0,a=20)=>d(null,null,function*(){try{e({commentsLoading:!0,commentsError:null});const s=yield Mr.getComments(r,{page:t,size:a});e({comments:s.content,commentsTotalPages:s.totalPages,commentsCurrentPage:s.page,commentsLoading:!1})}catch(s){throw e({commentsLoading:!1,commentsError:s.message||"댓글을 불러오는데 실패했습니다."}),s}}),createComment:r=>d(null,null,function*(){try{e({commentsLoading:!0,commentsError:null});const t=yield Mr.createComment(r);return e(e=>{var a;return{comments:[...e.comments,t],commentsLoading:!1,currentPost:(null==(a=e.currentPost)?void 0:a.id)===r.postId?o(i({},e.currentPost),{commentCount:e.currentPost.commentCount+1}):e.currentPost,posts:e.posts.map(e=>e.id===r.postId?o(i({},e),{commentCount:e.commentCount+1}):e)}}),t}catch(t){throw e({commentsLoading:!1,commentsError:t.message||"댓글 작성에 실패했습니다."}),t}}),updateComment:(r,t)=>d(null,null,function*(){try{e({commentsLoading:!0,commentsError:null});const a=yield Mr.updateComment(r,t);return e(e=>({comments:e.comments.map(e=>e.id===r?a:e),commentsLoading:!1})),a}catch(a){throw e({commentsLoading:!1,commentsError:a.message||"댓글 수정에 실패했습니다."}),a}}),deleteComment:r=>d(null,null,function*(){try{e({commentsLoading:!0,commentsError:null}),yield Mr.deleteComment(r),e(e=>{const t=e.comments.find(e=>e.id===r);return{comments:e.comments.filter(e=>e.id!==r),commentsLoading:!1,currentPost:e.currentPost&&(null==t?void 0:t.postId)===e.currentPost.id?o(i({},e.currentPost),{commentCount:e.currentPost.commentCount-1}):e.currentPost,posts:e.posts.map(e=>(null==t?void 0:t.postId)===e.id?o(i({},e),{commentCount:e.commentCount-1}):e)}})}catch(t){throw e({commentsLoading:!1,commentsError:t.message||"댓글 삭제에 실패했습니다."}),t}}),togglePostLike:t=>d(null,null,function*(){try{const{likedPosts:a}=r(),s=a.has(t)?yield Ar.unlikePost(t):yield Ar.likePost(t),n=new Set(a);s.liked?n.add(t):n.delete(t),e(e=>{var r;return{likedPosts:n,posts:e.posts.map(e=>e.id===t?o(i({},e),{likeCount:s.likeCount}):e),currentPost:(null==(r=e.currentPost)?void 0:r.id)===t?o(i({},e.currentPost),{likeCount:s.likeCount}):e.currentPost}})}catch(a){throw a}}),toggleCommentLike:t=>d(null,null,function*(){try{const{likedComments:a}=r(),s=a.has(t)?yield Mr.unlikeComment(t):yield Mr.likeComment(t),n=new Set(a);s.liked?n.add(t):n.delete(t),e(e=>({likedComments:n,comments:e.comments.map(e=>e.id===t?o(i({},e),{likeCount:s.likeCount}):e)}))}catch(a){throw a}}),loadStatistics:()=>d(null,null,function*(){try{e({statisticsLoading:!0,statisticsError:null});const r=yield Pr.getBoardStatistics();e({statistics:r,statisticsLoading:!1})}catch(r){throw e({statisticsLoading:!1,statisticsError:r.message||"통계를 불러오는데 실패했습니다."}),r}}),loadPopularPosts:(r=10)=>d(null,null,function*(){try{e({statisticsLoading:!0,statisticsError:null});const t=yield Ar.getPopularPosts(r);e({popularPosts:t,statisticsLoading:!1})}catch(t){throw e({statisticsLoading:!1,statisticsError:t.message||"인기 게시글을 불러오는데 실패했습니다."}),t}}),setSearchParams:r=>{e(e=>({searchParams:i(i({},e.searchParams),r)}))},resetSearchParams:()=>{e({searchParams:_r})},clearBoardsError:()=>{e({boardsError:null})},clearPostsError:()=>{e({postsError:null})},clearCommentsError:()=>{e({commentsError:null})},clearStatisticsError:()=>{e({statisticsError:null})},reset:()=>{e($r)}}));var zr=(e=>(e.GENERAL="GENERAL",e.NOTICE="NOTICE",e.FAQ="FAQ",e.QNA="QNA",e.REVIEW="REVIEW",e.FREE="FREE",e.JOB_DISCUSSION="JOB_DISCUSSION",e.TIPS="TIPS",e.NEWS="NEWS",e))(zr||{});const Br={[zr.GENERAL]:"일반",[zr.NOTICE]:"공지사항",[zr.FAQ]:"FAQ",[zr.QNA]:"Q&A",[zr.REVIEW]:"후기",[zr.FREE]:"자유",[zr.JOB_DISCUSSION]:"구인구직 토론",[zr.TIPS]:"팁과 노하우",[zr.NEWS]:"업계 소식"},Fr=e=>{const r=new Date(e),t=(new Date).getTime()-r.getTime(),a=Math.floor(t/36e5),s=Math.floor(a/24);return a<1?"방금 전":a<24?`${a}시간 전`:s<7?`${s}일 전`:r.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})},Ur=({board:e})=>h.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},transition:{duration:.2},children:h.jsx(E,{to:`/boards/${e.id}`,children:h.jsx(Be,{className:"hover:shadow-lg transition-shadow",children:h.jsxs(Ve,{className:"p-6",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-elderberry-100 text-elderberry-700",children:Br[e.type]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description})]})}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(k,{className:"w-4 h-4 mr-1"}),e.postCount,"개 글"]}),e.lastPostDate&&h.jsxs("span",{className:"flex items-center",children:[h.jsx(S,{className:"w-4 h-4 mr-1"}),Fr(e.lastPostDate)]})]}),h.jsx(P,{className:"w-4 h-4 text-gray-400"})]})]})})})}),Kr=({post:e})=>h.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},transition:{duration:.2},children:h.jsx(E,{to:`/boards/${e.boardId}/posts/${e.id}`,children:h.jsx(Be,{className:"hover:shadow-lg transition-shadow",children:h.jsxs(Ve,{className:"p-4",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.isPinned&&h.jsx(A,{className:"w-4 h-4 text-elderberry-600"}),e.isNotice&&h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"공지"}),h.jsx("span",{className:"text-xs text-gray-500",children:e.boardName})]}),h.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 line-clamp-1",children:e.title}),e.summary&&h.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.summary})]})}),e.tags&&e.tags.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map((e,r)=>h.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600",children:[h.jsx(M,{className:"w-3 h-3 mr-1"}),e]},r)),e.tags.length>3&&h.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.tags.length-3]})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{children:e.isAnonymous?"익명":e.authorName}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(D,{className:"w-3 h-3 mr-1"}),Fr(e.createdAt)]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(w,{className:"w-3 h-3 mr-1"}),e.viewCount]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(L,{className:"w-3 h-3 mr-1"}),e.likeCount]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(k,{className:"w-3 h-3 mr-1"}),e.commentCount]})]})]})]})})})});const Vr=Object.freeze(Object.defineProperty({__proto__:null,default:function(){Nr({title:"게시판",description:"요양원 관련 정보 공유, Q&A, 후기, 팁과 노하우를 나누는 커뮤니티 게시판",keywords:"게시판, 커뮤니티, 요양원정보, Q&A, 후기, 팁과노하우",ogTitle:"게시판 - 엘더베리",canonicalUrl:"https://elderberry.co.kr/boards"}),u.useEffect(()=>{Er({"@context":"https://schema.org","@type":"DiscussionForumPosting",name:"엘더베리 커뮤니티 게시판",description:"요양원 관련 정보 공유, Q&A, 후기, 팁과 노하우를 나누는 커뮤니티 포럼",about:{"@type":"Thing",name:"요양원 서비스"},audience:{"@type":"Audience",audienceType:"재외동포, 요양원 관련자"},provider:{"@type":"Organization",name:"엘더베리"}},"forum-data"),Er({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"홈",item:"https://elderberry.co.kr"},{"@type":"ListItem",position:2,name:"게시판",item:"https://elderberry.co.kr/boards"}]},"board-breadcrumb")},[]);const[e,r]=T(),{user:t}=ke(),{boards:a,posts:s,popularPosts:n,boardsLoading:l,postsLoading:c,boardsError:d,postsError:m,postsTotalPages:x,postsCurrentPage:p,postsTotalElements:g,searchParams:f,loadBoards:y,loadPosts:N,loadPopularPosts:j,setSearchParams:P,clearBoardsError:A,clearPostsError:M}=Hr(),[D,_]=u.useState(e.get("keyword")||""),[$,H]=u.useState(!1),[z,B]=u.useState(""),[F,U]=u.useState("boards"),K=t&&[Se.CAREGIVER,Se.EMPLOYER,Se.COORDINATOR,Se.ADMIN].includes(t.role);u.useEffect(()=>{y(),j();const r={};e.get("keyword")&&(r.keyword=e.get("keyword")),e.get("boardType")&&(r.boardType=e.get("boardType")),e.get("page")&&(r.page=parseInt(e.get("page"))||0),N(r)},[e]);const V=()=>{const e={page:0,keyword:D||void 0,boardType:z||void 0};P(e),N(e);const t=new URLSearchParams;D&&t.set("keyword",D),z&&t.set("boardType",z),r(t)},W=t=>{const a=o(i({},f),{page:t});P(a),N(a);const s=new URLSearchParams(e);s.set("page",t.toString()),r(s)},G=()=>{_(""),B(""),P({page:0}),N({page:0}),r({})};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"커뮤니티"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"다양한 정보를 공유하고 소통해보세요"})]}),K&&h.jsx("div",{className:"mt-4 sm:mt-0",children:h.jsx(E,{to:"/boards/create-post",children:h.jsxs(He,{variant:"primary",children:[h.jsx(C,{className:"w-4 h-4 mr-2"}),"글 작성하기"]})})})]}),h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"boards",label:"게시판",icon:k},{key:"posts",label:"최신 글",icon:S},{key:"popular",label:"인기 글",icon:R}].map(({key:e,label:r,icon:t})=>h.jsxs("button",{onClick:()=>U(e),className:`\n                flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                ${F===e?"border-elderberry-500 text-elderberry-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}\n              `,children:[h.jsx(t,{className:"w-4 h-4 mr-2"}),r]},e))})}),("posts"===F||"popular"===F)&&h.jsx(Be,{children:h.jsx(Ve,{className:"p-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"제목, 내용, 작성자 검색...",value:D,onChange:e=>_(e.target.value),onKeyPress:e=>"Enter"===e.key&&V(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500"})]})}),h.jsxs(He,{variant:"outline",onClick:()=>H(!$),className:"flex items-center",children:[h.jsx(I,{className:"w-4 h-4 mr-2"}),"필터"]}),h.jsx(He,{variant:"primary",onClick:V,children:"검색"})]}),$&&h.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 pt-4",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"게시판 타입"}),h.jsxs("select",{value:z,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500",children:[h.jsx("option",{value:"",children:"전체 게시판"}),Object.entries(Br).map(([e,r])=>h.jsx("option",{value:e,children:r},e))]})]})}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[h.jsx(He,{variant:"outline",onClick:G,children:"초기화"}),h.jsx(He,{variant:"primary",onClick:V,children:"필터 적용"})]})]})]})})}),(d||m)&&h.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[h.jsx(v,{className:"w-5 h-5 flex-shrink-0"}),h.jsx("span",{className:"text-sm",children:d||m}),h.jsx("button",{onClick:()=>{A(),M()},className:"ml-auto text-red-600 hover:text-red-800",children:"✕"})]}),"boards"===F&&h.jsx("div",{children:l?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,r)=>h.jsx("div",{className:"animate-pulse",children:h.jsx(Be,{children:h.jsxs(Ve,{className:"p-6",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-4"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})},r))}):a.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>h.jsx(Ur,{board:e},e.id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(k,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"게시판이 없습니다"}),h.jsx("p",{className:"text-gray-600",children:"아직 생성된 게시판이 없습니다."})]})}),"posts"===F&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["총 ",h.jsx("span",{className:"font-semibold text-elderberry-600",children:g}),"개의 게시글이 있습니다",D&&h.jsxs("span",{children:[" ('",D,"' 검색 결과)"]})]})}),c?h.jsx("div",{className:"space-y-4",children:[...Array(5)].map((e,r)=>h.jsx("div",{className:"animate-pulse",children:h.jsx(Be,{children:h.jsxs(Ve,{className:"p-4",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-3"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})})},r))}):s.length>0?h.jsx("div",{className:"space-y-4",children:s.map(e=>h.jsx(Kr,{post:e},e.id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(k,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"게시글이 없습니다"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"검색 조건에 맞는 게시글이 없습니다"}),h.jsx(He,{variant:"outline",onClick:G,children:"검색 조건 초기화"})]}),x>1&&h.jsx("div",{className:"flex justify-center",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(He,{variant:"outline",disabled:0===p,onClick:()=>W(p-1),children:"이전"}),[...Array(Math.min(5,x))].map((e,r)=>{const t=Math.max(0,Math.min(p-2,x-5))+r;return t>=x?null:h.jsx(He,{variant:t===p?"primary":"outline",onClick:()=>W(t),children:t+1},t)}),h.jsx(He,{variant:"outline",disabled:p>=x-1,onClick:()=>W(p+1),children:"다음"})]})})]}),"popular"===F&&h.jsx("div",{className:"space-y-4",children:n.length>0?h.jsx("div",{className:"space-y-4",children:n.map((e,r)=>h.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},children:h.jsx(E,{to:`/boards/posts/${e.id}`,children:h.jsx(Be,{className:"hover:shadow-lg transition-shadow",children:h.jsx(Ve,{className:"p-4",children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"w-8 h-8 bg-elderberry-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-bold text-elderberry-600",children:r+1})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.title}),"up"===e.trend&&h.jsx(R,{className:"w-4 h-4 text-green-500"})]}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[h.jsx("span",{children:e.boardName}),h.jsx("span",{children:e.authorName}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(w,{className:"w-3 h-3 mr-1"}),e.viewCount]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(L,{className:"w-3 h-3 mr-1"}),e.likeCount]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(k,{className:"w-3 h-3 mr-1"}),e.commentCount]})]})]})]})})})})},e.id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx(O,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"인기 게시글이 없습니다"}),h.jsx("p",{className:"text-gray-600",children:"아직 인기 게시글이 없습니다."})]})})]})}},Symbol.toStringTag,{value:"Module"})),Wr=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Gr=({comment:e,level:r,onReply:t,onEdit:a,onDelete:s,onLike:n,isLiked:l})=>{const{user:i}=ke(),[o,c]=u.useState(!1),d=(null==i?void 0:i.id)===e.authorId,m=(null==i?void 0:i.role)===Se.ADMIN||(null==i?void 0:i.role)===Se.COORDINATOR;return h.jsx("div",{className:""+(r>0?"ml-8 border-l-2 border-gray-100 pl-4":""),children:h.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-4 mb-4 border border-gray-200",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-elderberry-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-semibold text-elderberry-600",children:e.isAnonymous?"익":e.authorName.charAt(0)})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"font-medium text-gray-900",children:e.isAnonymous?"익명":e.authorName}),h.jsx("span",{className:"text-xs text-gray-500",children:e.authorRole})]}),h.jsx("span",{className:"text-xs text-gray-500",children:Wr(e.createdAt)})]})]}),(d||m)&&h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>c(!o),className:"p-1 rounded-full hover:bg-gray-100",children:h.jsx(W,{className:"w-4 h-4 text-gray-400"})}),h.jsx(ee,{children:o&&h.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg border border-gray-200 z-10",children:[d&&h.jsxs("button",{onClick:()=>{a(e),c(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[h.jsx(F,{className:"w-3 h-3 mr-2"}),"수정"]}),(d||m)&&h.jsxs("button",{onClick:()=>{s(e.id),c(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[h.jsx(U,{className:"w-3 h-3 mr-2"}),"삭제"]})]})})]})]}),h.jsx("div",{className:"prose prose-sm max-w-none mb-4",children:h.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:e.content})}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center space-x-1 text-sm transition-colors "+(l?"text-red-500":"text-gray-500 hover:text-red-500"),children:[h.jsx(L,{className:"w-4 h-4 "+(l?"fill-current":"")}),h.jsx("span",{children:e.likeCount})]}),h.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-elderberry-600",children:[h.jsx(G,{className:"w-4 h-4"}),h.jsx("span",{children:"답글"})]})]}),e.replies&&e.replies.length>0&&h.jsx("div",{className:"mt-4",children:e.replies.map(e=>h.jsx(Gr,{comment:e,level:r+1,onReply:t,onEdit:a,onDelete:s,onLike:n,isLiked:!1},e.id))})]})})},qr=({onSubmit:e,parentId:r,onCancel:t,placeholder:a="댓글을 작성하세요..."})=>{const[s,n]=u.useState(""),[l,i]=u.useState(!1),[o,c]=u.useState(!1);return h.jsxs(Z.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:a=>d(null,null,function*(){if(a.preventDefault(),s.trim())try{c(!0),yield e({postId:0,parentId:r,content:s.trim(),isAnonymous:l}),n(""),i(!1),t&&t()}catch(o){}finally{c(!1)}else alert("댓글 내용을 입력해주세요.")}),className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[h.jsx("textarea",{value:s,onChange:e=>n(e.target.value),placeholder:a,className:"w-full h-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 resize-none",required:!0}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:l,onChange:e=>i(e.target.checked),className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"익명으로 작성"})]}),h.jsxs("div",{className:"flex space-x-2",children:[t&&h.jsx(He,{type:"button",variant:"outline",onClick:t,children:"취소"}),h.jsxs(He,{type:"submit",variant:"primary",loading:o,children:[o?"작성 중...":"댓글 작성",h.jsx(V,{className:"w-4 h-4 ml-2"})]})]})]})]})};const Jr=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{boardId:e,postId:r}=_(),t=$(),{user:a}=ke(),{currentPost:s,comments:n,postsLoading:l,commentsLoading:c,postsError:m,commentsError:x,likedPosts:p,likedComments:g,loadPost:f,loadComments:y,createComment:b,deletePost:N,togglePostLike:j,toggleCommentLike:T,clearPostsError:C,clearCommentsError:S}=Hr(),[R,I]=u.useState(!1),[O,P]=u.useState(null),V=parseInt(r||"0"),W=s&&(null==a?void 0:a.id)===s.authorId,G=(null==a?void 0:a.role)===Se.ADMIN||(null==a?void 0:a.role)===Se.COORDINATOR,q=a&&[Se.CAREGIVER,Se.EMPLOYER,Se.COORDINATOR,Se.ADMIN].includes(a.role),J=p.has(V);u.useEffect(()=>{V&&(f(V),y(V))},[V]);const Y=e=>d(null,null,function*(){s&&(yield b(o(i({},e),{postId:s.id})),I(!1),P(null))});return l?h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-8"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"h-64 bg-gray-200 rounded"}),h.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})}):m||!s?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(v,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"게시글을 찾을 수 없습니다"}),h.jsx("p",{className:"text-gray-600 mb-4",children:m||"요청한 게시글이 존재하지 않거나 삭제되었습니다."}),h.jsxs("div",{className:"space-x-3",children:[h.jsxs(He,{variant:"outline",onClick:()=>t(-1),children:[h.jsx(H,{className:"w-4 h-4 mr-2"}),"뒤로 가기"]}),h.jsx(E,{to:"/boards",children:h.jsx(He,{variant:"primary",children:"게시판 목록"})})]})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(He,{variant:"outline",onClick:()=>t(-1),className:"flex items-center",children:[h.jsx(H,{className:"w-4 h-4 mr-2"}),"뒤로"]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs(He,{variant:"outline",onClick:()=>d(null,null,function*(){if(navigator.share)try{yield navigator.share({title:null==s?void 0:s.title,text:null==s?void 0:s.content,url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href),alert("링크가 클립보드에 복사되었습니다!")}),children:[h.jsx(z,{className:"w-4 h-4 mr-2"}),"공유"]}),h.jsxs(He,{variant:"outline",children:[h.jsx(B,{className:"w-4 h-4 mr-2"}),"북마크"]}),(W||G)&&h.jsxs(h.Fragment,{children:[h.jsx(E,{to:`/boards/${e}/posts/${s.id}/edit`,children:h.jsxs(He,{variant:"outline",children:[h.jsx(F,{className:"w-4 h-4 mr-2"}),"수정"]})}),h.jsxs(He,{variant:"outline",onClick:()=>d(null,null,function*(){if(s&&window.confirm("정말로 이 게시글을 삭제하시겠습니까?"))try{yield N(s.id),t(`/boards/${e||""}`)}catch(r){}}),children:[h.jsx(U,{className:"w-4 h-4 mr-2"}),"삭제"]})]})]})]}),h.jsx(Be,{children:h.jsxs(Ve,{className:"p-6",children:[h.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-6",children:[h.jsx("div",{className:"flex items-start justify-between mb-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.isPinned&&h.jsx(A,{className:"w-4 h-4 text-elderberry-600"}),s.isNotice&&h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"공지"}),h.jsx("span",{className:"text-sm text-gray-500",children:s.boardName})]}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-8 h-8 bg-elderberry-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-semibold text-elderberry-600",children:s.isAnonymous?"익":s.authorName.charAt(0)})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:s.isAnonymous?"익명":s.authorName}),h.jsx("span",{className:"text-xs text-gray-500 ml-2",children:s.authorRole})]})]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(D,{className:"w-4 h-4 mr-1"}),Wr(s.createdAt)]})]})]})}),h.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(w,{className:"w-4 h-4 mr-1"}),"조회 ",s.viewCount]}),h.jsxs("button",{onClick:()=>j(s.id),className:"flex items-center transition-colors "+(J?"text-red-500":"hover:text-red-500"),children:[h.jsx(L,{className:"w-4 h-4 mr-1 "+(J?"fill-current":"")}),"좋아요 ",s.likeCount]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(k,{className:"w-4 h-4 mr-1"}),"댓글 ",s.commentCount]})]})]}),h.jsx("div",{className:"prose max-w-none mb-6",children:h.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:s.content})}),s.attachments&&s.attachments.length>0&&h.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"첨부파일"}),h.jsx("div",{className:"space-y-2",children:s.attachments.map(e=>h.jsxs("a",{href:e.downloadUrl,download:e.originalFileName,className:"flex items-center space-x-2 text-sm text-elderberry-600 hover:text-elderberry-800",children:[h.jsx(K,{className:"w-4 h-4"}),h.jsx("span",{children:e.originalFileName}),h.jsxs("span",{className:"text-xs text-gray-500",children:["(",(e.fileSize/1024/1024).toFixed(1),"MB)"]})]},e.id))})]}),s.tags&&s.tags.length>0&&h.jsx("div",{className:"border-t border-gray-200 pt-6",children:h.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((e,r)=>h.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-elderberry-100 text-elderberry-700",children:[h.jsx(M,{className:"w-3 h-3 mr-1"}),e]},r))})})]})}),h.jsxs(Be,{children:[h.jsx(Fe,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(Ue,{children:["댓글 ",s.commentCount,"개"]}),q&&h.jsxs(He,{variant:"outline",onClick:()=>I(!R),children:[h.jsx(k,{className:"w-4 h-4 mr-2"}),"댓글 작성"]})]})}),h.jsxs(Ve,{children:[h.jsx(ee,{children:R&&q&&h.jsx("div",{className:"mb-6",children:h.jsx(qr,{onSubmit:Y,onCancel:()=>I(!1)})})}),c?h.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,r)=>h.jsx("div",{className:"animate-pulse",children:h.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},r))}):n.length>0?h.jsxs("div",{className:"space-y-4",children:[n.map(e=>h.jsx(Gr,{comment:e,level:0,onReply:e=>P(e),onEdit:e=>{},onDelete:e=>d(null,null,function*(){window.confirm("댓글을 삭제하시겠습니까?")}),onLike:e=>T(e),isLiked:g.has(e.id)},e.id)),h.jsx(ee,{children:O&&q&&h.jsx("div",{className:"ml-8",children:h.jsx(qr,{onSubmit:e=>Y(o(i({},e),{parentId:O})),parentId:O,onCancel:()=>P(null),placeholder:"답글을 작성하세요..."})})})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(k,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"아직 댓글이 없습니다"}),q&&h.jsx(He,{variant:"outline",onClick:()=>I(!0),children:"첫 댓글을 작성해보세요"})]})]})]})]})}},Symbol.toStringTag,{value:"Module"}));const Yr=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const e=$(),[r]=T(),{user:t}=ke(),{boards:a,boardsLoading:s,postsLoading:n,boardsError:l,postsError:c,loadBoards:m,createPost:x,clearBoardsError:p,clearPostsError:g}=Hr(),[f,y]=u.useState(parseInt(r.get("boardId")||"0")||0),[b,j]=u.useState(""),[E,C]=u.useState(""),[k,S]=u.useState(!1),[R,I]=u.useState(!1),[L,O]=u.useState(!1),[P,D]=u.useState(""),[_,z]=u.useState([]),[B,F]=u.useState([]),U=(null==t?void 0:t.role)===Se.ADMIN||(null==t?void 0:t.role)===Se.COORDINATOR,K=(null==t?void 0:t.role)===Se.ADMIN||(null==t?void 0:t.role)===Se.COORDINATOR;u.useEffect(()=>{m()},[]),u.useEffect(()=>{a.length>0&&0===f&&y(a[0].id)},[a,f]);const V=()=>{const e=P.trim();e&&!_.includes(e)&&_.length<10&&(z([..._,e]),D(""))},W=(e,r)=>d(null,null,function*(){if(!e.file)return null;try{F(e=>e.map((e,t)=>t===r?o(i({},e),{uploading:!0}):e));const t=yield Dr.uploadFile(e.file);return F(e=>e.map((e,a)=>a===r?o(i({},e),{id:t.id,uploading:!1,uploaded:!0,url:t.downloadUrl}):e)),t.id}catch(t){return F(e=>e.map((e,t)=>t===r?o(i({},e),{uploading:!1,uploaded:!1}):e)),alert(`파일 업로드에 실패했습니다: ${e.name}`),null}}),G=e=>{if(0===e)return"0 Bytes";const r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]};return s?h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),h.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(He,{variant:"outline",onClick:()=>e(-1),className:"flex items-center",children:[h.jsx(H,{className:"w-4 h-4 mr-2"}),"뒤로"]}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"게시글 작성"})]}),h.jsx("div",{className:"flex items-center space-x-3",children:h.jsxs(He,{variant:"outline",onClick:()=>{},children:[h.jsx(w,{className:"w-4 h-4 mr-2"}),"미리보기"]})})]}),(l||c)&&h.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[h.jsx(v,{className:"w-5 h-5 flex-shrink-0"}),h.jsx("span",{className:"text-sm",children:l||c}),h.jsx("button",{onClick:()=>{p(),g()},className:"ml-auto text-red-600 hover:text-red-800",children:"✕"})]}),h.jsxs("form",{onSubmit:r=>d(null,null,function*(){if(r.preventDefault(),f)if(b.trim())if(E.trim())try{const r=[];for(let e=0;e<B.length;e++){const t=B[e];if(t.file&&!t.uploaded){const a=yield W(t,e);a&&r.push(a)}else t.id&&r.push(t.id)}const t={boardId:f,title:b.trim(),content:E.trim(),isAnonymous:k,isNotice:!!U&&R,isPinned:!!K&&L,tags:_.length>0?_:void 0,attachmentIds:r.length>0?r:void 0},a=yield x(t);e(`/boards/${f}/posts/${a.id}`)}catch(t){alert("게시글 작성에 실패했습니다. 다시 시도해주세요.")}else alert("내용을 입력해주세요.");else alert("제목을 입력해주세요.");else alert("게시판을 선택해주세요.")}),className:"space-y-6",children:[h.jsxs(Be,{children:[h.jsx(Fe,{children:h.jsx(Ue,{children:"기본 정보"})}),h.jsxs(Ve,{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["게시판 ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{value:f,onChange:e=>y(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500",required:!0,children:[h.jsx("option",{value:0,children:"게시판을 선택해주세요"}),a.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["제목 ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:"제목을 입력하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500",maxLength:200,required:!0}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.length,"/200자"]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["내용 ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{value:E,onChange:e=>C(e.target.value),placeholder:"내용을 입력하세요",className:"w-full h-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500 resize-none",required:!0}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[E.length,"자"]})]})]})]}),h.jsxs(Be,{children:[h.jsx(Fe,{children:h.jsx(Ue,{children:"게시 옵션"})}),h.jsxs(Ve,{className:"space-y-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:k,onChange:e=>S(e.target.checked),className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"익명으로 작성"})]}),U&&h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:R,onChange:e=>I(e.target.checked),className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),h.jsxs("div",{className:"ml-2 flex items-center",children:[h.jsx(q,{className:"w-4 h-4 text-red-500 mr-1"}),h.jsx("span",{className:"text-sm text-gray-700",children:"공지사항으로 등록"})]})]}),K&&h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:L,onChange:e=>O(e.target.checked),className:"w-4 h-4 text-elderberry-600 border-gray-300 rounded focus:ring-elderberry-500"}),h.jsxs("div",{className:"ml-2 flex items-center",children:[h.jsx(A,{className:"w-4 h-4 text-elderberry-500 mr-1"}),h.jsx("span",{className:"text-sm text-gray-700",children:"상단 고정"})]})]})]})]}),h.jsxs(Be,{children:[h.jsx(Fe,{children:h.jsx(Ue,{children:"태그"})}),h.jsxs(Ve,{className:"space-y-4",children:[h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",value:P,onChange:e=>D(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),V())},placeholder:"태그를 입력하고 Enter를 누르세요",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-elderberry-500 focus:border-elderberry-500",maxLength:20}),h.jsxs(He,{type:"button",variant:"outline",onClick:V,children:[h.jsx(M,{className:"w-4 h-4 mr-2"}),"추가"]})]}),_.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((e,r)=>h.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-elderberry-100 text-elderberry-700",children:[h.jsx(M,{className:"w-3 h-3 mr-1"}),e,h.jsx("button",{type:"button",onClick:()=>(e=>{z(_.filter((r,t)=>t!==e))})(r),className:"ml-1 text-elderberry-500 hover:text-elderberry-700",children:h.jsx(N,{className:"w-3 h-3"})})]},r))}),h.jsxs("p",{className:"text-xs text-gray-500",children:["최대 10개까지 추가할 수 있습니다. (",_.length,"/10)"]})]})]}),h.jsxs(Be,{children:[h.jsx(Fe,{children:h.jsx(Ue,{children:"첨부파일"})}),h.jsxs(Ve,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("input",{type:"file",multiple:!0,onChange:e=>{Array.from(e.target.files||[]).forEach(e=>{if(e.size>10485760)return void alert(`파일 크기가 너무 큽니다: ${e.name} (최대 10MB)`);const r={file:e,name:e.name,size:e.size,type:e.type,uploading:!1,uploaded:!1};F(e=>[...e,r])}),e.target.value=""},className:"hidden",id:"file-upload",accept:"image/*,.pdf,.doc,.docx,.txt,.zip,.rar"}),h.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[h.jsx(J,{className:"w-4 h-4 mr-2"}),"파일 선택"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"최대 10MB까지 업로드 가능합니다. (이미지, PDF, 문서, 압축파일)"})]}),B.length>0&&h.jsx("div",{className:"space-y-2",children:B.map((e,r)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-elderberry-100 rounded-lg flex items-center justify-center",children:e.type.startsWith("image/")?h.jsx(Y,{className:"w-4 h-4 text-elderberry-600"}):h.jsx(Q,{className:"w-4 h-4 text-elderberry-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),h.jsx("p",{className:"text-xs text-gray-500",children:G(e.size)})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[e.uploading&&h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-elderberry-600"}),e.uploaded&&h.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-xs text-green-600",children:"✓"})}),h.jsx("button",{type:"button",onClick:()=>(e=>{F(r=>r.filter((r,t)=>t!==e))})(r),className:"text-gray-400 hover:text-red-500",children:h.jsx(N,{className:"w-4 h-4"})})]})]},r))})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(He,{type:"button",variant:"outline",onClick:()=>e(-1),children:"취소"}),h.jsxs(He,{type:"submit",variant:"primary",loading:n,disabled:!f||!b.trim()||!E.trim(),children:[h.jsx(X,{className:"w-4 h-4 mr-2"}),n?"작성 중...":"게시글 작성"]})]})]})]})}},Symbol.toStringTag,{value:"Module"}));export{He as B,Be as C,tr as I,De as L,Se as M,br as P,Cr as S,Ye as T,Je as a,Qe as b,Xe as c,Ve as d,Fe as e,Ue as f,Er as g,Ke as h,We as i,ke as j,Me as k,Ae as l,er as m,cr as n,_e as o,pr as p,sr as q,Pe as r,nr as s,me as t,Nr as u,ar as v,xe as w,Vr as x,Jr as y,Yr as z};
