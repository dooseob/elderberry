This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.
The content has been processed where content has been compressed (code blocks are separated by â‹®---- delimiter).

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: build/**, node_modules/**, *.jar
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Content has been compressed - code blocks are separated by â‹®---- delimiter
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.claude/
  settings.local.json
.github/
  workflows/
    auto-commit.yml
docs/
  phases/
    phase-1.md
    phase-2.md
    phase-3.md
    phase-4.md
    phase-5.md
    phase-6.md
    phase-overview.md
    ëŒë´„ì§€ìˆ˜-ì²´í¬ë¦¬ìŠ¤íŠ¸-ë§¤ì¹­ì„œë¹„ìŠ¤.md
  CLAUDE(ì „ì²´ê³„íš).md
  DEVELOPMENT_PLAN.md
frontend/
  src/
    components/
      coordinator/
        CoordinatorCard.tsx
        MatchingPreferencePanel.tsx
        MatchingStatsDashboard.tsx
      ui/
        Button.tsx
        Card.tsx
        ProgressBar.tsx
        RadioGroup.tsx
    features/
      coordinator/
        CoordinatorMatchingWizard.tsx
      health/
        steps/
          AdditionalInfoStep.tsx
          AdlCommunicationStep.tsx
          AdlEatingStep.tsx
          AdlMobilityStep.tsx
          AdlToiletStep.tsx
          BasicInfoStep.tsx
          LtciGradeStep.tsx
          ReviewStep.tsx
        HealthAssessmentWizard.tsx
    services/
      coordinatorApi.ts
      healthApi.ts
    stores/
      healthAssessmentStore.ts
    types/
      health.ts
    App.css
    App.tsx
    main.tsx
    vite-env.d.ts
  index.html
  package.json
  postcss.config.js
  tailwind.config.js
  tsconfig.json
  tsconfig.node.json
  vite.config.ts
gradle/
  wrapper/
    gradle-wrapper.properties
src/
  main/
    java/
      com/
        globalcarelink/
          auth/
            dto/
              LoginRequest.java
              MemberRegisterRequest.java
              MemberResponse.java
              MemberUpdateRequest.java
              TokenResponse.java
            AuthController.java
            JwtAuthenticationFilter.java
            JwtTokenProvider.java
            Member.java
            MemberController.java
            MemberRepository.java
            MemberRole.java
            MemberService.java
          common/
            config/
              AsyncConfig.java
              CacheConfig.java
              JpaConfig.java
              LoggingAspect.java
              LoggingFilter.java
              SecurityConfig.java
            entity/
              BaseEntity.java
            exception/
              CustomException.java
              GlobalExceptionHandler.java
            util/
              DateUtil.java
              SecurityUtil.java
              ValidationUtil.java
            HealthController.java
          coordinator/
            CoordinatorCareSettings.java
            CoordinatorCareSettingsRepository.java
            CoordinatorCareSettingsService.java
            CoordinatorLanguageSkill.java
            CoordinatorLanguageSkillRepository.java
            CoordinatorMatch.java
            CoordinatorMatchingController.java
            CoordinatorMatchingStatistics.java
            CoordinatorWorkloadOptimizer.java
            LanguageMatchingService.java
            MatchingExplanationGenerator.java
            MatchingPreference.java
            MatchingSimulationRequest.java
            MatchingSimulationResult.java
            OptimizedCoordinatorMatchingService.java
          health/
            dto/
              HealthAssessmentCreateRequest.java
              HealthAssessmentStatistics.java
              HealthAssessmentUpdateRequest.java
            CareGradeCalculator.java
            HealthAssessment.java
            HealthAssessmentController.java
            HealthAssessmentRepository.java
            HealthAssessmentService.java
          profile/
            dto/
              DomesticProfileRequest.java
              DomesticProfileResponse.java
              OverseasProfileRequest.java
              OverseasProfileResponse.java
            DomesticProfile.java
            DomesticProfileRepository.java
            OverseasProfile.java
            OverseasProfileRepository.java
            ProfileController.java
            ProfileService.java
          GlobalCareLinkApplication.java
    resources/
      application-test.yml
      application.yml
      logback-spring.xml
  test/
    java/
      com/
        globalcarelink/
          auth/
            AuthControllerTest.java
            MemberRepositoryTest.java
            MemberServiceTest.java
          coordinator/
            CoordinatorMatchingControllerTest.java
            CoordinatorMatchingServiceIntegrationTest.java
          e2e/
            HealthAssessmentToCoordinatorMatchingE2ETest.java
          health/
            HealthAssessmentControllerIntegrationTest.java
          GlobalCareLinkApplicationTest.java
.env.example
.gitignore
build.gradle.kts
CLAUDE.md
gradlew
settings.gradle.kts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="docs/phases/ëŒë´„ì§€ìˆ˜-ì²´í¬ë¦¬ìŠ¤íŠ¸-ë§¤ì¹­ì„œë¹„ìŠ¤.md">
# ëŒë´„ì§€ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ - ë§¤ì¹­ì„œë¹„ìŠ¤ í™œìš© ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”
KBë¼ì´í”„ìƒëª… ìš”ì–‘ê°„ë³‘ ì»¨ì„¤íŒ… ì„œë¹„ìŠ¤ì˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ë¡œì§ì„ ë¶„ì„í•˜ì—¬, ìš°ë¦¬ LightCare ë§¤ì¹­ì„œë¹„ìŠ¤ì— í™œìš©í•  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

## ğŸ¯ ëª©ì 
- ìš”ì–‘ì‹œì„¤ê³¼ ì´ìš©ìì˜ ì •í™•í•œ ë§¤ì¹­ì„ ìœ„í•œ ëŒë´„ í•„ìš”ë„ í‰ê°€
- í‘œì¤€í™”ëœ í‰ê°€ ê¸°ì¤€ì„ í†µí•œ ê°ê´€ì  íŒì •
- ë‹¨ê³„ë³„ ì§ˆë¬¸ì„ í†µí•œ ì‚¬ìš©ì ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤ ì œê³µ

## ğŸ“Š í‰ê°€ í•­ëª© ë° ë‹¨ê³„

### 1. ê¸°ë³¸ ì •ë³´
- **ì„±ë³„**: ë‚¨ì / ì—¬ì
- **ì¶œìƒë…„ë„**: 4ìë¦¬ ì—°ë„ ì…ë ¥ (ìœ íš¨ì„± ê²€ì¦: í˜„ì¬ë…„ë„-150 ~ í˜„ì¬ë…„ë„)

### 2. ì¼ìƒìƒí™œ ê¸°ë³¸ë™ì‘ í‰ê°€ (ADL)

#### 2.1 ê±·ê¸° í™œë™ ëŠ¥ë ¥
- **1ë‹¨ê³„ (ì–‘í˜¸)**: í˜¼ìì„œ ê°€ëŠ¥í•´ìš”
- **2ë‹¨ê³„ (ë³´í†µ)**: ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš” (íƒ€ì¸ì˜ ë¶€ì¶•, ì§€íŒ¡ì´ ì´ìš© ë“±)
- **3ë‹¨ê³„ (ì¤‘ì¦)**: í˜¼ìì„œëŠ” ë³´í–‰ì´ ì–´ë ¤ì›Œìš” (íœ ì²´ì–´ ì‚¬ìš© ë“±)

#### 2.2 ì‹ì‚¬ í™œë™ ëŠ¥ë ¥
- **1ë‹¨ê³„ (ì–‘í˜¸)**: í˜¼ìì„œ ê°€ëŠ¥í•´ìš”
- **2ë‹¨ê³„ (ë³´í†µ)**: ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš” (ë°˜ì°¬ ì§‘ê¸°, ìë¥´ê¸° ë“± ì¼ë¶€ ë„ì›€)
- **3ë‹¨ê³„ (ì¤‘ì¦)**: ì™„ì „í•œ ë„ì›€ì´ í•„ìš”í•´ìš” (ìŒì‹ì„ ë–  ë¨¹ì—¬ì¤Œ)

#### 2.3 ë°°ë³€ í™œë™ ëŠ¥ë ¥
- **1ë‹¨ê³„ (ì–‘í˜¸)**: í˜¼ìì„œ í™”ì¥ì‹¤ì„ ì´ìš©í•  ìˆ˜ ìˆì–´ìš”
- **2ë‹¨ê³„ (ë³´í†µ)**: í™”ì¥ì‹¤ ì´ìš© ì‹œ ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš”
- **3ë‹¨ê³„ (ì¤‘ì¦)**: ì™„ì „í•œ ë„ì›€ì´ í•„ìš”í•´ìš” (ê°„ì´ë³€ê¸°, ê¸°ì €ê·€ ì°©ìš© ë“±)

#### 2.4 ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥
- **1ë‹¨ê³„ (ì–‘í˜¸)**: ì •ìƒì ìœ¼ë¡œ ê°€ëŠ¥í•´ìš”
- **2ë‹¨ê³„ (ë³´í†µ)**: ë•Œë•Œë¡œ ì–´ë ¤ì›Œìš” (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ê°€ëŠ¥)
- **3ë‹¨ê³„ (ì¤‘ì¦)**: ì†Œí†µì´ ì–´ë ¤ì›Œìš” (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ì˜ ëª»í•¨)

### 3. ì‹ì‚¬ í˜•íƒœ
- **1ë‹¨ê³„ (ì¼ë°˜)**: ì¼ë°˜ì‹
- **2ë‹¨ê³„ (ë³´ì¡°)**: ë‹¤ì§„ì‹/ê°ˆì€ì‹
- **3ë‹¨ê³„ (íŠ¹ìˆ˜)**: ê²½ê´€ì‹(íŠœë¸Œ ì£¼ì…)

### 4. ì¥ê¸°ìš”ì–‘ íŒì •ë“±ê¸‰
- **1ë“±ê¸‰**: ê°€ì¥ ì¤‘ì¦
- **2ë“±ê¸‰**: ì¤‘ì¦
- **3ë“±ê¸‰**: ì¤‘ë“±ë„
- **4ë“±ê¸‰**: ê²½ì¦
- **5ë“±ê¸‰**: ê²½ë¯¸
- **ì¸ì§€ì§€ì›ë“±ê¸‰**: ì¹˜ë§¤íŠ¹í™”
- **ì˜ ëª¨ë¥´ê² ìŒ**: ë¯¸í™•ì¸
- **ì—†ìŒ**: í•´ë‹¹ì—†ìŒ

### 5. íŠ¹ìˆ˜ ìƒí™© í‰ê°€ (ì¹˜ëª…ì  ìƒíƒœ)
- **1ë‹¨ê³„**: 6ê°œì›” ì´í•˜ì˜ ê¸°ëŒ€ìˆ˜ëª… ìƒíƒœ
- **2ë‹¨ê³„**: ì§ˆë³‘ì´ íšŒë³µí•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ìœ¼ë¡œ ìˆ˜ëª…ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•ŠìŒ
- **3ë‹¨ê³„**: ì™„ì „íˆ íƒ€ì¸ ì˜ì¡´ì ì¸ ìƒíƒœì´ë‚˜ ì‚¬ë§ìœ„í—˜ì´ ë†’ì§€ ì•ŠìŒ
- **4ë‹¨ê³„**: í•´ë‹¹ì‚¬í•­ ì—†ìŒ

### 6. ì§ˆí™˜ ë¶„ë¥˜
- **ì¹˜ë§¤**: ì¸ì§€ê¸°ëŠ¥ ì €í•˜
- **íŒŒí‚¨ìŠ¨**: ìš´ë™ì¥ì• 
- **ë‡Œí˜ˆê´€ì§ˆí™˜**: ë‡Œì¡¸ì¤‘ ë“±
- **ì˜ ëª¨ë¥´ê² ìŒ**: ë¯¸í™•ì¸

## ğŸ”¢ ë“±ê¸‰ ì‚°ì • ë¡œì§

### ìµœì¢… ë“±ê¸‰ (1-9ë‹¨ê³„)
1. **1ë“±ê¸‰ (ìµœê²½ì¦)**: ê±´ê°•í•œ ì„±ì¸
2. **2ë“±ê¸‰**: ê²½ë¯¸í•œ ë„ì›€ í•„ìš” (ì¤‘ë…„ì¸µ)
3. **3ë“±ê¸‰**: ê²½ë¯¸í•œ ë„ì›€ í•„ìš” (ê³ ë ¹ì¸µ)
4. **4ë“±ê¸‰**: ë¶€ë¶„ ë„ì›€ í•„ìš”
5. **5ë“±ê¸‰**: ì¼ë°˜ì  ë„ì›€ í•„ìš”
6. **6ë“±ê¸‰**: ìƒë‹¹í•œ ë„ì›€ í•„ìš”
7. **7ë“±ê¸‰**: ì¤‘ì¦ ìƒíƒœ
8. **8ë“±ê¸‰**: ìƒëª…ìœ„í—˜ ì¤‘ë“±ë„
9. **9ë“±ê¸‰**: ìƒëª…ìœ„í—˜ ê³ ë„

### ë“±ê¸‰ ì‚°ì • ê·œì¹™

#### íŠ¹ìˆ˜ ìƒí™© ìš°ì„  ì ìš©
```javascript
// ì¹˜ëª…ì  ìƒíƒœì— ë”°ë¥¸ ë“±ê¸‰
if (ì¹˜ëª…ì ìƒíƒœ === "1") return 9; // 6ê°œì›” ì´í•˜ ê¸°ëŒ€ìˆ˜ëª…
if (ì¹˜ëª…ì ìƒíƒœ === "2") return 8; // íšŒë³µ ì–´ë ¤ìš´ ìƒí™©
if (ì¹˜ëª…ì ìƒíƒœ === "3") return 7; // ì™„ì „ ì˜ì¡´ì  ìƒíƒœ
```

#### ì¤‘ì¦ ì§€í‘œ ìš°ì„  ì²´í¬
```javascript
// ë°°ë³€í™œë™ ì™„ì „ë„ì›€ ë˜ëŠ” ê²½ê´€ì‹ â†’ 7ë“±ê¸‰
if (ë°°ë³€í™œë™ === "3" || ì‹ì‚¬í˜•íƒœ === "3") return 7;
```

#### ì¥ê¸°ìš”ì–‘ë“±ê¸‰ ê¸°ë°˜ íŒì •
- **1-3ë“±ê¸‰**: ê³µì‹ë“±ê¸‰ì— ë”°ë¥¸ ì¤‘ì¦ë„ ë°˜ì˜
- **4-6ë“±ê¸‰**: ì¼ìƒìƒí™œëŠ¥ë ¥ê³¼ ì¡°í•©í•˜ì—¬ íŒì •
- **ë¯¸í™•ì¸/ì—†ìŒ**: ë‚˜ì´ì™€ ê¸°ëŠ¥ìƒíƒœë¡œ íŒì •

## ğŸ¥ ë§¤ì¹­ì„œë¹„ìŠ¤ í™œìš© ë°©ì•ˆ

### 1. ì‹œì„¤ ë“±ê¸‰ë³„ ë¶„ë¥˜
- **1-3ë“±ê¸‰**: ì¬ê°€ì„œë¹„ìŠ¤, ê²½ì¦ ì‹œì„¤
- **4-5ë“±ê¸‰**: ì¼ë°˜ ìš”ì–‘ì›, ë°ì´ì¼€ì–´
- **6-7ë“±ê¸‰**: ì „ë¬¸ ìš”ì–‘ì›, ê°„ë³‘ì„œë¹„ìŠ¤
- **8-9ë“±ê¸‰**: í˜¸ìŠ¤í”¼ìŠ¤, ì¤‘ì¦ ì „ë¬¸ì‹œì„¤

### 2. íŠ¹í™” ì„œë¹„ìŠ¤ ë§¤ì¹­
- **ì¹˜ë§¤**: ì¹˜ë§¤ì „ë¬¸ì‹œì„¤, ì¸ì§€ì¬í™œ í”„ë¡œê·¸ë¨
- **íŒŒí‚¨ìŠ¨**: ì¬í™œì¹˜ë£Œ ì „ë¬¸ì‹œì„¤
- **ë‡Œí˜ˆê´€ì§ˆí™˜**: ì¬í™œë³‘ì› ì—°ê³„ ì‹œì„¤

### 3. ê²½ê³  ì•Œë¦¼ ì‹œìŠ¤í…œ
```javascript
// ê³µì‹ë“±ê¸‰ê³¼ ì‹¤ì œìƒíƒœ ë¶ˆì¼ì¹˜ ì‹œ ê²½ê³ 
if (ì¥ê¸°ìš”ì–‘ë“±ê¸‰ <= 3 && ëª¨ë“ ì¼ìƒìƒí™œëŠ¥ë ¥ === 1) {
    alert("ë“±ê¸‰ ì¬í‰ê°€ ê¶Œì¥");
}
```

## ğŸ› ï¸ êµ¬í˜„ ê³ ë ¤ì‚¬í•­

### 1. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- ë‹¨ê³„ë³„ ì§„í–‰ (GSAP ì• ë‹ˆë©”ì´ì…˜ í™œìš©)
- ì´ì „/ë‹¤ìŒ ë²„íŠ¼ìœ¼ë¡œ ë‹¨ê³„ ì´ë™
- í•„ìˆ˜ ì…ë ¥ ê²€ì¦
- ì‹¤ì‹œê°„ í”¼ë“œë°±

### 2. ë°ì´í„° ì €ì¥ êµ¬ì¡°
```sql
CREATE TABLE care_assessment (
    id BIGINT PRIMARY KEY,
    member_id BIGINT,
    birth_year INT,
    gender VARCHAR(1),
    walking_ability INT,     -- ê±·ê¸°ëŠ¥ë ¥ 1-3
    eating_ability INT,      -- ì‹ì‚¬ëŠ¥ë ¥ 1-3  
    toilet_ability INT,      -- ë°°ë³€ëŠ¥ë ¥ 1-3
    communication INT,       -- ì˜ì‚¬ì†Œí†µ 1-3
    meal_type INT,          -- ì‹ì‚¬í˜•íƒœ 1-3
    ltc_grade INT,          -- ì¥ê¸°ìš”ì–‘ë“±ê¸‰
    critical_status INT,     -- ì¹˜ëª…ì ìƒíƒœ
    disease_type INT,       -- ì§ˆí™˜ëª…
    calculated_grade INT,   -- ì‚°ì¶œë“±ê¸‰ 1-9
    alert_flag VARCHAR(1),  -- ê²½ê³ ì—¬ë¶€ Y/N
    created_at TIMESTAMP
);
```

### 3. API ì„¤ê³„
```java
@RestController
public class CareAssessmentController {
    
    @PostMapping("/api/care/assessment")
    public ResponseEntity<CareGradeResult> calculateGrade(@RequestBody CareAssessmentDTO dto) {
        // ë“±ê¸‰ ê³„ì‚° ë¡œì§
        int grade = careService.calculateGrade(dto);
        boolean alertFlag = careService.checkAlertCondition(dto);
        
        return ResponseEntity.ok(new CareGradeResult(grade, alertFlag));
    }
}
```

## ğŸ“ˆ í’ˆì§ˆ ê°œì„  ë°©ì•ˆ

### 1. ê²€ì¦ ë¡œì§ ê°•í™”
- ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì‚¬
- ë…¼ë¦¬ì  ì¼ê´€ì„± ê²€ì¦
- ì´ìƒê°’ íƒì§€

### 2. ê°œì¸í™” ì¶”ì²œ
- ê³¼ê±° í‰ê°€ ì´ë ¥ ë°˜ì˜
- ì§€ì—­ë³„ ì‹œì„¤ í˜„í™© ì—°ê³„
- ê°€ì¡± ì„ í˜¸ë„ ê³ ë ¤

### 3. ë°ì´í„° ë¶„ì„ í™œìš©
- í‰ê°€ ê²°ê³¼ í†µê³„ ë¶„ì„
- ë§¤ì¹­ ì„±ê³µë¥  ì¶”ì 
- ì„œë¹„ìŠ¤ ê°œì„  í”¼ë“œë°±

## ğŸ”’ ë³´ì•ˆ ë° ê°œì¸ì •ë³´ë³´í˜¸
- ë¯¼ê°í•œ ê±´ê°•ì •ë³´ ì•”í˜¸í™” ì €ì¥
- ì ‘ê·¼ ê¶Œí•œ ì„¸ë¶„í™”
- ë°ì´í„° ë³´ì¡´ ê¸°ê°„ ê´€ë¦¬
- ê°œì¸ì •ë³´ ë™ì˜ ì ˆì°¨

---

*ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ” KBë¼ì´í”„ìƒëª…ì˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œì„ ì°¸ê³ í•˜ì—¬ LightCare ë§¤ì¹­ì„œë¹„ìŠ¤ì— ìµœì í™”í•˜ì—¬ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*
</file>

<file path="docs/CLAUDE(ì „ì²´ê³„íš).md">
# CLAUDE.md

ì´ ë¬¸ì„œëŠ” ì´ ì €ì¥ì†Œì—ì„œ Claude Code (claude.ai/code)ê°€ ì½”ë“œë¥¼ ë‹¤ë£° ë•Œ ì°¸ê³ í•  ê°€ì´ë“œì…ë‹ˆë‹¤.

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” í•œêµ­ íŒ€ì› 4ëª…ì´ ê°œë°œí•˜ëŠ” \*\*ê¸€ë¡œë²Œ ìš”ì–‘ì› êµ¬ì¸êµ¬ì§ ì›¹ì‚¬ì´íŠ¸ "ë¼ì´íŠ¸ì¼€ì–´(LightCare)"\*\*ì…ë‹ˆë‹¤. ì´ í”Œë«í¼ì€ ìš”ì–‘ ì‹œì„¤ê³¼ ìš”ì–‘ì—…ê³„ êµ¬ì§ìë¥¼ ì—°ê²°í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ì—ì„œ ì‹œì‘í•˜ì—¬, **ì¬ì™¸ë™í¬ ëŒ€ìƒ ê¸€ë¡œë²Œ ìš”ì–‘ ì„œë¹„ìŠ¤**ë¡œ í™•ì¥ë˜ê³  ìˆìŠµë‹ˆë‹¤.

**âš ï¸ ì¤‘ìš”: ì´ í”„ë¡œì íŠ¸ëŠ” JDK 21 + Spring Boot 3.3.5 ê¸°ë°˜ì˜ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¡œ ì¬êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ ë ˆê±°ì‹œ ì½”ë“œëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©í•˜ë©°, ëª¨ë“  ìƒˆë¡œìš´ ê°œë°œì€ ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.**

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (ìµœì‹ í™”)

### ë°±ì—”ë“œ (Modern Java Stack - ì™„ì „ ë¬´ë£Œ)
* **ì–¸ì–´**: Java 21 LTS (Virtual Threads, Pattern Matching)
* **í”„ë ˆì„ì›Œí¬**: Spring Boot 3.3.5 
* **ORM**: Spring Data JPA + Hibernate 6.x
* **ë³´ì•ˆ**: Spring Security 6.x + JWT + OAuth2
* **ë°ì´í„°ë² ì´ìŠ¤**: SQLite (ìë³¸ê¸ˆ 0ì› ê³ ë ¤)
* **ìºì‹œ**: Caffeine (ë©”ëª¨ë¦¬ ìºì‹œ, ë¬´ë£Œ)
* **ë¹Œë“œ**: Gradle 8.x + Kotlin DSL

### í”„ë¡ íŠ¸ì—”ë“œ (Modern React Stack)  
* **ì–¸ì–´**: TypeScript 5.x (íƒ€ì… ì•ˆì •ì„±)
* **í”„ë ˆì„ì›Œí¬**: React 18 + Vite 5.x
* **ìƒíƒœê´€ë¦¬**: Zustand (ë‹¨ìˆœí•˜ê³  í˜„ëŒ€ì )
* **UI ë¼ì´ë¸ŒëŸ¬ë¦¬**: Tailwind CSS + Shadcn/ui
* **HTTP í´ë¼ì´ì–¸íŠ¸**: TanStack Query (React Query v5)
* **í¼ ê´€ë¦¬**: React Hook Form + Zod

### ì¸í”„ë¼ & ë„êµ¬ (ë¬´ë£Œ ìš°ì„ )
* **ì‹¤ì‹œê°„ í†µì‹ **: WebSocket, STOMP (WebRTCëŠ” ì¶”í›„)  
* **API ë¬¸ì„œ**: OpenAPI 3.0 + Swagger UI
* **í…ŒìŠ¤íŠ¸**: JUnit 5 + Spring Boot Test
* **CI/CD**: GitHub Actions (ì›” 2000ë¶„ ë¬´ë£Œ)
* **íŒŒì¼ ì €ì¥**: GitHub Repository (ë¬´ë£Œ CDN)
* **ì´ë©”ì¼**: Gmail SMTP (ì¼ì¼ 500í†µ ë¬´ë£Œ)
* **ì§€ë„**: OpenStreetMap + Leaflet.js (ì™„ì „ ë¬´ë£Œ), ì¹´ì¹´ì˜¤ë§µ (ì›” 30ë§Œê±´ ë¬´ë£Œ)
* **ë°°í¬**: Railway/Render (ë¬´ë£Œ í”Œëœ) â†’ GitHub Pages (í”„ë¡ íŠ¸ì—”ë“œ)
* **ê°œë°œ ë„êµ¬**: Lombok, MapStruct, Spring Boot DevTools
* **ëª¨ë‹ˆí„°ë§**: Spring Boot Actuator (ë¬´ë£Œ)

---

## âš™ï¸ ë©€í‹°ëª¨ë“ˆ ê°œë°œ ëª…ë ¹ì–´

### ë¹Œë“œ ë° ì‹¤í–‰ (JDK 21 ê¸°ë°˜)

```bash
# JDK ë²„ì „ í™•ì¸ (21 ì´ìƒì´ì–´ì•¼ í•¨)
java -version

# ì „ì²´ í”„ë¡œì íŠ¸ ë¹Œë“œ (ëª¨ë“  ëª¨ë“ˆ)
./gradlew build

# íŠ¹ì • ëª¨ë“ˆë§Œ ë¹Œë“œ
./gradlew :api-module:build
./gradlew :member-module:build

# API ì„œë²„ ì‹¤í–‰ (ê°œë°œ í”„ë¡œíŒŒì¼)
./gradlew :api-module:bootRun --args='--spring.profiles.active=dev'

# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„ ì‹¤í–‰
cd web-module && npm run dev

# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ë³‘ë ¬ ì²˜ë¦¬)
./gradlew test --parallel

# íŠ¹ì • ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
./gradlew :member-module:test

# ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ (ì „ì²´)
./gradlew check

# API ë¬¸ì„œ ìƒì„± (OpenAPI)
./gradlew :api-module:generateOpenApiDocs

# ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ í™•ì¸
./gradlew dependencyUpdates
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (SQLite - ë¬´ë£Œ)

```bash
# SQLite ë°ì´í„°ë² ì´ìŠ¤ (íŒŒì¼ ê¸°ë°˜, ì„¤ì¹˜ ë¶ˆí•„ìš”)
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— data/ í´ë” ìƒì„±
mkdir data

# JPA ìë™ DDLë¡œ ìŠ¤í‚¤ë§ˆ ìƒì„± (ê°œë°œ í™˜ê²½)
# application.ymlì—ì„œ spring.jpa.hibernate.ddl-auto: create-drop
# SQLite íŒŒì¼ì´ ìë™ìœ¼ë¡œ ìƒì„±ë¨: ./data/lightcare.db
```

### ê°œë°œ ì„œë²„ ì •ë³´

* **ë°±ì—”ë“œ**: `http://localhost:8080` (Spring Boot)
* **í”„ë¡ íŠ¸ì—”ë“œ**: `http://localhost:5173` (Vite React)
* **ë°ì´í„°ë² ì´ìŠ¤**: `jdbc:sqlite:./data/lightcare.db` (íŒŒì¼ ê¸°ë°˜)
* **ìºì‹œ**: ë©”ëª¨ë¦¬ ìºì‹œ (Caffeine)
* **Hot Reload**: DevTools(ë°±ì—”ë“œ) + Vite HMR(í”„ë¡ íŠ¸ì—”ë“œ)

---

## ğŸ§± ì•„í‚¤í…ì²˜ ê°œìš”

### AI ì£¼ë„ ê°œë°œì„ ìœ„í•œ êµ¬ì¡° (1ì¸ + AI í˜‘ì—… ìµœì í™”)

ì´ í”„ë¡œì íŠ¸ëŠ” **ê¸°ì¡´ ë ˆê±°ì‹œ ì½”ë“œì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ì–´ë ¤ì›€** (JDK 11â†’21, Spring Boot 2.xâ†’3.x ì—…ê·¸ë ˆì´ë“œ ì‹œ ëŒ€ëŸ‰ ì»´íŒŒì¼ ì˜¤ë¥˜)ì„ í•´ê²°í•˜ê¸° ìœ„í•´ **ì™„ì „íˆ ìƒˆë¡œìš´ ê·¸ë¦°í•„ë“œ í”„ë¡œì íŠ¸**ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.

**âš ï¸ ê°œë°œ ì „ëµ**:
- **AI ì˜ì¡´ë„**: 100% (ì£¼ë‹ˆì–´ ë ˆë²¨ íŒ€)
- **ê°œë°œ ë°©ì‹**: ê¸°ì¡´ ì½”ë“œ í¬íŒ… ëŒ€ì‹  ìƒˆë¡œìš´ ì½”ë“œ ìƒì„±
- **ë ˆê±°ì‹œ í™œìš©**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©

**ê¸°ëŠ¥ë³„ íŒ¨í‚¤ì§€ êµ¬ì¡° (ë‹¨ì¼ í”„ë¡œì íŠ¸ - AI ê°œë°œ ìµœì í™”)**:
* **auth**: ì¸ì¦ ê¸°ëŠ¥ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, JWT) - Spring Security 6.x ê¸°ë°˜
* **profile**: í”„ë¡œí•„ ê´€ë¦¬ (êµ­ë‚´/í•´ì™¸ ì‚¬ìš©ì êµ¬ë¶„)  
* **facility**: ì‹œì„¤ ê´€ë¦¬ (ë“±ë¡, ê²€ìƒ‰, ì§€ë„ ì—°ë™) - OpenStreetMap + ì¹´ì¹´ì˜¤ë§µ
* **job**: êµ¬ì¸êµ¬ì§ (ê³µê³  ì‘ì„±, ì§€ì›, ë§¤ì¹­) - AI ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ ì ìš©
* **review**: ë¦¬ë·° ì‹œìŠ¤í…œ (í‰ì , í›„ê¸°, ì¶”ì²œ) - ê°ì • ë¶„ì„ ì ìš© ì˜ˆì •
* **overseas**: ì¬ì™¸ë™í¬ ì „ìš© ê¸°ëŠ¥ (ì™¸êµë¶€ API, í™”ìƒìƒë‹´) - WebRTC ê¸°ë°˜
* **coordinator**: ì½”ë””ë„¤ì´í„° ì›ìŠ¤í†± ì„œë¹„ìŠ¤ - ì¬ì™¸ë™í¬ ì…êµ­ë¶€í„° ìš”ì–‘ì› ì…ì£¼ê¹Œì§€ ì „ ê³¼ì • ì§€ì›
* **notification**: ì•Œë¦¼ ì‹œìŠ¤í…œ (Gmail SMTP, WebSocket) - ë¬´ë£Œ ì„œë¹„ìŠ¤ ê¸°ë°˜
* **common**: ê³µí†µ ì„¤ì •, ìœ í‹¸, ì˜ˆì™¸ì²˜ë¦¬ - Spring Boot 3.3.5 ìµœì í™”

### ê¸°ëŠ¥ë³„ íŒ¨í‚¤ì§€ êµ¬ì¡° (1ì¸ ê°œë°œ ìµœì í™”)

```
global-care-link/
â”œâ”€â”€ build.gradle.kts                   # ë‹¨ì¼ ë¹Œë“œ íŒŒì¼ (ë©€í‹°ëª¨ë“ˆ ì œê±°)
â”œâ”€â”€ src/main/java/com/globalcarelink/
â”‚   â”œâ”€â”€ auth/                          # ğŸ” ì¸ì¦ ê¸°ëŠ¥ ì „ì²´
â”‚   â”‚   â”œâ”€â”€ AuthController.java        # ë¡œê·¸ì¸/íšŒì›ê°€ì… API
â”‚   â”‚   â”œâ”€â”€ AuthService.java           # ì¸ì¦ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ JwtTokenProvider.java      # JWT í† í° ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ LoginRequest.java          # ë¡œê·¸ì¸ ìš”ì²­ DTO
â”‚   â”‚   â”œâ”€â”€ RegisterRequest.java       # íšŒì›ê°€ì… ìš”ì²­ DTO
â”‚   â”‚   â”œâ”€â”€ TokenResponse.java         # í† í° ì‘ë‹µ DTO
â”‚   â”‚   â””â”€â”€ Member.java                # ê¸°ë³¸ íšŒì› ì—”í‹°í‹°
â”‚   â”œâ”€â”€ profile/                       # ğŸ‘¤ í”„ë¡œí•„ ê´€ë¦¬ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ ProfileController.java     # í”„ë¡œí•„ ê´€ë¦¬ API
â”‚   â”‚   â”œâ”€â”€ ProfileService.java        # í”„ë¡œí•„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ DomesticProfile.java       # êµ­ë‚´ ì‚¬ìš©ì í”„ë¡œí•„ ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ OverseasProfile.java       # í•´ì™¸ ì‚¬ìš©ì í”„ë¡œí•„ ì—”í‹°í‹°
â”‚   â”‚   â””â”€â”€ ProfileRepository.java     # í”„ë¡œí•„ ë°ì´í„° ì ‘ê·¼
â”‚   â”œâ”€â”€ facility/                      # ğŸ¥ ì‹œì„¤ ê´€ë¦¬ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ FacilityController.java    # ì‹œì„¤ ê´€ë¦¬ API
â”‚   â”‚   â”œâ”€â”€ FacilityService.java       # ì‹œì„¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ Facility.java              # ì‹œì„¤ ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ FacilityRepository.java    # ì‹œì„¤ ë°ì´í„° ì ‘ê·¼
â”‚   â”‚   â”œâ”€â”€ MapService.java            # ì§€ë„ ì„œë¹„ìŠ¤ (ì¹´ì¹´ì˜¤/êµ¬ê¸€)
â”‚   â”‚   â””â”€â”€ FacilitySearchDTO.java     # ì‹œì„¤ ê²€ìƒ‰ DTO
â”‚   â”œâ”€â”€ job/                           # ğŸ’¼ êµ¬ì¸êµ¬ì§ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ JobController.java         # êµ¬ì¸êµ¬ì§ API
â”‚   â”‚   â”œâ”€â”€ JobService.java            # êµ¬ì¸êµ¬ì§ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ JobPosting.java            # êµ¬ì¸ê³µê³  ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ JobApplication.java        # êµ¬ì§ì§€ì› ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ JobRepository.java         # êµ¬ì¸êµ¬ì§ ë°ì´í„° ì ‘ê·¼
â”‚   â”‚   â””â”€â”€ JobMatchingService.java    # ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
â”‚   â”œâ”€â”€ review/                        # â­ ë¦¬ë·° ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ ReviewController.java      # ë¦¬ë·° API
â”‚   â”‚   â”œâ”€â”€ ReviewService.java         # ë¦¬ë·° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ Review.java                # ë¦¬ë·° ì—”í‹°í‹°
â”‚   â”‚   â””â”€â”€ ReviewRepository.java      # ë¦¬ë·° ë°ì´í„° ì ‘ê·¼
â”‚   â”œâ”€â”€ overseas/                      # ğŸŒ ì¬ì™¸ë™í¬ ì „ìš© ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ OverseasController.java    # ì¬ì™¸ë™í¬ ì„œë¹„ìŠ¤ API
â”‚   â”‚   â”œâ”€â”€ DiplomaticService.java     # ì™¸êµë¶€ API ì—°ë™
â”‚   â”‚   â”œâ”€â”€ ConsultationService.java   # í™”ìƒ ìƒë‹´ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ DiplomaticApiClient.java   # ì™¸êµë¶€ API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ coordinator/                   # ğŸ¤ ì½”ë””ë„¤ì´í„° ì›ìŠ¤í†± ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ CoordinatorController.java # ì½”ë””ë„¤ì´í„° ë§¤ì¹­ API
â”‚   â”‚   â”œâ”€â”€ CoordinatorService.java    # ì›ìŠ¤í†± ì„œë¹„ìŠ¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ CoordinatorProfile.java    # ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ (ì „ë¬¸ë¶„ì•¼, ì–¸ì–´ëŠ¥ë ¥)
â”‚   â”‚   â”œâ”€â”€ ServiceRequest.java        # ì„œë¹„ìŠ¤ ìš”ì²­ ì—”í‹°í‹° (ì…êµ­~ì…ì£¼)
â”‚   â”‚   â”œâ”€â”€ ServicePlan.java           # ê°œì¸ë³„ ë§ì¶¤ ì„œë¹„ìŠ¤ ê³„íš
â”‚   â”‚   â”œâ”€â”€ ServiceProgress.java       # ì„œë¹„ìŠ¤ ì§„í–‰ ìƒí™© ì¶”ì 
â”‚   â”‚   â”œâ”€â”€ EmergencyContact.java      # ì‘ê¸‰ìƒí™© ì—°ë½ì²˜ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ ServicePayment.java        # ì„œë¹„ìŠ¤ ìš”ê¸ˆ ë° ì •ì‚°
â”‚   â”œâ”€â”€ notification/                  # ğŸ“§ ì•Œë¦¼ ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ EmailService.java          # ì´ë©”ì¼ ë°œì†¡ ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ NotificationService.java   # í†µí•© ì•Œë¦¼ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ NotificationTemplate.java  # ì•Œë¦¼ í…œí”Œë¦¿ ê´€ë¦¬
â”‚   â”œâ”€â”€ common/                        # ğŸ”§ ê³µí†µ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ config/                    # ì„¤ì • í´ë˜ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java    # Spring Security ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ DatabaseConfig.java    # SQLite ì„¤ì •
â”‚   â”‚   â”‚   â””â”€â”€ SwaggerConfig.java     # API ë¬¸ì„œ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ exception/                 # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚   â”‚   â”‚   â””â”€â”€ CustomException.java
â”‚   â”‚   â”œâ”€â”€ util/                      # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â”œâ”€â”€ FileUtil.java          # íŒŒì¼ ì²˜ë¦¬ ìœ í‹¸
â”‚   â”‚   â”‚   â””â”€â”€ DateUtil.java          # ë‚ ì§œ ì²˜ë¦¬ ìœ í‹¸
â”‚   â”‚   â””â”€â”€ entity/                    # ê³µí†µ ì—”í‹°í‹°
â”‚   â”‚       â””â”€â”€ BaseEntity.java        # ê¸°ë³¸ ì—”í‹°í‹° (ìƒì„±ì¼, ìˆ˜ì •ì¼)
â”‚   â””â”€â”€ GlobalCareLinkApplication.java # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ í´ë˜ìŠ¤
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml                # SQLite ê¸°ë°˜ ì„¤ì •
â”‚   â”œâ”€â”€ data.sql                       # ì´ˆê¸° ë°ì´í„°
â”‚   â””â”€â”€ static/                        # ì •ì  íŒŒì¼
â”œâ”€â”€ frontend/                          # ğŸ¨ React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/features/                  # í”„ë¡ íŠ¸ì—”ë“œë„ ê¸°ëŠ¥ë³„ êµ¬ì¡°
â”‚   â”‚   â”œâ”€â”€ auth/                      # ì¸ì¦ ê´€ë ¨ React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ facility/                  # ì‹œì„¤ ê´€ë ¨ React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ job/                       # êµ¬ì¸êµ¬ì§ ê´€ë ¨ React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ overseas/                  # ì¬ì™¸ë™í¬ ê´€ë ¨ React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â””â”€â”€ data/                              # SQLite ë°ì´í„°ë² ì´ìŠ¤
    â””â”€â”€ lightcare.db                   # SQLite íŒŒì¼
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

ê´€ê³„í˜• í…Œì´ë¸” ê¸°ë°˜ìœ¼ë¡œ ì™¸ë˜í‚¤(FK)ë¥¼ ì ì ˆíˆ ì‚¬ìš©:

* **member**: ì‚¬ìš©ì ê³„ì • ë° ì¸ì¦ ì •ë³´
* **facility**: ìš”ì–‘ì‹œì„¤ ì •ë³´ (ìœ„ì¹˜ ì¢Œí‘œ í¬í•¨)
* **job\_posting**: êµ¬ì¸ê³µê³  ì •ë³´
* **review**: ì‹œì„¤ ë¦¬ë·° ë° í‰ì 
* **board**: ì»¤ë®¤ë‹ˆí‹°/ì •ë³´ ê²Œì‹œíŒ

### JPA êµ¬ì„± (ìµœì‹ í™”)

* **ORM**: Spring Data JPA 3.x
* **ì—”í‹°í‹° íŒ¨í‚¤ì§€**: `com.example.carelink.entity`
* **Repository íŒ¨í‚¤ì§€**: `com.example.carelink.repository`
* **ìë™ DDL**: ê°œë°œ í™˜ê²½ì—ì„œ `spring.jpa.hibernate.ddl-auto=update`
* **ë„¤ì´ë° ì „ëµ**: camelCase â†’ underscore ìë™ ë§¤í•‘

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡° (React SPA)

### React í”„ë¡œì íŠ¸ êµ¬ì¡° (Feature-Based)
```
frontend/src/
â”œâ”€â”€ components/              # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                 # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ (Shadcn/ui)
â”‚   â””â”€â”€ layout/             # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ features/               # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ auth/               # ì¸ì¦ ê´€ë ¨
â”‚   â”œâ”€â”€ facility/           # ì‹œì„¤ ê´€ë ¨
â”‚   â”œâ”€â”€ job/                # êµ¬ì¸êµ¬ì§ ê´€ë ¨
â”‚   â””â”€â”€ diplomatic/         # ì™¸êµ ì„œë¹„ìŠ¤ ê´€ë ¨
â”œâ”€â”€ hooks/                  # ì»¤ìŠ¤í…€ í›…
â”œâ”€â”€ services/               # API ì„œë¹„ìŠ¤ (TanStack Query)
â”œâ”€â”€ stores/                 # ìƒíƒœ ê´€ë¦¬ (Zustand)
â”œâ”€â”€ types/                  # TypeScript íƒ€ì… ì •ì˜
â””â”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
```

### UI/UX ê¸°ìˆ  ìŠ¤íƒ & ë””ìì¸ ì»¨ì…‰
* **ë””ìì¸ ì‹œìŠ¤í…œ**: Tailwind CSS + Shadcn/ui
* **ì•„ì´ì½˜**: Lucide React  
* **ë°˜ì‘í˜•**: Mobile-First ë””ìì¸
* **ë‹¤êµ­ì–´**: i18next (í•œêµ­ì–´, ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´)
* **ë””ìì¸ ì»¨ì…‰**: 'elderberry' - ì•„ë©œë¦¬(ameli.co.kr) ìŠ¤íƒ€ì¼ ë¯¸ë‹ˆë©€ & ê°ì„±ì 
* **ìƒ‰ìƒ íŒ”ë ˆíŠ¸**: íŒŒìŠ¤í…”í†¤ ê·¸ë¦°/ë² ì´ì§€/ë¼ì´íŠ¸ë¸”ë£¨ + ë”°ëœ»í•œ ì˜¤ë Œì§€/ì˜ë¡œìš°
* **í°íŠ¸**: Noto Sans KR, Pretendard (ê°€ë…ì„± + ë”°ëœ»í•¨)
* **ì• ë‹ˆë©”ì´ì…˜**: Framer Motion (ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ + í˜¸ë²„ íš¨ê³¼)

---

## ğŸ§¾ ì£¼ìš” ì„¤ì • íŒŒì¼

### application.yml (SQLite ê¸°ë°˜ - ë¬´ë£Œ ì„¤ì •)

```yaml
spring:
  application:
    name: global-care-link
  
  # SQLite ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (ì™„ì „ ë¬´ë£Œ)
  datasource:
    url: jdbc:sqlite:./data/lightcare.db
    driver-class-name: org.sqlite.JDBC
    username: ""
    password: ""
  
  jpa:
    hibernate:
      ddl-auto: create-drop # ê°œë°œìš©, ìš´ì˜ì—ì„œëŠ” update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.SQLiteDialect
  
  # Gmail SMTP ì„¤ì • (ë¬´ë£Œ)
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${GMAIL_USERNAME}
    password: ${GMAIL_APP_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
  
  # ìºì‹œ ì„¤ì • (ë©”ëª¨ë¦¬ ìºì‹œ)
  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=1000,expireAfterWrite=30m
  
  security:
    jwt:
      secret: ${JWT_SECRET:default-secret-key-change-in-production}
      expiration: 86400000 # 24ì‹œê°„

server:
  port: 8080
  
logging:
  level:
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    com.globalcarelink: DEBUG
```

### í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì • (package.json)

```json
{
  "name": "global-care-link-frontend",
  "type": "module",
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.20.0",
    "zustand": "^4.4.6",
    "@tanstack/react-query": "^5.8.0",
    "axios": "^1.6.0",
    "react-hook-form": "^7.47.0",
    "zod": "^3.22.0",
    "tailwindcss": "^3.3.0",
    "lucide-react": "^0.292.0",
    "i18next": "^23.0.0",
    "react-i18next": "^13.0.0",
    "framer-motion": "^10.0.0",
    "@radix-ui/react-navigation-menu": "^1.1.0",
    "@radix-ui/react-dropdown-menu": "^2.0.0"
  }
}
```

---

## ğŸ”„ ê°œë°œ íŒ¨í„´

### ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ (ìµœì‹ í™”)

Spring Boot 3.x MVC êµ¬ì¡°:

* **REST API**: `@RestController` + `@RequestMapping` ì¡°í•©
* **View ì»¨íŠ¸ë¡¤ëŸ¬**: `@Controller` + Model ê°ì²´ í™œìš©
* **HTTP ë§¤í•‘**: `@GetMapping`, `@PostMapping`, `@PutMapping`, `@DeleteMapping`
* **ê²€ì¦**: `@Valid` + `@Validated` ì–´ë…¸í…Œì´ì…˜ í™œìš©
* **ë¡œê¹…**: `@Slf4j` + êµ¬ì¡°í™”ëœ ë¡œê·¸ ë©”ì‹œì§€

### ì„œë¹„ìŠ¤ ê³„ì¸µ

ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë¡œì§ ë¶„ë¦¬:

* íŠ¸ëœì­ì…˜ ì²˜ë¦¬
* ì…ë ¥ ê²€ì¦
* íš¡ë‹¨ ê´€ì‹¬ì‚¬ ê´€ë¦¬

### JPA Repository íŒ¨í„´ (ìµœì‹ í™”)

Spring Data JPA ê¸°ë°˜:

* `JpaRepository<Entity, ID>` ìƒì†
* ë©”ì„œë“œ ì´ë¦„ ê¸°ë°˜ ì¿¼ë¦¬ ìë™ ìƒì„±
* `@Query` ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë³µì¡í•œ ì¿¼ë¦¬ ì²˜ë¦¬
* `@Modifying`ìœ¼ë¡œ ìˆ˜ì •/ì‚­ì œ ì¿¼ë¦¬ ì •ì˜

---

## âœ… í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

* ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: JUnit 5
* í†µí•© í…ŒìŠ¤íŠ¸: Spring Boot Test
* í…ŒìŠ¤íŠ¸ ì„¤ì •ì€ ìš´ì˜ê³¼ ë³„ë„ êµ¬ì„±

### í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
./gradlew test --tests "ClassName"
```

---

## ğŸ¤ íŒ€ í˜‘ì—… ê·œì¹™

### Git ì›Œí¬í”Œë¡œìš°

* ê¸°ëŠ¥ ë¸Œëœì¹˜ ëª…: `feature/member-ê¸°ëŠ¥ëª…`
* ì»¤ë°‹ ë©”ì‹œì§€: `[feat] ê¸°ëŠ¥ ì„¤ëª…`
* PRì„ í†µí•œ ì½”ë“œ ë¦¬ë·° ì§„í–‰

### ì½”ë“œ ì»¨ë²¤ì…˜

* í´ë˜ìŠ¤ëª…: PascalCase
* ë©”ì„œë“œëª…: camelCase
* ìƒìˆ˜ëª…: UPPER\_SNAKE\_CASE
* íŒ¨í‚¤ì§€ëª…: ëª¨ë‘ ì†Œë¬¸ì

---

## âš ï¸ íŠ¹ì´ ì‚¬í•­

### í•œê¸€ ì§€ì›

* ëª¨ë“  í…ìŠ¤íŠ¸ ì½˜í…ì¸ ëŠ” í•œê¸€ë¡œ ì‘ì„±
* UTF-8 ì¸ì½”ë”© ìœ ì§€
* ì£¼ì„/ë¬¸ì„œë„ í•œê¸€ ê¸°ë°˜

### ì§€ë„ ì—°ë™

* ì¹´ì¹´ì˜¤ë§µ API ì—°ë™ ì˜ˆì •
* ìœ„ë„/ê²½ë„ ê¸°ë°˜ ì‹œì„¤ ê²€ìƒ‰ ê¸°ëŠ¥ í¬í•¨

### ì‚¬ìš©ì ì—­í• 

* `USER`: ì¼ë°˜ êµ¬ì§ì
* `FACILITY`: ìš”ì–‘ì‹œì„¤ ê´€ë¦¬ì
* `ADMIN`: ì‹œìŠ¤í…œ ê´€ë¦¬ì

---

## ğŸ¤– AI ê°œë°œ ì§€ì› ìµœì í™”

### ê°œë°œ ì „ëµ (ê·¸ë¦°í•„ë“œ ê°œë°œ)

í”„ë¡œì íŠ¸ ìƒí™© ë¶„ì„ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì€ ì „ëµì„ ì±„íƒí•©ë‹ˆë‹¤:

#### **í˜„ì¬ ë¬¸ì œì **:
- JDK 11â†’21 ë° Spring Boot 2.xâ†’3.3.5 ì—…ê·¸ë ˆì´ë“œ ê³¼ì •ì—ì„œ 24ê°œ ì—ëŸ¬, 5ê°œ ê²½ê³  ë°œìƒ
- Spring Security API ë³€ê²½, Lombok í˜¸í™˜ì„±, íƒ€ì… ì¶”ë¡  ë¬¸ì œ ë“± ë³µì¡í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ìŠˆ
- íŒ€ ê°œë°œ ëŠ¥ë ¥: AIì— 100% ì˜ì¡´í•˜ëŠ” ì£¼ë‹ˆì–´ ë ˆë²¨

#### **í•´ê²° ë°©ì•ˆ**:
* **ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ì ‘ê·¼**: ê¸°ì¡´ ë ˆê±°ì‹œ ì½”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ëŒ€ì‹  ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ ê¸°ë°˜ ìƒˆë¡œìš´ ê°œë°œ
* **ìµœì‹  Spring Boot 3.x íŒ¨í„´ í™œìš©**: Spring Security 6.x, Spring Data JPA 3.x ë“± ìµœì‹  API ì‚¬ìš©
* **AI ì¹œí™”ì  ì½”ë“œ ì‘ì„±**: ëª…í™•í•œ íŒ¨í„´, í‘œì¤€ ì–´ë…¸í…Œì´ì…˜, ì¼ê´€ëœ ë„¤ì´ë° ê·œì¹™
* **ê¸°ì¡´ ì½”ë“œ ì¬í™œìš©**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ê°œë…ì  ì°¸ê³  + AI í¬íŒ…ìœ¼ë¡œ ìµœì‹  ë¬¸ë²• ì ìš©

### AIì—ê²Œ ìš”ì²­í•  ë•Œ ê¶Œì¥ ì‚¬í•­

**âœ… ì¢‹ì€ ì§ˆë¬¸ ì˜ˆì‹œ (ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ ê¸°ë°˜):**
```
- "Java 21 + Spring Boot 3.3.5ì—ì„œ JWT ì¸ì¦ êµ¬í˜„ ë°©ë²•"
- "Spring Security 6.x SecurityFilterChainìœ¼ë¡œ ì‚¬ìš©ì ë¡œê·¸ì¸ êµ¬í˜„"  
- "JPA Entityì™€ Repository íŒ¨í„´ìœ¼ë¡œ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„ (Hibernate 6.x)"
- "React 18 + TypeScriptë¡œ ë¡œê·¸ì¸ í¼ êµ¬í˜„ (React Hook Form + Zod)"
- "SQLite + Spring Data JPA ì„¤ì • ë°©ë²•"
- "Gradle 8.x Kotlin DSLë¡œ ë©€í‹°ëª¨ë“ˆ í”„ë¡œì íŠ¸ ì„¤ì •"
```

**âŒ í”¼í•´ì•¼ í•  ìš”ì²­ (ë ˆê±°ì‹œ ê¸°ìˆ ):**
```
- ë ˆê±°ì‹œ Spring Boot 2.x ê¸°ë°˜ ì½”ë“œ ìˆ˜ì • ìš”ì²­
- MyBatis XML ë§¤í¼ íŒŒì¼ ìˆ˜ì • ìš”ì²­  
- JDK 11 ê¸°ë°˜ ì½”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìš”ì²­
- Spring Security WebSecurityConfigurerAdapter ì‚¬ìš© ìš”ì²­ (Deprecated)
```

### ê°œë°œ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

* **ê¸°ìˆ  ìŠ¤íƒ í™•ì¸**: ëª¨ë“  ìƒˆ ì½”ë“œëŠ” JDK 21 + Spring Boot 3.3.5 ê¸°ë°˜
* **ì˜ì¡´ì„± ê²€ì¦**: `build.gradle`ì—ì„œ ìµœì‹  ë²„ì „ ì‚¬ìš© í™•ì¸
* **ë³´ì•ˆ ì„¤ì •**: Spring Security 6.x ë°©ì‹ìœ¼ë¡œ êµ¬í˜„
* **í…ŒìŠ¤íŠ¸ ì½”ë“œ**: JUnit 5 + Spring Boot Test í™œìš©

---

## ğŸŒ í™˜ê²½ ë³€ìˆ˜ (ë¬´ë£Œ ì„œë¹„ìŠ¤ ê¸°ë°˜)

### ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ (.env)
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (SQLite - íŒŒì¼ ê¸°ë°˜, ë¹„ë°€ë²ˆí˜¸ ë¶ˆí•„ìš”)
DATABASE_URL=jdbc:sqlite:./data/lightcare.db

# JWT ë³´ì•ˆ
JWT_SECRET=your_super_secret_jwt_key_with_256_bits_minimum
JWT_EXPIRATION=86400000

# Gmail SMTP ì„¤ì • (ë¬´ë£Œ)
GMAIL_USERNAME=your-email@gmail.com
GMAIL_APP_PASSWORD=your_gmail_app_password

# ì™¸ë¶€ API (ë¬´ë£Œ í”Œëœ)
KAKAO_API_KEY=your_kakao_map_api_key # ì›” 30ë§Œê±´ ë¬´ë£Œ
GITHUB_TOKEN=your_github_token # íŒŒì¼ ì €ì¥ìš©

# ê°œë°œ í™˜ê²½
JAVA_HOME=/path/to/jdk-21
SPRING_PROFILES_ACTIVE=dev
```

### í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ (.env.local)
```bash
# API ì—”ë“œí¬ì¸íŠ¸
VITE_API_BASE_URL=http://localhost:8080/api
VITE_WS_URL=ws://localhost:8080/ws

# ë¬´ë£Œ ì§€ë„ ì„œë¹„ìŠ¤
VITE_KAKAO_API_KEY=your_kakao_api_key # ì›” 30ë§Œê±´ ë¬´ë£Œ
VITE_USE_FREE_MAP=true # OpenStreetMap ì‚¬ìš© í”Œë˜ê·¸

# GitHub íŒŒì¼ ì €ì¥ì†Œ
VITE_GITHUB_REPO_OWNER=your-username
VITE_GITHUB_REPO_NAME=lightcare-files

# ê°œë°œ ì„¤ì •
VITE_DEV_MODE=true
VITE_LOG_LEVEL=debug
```

## ğŸš€ AI ì£¼ë„ 2ì£¼ ì™„ì„± ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ê°œë°œì 1ì¸ + AI í˜‘ì—… ëª¨ë¸ (í˜„ì‹¤ì  ì ‘ê·¼)

* **ê°œë°œ ì£¼ì²´**: 1ì¸ ê°œë°œì (100% AI ì˜ì¡´) + Claude AI
* **ì˜ì‚¬ê²°ì •**: ê°œë°œìê°€ ìš”êµ¬ì‚¬í•­ ì •ì˜, AIê°€ ì „ì²´ êµ¬í˜„ ë‹´ë‹¹ (ì„¤ê³„â†’ì½”ë”©â†’í…ŒìŠ¤íŠ¸)  
* **í’ˆì§ˆ ê´€ë¦¬**: AIê°€ ì½”ë“œ ë¦¬ë·°, í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±, ë¦¬íŒ©í† ë§, ë¬¸ì„œí™” ëª¨ë‘ ë‹´ë‹¹

### 2ì£¼ ê°œë°œ ë¡œë“œë§µ (AI-Driven Development)

#### **1ì£¼ì°¨: ë°±ì—”ë“œ í˜„ëŒ€í™” ë° API í•µì‹¬ êµ¬í˜„**

**Day 1-2: ë°±ì—”ë“œ ê¸°ë°˜ ì‹œìŠ¤í…œ êµ¬ì¶• (AI-Powered Scaffolding)**
- âœ… Spring Boot 3.3.5, Java 21, Gradle ê¸°ë°˜ í”„ë¡œì íŠ¸ ë¼ˆëŒ€ ìƒì„±
- âœ… ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë¶„ì„í•˜ì—¬ JPA Entity í´ë˜ìŠ¤ ìë™ ìƒì„±
- âœ… QueryDSL ì„¤ì • ë° ê¸°ë³¸ Q-Type í´ë˜ìŠ¤ ìƒì„±
- âœ… Spring WebFlux, Spring Data JPA, Spring Security ì˜ì¡´ì„± ì¶”ê°€

**Day 3-4: í•µì‹¬ API êµ¬í˜„ (AI Code Generation)**
- âœ… ê¸°ì¡´ Controller/Service ë¶„ì„í•˜ì—¬ íšŒì›, ì‹œì„¤, êµ¬ì¸êµ¬ì§, ë¦¬ë·° ë„ë©”ì¸ í•µì‹¬ CRUD API ì¬êµ¬í˜„
- âœ… Spring MVC ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë¡œì§ ìƒì„±
- âœ… OpenAPI 3.0 ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ API ë¬¸ì„œ ìë™í™”

**Day 5: ë³´ì•ˆ ë° ê¸°ë³¸ ì„¤ì • (AI Configuration)**  
- âœ… Spring Security 6.x JWT ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œ êµ¬ì¶•
- âœ… @RestControllerAdvice ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ê¸° êµ¬í˜„
- âœ… ë¡œê¹… ì„¤ì • ë° ê°œë°œ í™˜ê²½ ìµœì í™”

#### **2ì£¼ì°¨: í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¶• ë° ë°°í¬ ìë™í™”**

**Day 6-7: í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œì íŠ¸ ìƒì„± (AI-Powered Frontend Setup)**
- âœ… Vite React 18, TypeScript í”„ë¡œì íŠ¸ ë¼ˆëŒ€ ìƒì„±
- âœ… 'elderberry' ë””ìì¸ ì‹œìŠ¤í…œ ê¸°ë°˜ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- âœ… Zustand, React Query, Tailwind CSS, Axios ì„¤ì •

**Day 8-10: UI êµ¬í˜„ ë° API ì—°ë™ (AI Component Generation & Integration)**
- âœ… ê¸°ëŠ¥ë³„ React ì»´í¬ë„ŒíŠ¸(Button, Header, FacilityCard) ê¸°ë³¸ ì½”ë“œ ìƒì„±
- âœ… API ì—°ë™ í•¨ìˆ˜(authApi, facilityApi) êµ¬í˜„
- âœ… React Queryì™€ Axiosë¡œ ë°±ì—”ë“œ ì—°ë™ ë° í™”ë©´ í‘œì‹œ

**Day 11-12: CI/CD ë° í…ŒìŠ¤íŠ¸ ìë™í™” (AI DevOps)**
- âœ… GitHub Actions ì›Œí¬í”Œë¡œìš° ìƒì„± (Build â†’ Test â†’ Deploy)
- âœ… Dockerfile ë° docker-compose.yml ìƒì„±
- âœ… JUnit5, Mockito ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±

**Day 13-14: ìµœì¢… í†µí•© ë° ë°°í¬ (Finalization)**
- âœ… Railway/Render ë“± ë¬´ë£Œ ë°°í¬ ì„œë¹„ìŠ¤ ì„¤ì •
- âœ… README.md í”„ë¡œì íŠ¸ ë¬¸ì„œ ìë™ ì—…ë°ì´íŠ¸
- âœ… ìµœì¢… í†µí•© í…ŒìŠ¤íŠ¸ ë° í”„ë¡œë•ì…˜ ë°°í¬

### AI í™œìš© ë‹¨ê³„ë³„ ê°€ì´ë“œ (ì‹¤ë¬´ ì¤‘ì‹¬)

**1ë‹¨ê³„: ìƒí™© ë¶„ì„ ë° ì „ëµ ìˆ˜ë¦½**
```
- "JDK 11â†’21 ë§ˆì´ê·¸ë ˆì´ì…˜ ëŒ€ì‹  ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±í•˜ëŠ” ê²Œ ë§ë‚˜ìš”?"
- "Spring Boot 2.x ì½”ë“œë¥¼ 3.3.5ë¡œ í¬íŒ…í•˜ëŠ” ë°©ë²•"
- "ë©€í‹°ëª¨ë“ˆ vs ë‹¨ì¼ ëª¨ë“ˆ ì¤‘ 1ì¸ ê°œë°œì— ì í•©í•œ êµ¬ì¡°"
- "SQLite vs PostgreSQL ì¤‘ ìë³¸ê¸ˆ 0ì›ì— ì í•©í•œ DB"
```

**2ë‹¨ê³„: í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„**
```
- "ê¸°ëŠ¥ë³„ íŒ¨í‚¤ì§€ êµ¬ì¡°ë¡œ auth/profile/facility/job ëª¨ë“ˆ ì„¤ê³„"
- "Spring Boot 3.3.5 ê¸°ë°˜ Gradle Kotlin DSL ì„¤ì • íŒŒì¼ ì‘ì„±"
- "SQLite + JPA Entity ì„¤ê³„ (ê¸°ì¡´ schema.sql ê¸°ë°˜)"
- "React + TypeScript + Vite í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡° ì„¤ê³„"
```

**3ë‹¨ê³„: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„**
```
- "Spring Security 6.x JWT ì¸ì¦ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„"
- "Member Entity + Repository + Service + Controller ì „ì²´ êµ¬í˜„"
- "React ë¡œê·¸ì¸/íšŒì›ê°€ì… í¼ + API ì—°ë™ ì™„ì „ êµ¬í˜„"
- "Swagger UI API ë¬¸ì„œí™” ìë™ ì„¤ì •"
```

**4ë‹¨ê³„: í†µí•© ë° ë°°í¬**
```
- "JUnit5 í…ŒìŠ¤íŠ¸ ì½”ë“œ ìë™ ìƒì„±"
- "GitHub Actions CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±"
- "Railway ë¬´ë£Œ ë°°í¬ë¥¼ ìœ„í•œ Dockerfile ì‘ì„±"
- "ìµœì¢… í”„ë¡œì íŠ¸ README.md ì‘ì„±"
```

### íš¨ìœ¨ì ì¸ AI ì§ˆë¬¸ íŒ¨í„´

**êµ¬ì²´ì  ìš”ì²­ ì˜ˆì‹œ:**
- "Member ì—”í‹°í‹° í´ë˜ìŠ¤ë¥¼ JPAë¡œ êµ¬í˜„, ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸/ì—­í•  í•„ë“œ í¬í•¨"
- "MemberServiceì— íšŒì›ê°€ì… ë¡œì§ êµ¬í˜„, BCrypt ì•”í˜¸í™” ì ìš©"  
- "Spring Security 6.xë¡œ JWT ê¸°ë°˜ ì¸ì¦ ì„¤ì • êµ¬í˜„"
- "MemberController REST API êµ¬í˜„, OpenAPI 3.0 ë¬¸ì„œí™” í¬í•¨"
- "ë©€í‹°ëª¨ë“ˆ êµ¬ì¡°ë¡œ member-moduleê³¼ api-module ë¶„ë¦¬"
- "Gradle build.gradle.kts íŒŒì¼ ë©€í‹°ëª¨ë“ˆ ì„¤ì • êµ¬í˜„"

---

## ğŸ—ï¸ ì´ˆê¸° ê°œë°œë¶€í„° í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

### ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ê´€ë¦¬

**ì˜ì¡´ì„± ë°©í–¥ (Clean Architecture):**
```
api-module â†’ [member, facility, job, review, diplomatic]-module â†’ core-module
```

**ê¸ˆì§€ëœ ì˜ì¡´ì„±:**
- ë„ë©”ì¸ ëª¨ë“ˆ ê°„ ì§ì ‘ ì˜ì¡´ (âŒ)
- core-moduleì˜ ë‹¤ë¥¸ ëª¨ë“ˆ ì˜ì¡´ (âŒ)

### í™•ì¥ ê°€ëŠ¥í•œ ì„¤ê³„ ì›ì¹™

#### 1. ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ (DDD)
```java
// member-module/src/main/java/com/globalcarelink/member/
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ Member.java              # ë„ë©”ì¸ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ MemberService.java       # ë„ë©”ì¸ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ MemberRepository.java    # ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ application/
â”‚   â””â”€â”€ MemberApplicationService.java  # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤
â””â”€â”€ infrastructure/
    â””â”€â”€ MemberJpaRepository.java       # JPA êµ¬í˜„ì²´
```

#### 2. ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜
```java
// íšŒì› ê°€ì… ì‹œ ì´ë²¤íŠ¸ ë°œí–‰
@Service
public class MemberService {
    public void register(Member member) {
        memberRepository.save(member);
        // ì´ë²¤íŠ¸ ë°œí–‰ (ì´ë©”ì¼ ë°œì†¡, ë¡œê·¸ ê¸°ë¡ ë“±)
        applicationEventPublisher.publishEvent(new MemberRegisteredEvent(member));
    }
}
```

#### 3. API ê³„ì•½ ìš°ì„  ê°œë°œ (Contract-First)
```yaml
# OpenAPI ìŠ¤í™ ë¨¼ì € ì •ì˜
openapi: 3.0.3
info:
  title: Global CareLink API
  version: 1.0.0
paths:
  /api/v1/members:
    post:
      summary: íšŒì› ê°€ì…
      operationId: registerMember
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MemberRegisterRequest'
```

### ì„±ëŠ¥ ë° í™•ì¥ì„± ì¤€ë¹„

#### 1. ìºì‹± ì „ëµ
```java
@Service
public class FacilityService {
    
    @Cacheable(value = "facilities", key = "#id")
    public Facility findById(Long id) {
        return facilityRepository.findById(id).orElse(null);
    }
    
    @CacheEvict(value = "facilities", key = "#facility.id")
    public Facility update(Facility facility) {
        return facilityRepository.save(facility);
    }
}
```

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
```java
// JPA N+1 ë¬¸ì œ ë°©ì§€
@EntityGraph(attributePaths = {"reviews", "images"})
List<Facility> findAllWithReviewsAndImages();

// í˜ì´ì§• ì²˜ë¦¬
Pageable pageable = PageRequest.of(0, 10, Sort.by("createdAt").descending());
Page<Facility> facilities = facilityRepository.findAll(pageable);
```

### ê°œë°œ í™˜ê²½ ìš°ì„  ì§‘ì¤‘

#### 1. ë¡œì»¬ ê°œë°œ ì„¤ì • ìµœì í™”
```yaml
# application-dev.yml (ê°œë°œ ì „ìš©)
spring:
  jpa:
    hibernate:
      ddl-auto: create-drop # ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±/ì‚­ì œ
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  
  h2:
    console:
      enabled: true # H2 ì½˜ì†” í™œì„±í™” (ê°œë°œìš©)
  
  devtools:
    restart:
      enabled: true # ì½”ë“œ ë³€ê²½ ì‹œ ìë™ ì¬ì‹œì‘
    livereload:
      enabled: true # ë¸Œë¼ìš°ì € ìë™ ìƒˆë¡œê³ ì¹¨

# ê°œë°œ í¸ì˜ì„± ì„¤ì •
logging:
  level:
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    com.globalcarelink: DEBUG
```

#### 2. ê°œë°œ ë„êµ¬ í™œìš©
```bash
# ê°œë°œ ì¤‘ ìì£¼ ì‚¬ìš©í•  ëª…ë ¹ì–´
./gradlew bootRun --args='--spring.profiles.active=dev'
./gradlew test --continuous # í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
./gradlew :api-module:generateOpenApiDocs # API ë¬¸ì„œ ìƒì„±
```

**Docker/ë°°í¬ëŠ” ëª¨ë“  ê¸°ëŠ¥ ì™„ì„± í›„ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ì§„í–‰ (ìë³¸ê¸ˆ 0ì› ê³ ë ¤)**

---

## ğŸŒ ê¸€ë¡œë²Œ í™•ì¥ ê³„íš

### ì¬ì™¸ë™í¬ ì„œë¹„ìŠ¤ ê°œìš”

* **ì„œë¹„ìŠ¤ ëŒ€ìƒ**: í•´ì™¸ ê±°ì£¼ ì¬ì™¸ë™í¬ ë° ê·¸ ê°€ì¡±
* **ì£¼ìš” ê¸°ëŠ¥**: í•œêµ­ ìš”ì–‘ì› ì •ë³´ ì œê³µ, í™”ìƒ ìƒë‹´, ë‹¤êµ­ì–´ ì§€ì›
* **íƒ€ê²Ÿ êµ­ê°€**: ë¯¸êµ­, ì¤‘êµ­, ì¼ë³¸, ìºë‚˜ë‹¤, í˜¸ì£¼ ë“±
* **ì—°ë™ API**: ì™¸êµë¶€ ì¬ì™¸êµ­ë¯¼ì˜ì‚¬ì„œë¹„ìŠ¤, ê³µê³µë°ì´í„°í¬í„¸

### ì™¸êµë¶€ API ì—°ë™

**ì—°ë™ ì˜ˆì • API ëª©ë¡:**
```
1. ì¬ì™¸êµ­ë¯¼ í˜„í™© API
2. ì˜ì‚¬ê´€/ì´ì˜ì‚¬ê´€ ì •ë³´ API  
3. ì¬ì™¸ë™í¬ ì§€ì› ì •ì±… API
4. êµ­ê°€ë³„ ì˜ë£Œ ì •ë³´ API
```

**ê°œë°œ ì‹œ ê³ ë ¤ì‚¬í•­:**
- ê³µê³µë°ì´í„°í¬í„¸ ì¸ì¦í‚¤ ê´€ë¦¬
- API í˜¸ì¶œ ì œí•œ ë° ìºì‹± ì „ëµ
- ë‹¤êµ­ì–´ ë°ì´í„° ì²˜ë¦¬ ë° ë³€í™˜
- ì‹œê°„ëŒ€ë³„ ë°ì´í„° ë™ê¸°í™”

### ë‹¤êµ­ì–´ ì§€ì› ì‹œìŠ¤í…œ

* **ì§€ì› ì–¸ì–´**: í•œêµ­ì–´, ì˜ì–´, ì¤‘êµ­ì–´(ê°„ì²´), ì¼ë³¸ì–´
* **êµ­ì œí™” êµ¬í˜„**: Spring Boot MessageSource + i18n
* **í”„ë¡ íŠ¸ì—”ë“œ**: Thymeleaf ë‹¤êµ­ì–´ í…œí”Œë¦¿
* **ì‹¤ì‹œê°„ ë²ˆì—­**: Google Translate API ì—°ë™ ì˜ˆì •

### í™”ìƒ ìƒë‹´ ì‹œìŠ¤í…œ

* **ê¸°ìˆ  ìŠ¤íƒ**: WebRTC, STOMP, WebSocket
* **ê¸°ëŠ¥**: 1:1 í™”ìƒ ìƒë‹´, í™”ë©´ ê³µìœ , ì±„íŒ…
* **ëŒ€ìƒ**: ì¬ì™¸ë™í¬-êµ­ë‚´ ìš”ì–‘ì› ìƒë‹´ì ë§¤ì¹­
* **ë³´ì•ˆ**: HTTPS, JWT í† í° ì¸ì¦

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ë©”ë‰´ êµ¬ì„± & ì‚¬ìš©ì ê²½í—˜

### 'elderberry' ì‚¬ì´íŠ¸ êµ¬ì¡°

**ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜ (ë“œë¡­ë‹¤ìš´ ë°©ì‹)**:

#### 1. ìš”ì–‘ ì‹œì„¤ ì°¾ê¸°
- **ì‹œì„¤ ê²€ìƒ‰** (ì „ì²´): ì „êµ­ ìš”ì–‘ ì‹œì„¤ ê²€ìƒ‰ ë° ìƒì„¸ ì •ë³´
- **ì‹œì„¤ ë¦¬ë·°** (ì¼ë°˜ íšŒì›): ì‹œì„¤ ì´ìš© í›„ê¸° ì‘ì„± ë° ì—´ëŒ
- **ìš°ë¦¬ ì‹œì„¤ ê´€ë¦¬** (ì‹œì„¤ íšŒì›): ì‹œì„¤ ì •ë³´ ê´€ë¦¬, ê³µì§€ì‚¬í•­, ì˜ˆì•½ í˜„í™©

#### 2. ì¼ìë¦¬ ì •ë³´  
- **êµ¬ì¸ ê³µê³ ** (ì „ì²´): ìš”ì–‘ ê´€ë ¨ êµ¬ì¸ ê²Œì‹œê¸€ ì—´ëŒ ë° ì§€ì›
- **êµ¬ì§ ê³µê³ ** (ì „ì²´): ìš”ì–‘ ê´€ë ¨ êµ¬ì§ ê²Œì‹œê¸€ ì—´ëŒ
- **êµ¬ì¸ê¸€ ì‘ì„±** (ì‹œì„¤ íšŒì›): ìš”ì–‘ ì¸ë ¥ ì±„ìš© ê³µê³  ë“±ë¡
- **êµ¬ì§ê¸€ ì‘ì„±** (ì¼ë°˜ íšŒì›): ìš”ì–‘ ê´€ë ¨ ì¼ìë¦¬ í¬ë§ ê¸€ ë“±ë¡

#### 3. ì •ë³´ ë§ˆë‹¹
- ê³µì§€ì‚¬í•­, ì´ë²¤íŠ¸, FAQ
- ìë£Œì‹¤ (ìš”ì–‘ ê°€ì´ë“œ, ì„œì‹)
- ìš”ì–‘ ë‰´ìŠ¤ & ì¹¼ëŸ¼

#### 4. ì½”ë””ë„¤ì´í„° ì„œë¹„ìŠ¤
- **ì½”ë””ë„¤ì´í„° ì†Œê°œ** (ì „ì²´): í”„ë¡œí•„ ë° ì „ë¬¸ ë¶„ì•¼ í™•ì¸
- **ìƒë‹´ ì‹ ì²­** (íšŒì›): 1:1 ìƒë‹´ ì˜ˆì•½
- **ë‚˜ì˜ ë§¤ì¹­ í˜„í™©** (íšŒì›): ë§¤ì¹­ ì§„í–‰ ìƒí™© í™•ì¸
- **ê³„ì•½ ê´€ë¦¬** (íšŒì›): ì„œë¹„ìŠ¤ ê³„ì•½ ë‚´ì—­ í™•ì¸

### ë©”ì¸ í™”ë©´ êµ¬ì„±

**Hero Section**:
- **ë°°ê²½**: ìš”ì–‘ì›/ë…¸ì¸ ëŒë´„ ê´€ë ¨ ë”°ëœ»í•˜ê³  í‰í™”ë¡œìš´ í’€ìŠ¤í¬ë¦° ì´ë¯¸ì§€
- **ì¤‘ì•™ ì½˜í…ì¸ **: "ì±—ë´‡ ì—˜ë¹„ì™€ í•¨ê»˜ ê¶ê¸ˆì¦ì„ í•´ê²°í•˜ì„¸ìš”!"
- **CTA ë²„íŠ¼**: "ì—˜ë¹„ì—ê²Œ ì§ˆë¬¸í•˜ê¸°" / "ì±—ë´‡ ì—˜ë¹„ ì‹œì‘í•˜ê¸°"

**ìŠ¤í¬ë¡¤ ì„¹ì…˜** (ê° ì„¹ì…˜ë³„ ë°°ê²½ ì´ë¯¸ì§€ + CTA):
1. **ìš”ì–‘ ì‹œì„¤ ì°¾ê¸°**: "ë‚˜ì—ê²Œ ë§ëŠ” ìš”ì–‘ ì‹œì„¤ì„ ì°¾ì•„ë³´ì„¸ìš”"
2. **ì¼ìë¦¬ ì •ë³´**: "ìš”ì–‘ ë¶„ì•¼ì˜ ìƒˆë¡œìš´ ê¸°íšŒë¥¼ íƒìƒ‰í•˜ì„¸ìš”"  
3. **ì •ë³´ ë§ˆë‹¹**: "ìš”ì–‘ ê´€ë ¨ ìµœì‹  ì •ë³´ì™€ ìœ ìš©í•œ ì§€ì‹ì„ ì–»ìœ¼ì„¸ìš”"
4. **ì½”ë””ë„¤ì´í„° ì„œë¹„ìŠ¤**: "ì „ë¬¸ ì½”ë””ë„¤ì´í„°ì™€ 1:1 ë§ì¶¤ ìƒë‹´ì„ ì‹œì‘í•˜ì„¸ìš”"

### ì±—ë´‡ 'ì—˜ë¹„' ì—°ë™ (ì™¸ë¶€ ê°œë°œ)

* **ê°œë°œ ë‹´ë‹¹**: ë³„ë„ íŒ€ì› (Python + React)
* **ì—°ë™ ë°©ì‹**: REST API + WebSocket í†µì‹ 
* **ìœ„ì¹˜**: ìš°ì¸¡ í•˜ë‹¨ í”Œë¡œíŒ… ë²„íŠ¼ (ìŠ¤í¬ë¡¤ ì‹œì—ë„ ê³ ì •)
* **ë””ìì¸**: ì¹œê·¼í•œ ì±—ë´‡ ìºë¦­í„° ì•„ì´ì½˜
* **ê¸°ëŠ¥**: íŒì—…/ì˜¤ë²„ë ˆì´ í˜•íƒœë¡œ ì‹¤ì‹œê°„ ì±—ë´‡ ìƒë‹´

### ì‚¬ìš©ì ê¶Œí•œ ì‹œìŠ¤í…œ (êµ­ë‚´/í•´ì™¸ êµ¬ë¶„)

#### ì—­í•  êµ¬ë¶„ (5ê°€ì§€)
* **ê´€ë¦¬ì** (ADMIN): ì „ì²´ ì‹œìŠ¤í…œ ê´€ë¦¬ (êµ­ê°€ ë¬´ê´€)
* **ì‹œì„¤íšŒì›** (FACILITY): êµ­ë‚´ ì‹œì„¤ ê´€ë¦¬ì (êµ­ë‚´ë§Œ)
* **ì½”ë””ë„¤ì´í„°** (COORDINATOR): ê¸€ë¡œë²Œ ìƒë‹´ì‚¬ (ë‹¤êµ­ì–´ ì§€ì›)
* **êµ­ë‚´ ì‚¬ìš©ì** (DOMESTIC_USER): ì¼ë°˜ + êµ¬ì§ì í†µí•© (is_job_seeker í”Œë˜ê·¸)
* **í•´ì™¸ ì‚¬ìš©ì** (OVERSEAS_USER): ì¬ì™¸ë™í¬ ì¼ë°˜ + êµ¬ì§ì í†µí•© (is_job_seeker í”Œë˜ê·¸)

#### ê¶Œí•œë³„ ê¸°ëŠ¥ ì ‘ê·¼
* **ë¹„íšŒì›**: ì‹œì„¤ ê²€ìƒ‰, êµ¬ì¸êµ¬ì§ ì—´ëŒ, ì •ë³´ ë§ˆë‹¹, ì½”ë””ë„¤ì´í„° ì†Œê°œ
* **êµ­ë‚´ ì¼ë°˜ì‚¬ìš©ì**: + ë¦¬ë·° ì‘ì„±, ì‹œì„¤ ì¦ê²¨ì°¾ê¸°
* **êµ­ë‚´ êµ¬ì§ì**: + êµ¬ì§ ì§€ì›, ì´ë ¥ì„œ ì—…ë¡œë“œ, ë§¤ì¹­ ê´€ë¦¬
* **í•´ì™¸ ì¼ë°˜ì‚¬ìš©ì**: + ì¬ì™¸ë™í¬ ì„œë¹„ìŠ¤, ì™¸êµë¶€ ì •ë³´
* **í•´ì™¸ êµ¬ì§ì**: + í™”ìƒ ìƒë‹´, êµ­ì œ ë§¤ì¹­, ê·€êµ­ ê³„íš ê´€ë¦¬
* **ì‹œì„¤ íšŒì›**: + ì‹œì„¤ ì •ë³´ ê´€ë¦¬, êµ¬ì¸ê³µê³  ì‘ì„±
* **ì½”ë””ë„¤ì´í„°**: + ìƒë‹´ ê´€ë¦¬, ë‹¤êµ­ì–´ ì„œë¹„ìŠ¤ ì œê³µ
* **ê´€ë¦¬ì**: ì „ì²´ ì‹œìŠ¤í…œ ê´€ë¦¬

---

## ğŸ¥ ìš”ì–‘ì› ì…ì£¼ì ê±´ê°• ìƒíƒœ ë“±ê¸‰ ê´€ë¦¬ ì‹œìŠ¤í…œ

### ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ (KBë¼ì´í”„ìƒëª… ì°¸ì¡°)

#### **ê±´ê°• ìƒíƒœ í‰ê°€ í•­ëª© (4ê°œ í•µì‹¬ ì˜ì—­)**

**1. ê±·ê¸° í™œë™ ëŠ¥ë ¥ (care_mobility)**
```yaml
ë“±ê¸‰ 1 (ë…ë¦½): í˜¼ìì„œ ê°€ëŠ¥í•´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ë„ì›€): ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš” (íƒ€ì¸ì˜ ë¶€ì¶•, ì§€íŒ¡ì´ ì´ìš© ë“±)
ë“±ê¸‰ 3 (ì™„ì „ë„ì›€): í˜¼ìì„œëŠ” ë³´í–‰ì´ ì–´ë ¤ì›Œìš” (íœ ì²´ì–´ ì‚¬ìš© ë“±)
```

**2. ì‹ì‚¬ í™œë™ ëŠ¥ë ¥ (care_eating)**
```yaml
ë“±ê¸‰ 1 (ë…ë¦½): í˜¼ìì„œ ê°€ëŠ¥í•´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ë„ì›€): ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš” (ë°˜ì°¬ ì§‘ê¸°, ìë¥´ê¸° ë“± ì¼ë¶€ ë„ì›€)
ë“±ê¸‰ 3 (ì™„ì „ë„ì›€): ì™„ì „í•œ ë„ì›€ì´ í•„ìš”í•´ìš” (ìŒì‹ì„ ë–  ë¨¹ì—¬ì¤Œ)
```

**3. ë°°ë³€ í™œë™ ëŠ¥ë ¥ (care_toilet)**
```yaml
ë“±ê¸‰ 1 (ë…ë¦½): í˜¼ìì„œ í™”ì¥ì‹¤ì„ ì´ìš©í•  ìˆ˜ ìˆì–´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ë„ì›€): í™”ì¥ì‹¤ ì´ìš© ì‹œ ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš”
ë“±ê¸‰ 3 (ì™„ì „ë„ì›€): ì™„ì „í•œ ë„ì›€ì´ í•„ìš”í•´ìš” (ê°„ì´ë³€ê¸°, ê¸°ì €ê·€ ì°©ìš© ë“±)
```

**4. ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ (care_communication)**
```yaml
ë“±ê¸‰ 1 (ì •ìƒ): ì •ìƒì ìœ¼ë¡œ ê°€ëŠ¥í•´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ì œí•œ): ë•Œë•Œë¡œ ì–´ë ¤ì›Œìš” (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ê°€ëŠ¥)
ë“±ê¸‰ 3 (ì‹¬ê°ì œí•œ): ì†Œí†µì´ ì–´ë ¤ì›Œìš” (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ì˜ ëª»í•¨)
```

#### **ì¢…í•© ëŒë´„ë“±ê¸‰ ì‚°ì¶œ ì‹œìŠ¤í…œ**

**A. ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ê¸°ë°˜**
```yaml
1ë“±ê¸‰: ê°€ì¥ ì¤‘ì¦ (95ì  ì´ìƒ)
2ë“±ê¸‰: ì¤‘ì¦ (75ì ~94ì )
3ë“±ê¸‰: ì¤‘ë“±ì¦ (60ì ~74ì )
4ë“±ê¸‰: ê²½ì¦ (51ì ~59ì )
5ë“±ê¸‰: ê²½ì¦ (45ì ~50ì )
ì¸ì§€ì§€ì›ë“±ê¸‰: ì¹˜ë§¤ íŠ¹í™” (45ì  ë¯¸ë§Œ, ì¸ì§€ê¸°ëŠ¥ ì €í•˜)
```

**B. ëŒë´„ëŒ€ìƒì ìƒíƒœ ë¶„ë¥˜**
```yaml
ìƒíƒœ 1: 6ê°œì›” ì´í•˜ì˜ ê¸°ëŒ€ìˆ˜ëª… ìƒíƒœ (í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´)
ìƒíƒœ 2: ì§ˆë³‘ì´ íšŒë³µí•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ìœ¼ë¡œ ìˆ˜ëª…ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•ŠìŒ
ìƒíƒœ 3: ì™„ì „íˆ íƒ€ì¸ ì˜ì¡´ì ì¸ ìƒíƒœì´ë‚˜ ì‚¬ë§ìœ„í—˜ì´ ë†’ì§€ ì•ŠìŒ
ìƒíƒœ 4: í•´ë‹¹ì‚¬í•­ ì—†ìŒ (ì¼ë°˜ ìš”ì–‘)
```

#### **ìš”ì–‘ ì‹œì„¤ ë“±ê¸‰ ë° íƒ€ì… ë¶„ë¥˜ ì‹œìŠ¤í…œ**

**A. ì‹œì„¤ íƒ€ì…ë³„ ë¶„ë¥˜**
```yaml
ì£¼ê±°ë³µì§€ì‹œì„¤:
  - ì–‘ë¡œì‹œì„¤: 65ì„¸ ì´ìƒ ë…¸ì¸ ê³µë™ìƒí™œ (ë“±ê¸‰ ë¶ˆí•„ìš”)
  - ë…¸ì¸ê³µë™ìƒí™œê°€ì •: ì†Œê·œëª¨ ê³µë™ì£¼íƒ (5-9ëª…)
  - ë…¸ì¸ë³µì§€ì£¼íƒ: ë…ë¦½ì£¼ê±° + ë³µì§€ì„œë¹„ìŠ¤

ì˜ë£Œë³µì§€ì‹œì„¤:
  - ë…¸ì¸ìš”ì–‘ì‹œì„¤: ì¥ê¸°ìš”ì–‘ 1-5ë“±ê¸‰ ëŒ€ìƒ (24ì‹œê°„ ì¼€ì–´)
  - ë…¸ì¸ìš”ì–‘ê³µë™ìƒí™œê°€ì •: ì†Œê·œëª¨ ìš”ì–‘ì‹œì„¤ (5-9ëª…)
  - ë‹¨ê¸°ë³´í˜¸ì‹œì„¤: ì„ì‹œë³´í˜¸ ì„œë¹„ìŠ¤ (ìµœëŒ€ 15ì¼)

ì˜ë£Œê¸°ê´€:
  - ìš”ì–‘ë³‘ì›: ì˜ë£Œì§„ ìƒì£¼, ì˜ë£Œì„œë¹„ìŠ¤ ì œê³µ
  - ë…¸ì¸ì „ë¬¸ë³‘ì›: ë…¸ì¸ íŠ¹í™” ì˜ë£Œì„œë¹„ìŠ¤
  - ë…¸ì¸ìš”ì–‘ë³‘ì›: ì¥ê¸°ì…ì› + ìš”ì–‘ì„œë¹„ìŠ¤

ì¬ê°€ë³µì§€ì‹œì„¤:
  - ë°©ë¬¸ìš”ì–‘ì„œë¹„ìŠ¤: ê°€ì • ë°©ë¬¸ ì¼€ì–´
  - ì£¼ì•¼ê°„ë³´í˜¸ì„œë¹„ìŠ¤: ë‚®/ë°¤ ì„ì‹œë³´í˜¸
  - ë‹¨ê¸°ë³´í˜¸ì„œë¹„ìŠ¤: ê°€ì¡± íœ´ì‹ ì§€ì›
```

**B. ì‹œì„¤ ë“±ê¸‰ ë¶„ë¥˜ (ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ê¸°ì¤€)**
```yaml
Aë“±ê¸‰ (ìµœìš°ìˆ˜):
  - í‰ê°€ì ìˆ˜: 90ì  ì´ìƒ
  - íŠ¹ì§•: ìµœê³  ìˆ˜ì¤€ì˜ ì¼€ì–´ í’ˆì§ˆ, ì˜ë£Œì§„ ìš°ìˆ˜, ì‹œì„¤ í˜„ëŒ€í™”
  - ëŒ€ìƒ: 1-2ë“±ê¸‰ ì¤‘ì¦í™˜ì ì „ë¬¸ ì¼€ì–´

Bë“±ê¸‰ (ìš°ìˆ˜):
  - í‰ê°€ì ìˆ˜: 80-89ì   
  - íŠ¹ì§•: ì–‘ì§ˆì˜ ì¼€ì–´ ì„œë¹„ìŠ¤, ì•ˆì •ì  ìš´ì˜
  - ëŒ€ìƒ: 2-3ë“±ê¸‰ ì¤‘ë“±ë„ í™˜ì ì í•©

Cë“±ê¸‰ (ë³´í†µ):
  - í‰ê°€ì ìˆ˜: 70-79ì 
  - íŠ¹ì§•: ê¸°ë³¸ ì¼€ì–´ ì„œë¹„ìŠ¤ ì œê³µ, í‘œì¤€ì  ìš´ì˜
  - ëŒ€ìƒ: 3-5ë“±ê¸‰ ê²½ì¦í™˜ì ì í•©

Dë“±ê¸‰ (ê°œì„ í•„ìš”):
  - í‰ê°€ì ìˆ˜: 60-69ì 
  - íŠ¹ì§•: ì¼€ì–´ í’ˆì§ˆ ê°œì„  í•„ìš”, ìš´ì˜ìƒ ì´ìŠˆ
  - ì£¼ì˜: ë§¤ì¹­ ì‹œ ì‹ ì¤‘ ê²€í†  í•„ìš”

Eë“±ê¸‰ (ë¶€ì í•©):
  - í‰ê°€ì ìˆ˜: 60ì  ë¯¸ë§Œ
  - íŠ¹ì§•: ì‹¬ê°í•œ í’ˆì§ˆ ë¬¸ì œ, í–‰ì •ì²˜ë¶„ ì´ë ¥
  - ì œì™¸: ë§¤ì¹­ ëŒ€ìƒì—ì„œ ì œì™¸ ê¶Œì¥
```

**C. ì „ë¬¸ íŠ¹í™” ì‹œì„¤ ë¶„ë¥˜**
```yaml
ì¹˜ë§¤ ì „ë¬¸ ì‹œì„¤:
  - ì¹˜ë§¤ì•ˆì‹¬ì„¼í„° ì—°ê³„ ì‹œì„¤
  - ì¸ì§€ì§€ì›ë“±ê¸‰ ì „ë¬¸ ì¼€ì–´
  - ì¹˜ë§¤ í–‰ë™ì¦ìƒ ê´€ë¦¬ í”„ë¡œê·¸ë¨

ì¤‘ì¦í™˜ì ì „ë¬¸ ì‹œì„¤:
  - 1-2ë“±ê¸‰ ì „ë¬¸ ì¼€ì–´
  - ì˜ë£Œì§„ 24ì‹œê°„ ìƒì£¼
  - ì¤‘í™˜ìì‹¤ê¸‰ ì¼€ì–´ ì‹œì„¤

ì¬í™œ ì „ë¬¸ ì‹œì„¤:
  - ë¬¼ë¦¬ì¹˜ë£Œ, ì‘ì—…ì¹˜ë£Œ ì „ë¬¸
  - ì¬í™œì˜í•™ê³¼ ì „ë¬¸ì˜ ìƒì£¼
  - ìš´ë™ê¸°ëŠ¥ ê°œì„  í”„ë¡œê·¸ë¨

í˜¸ìŠ¤í”¼ìŠ¤ ì „ë¬¸ ì‹œì„¤:
  - ìƒì• ë§ê¸° ì¼€ì–´ ì „ë¬¸
  - ê°€ì¡± ìƒë‹´ ë° ì§€ì›
  - ì¢…êµì /ì •ì‹ ì  ì¼€ì–´
```

**D. ì‹œì„¤ ì„ íƒ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜**
```java
@Entity
public class FacilityProfile {
    @Id
    private Long facilityId;
    
    // ê¸°ë³¸ ì •ë³´
    private String facilityName;
    private String facilityType;           // "ì–‘ë¡œì‹œì„¤", "ë…¸ì¸ìš”ì–‘ì‹œì„¤", "ìš”ì–‘ë³‘ì›" ë“±
    private String facilityGrade;          // "A", "B", "C", "D", "E"
    private Integer evaluationScore;       // ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ì ìˆ˜
    
    // ì¼€ì–´ ê°€ëŠ¥ ë“±ê¸‰
    @ElementCollection
    private Set<Integer> acceptableCareGrades;  // [1,2,3,4,5,6]
    
    // ì „ë¬¸ ë¶„ì•¼
    @ElementCollection
    private Set<String> specializations;       // ["dementia", "medical", "rehabilitation"]
    
    // ì‹œì„¤ ê·œëª¨ ë° ì •ì›
    private Integer totalCapacity;             // ì´ ì •ì›
    private Integer currentOccupancy;          // í˜„ì¬ ì…ì£¼ì ìˆ˜
    private Integer availableBeds;             // ê°€ìš© ì¹¨ëŒ€ ìˆ˜
    
    // ì˜ë£Œì§„ ì •ë³´
    private Boolean hasDoctor;                 // ì˜ì‚¬ ìƒì£¼ ì—¬ë¶€
    private Boolean hasNurse24h;               // 24ì‹œê°„ ê°„í˜¸ì‚¬ ìƒì£¼
    private Integer nurseCount;                // ê°„í˜¸ì‚¬ ìˆ˜
    private Integer caregiverCount;            // ìš”ì–‘ë³´í˜¸ì‚¬ ìˆ˜
    
    // ì‹œì„¤ íŠ¹ì§•
    private Boolean hasElevator;               // ì—˜ë¦¬ë² ì´í„° ë³´ìœ 
    private Boolean hasEmergencySystem;        // ì‘ê¸‰ì‹œìŠ¤í…œ êµ¬ë¹„
    private Boolean hasRehabilitationRoom;     // ì¬í™œì‹¤ ë³´ìœ 
    private Boolean hasDementiaProgram;        // ì¹˜ë§¤ í”„ë¡œê·¸ë¨ ìš´ì˜
    
    // ìœ„ì¹˜ ë° ì ‘ê·¼ì„±
    private String region;                     // ì§€ì—­ (ì‹œ/ë„)
    private String district;                   // êµ¬/êµ°
    private Double latitude;                   // ìœ„ë„
    private Double longitude;                  // ê²½ë„
    private Boolean nearSubway;                // ì§€í•˜ì²  ì ‘ê·¼ì„±
    private Boolean nearHospital;              // ë³‘ì› ê·¼ì ‘ì„±
    
    // ë¹„ìš© ì •ë³´
    private Integer monthlyBasicFee;           // ì›” ê¸°ë³¸ë£Œ
    private Integer admissionFee;              // ì…ì†Œê¸ˆ
    private Boolean acceptsLtci;               // ì¥ê¸°ìš”ì–‘ë³´í—˜ ì ìš©
    
    private LocalDateTime lastUpdated;
}

@Service
public class FacilityMatchingService {
    
    public List<FacilityMatch> findCompatibleFacilities(HealthAssessment assessment, 
                                                       FacilityPreference preference) {
        
        CareGrade careGrade = assessment.getOverallCareGrade();
        
        return facilityRepository.findAll().stream()
            .filter(facility -> isBasicCompatible(facility, careGrade))
            .filter(facility -> hasAvailability(facility))
            .filter(facility -> meetsQualityStandard(facility))
            .map(facility -> calculateFacilityMatch(facility, assessment, preference))
            .sorted(Comparator.comparing(FacilityMatch::getMatchScore).reversed())
            .limit(20)
            .collect(Collectors.toList());
    }
    
    private boolean isBasicCompatible(FacilityProfile facility, CareGrade careGrade) {
        // 1. ì¼€ì–´ ë“±ê¸‰ í˜¸í™˜ì„± ì²´í¬
        boolean gradeCompatible = facility.getAcceptableCareGrades().contains(careGrade.getLevel());
        
        // 2. ì‹œì„¤ íƒ€ì…ë³„ ì¼€ì–´ ë“±ê¸‰ ì œí•œ
        boolean typeCompatible = checkFacilityTypeCompatibility(facility.getFacilityType(), careGrade);
        
        // 3. ìµœì†Œ í’ˆì§ˆ ê¸°ì¤€ (Dë“±ê¸‰ ì´ìƒ)
        boolean qualityAcceptable = !"E".equals(facility.getFacilityGrade());
        
        return gradeCompatible && typeCompatible && qualityAcceptable;
    }
    
    private boolean checkFacilityTypeCompatibility(String facilityType, CareGrade careGrade) {
        switch (facilityType) {
            case "ì–‘ë¡œì‹œì„¤":
                return careGrade.getLevel() >= 4; // 4-5ë“±ê¸‰ë§Œ ê°€ëŠ¥
                
            case "ë…¸ì¸ìš”ì–‘ì‹œì„¤":
                return true; // ëª¨ë“  ë“±ê¸‰ ê°€ëŠ¥
                
            case "ìš”ì–‘ë³‘ì›":
                return careGrade.getLevel() <= 3; // 1-3ë“±ê¸‰ ê¶Œì¥
                
            case "ë…¸ì¸ìš”ì–‘ê³µë™ìƒí™œê°€ì •":
                return careGrade.getLevel() >= 3; // 3-5ë“±ê¸‰ ì í•©
                
            case "ì¹˜ë§¤ì „ë¬¸ì‹œì„¤":
                return careGrade.getLevel() == 6; // ì¸ì§€ì§€ì›ë“±ê¸‰
                
            default:
                return true;
        }
    }
    
    private FacilityMatch calculateFacilityMatch(FacilityProfile facility, 
                                               HealthAssessment assessment, 
                                               FacilityPreference preference) {
        double score = 0.0;
        
        // 1. ì‹œì„¤ ë“±ê¸‰ ì ìˆ˜ (30%)
        score += calculateFacilityGradeScore(facility) * 0.3;
        
        // 2. ì „ë¬¸ì„± ë§¤ì¹­ ì ìˆ˜ (25%)
        score += calculateSpecializationScore(facility, assessment) * 0.25;
        
        // 3. ì˜ë£Œì§„ ì í•©ì„± ì ìˆ˜ (20%)
        score += calculateMedicalStaffScore(facility, assessment) * 0.2;
        
        // 4. ìœ„ì¹˜ ì ‘ê·¼ì„± ì ìˆ˜ (15%)
        score += calculateLocationScore(facility, preference) * 0.15;
        
        // 5. ë¹„ìš© ì í•©ì„± ì ìˆ˜ (10%)
        score += calculateCostScore(facility, preference) * 0.1;
        
        String explanation = generateFacilityMatchExplanation(facility, assessment, score);
        
        return new FacilityMatch(facility, score, explanation);
    }
    
    private double calculateFacilityGradeScore(FacilityProfile facility) {
        switch (facility.getFacilityGrade()) {
            case "A": return 5.0;
            case "B": return 4.0;
            case "C": return 3.0;
            case "D": return 2.0;
            case "E": return 0.0;
            default: return 2.5;
        }
    }
    
    private double calculateSpecializationScore(FacilityProfile facility, HealthAssessment assessment) {
        double score = 0.0;
        Set<String> specializations = facility.getSpecializations();
        
        // ì¹˜ë§¤ ì „ë¬¸ì„±
        if (assessment.getLtciGrade() == 6 && specializations.contains("dementia")) {
            score += 2.0;
        }
        
        // ì˜ë£Œ ì „ë¬¸ì„± (1-2ë“±ê¸‰)
        if (assessment.getOverallCareGrade().getLevel() <= 2 && specializations.contains("medical")) {
            score += 2.0;
        }
        
        // ì¬í™œ ì „ë¬¸ì„±
        if (assessment.getMobilityLevel() >= 2 && specializations.contains("rehabilitation")) {
            score += 1.5;
        }
        
        // í˜¸ìŠ¤í”¼ìŠ¤ ì „ë¬¸ì„±
        if (assessment.getCareTargetStatus() <= 2 && specializations.contains("hospice")) {
            score += 1.5;
        }
        
        return Math.min(score, 5.0);
    }
    
    private double calculateMedicalStaffScore(FacilityProfile facility, HealthAssessment assessment) {
        double score = 2.5; // ê¸°ë³¸ ì ìˆ˜
        
        CareGrade careGrade = assessment.getOverallCareGrade();
        
        // ì¤‘ì¦í™˜ì(1-2ë“±ê¸‰)ëŠ” ì˜ë£Œì§„ í•„ìˆ˜
        if (careGrade.getLevel() <= 2) {
            if (facility.getHasDoctor()) score += 1.5;
            if (facility.getHasNurse24h()) score += 1.0;
        }
        
        // ê°„í˜¸ì‚¬ ëŒ€ í™˜ì ë¹„ìœ¨
        double nurseRatio = (double) facility.getNurseCount() / facility.getCurrentOccupancy();
        if (nurseRatio >= 0.1) score += 0.5; // 10:1 ë¹„ìœ¨ ì´ìƒ
        
        return Math.min(score, 5.0);
    }
}
```

#### **ì½”ë””ë„¤ì´í„° ì‹œì„¤ ë§¤ì¹­ ì§€ì› ì‹œìŠ¤í…œ**

**ì½”ë””ë„¤ì´í„° ì—­í• : ì‹œì„¤ ì„ íƒ ì»¨ì„¤íŒ… ë° ì…ì£¼ ì¤‘ê°œ**
```yaml
ì½”ë””ë„¤ì´í„°ì˜ ì‹œì„¤ ê´€ë ¨ ì—…ë¬´:
  - ê³ ê° ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë° ì í•© ì‹œì„¤ ì¶”ì²œ
  - ì‹œì„¤ ê²¬í•™ ë™í–‰ ë° ì „ë¬¸ì  í‰ê°€
  - ì‹œì„¤-í™˜ì ë§¤ì¹­ ì í•©ì„± íŒë‹¨  
  - ì…ì£¼ ê³„ì•½ í˜‘ìƒ ë° í–‰ì • ì§€ì›
  - ì…ì£¼ í›„ ì ì‘ ëª¨ë‹ˆí„°ë§

ì‹œì„¤ ê´€ë¦¬ëŠ” ì‹œì„¤ ë‚´ë¶€ ì§ì›:
  - ìš”ì–‘ë³´í˜¸ì‚¬: ì¼ìƒ ì¼€ì–´ ë‹´ë‹¹
  - ê°„í˜¸ì‚¬: ì˜ë£Œ ì¼€ì–´ ë‹´ë‹¹
  - ì‹œì„¤ì¥: ìš´ì˜ ê´€ë¦¬ ë‹´ë‹¹
```

**A. ì½”ë””ë„¤ì´í„° ì‹œì„¤ ì „ë¬¸ì„± ì„¤ì •**
```java
@Entity
public class CoordinatorFacilityExpertise {
    @Id
    private Long id;
    private String coordinatorId;
    
    // ì‹œì„¤ íƒ€ì…ë³„ ì „ë¬¸ì„±
    @ElementCollection
    private Set<String> expertFacilityTypes;     // ["ë…¸ì¸ìš”ì–‘ì‹œì„¤", "ìš”ì–‘ë³‘ì›", "ì¹˜ë§¤ì „ë¬¸ì‹œì„¤"]
    
    // ì‹œì„¤ ë“±ê¸‰ë³„ ê²½í—˜
    @ElementCollection
    private Map<String, Integer> facilityGradeExperience; // {"A": 5, "B": 12, "C": 8}
    
    // ì§€ì—­ë³„ ì‹œì„¤ ë„¤íŠ¸ì›Œí¬
    @ElementCollection
    private Set<String> familiarRegions;         // ["ì„œìš¸ ê°•ë‚¨êµ¬", "ê²½ê¸° ì„±ë‚¨ì‹œ"]
    
    // í˜‘ë ¥ ì‹œì„¤ ëª©ë¡
    @ElementCollection
    private Set<Long> partnerFacilities;         // í˜‘ë ¥ ê´€ê³„ ì‹œì„¤ ID
    
    // ì‹œì„¤ í‰ê°€ ëŠ¥ë ¥
    private Boolean canEvaluateMedicalCare;      // ì˜ë£Œ ì¼€ì–´ í‰ê°€ ê°€ëŠ¥
    private Boolean canEvaluateFacilities;       // ì‹œì„¤ í™˜ê²½ í‰ê°€ ê°€ëŠ¥
    private Boolean canNegotiateContracts;       // ê³„ì•½ í˜‘ìƒ ê°€ëŠ¥
    
    // ì‹œì„¤ ë§¤ì¹­ ì„±ê³¼
    private Integer successfulFacilityMatches;   // ì„±ê³µí•œ ì‹œì„¤ ë§¤ì¹­ ìˆ˜
    private Double facilityMatchSatisfaction;    // ì‹œì„¤ ë§¤ì¹­ ë§Œì¡±ë„
    private Integer facilityVisitCount;          // ì‹œì„¤ ë°©ë¬¸ íšŸìˆ˜
}
```

**B. ì‹œì„¤ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ (ì½”ë””ë„¤ì´í„° ê´€ì )**
```java
@Service
public class CoordinatorFacilityRecommendationService {
    
    public List<FacilityRecommendation> recommendFacilities(
        String coordinatorId,
        HealthAssessment assessment, 
        FamilyPreference preference) {
        
        Coordinator coordinator = coordinatorRepository.findById(coordinatorId);
        CoordinatorFacilityExpertise expertise = coordinator.getFacilityExpertise();
        
        // 1. ì½”ë””ë„¤ì´í„° ì „ë¬¸ ë¶„ì•¼ ê¸°ë°˜ ì‹œì„¤ í•„í„°ë§
        List<FacilityProfile> candidateFacilities = findFacilitiesInExpertise(expertise, assessment);
        
        // 2. ì½”ë””ë„¤ì´í„° ë„¤íŠ¸ì›Œí¬ ì‹œì„¤ ìš°ì„  ì¶”ì²œ
        List<FacilityRecommendation> recommendations = candidateFacilities.stream()
            .map(facility -> createRecommendation(coordinator, facility, assessment, preference))
            .sorted(Comparator.comparing(FacilityRecommendation::getRecommendationScore).reversed())
            .limit(10)
            .collect(Collectors.toList());
            
        return recommendations;
    }
    
    private FacilityRecommendation createRecommendation(
        Coordinator coordinator,
        FacilityProfile facility,
        HealthAssessment assessment,
        FamilyPreference preference) {
        
        double score = 0.0;
        
        // 1. ê¸°ë³¸ ì‹œì„¤-í™˜ì ë§¤ì¹­ ì ìˆ˜ (40%)
        score += calculateBasicMatchScore(facility, assessment) * 0.4;
        
        // 2. ì½”ë””ë„¤ì´í„° ì „ë¬¸ì„± ë§¤ì¹­ ì ìˆ˜ (25%)
        score += calculateCoordinatorExpertiseScore(coordinator, facility) * 0.25;
        
        // 3. ê³¼ê±° ë§¤ì¹­ ì„±ê³µë¥  ì ìˆ˜ (20%)
        score += calculateHistoricalSuccessScore(coordinator, facility) * 0.2;
        
        // 4. ê°€ì¡± ì„ í˜¸ë„ ë§¤ì¹­ ì ìˆ˜ (15%)
        score += calculateFamilyPreferenceScore(facility, preference) * 0.15;
        
        String reason = generateRecommendationReason(coordinator, facility, assessment, score);
        
        return new FacilityRecommendation(facility, score, reason, coordinator.getId());
    }
    
    private double calculateCoordinatorExpertiseScore(Coordinator coordinator, FacilityProfile facility) {
        CoordinatorFacilityExpertise expertise = coordinator.getFacilityExpertise();
        double score = 2.5; // ê¸°ë³¸ ì ìˆ˜
        
        // ì‹œì„¤ íƒ€ì… ì „ë¬¸ì„±
        if (expertise.getExpertFacilityTypes().contains(facility.getFacilityType())) {
            score += 1.5;
        }
        
        // ì‹œì„¤ ë“±ê¸‰ ê²½í—˜
        Integer gradeExperience = expertise.getFacilityGradeExperience()
            .get(facility.getFacilityGrade());
        if (gradeExperience != null && gradeExperience > 0) {
            score += Math.min(gradeExperience * 0.1, 1.0); // ê²½í—˜ì¹˜ ë°˜ì˜
        }
        
        // ì§€ì—­ ì¹œìˆ™ë„
        String facilityRegion = facility.getRegion() + " " + facility.getDistrict();
        if (expertise.getFamiliarRegions().contains(facilityRegion)) {
            score += 0.5;
        }
        
        // í˜‘ë ¥ ì‹œì„¤ ì—¬ë¶€
        if (expertise.getPartnerFacilities().contains(facility.getFacilityId())) {
            score += 0.5; // í˜‘ë ¥ ì‹œì„¤ ê°€ì‚°ì 
        }
        
        return Math.min(score, 5.0);
    }
}
```

**C. ì‹œì„¤ ê²¬í•™ ë° í‰ê°€ ì§€ì›**
```java
@Entity
public class FacilityVisitPlan {
    @Id
    private Long id;
    private String coordinatorId;
    private String clientId;
    
    // ê²¬í•™ ê³„íš
    @ElementCollection
    private List<Long> plannedFacilities;        // ê²¬í•™ ì˜ˆì • ì‹œì„¤
    private LocalDateTime visitDate;
    private String visitPurpose;                  // "ì´ˆê¸°ìƒë‹´", "ìµœì¢…ì„ íƒ", "ì¬í‰ê°€"
    
    // í‰ê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸
    private String medicalCareEvaluation;         // ì˜ë£Œ ì¼€ì–´ í‰ê°€
    private String livingEnvironmentEvaluation;   // ìƒí™œ í™˜ê²½ í‰ê°€
    private String staffQualityEvaluation;        // ì§ì› í’ˆì§ˆ í‰ê°€
    private String costEvaluation;                // ë¹„ìš© ì ì •ì„± í‰ê°€
    
    // ê°€ì¡± í”¼ë“œë°±
    private String familyFeedback;
    private Integer familySatisfactionScore;      // 1-5ì 
    
    private LocalDateTime createdAt;
}

@Service
public class FacilityVisitSupportService {
    
    public FacilityVisitPlan planFacilityVisits(
        String coordinatorId,
        String clientId, 
        List<FacilityRecommendation> recommendations) {
        
        // ìƒìœ„ 3-5ê°œ ì‹œì„¤ ì„ ë³„
        List<Long> topFacilities = recommendations.stream()
            .limit(5)
            .map(rec -> rec.getFacility().getFacilityId())
            .collect(Collectors.toList());
            
        FacilityVisitPlan plan = new FacilityVisitPlan();
        plan.setCoordinatorId(coordinatorId);
        plan.setClientId(clientId);
        plan.setPlannedFacilities(topFacilities);
        plan.setVisitPurpose("ì´ˆê¸°ìƒë‹´");
        
        return facilityVisitPlanRepository.save(plan);
    }
    
    public FacilityEvaluationReport evaluateFacility(
        String coordinatorId,
        Long facilityId,
        HealthAssessment assessment) {
        
        FacilityProfile facility = facilityRepository.findById(facilityId);
        Coordinator coordinator = coordinatorRepository.findById(coordinatorId);
        
        FacilityEvaluationReport report = new FacilityEvaluationReport();
        
        // 1. ì¼€ì–´ ì í•©ì„± í‰ê°€
        report.setCareCompatibilityScore(
            evaluateCareCompatibility(facility, assessment));
        
        // 2. ì‹œì„¤ í™˜ê²½ í‰ê°€
        report.setEnvironmentScore(
            evaluateEnvironment(facility, assessment));
            
        // 3. ë¹„ìš© ì ì •ì„± í‰ê°€
        report.setCostEffectivenessScore(
            evaluateCostEffectiveness(facility, assessment));
            
        // 4. ì¢…í•© ì¶”ì²œë„
        report.setOverallRecommendation(
            calculateOverallRecommendation(report));
            
        return report;
    }
}
```

**D. ì…ì£¼ ì¤‘ê°œ ë° ê³„ì•½ ì§€ì›**
```java
@Entity
public class FacilityAdmissionSupport {
    @Id
    private Long id;
    private String coordinatorId;
    private String clientId;
    private Long selectedFacilityId;
    
    // ì…ì£¼ ì ˆì°¨ ì§„í–‰ ìƒí™©
    private String admissionStatus;               // "ìƒë‹´ì™„ë£Œ", "ê³„ì•½í˜‘ìƒ", "ì„œë¥˜ì¤€ë¹„", "ì…ì£¼ì™„ë£Œ"
    
    // ê³„ì•½ í˜‘ìƒ ë‚´ìš©
    private Integer negotiatedMonthlyFee;         // í˜‘ìƒëœ ì›” ì´ìš©ë£Œ
    private Integer negotiatedAdmissionFee;       // í˜‘ìƒëœ ì…ì†Œê¸ˆ
    private String specialTerms;                  // íŠ¹ë³„ ì•½ì • ì‚¬í•­
    
    // í•„ìš” ì„œë¥˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
    private Boolean healthCertificateReady;       // ê±´ê°•ì§„ë‹¨ì„œ
    private Boolean ltciCertificateReady;         // ì¥ê¸°ìš”ì–‘ì¸ì •ì„œ
    private Boolean insuranceReady;               // ë³´í—˜ ê°€ì… í™•ì¸
    private Boolean emergencyContactReady;        // ì‘ê¸‰ì—°ë½ì²˜
    
    // ì…ì£¼ ì¤€ë¹„ ì§€ì›
    private String personalItemsList;             // ê°œì¸ ë¬¼í’ˆ ëª©ë¡
    private LocalDateTime estimatedAdmissionDate; // ì˜ˆìƒ ì…ì£¼ì¼
    private String specialCareInstructions;       // íŠ¹ë³„ ì¼€ì–´ ì§€ì‹œì‚¬í•­
    
    private LocalDateTime createdAt;
    private LocalDateTime lastUpdated;
}

@Component
public class AdmissionSupportWorkflow {
    
    public void initiateAdmissionProcess(
        String coordinatorId,
        String clientId,
        Long facilityId) {
        
        FacilityAdmissionSupport support = new FacilityAdmissionSupport();
        support.setCoordinatorId(coordinatorId);
        support.setClientId(clientId);
        support.setSelectedFacilityId(facilityId);
        support.setAdmissionStatus("ìƒë‹´ì™„ë£Œ");
        
        // ìë™ìœ¼ë¡œ í•„ìš” ì„œë¥˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
        initializeDocumentChecklist(support);
        
        // ì‹œì„¤ê³¼ ì´ˆê¸° í˜‘ìƒ ì¼ì • ì¡°ìœ¨
        scheduleInitialNegotiation(support);
        
        admissionSupportRepository.save(support);
    }
    
    public void updateAdmissionProgress(Long supportId, String newStatus) {
        FacilityAdmissionSupport support = admissionSupportRepository.findById(supportId);
        support.setAdmissionStatus(newStatus);
        support.setLastUpdated(LocalDateTime.now());
        
        // ìƒíƒœë³„ ìë™ ì‘ì—… ì‹¤í–‰
        switch (newStatus) {
            case "ê³„ì•½í˜‘ìƒ":
                prepareNegotiationMaterials(support);
                break;
            case "ì„œë¥˜ì¤€ë¹„":
                sendDocumentReminders(support);
                break;
            case "ì…ì£¼ì™„ë£Œ":
                scheduleFollowUpVisit(support);
                break;
        }
        
        admissionSupportRepository.save(support);
    }
}
```

**E. ì…ì£¼ í›„ ì ì‘ ëª¨ë‹ˆí„°ë§**
```java
@Entity
public class PostAdmissionMonitoring {
    @Id
    private Long id;
    private String coordinatorId;
    private String clientId;
    private Long facilityId;
    
    // ëª¨ë‹ˆí„°ë§ ì¼ì •
    private LocalDateTime admissionDate;
    private LocalDateTime firstCheckDate;         // 1ì£¼ í›„
    private LocalDateTime monthlyCheckDate;       // 1ê°œì›” í›„
    private LocalDateTime quarterlyCheckDate;     // 3ê°œì›” í›„
    
    // ì ì‘ ìƒíƒœ í‰ê°€
    private Integer clientSatisfactionScore;      // ì…ì£¼ì ë§Œì¡±ë„ (1-5)
    private Integer familySatisfactionScore;      // ê°€ì¡± ë§Œì¡±ë„ (1-5)
    private Integer facilitySatisfactionScore;    // ì‹œì„¤ ë§Œì¡±ë„ (1-5)
    
    // ì´ìŠˆ ë° ê°œì„ ì‚¬í•­
    private String identifiedIssues;             // ë°œê²¬ëœ ë¬¸ì œì 
    private String improvementActions;           // ê°œì„  ì¡°ì¹˜ì‚¬í•­
    private Boolean needsRemediation;            // ì¤‘ì¬ í•„ìš” ì—¬ë¶€
    
    // ì„œë¹„ìŠ¤ ì§€ì†ì„±
    private Boolean serviceCompleted;            // ì„œë¹„ìŠ¤ ì™„ë£Œ ì—¬ë¶€
    private LocalDateTime serviceEndDate;        // ì„œë¹„ìŠ¤ ì¢…ë£Œì¼
    private String completionReason;             // ì™„ë£Œ ì‚¬ìœ 
}
```

#### **AI ê¸°ë°˜ ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ**

**ì¼€ì–´ ë“±ê¸‰ ê³„ì‚° ë¡œì§**
```java
public class CareGradeCalculator {
    
    public CareGrade calculateComprehensiveGrade(HealthAssessment assessment) {
        // 1. ê¸°ë³¸ ADL ì ìˆ˜ ê³„ì‚° (ì¼ìƒìƒí™œìˆ˜í–‰ëŠ¥ë ¥)
        int adlScore = calculateADLScore(assessment);
        
        // 2. ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ë°˜ì˜
        int ltciGrade = assessment.getLtciGrade();
        
        // 3. ëŒë´„ëŒ€ìƒì ìƒíƒœ ë°˜ì˜
        int careTargetStatus = assessment.getCareTargetStatus();
        
        // 4. ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ë„ì¶œ
        return determineOverallCareGrade(adlScore, ltciGrade, careTargetStatus);
    }
    
    private int calculateADLScore(HealthAssessment assessment) {
        int mobility = assessment.getMobilityLevel();    // 1-3
        int eating = assessment.getEatingLevel();        // 1-3  
        int toilet = assessment.getToiletLevel();        // 1-3
        int communication = assessment.getCommunicationLevel(); // 1-3
        
        // ê° ì˜ì—­ë³„ ê°€ì¤‘ì¹˜ ì ìš©
        return (mobility * 25) + (eating * 20) + (toilet * 30) + (communication * 25);
    }
}
```

#### **ì½”ë””ë„¤ì´í„° ìê¸° ì„¤ì • ì¼€ì–´ ë“±ê¸‰ ì‹œìŠ¤í…œ**

**ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ ê´€ë¦¬ (Self-Configuration)**
```yaml
ê¸°ë³¸ ìê²© ë“±ê¸‰ (ì‹œìŠ¤í…œ ìë™ ì„¤ì •):
  - ìê²©ì¦ ê¸°ë°˜ ìµœì†Œ ì¼€ì–´ ë“±ê¸‰ ìë™ ì‚°ì¶œ
  - ê²½ë ¥ ì—°ìˆ˜ë³„ ë“±ê¸‰ ìƒí•œì„  ì„¤ì •
  - êµìœ¡ ì´ìˆ˜ í˜„í™© ë°˜ì˜

ê°œì¸ ì„¤ì • ì¼€ì–´ ë“±ê¸‰ (ì½”ë””ë„¤ì´í„° ì§ì ‘ ì„¤ì •):
  - í¬ë§ ì¼€ì–´ ë“±ê¸‰ ë²”ìœ„ ì„ íƒ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)
  - ì „ë¬¸ ë¶„ì•¼ë³„ ì„¸ë¶€ ë“±ê¸‰ ì„¤ì •
  - ì¼€ì–´ ê±°ë¶€ ë“±ê¸‰ ì„¤ì • (ê°œì¸ ì‚¬ì •ìœ¼ë¡œ ë‹´ë‹¹ ë¶ˆê°€)
  - ë™ì‹œ ë‹´ë‹¹ ê°€ëŠ¥ ì¼€ì´ìŠ¤ ìˆ˜ ì„¤ì •

ì‹¤ì œ ë§¤ì¹­ ë“±ê¸‰ (AI ê¸°ë°˜ ìµœì í™”):
  - ê¸°ë³¸ ìê²© + ê°œì¸ ì„¤ì • + ì„±ê³¼ ì´ë ¥ ì¢…í•©
  - ê³ ê° ë§Œì¡±ë„ ê¸°ë°˜ ë“±ê¸‰ ì¡°ì •
  - ì¼€ì´ìŠ¤ ì„±ê³µë¥  ê¸°ë°˜ ì‹ ë¢°ë„ ì ìˆ˜
```

**ì½”ë””ë„¤ì´í„° ë“±ê¸‰ ì„¸ë¶„í™” ì‹œìŠ¤í…œ**
```yaml
ìê²©ì¦ ê¸°ë°˜ ê¸°ë³¸ ë“±ê¸‰:
  Tier 1 (ìš”ì–‘ë³´í˜¸ì‚¬): 
    - ê¸°ë³¸ ì¼€ì–´ ë“±ê¸‰: 4-5ë“±ê¸‰, ì¸ì§€ì§€ì›ë“±ê¸‰
    - ìƒí•œì„ : 3ë“±ê¸‰ê¹Œì§€ ê°€ëŠ¥ (ê²½ë ¥ 2ë…„+ ì‹œ)
    
  Tier 2 (ê°„í˜¸ì¡°ë¬´ì‚¬, ì‚¬íšŒë³µì§€ì‚¬):
    - ê¸°ë³¸ ì¼€ì–´ ë“±ê¸‰: 2-5ë“±ê¸‰  
    - ìƒí•œì„ : 1ë“±ê¸‰ê¹Œì§€ ê°€ëŠ¥ (ê²½ë ¥ 5ë…„+ ì‹œ)
    
  Tier 3 (ê°„í˜¸ì‚¬, ì˜ë£Œì§„):
    - ê¸°ë³¸ ì¼€ì–´ ë“±ê¸‰: 1-5ë“±ê¸‰ ì „ì²´
    - íŠ¹ìˆ˜ ì¼€ì–´: í˜¸ìŠ¤í”¼ìŠ¤, ì˜ë£Œì§„ í˜‘ë ¥ ì¼€ì–´

ê²½ë ¥ë³„ ë“±ê¸‰ í™•ì¥:
  ì‹ ì… (0-1ë…„): ê¸°ë³¸ ë“±ê¸‰ì—ì„œ -1ë‹¨ê³„
  ê²½ë ¥ì (2-4ë…„): ê¸°ë³¸ ë“±ê¸‰ 
  ì „ë¬¸ê°€ (5ë…„+): ê¸°ë³¸ ë“±ê¸‰ì—ì„œ +1ë‹¨ê³„
  ë§ˆìŠ¤í„° (10ë…„+): ì „ì²´ ë“±ê¸‰ + íŠ¹ìˆ˜ ì¼€ì–´
```

**ì½”ë””ë„¤ì´í„° ê°œì¸ ì„¤ì • ì‹œìŠ¤í…œ**
```java
@Entity
public class CoordinatorCareSettings {
    @Id
    private Long id;
    private String coordinatorId;
    
    // ì‹œìŠ¤í…œ ìë™ ì‚°ì¶œ ë“±ê¸‰
    private Integer baseCareLevel;           // ìê²©ì¦ ê¸°ë°˜ ê¸°ë³¸ ë“±ê¸‰
    private Integer maxCareLevel;            // ê²½ë ¥ ê¸°ë°˜ ìµœëŒ€ ë“±ê¸‰
    
    // ì½”ë””ë„¤ì´í„° ê°œì¸ ì„¤ì •
    @ElementCollection
    private Set<Integer> preferredCareGrades;    // ì„ í˜¸ ì¼€ì–´ ë“±ê¸‰ [1,2,3,4,5,6]
    
    @ElementCollection  
    private Set<Integer> excludedCareGrades;     // ê±°ë¶€ ì¼€ì–´ ë“±ê¸‰ [1,2]
    
    @ElementCollection
    private Set<String> specialtyAreas;         // ì „ë¬¸ ë¶„ì•¼ ["dementia", "medical"]
    
    // ì—…ë¬´ëŸ‰ ì„¤ì •
    private Integer maxSimultaneousCases;       // ë™ì‹œ ë‹´ë‹¹ ê°€ëŠ¥ ì¼€ì´ìŠ¤ ìˆ˜
    private Integer preferredCasesPerMonth;     // ì›” ì„ í˜¸ ì¼€ì´ìŠ¤ ìˆ˜
    
    // ê·¼ë¬´ ì¡°ê±´ ì„¤ì •
    private Boolean availableWeekends;          // ì£¼ë§ ê·¼ë¬´ ê°€ëŠ¥ ì—¬ë¶€
    private Boolean availableEmergency;         // ì‘ê¸‰ ìƒí™© ëŒ€ì‘ ê°€ëŠ¥ ì—¬ë¶€
    private Set<String> workingRegions;         // ê·¼ë¬´ ê°€ëŠ¥ ì§€ì—­
    
    // ì„±ê³¼ ê¸°ë°˜ ì¡°ì •
    private Double performanceScore;            // ì„±ê³¼ ì ìˆ˜ (0.0-5.0)
    private Double customerSatisfaction;        // ê³ ê° ë§Œì¡±ë„ (0.0-5.0)
    private Integer successfulCases;            // ì„±ê³µ ì¼€ì´ìŠ¤ ìˆ˜
    private Integer totalCases;                 // ì´ ë‹´ë‹¹ ì¼€ì´ìŠ¤ ìˆ˜
    
    private LocalDateTime lastUpdated;
}
```

#### **AI ê¸°ë°˜ ìµœì í™” ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜**

**1. ë‹¤ì¸µ ë§¤ì¹­ ì‹œìŠ¤í…œ (Multi-Layer Matching)**
```java
@Service
public class OptimizedCoordinatorMatchingService {
    
    public List<CoordinatorMatch> findOptimalMatches(HealthAssessment assessment, 
                                                   MatchingPreference preference) {
        
        // 1ë‹¨ê³„: ê¸°ë³¸ ìê²© í•„í„°ë§
        List<Coordinator> eligibleCoordinators = filterByBasicQualifications(assessment);
        
        // 2ë‹¨ê³„: ì½”ë””ë„¤ì´í„° ì„¤ì • ë§¤ì¹­
        List<Coordinator> settingsMatched = filterByCoordinatorSettings(eligibleCoordinators, assessment);
        
        // 3ë‹¨ê³„: AI ìŠ¤ì½”ì–´ë§ ë° ìµœì í™”
        List<CoordinatorMatch> scoredMatches = calculateOptimalMatches(settingsMatched, assessment);
        
        // 4ë‹¨ê³„: ì‹¤ì‹œê°„ ê°€ìš©ì„± í™•ì¸
        return filterByRealTimeAvailability(scoredMatches, preference);
    }
    
    private List<Coordinator> filterByBasicQualifications(HealthAssessment assessment) {
        CareGrade requiredGrade = assessment.getOverallCareGrade();
        
        return coordinatorRepository.findAll().stream()
            .filter(coordinator -> {
                CoordinatorCareSettings settings = coordinator.getCareSettings();
                
                // ê¸°ë³¸ ìê²© ì²´í¬
                boolean hasBasicQualification = settings.getBaseCareLevel() <= requiredGrade.getLevel();
                
                // ìµœëŒ€ ë“±ê¸‰ ì²´í¬  
                boolean withinMaxLevel = settings.getMaxCareLevel() >= requiredGrade.getLevel();
                
                // ê°œì¸ ì„¤ì • ì²´í¬
                boolean inPreferredGrades = settings.getPreferredCareGrades().contains(requiredGrade.getLevel());
                boolean notExcluded = !settings.getExcludedCareGrades().contains(requiredGrade.getLevel());
                
                return hasBasicQualification && withinMaxLevel && inPreferredGrades && notExcluded;
            })
            .collect(Collectors.toList());
    }
    
    private List<CoordinatorMatch> calculateOptimalMatches(List<Coordinator> coordinators, 
                                                         HealthAssessment assessment) {
        return coordinators.stream()
            .map(coordinator -> {
                double matchScore = calculateComprehensiveMatchScore(coordinator, assessment);
                return new CoordinatorMatch(coordinator, matchScore, 
                    generateMatchReason(coordinator, assessment));
            })
            .sorted(Comparator.comparing(CoordinatorMatch::getMatchScore).reversed())
            .limit(10) // ìƒìœ„ 10ëª…ë§Œ ì„ ë³„
            .collect(Collectors.toList());
    }
    
    private double calculateComprehensiveMatchScore(Coordinator coordinator, HealthAssessment assessment) {
        double score = 0.0;
        
        // 1. ì „ë¬¸ì„± ë§¤ì¹­ ì ìˆ˜ (40%)
        score += calculateSpecialtyMatchScore(coordinator, assessment) * 0.4;
        
        // 2. ê²½ë ¥ ë° ì„±ê³¼ ì ìˆ˜ (25%)
        score += calculateExperienceScore(coordinator) * 0.25;
        
        // 3. ê³ ê° ë§Œì¡±ë„ ì ìˆ˜ (20%)
        score += coordinator.getCareSettings().getCustomerSatisfaction() * 0.2;
        
        // 4. ì§€ì—­ ì ‘ê·¼ì„± ì ìˆ˜ (10%)
        score += calculateLocationScore(coordinator, assessment) * 0.1;
        
        // 5. ì‹¤ì‹œê°„ ê°€ìš©ì„± ë³´ë„ˆìŠ¤ (5%)
        score += calculateAvailabilityBonus(coordinator) * 0.05;
        
        return Math.min(score, 5.0); // ìµœëŒ€ 5ì 
    }
}
```

**2. ì „ë¬¸ì„± ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë§¤ì¹­**
```java
private double calculateSpecialtyMatchScore(Coordinator coordinator, HealthAssessment assessment) {
    double specialtyScore = 0.0;
    Set<String> coordinatorSpecialties = coordinator.getCareSettings().getSpecialtyAreas();
    
    // ì¹˜ë§¤ ì „ë¬¸ì„± ë§¤ì¹­
    if (assessment.getLtciGrade() == 6 || assessment.getCommunicationLevel() == 3) {
        if (coordinatorSpecialties.contains("dementia")) {
            specialtyScore += 2.0;
        }
    }
    
    // ì˜ë£Œ ì „ë¬¸ì„± ë§¤ì¹­ (1-2ë“±ê¸‰, ìƒíƒœ1-2)
    if (assessment.getOverallCareGrade().getLevel() <= 2 || assessment.getCareTargetStatus() <= 2) {
        if (coordinatorSpecialties.contains("medical")) {
            specialtyScore += 2.0;
        }
    }
    
    // ì¬í™œ ì „ë¬¸ì„± ë§¤ì¹­
    if (assessment.getMobilityLevel() >= 2) {
        if (coordinatorSpecialties.contains("rehabilitation")) {
            specialtyScore += 1.5;
        }
    }
    
    // ì˜ì–‘ ì „ë¬¸ì„± ë§¤ì¹­
    if (assessment.getEatingLevel() >= 2) {
        if (coordinatorSpecialties.contains("nutrition")) {
            specialtyScore += 1.5;
        }
    }
    
    // ë‹¤êµ­ì–´ ì§€ì› (ì¬ì™¸ë™í¬)
    if (assessment.isOverseasKorean()) {
        if (coordinatorSpecialties.contains("multilingual")) {
            specialtyScore += 1.0;
        }
    }
    
    return Math.min(specialtyScore, 5.0);
}
```

**3. ì‹¤ì‹œê°„ ê°€ìš©ì„± ë° ì—…ë¬´ëŸ‰ ìµœì í™”**
```java
@Component
public class CoordinatorWorkloadOptimizer {
    
    public List<CoordinatorMatch> optimizeWorkloadDistribution(List<CoordinatorMatch> matches) {
        return matches.stream()
            .map(match -> {
                Coordinator coordinator = match.getCoordinator();
                double workloadScore = calculateWorkloadScore(coordinator);
                
                // ì—…ë¬´ëŸ‰ì´ ì ì€ ì½”ë””ë„¤ì´í„°ì—ê²Œ ê°€ì‚°ì 
                double adjustedScore = match.getMatchScore() + (workloadScore * 0.3);
                
                return new CoordinatorMatch(coordinator, adjustedScore, 
                    match.getMatchReason() + generateWorkloadReason(workloadScore));
            })
            .sorted(Comparator.comparing(CoordinatorMatch::getMatchScore).reversed())
            .collect(Collectors.toList());
    }
    
    private double calculateWorkloadScore(Coordinator coordinator) {
        CoordinatorCareSettings settings = coordinator.getCareSettings();
        int currentCases = getCurrentActiveCases(coordinator.getId());
        int maxCases = settings.getMaxSimultaneousCases();
        
        // ì—…ë¬´ëŸ‰ ë¹„ìœ¨ ê³„ì‚° (ë‚®ì„ìˆ˜ë¡ ë†’ì€ ì ìˆ˜)
        double workloadRatio = (double) currentCases / maxCases;
        
        if (workloadRatio >= 1.0) return 0.0;      // í¬í™” ìƒíƒœ
        if (workloadRatio >= 0.8) return 1.0;      // ê±°ì˜ í¬í™”
        if (workloadRatio >= 0.6) return 2.0;      // ì ì • ìˆ˜ì¤€
        if (workloadRatio >= 0.4) return 3.0;      // ì—¬ìœ  ìˆìŒ
        return 4.0;                                // ë§¤ìš° ì—¬ìœ 
    }
}
```

**4. ì§€ëŠ¥í˜• ë§¤ì¹­ ê²°ê³¼ ì„¤ëª…**
```java
public class MatchingExplanationGenerator {
    
    public String generateMatchReason(Coordinator coordinator, HealthAssessment assessment) {
        StringBuilder reason = new StringBuilder();
        
        // ì „ë¬¸ì„± ë§¤ì¹­ ì´ìœ 
        if (isSpecialtyMatch(coordinator, assessment)) {
            reason.append("ğŸ¯ ì „ë¬¸ ë¶„ì•¼ ì™„ë²½ ë§¤ì¹­: ");
            reason.append(getSpecialtyDescription(coordinator, assessment));
            reason.append("\n");
        }
        
        // ê²½ë ¥ ë§¤ì¹­ ì´ìœ 
        int experience = coordinator.getCareSettings().getExperienceYears();
        reason.append("ğŸ“Š ê²½ë ¥: ").append(experience).append("ë…„ (");
        if (experience >= 10) reason.append("ìµœê³  ì „ë¬¸ê°€");
        else if (experience >= 5) reason.append("ìˆ™ë ¨ ì „ë¬¸ê°€");
        else if (experience >= 2) reason.append("ê²½ë ¥ì");
        else reason.append("ì‹ ì…");
        reason.append(")\n");
        
        // ì„±ê³¼ ì´ìœ 
        double satisfaction = coordinator.getCareSettings().getCustomerSatisfaction();
        reason.append("â­ ê³ ê° ë§Œì¡±ë„: ").append(satisfaction).append("/5.0");
        if (satisfaction >= 4.5) reason.append(" (ìµœìš°ìˆ˜)");
        else if (satisfaction >= 4.0) reason.append(" (ìš°ìˆ˜)");
        else if (satisfaction >= 3.5) reason.append(" (ì–‘í˜¸)");
        reason.append("\n");
        
        // ê°€ìš©ì„± ì´ìœ 
        int currentLoad = getCurrentActiveCases(coordinator.getId());
        int maxLoad = coordinator.getCareSettings().getMaxSimultaneousCases();
        reason.append("â° í˜„ì¬ ì—…ë¬´ëŸ‰: ").append(currentLoad).append("/").append(maxLoad);
        if (currentLoad < maxLoad * 0.6) reason.append(" (ì¦‰ì‹œ ë°°ì • ê°€ëŠ¥)");
        else if (currentLoad < maxLoad * 0.8) reason.append(" (ë°°ì • ê°€ëŠ¥)");
        else reason.append(" (ì¼ì • ì¡°ìœ¨ í•„ìš”)");
        
        return reason.toString();
    }
}
```

**5. ë§¤ì¹­ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
```yaml
ë§¤ì¹­ ì„±ê³µë¥  ì¶”ì :
  - ì´ˆê¸° ë§¤ì¹­ ì„±ê³µë¥ : ë§¤ì¹­ í›„ ê³„ì•½ ì²´ê²°ìœ¨
  - ì¥ê¸° ë§Œì¡±ë„: 3ê°œì›” í›„ ê³ ê° ë§Œì¡±ë„  
  - ì½”ë””ë„¤ì´í„° ë§Œì¡±ë„: ì—…ë¬´ ë¶€í•˜ ì ì •ì„±
  - ì¬ë§¤ì¹­ë¥ : ì½”ë””ë„¤ì´í„° ë³€ê²½ ìš”ì²­ë¥ 

ì‹¤ì‹œê°„ ìµœì í™”:
  - A/B í…ŒìŠ¤íŠ¸: ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ë¹„êµ
  - ë¨¸ì‹ ëŸ¬ë‹: ë§¤ì¹­ ì„±ê³µ íŒ¨í„´ í•™ìŠµ
  - í”¼ë“œë°± ë£¨í”„: ê²°ê³¼ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ ê°œì„ 
  - ê³„ì ˆë³„ ì¡°ì •: ì‹œê¸°ë³„ ìˆ˜ìš” íŒ¨í„´ ë°˜ì˜
```

#### **ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ API**

**ì—”í‹°í‹° ì„¤ê³„**
```java
@Entity
public class HealthAssessment {
    @Id
    private Long id;
    
    // ê¸°ë³¸ ì •ë³´
    private String memberId;
    private String gender;
    private Integer birthYear;
    
    // ADL í‰ê°€ (1-3ì )
    private Integer mobilityLevel;        // ê±·ê¸° í™œë™
    private Integer eatingLevel;          // ì‹ì‚¬ í™œë™  
    private Integer toiletLevel;          // ë°°ë³€ í™œë™
    private Integer communicationLevel;   // ì˜ì‚¬ì†Œí†µ
    
    // ì¥ê¸°ìš”ì–‘ë³´í—˜ ì •ë³´
    private Integer ltciGrade;           // 1-5ë“±ê¸‰, 6(ì¸ì§€ì§€ì›), 7(ëª¨ë¦„), 8(ì—†ìŒ)
    
    // ëŒë´„ëŒ€ìƒì ìƒíƒœ
    private Integer careTargetStatus;    // 1-4 (ìƒëª…ì˜ˆí›„ ìƒíƒœ)
    
    // ê³„ì‚°ëœ ê²°ê³¼
    private Integer adlScore;            // ADL ì ìˆ˜ (4-12ì )
    private String overallCareGrade;     // ì¢…í•© ì¼€ì–´ ë“±ê¸‰
    private LocalDateTime assessmentDate;
}

@Entity  
public class CoordinatorProfile {
    @Id
    private Long id;
    private String coordinatorId;
    
    // ì „ë¬¸ì„± ë ˆë²¨
    private Integer professionalLevel;   // 1(ì´ˆê¸‰), 2(ì¤‘ê¸‰), 3(ê³ ê¸‰)
    
    // ì¼€ì–´ ê°€ëŠ¥ ë“±ê¸‰ (JSON ë°°ì—´)
    private String compatibleCareGrades; // ["1", "2", "3"]
    
    // ì „ë¬¸ ë¶„ì•¼ (JSON ë°°ì—´)  
    private String specialties;          // ["dementia", "medical", "rehabilitation"]
    
    // ìê²©ì¦ ì •ë³´
    private String certifications;       // ["nurse", "social_worker_1"]
    
    // ê²½ë ¥ ì •ë³´
    private Integer experienceYears;
    private Integer totalCases;
    private Double satisfactionScore;
}
```

#### **ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ ê´€ë¦¬ ì‹œìŠ¤í…œ**

**API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„**
```java
@RestController
@RequestMapping("/api/coordinators")
public class CoordinatorProfileController {
    
    @GetMapping("/{coordinatorId}/care-settings")
    public ResponseEntity<CoordinatorCareSettings> getCareSettings(@PathVariable String coordinatorId) {
        // ì½”ë””ë„¤ì´í„° ì¼€ì–´ ì„¤ì • ì¡°íšŒ
    }
    
    @PutMapping("/{coordinatorId}/care-settings")
    public ResponseEntity<CoordinatorCareSettings> updateCareSettings(
        @PathVariable String coordinatorId,
        @RequestBody @Valid CoordinatorCareSettingsRequest request) {
        // ì¼€ì–´ ì„¤ì • ì—…ë°ì´íŠ¸
    }
    
    @PostMapping("/{coordinatorId}/care-grades/preferences")
    public ResponseEntity<Void> updateCareGradePreferences(
        @PathVariable String coordinatorId,
        @RequestBody CareGradePreferencesRequest request) {
        // ì„ í˜¸/ê±°ë¶€ ì¼€ì–´ ë“±ê¸‰ ì„¤ì •
    }
    
    @GetMapping("/{coordinatorId}/matching-statistics")
    public ResponseEntity<MatchingStatistics> getMatchingStatistics(@PathVariable String coordinatorId) {
        // ë§¤ì¹­ ì„±ê³¼ í†µê³„ ì¡°íšŒ
    }
    
    @PostMapping("/{coordinatorId}/availability")
    public ResponseEntity<Void> updateAvailability(
        @PathVariable String coordinatorId,
        @RequestBody AvailabilityRequest request) {
        // ì‹¤ì‹œê°„ ê°€ìš©ì„± ì—…ë°ì´íŠ¸
    }
}
```

**React ì»´í¬ë„ŒíŠ¸ - ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ ê´€ë¦¬**
```typescript
// ì½”ë””ë„¤ì´í„° ì¼€ì–´ ì„¤ì • ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸
export const CoordinatorCareSettingsForm: React.FC = () => {
  const [settings, setSettings] = useState<CoordinatorCareSettings>({
    preferredCareGrades: [],
    excludedCareGrades: [],
    specialtyAreas: [],
    maxSimultaneousCases: 3,
    preferredCasesPerMonth: 10,
    availableWeekends: false,
    availableEmergency: false,
    workingRegions: []
  });

  const careGradeOptions = [
    { value: 1, label: "1ë“±ê¸‰ (ìµœì¤‘ì¦)", description: "24ì‹œê°„ ì „ë¬¸ ì¼€ì–´ í•„ìš”" },
    { value: 2, label: "2ë“±ê¸‰ (ì¤‘ì¦)", description: "ì§‘ì¤‘ì ì¸ ì˜ë£Œ ì§€ì› í•„ìš”" },
    { value: 3, label: "3ë“±ê¸‰ (ì¤‘ë“±ì¦)", description: "ì¼ìƒ í™œë™ ìƒë‹¹í•œ ë„ì›€ í•„ìš”" },
    { value: 4, label: "4ë“±ê¸‰ (ê²½ì¦)", description: "ë¶€ë¶„ì ì¸ ë„ì›€ í•„ìš”" },
    { value: 5, label: "5ë“±ê¸‰ (ê²½ì¦)", description: "ê¸°ë³¸ì ì¸ ì§€ì› í•„ìš”" },
    { value: 6, label: "ì¸ì§€ì§€ì›ë“±ê¸‰", description: "ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´" }
  ];

  const specialtyOptions = [
    { value: "dementia", label: "ì¹˜ë§¤ ì „ë¬¸", icon: "ğŸ§ " },
    { value: "medical", label: "ì˜ë£Œ ì „ë¬¸", icon: "ğŸ¥" },
    { value: "rehabilitation", label: "ì¬í™œ ì „ë¬¸", icon: "ğŸ’ª" },
    { value: "nutrition", label: "ì˜ì–‘ ì „ë¬¸", icon: "ğŸ¥—" },
    { value: "multilingual", label: "ë‹¤êµ­ì–´ ì§€ì›", icon: "ğŸŒ" },
    { value: "hospice", label: "í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´", icon: "ğŸ•Šï¸" }
  ];

  const handleSaveSettings = async () => {
    try {
      await coordinatorApi.updateCareSettings(coordinatorId, settings);
      toast.success("ì¼€ì–´ ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.");
    } catch (error) {
      toast.error("ì„¤ì • ì—…ë°ì´íŠ¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
    }
  };

  return (
    <div className="coordinator-care-settings">
      <div className="settings-section">
        <h3>ì„ í˜¸ ì¼€ì–´ ë“±ê¸‰ ì„¤ì •</h3>
        <p className="description">ë‹´ë‹¹í•˜ê³  ì‹¶ì€ ì¼€ì–´ ë“±ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”. (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)</p>
        
        <div className="care-grade-selection">
          {careGradeOptions.map(option => (
            <div key={option.value} className="grade-option">
              <Checkbox
                checked={settings.preferredCareGrades.includes(option.value)}
                onChange={(checked) => handleGradeToggle('preferred', option.value, checked)}
              />
              <div className="grade-info">
                <span className="grade-label">{option.label}</span>
                <span className="grade-description">{option.description}</span>
              </div>
            </div>
          ))}
        </div>
      </div>

      <div className="settings-section">
        <h3>ì¼€ì–´ ê±°ë¶€ ë“±ê¸‰ ì„¤ì •</h3>
        <p className="description">ê°œì¸ ì‚¬ì •ìœ¼ë¡œ ë‹´ë‹¹í•˜ê¸° ì–´ë ¤ìš´ ë“±ê¸‰ì„ ì„ íƒí•˜ì„¸ìš”.</p>
        
        <div className="excluded-grades">
          {careGradeOptions.map(option => (
            <div key={option.value} className="grade-option">
              <Checkbox
                checked={settings.excludedCareGrades.includes(option.value)}
                onChange={(checked) => handleGradeToggle('excluded', option.value, checked)}
              />
              <span>{option.label}</span>
            </div>
          ))}
        </div>
      </div>

      <div className="settings-section">
        <h3>ì „ë¬¸ ë¶„ì•¼ ì„¤ì •</h3>
        <div className="specialty-selection">
          {specialtyOptions.map(specialty => (
            <div key={specialty.value} className="specialty-card">
              <input
                type="checkbox"
                checked={settings.specialtyAreas.includes(specialty.value)}
                onChange={(e) => handleSpecialtyToggle(specialty.value, e.target.checked)}
              />
              <div className="specialty-info">
                <span className="specialty-icon">{specialty.icon}</span>
                <span className="specialty-label">{specialty.label}</span>
              </div>
            </div>
          ))}
        </div>
      </div>

      <div className="settings-section">
        <h3>ì—…ë¬´ëŸ‰ ì„¤ì •</h3>
        <div className="workload-settings">
          <div className="input-group">
            <label>ë™ì‹œ ë‹´ë‹¹ ê°€ëŠ¥ ì¼€ì´ìŠ¤ ìˆ˜</label>
            <input
              type="number"
              min="1"
              max="10"
              value={settings.maxSimultaneousCases}
              onChange={(e) => setSettings({...settings, maxSimultaneousCases: parseInt(e.target.value)})}
            />
          </div>
          
          <div className="input-group">
            <label>ì›” ì„ í˜¸ ì¼€ì´ìŠ¤ ìˆ˜</label>
            <input
              type="number"
              min="1"
              max="30"
              value={settings.preferredCasesPerMonth}
              onChange={(e) => setSettings({...settings, preferredCasesPerMonth: parseInt(e.target.value)})}
            />
          </div>
        </div>
      </div>

      <div className="settings-section">
        <h3>ê·¼ë¬´ ì¡°ê±´ ì„¤ì •</h3>
        <div className="work-conditions">
          <div className="condition-item">
            <Checkbox
              checked={settings.availableWeekends}
              onChange={(checked) => setSettings({...settings, availableWeekends: checked})}
            />
            <span>ì£¼ë§ ê·¼ë¬´ ê°€ëŠ¥</span>
          </div>
          
          <div className="condition-item">
            <Checkbox
              checked={settings.availableEmergency}
              onChange={(checked) => setSettings({...settings, availableEmergency: checked})}
            />
            <span>ì‘ê¸‰ ìƒí™© ëŒ€ì‘ ê°€ëŠ¥</span>
          </div>
        </div>
      </div>

      <div className="settings-actions">
        <button onClick={handleSaveSettings} className="save-button">
          ì„¤ì • ì €ì¥
        </button>
        <button onClick={handlePreviewMatching} className="preview-button">
          ë§¤ì¹­ ë¯¸ë¦¬ë³´ê¸°
        </button>
      </div>
    </div>
  );
};
```

**ë§¤ì¹­ ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸**
```typescript
export const MatchingPreview: React.FC<{coordinatorId: string}> = ({coordinatorId}) => {
  const [matchingPreview, setMatchingPreview] = useState<MatchingPreviewData | null>(null);
  
  const loadMatchingPreview = async () => {
    const preview = await coordinatorApi.getMatchingPreview(coordinatorId);
    setMatchingPreview(preview);
  };

  return (
    <div className="matching-preview">
      <h3>ğŸ¯ ë§¤ì¹­ ë¯¸ë¦¬ë³´ê¸°</h3>
      <p>í˜„ì¬ ì„¤ì •ìœ¼ë¡œ ë§¤ì¹­ ê°€ëŠ¥í•œ ì¼€ì´ìŠ¤ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”.</p>
      
      {matchingPreview && (
        <div className="preview-results">
          <div className="preview-stats">
            <div className="stat-item">
              <span className="stat-number">{matchingPreview.totalEligibleCases}</span>
              <span className="stat-label">ë§¤ì¹­ ê°€ëŠ¥ ì¼€ì´ìŠ¤</span>
            </div>
            
            <div className="stat-item">
              <span className="stat-number">{matchingPreview.averageMatchScore.toFixed(1)}</span>
              <span className="stat-label">í‰ê·  ë§¤ì¹­ ì ìˆ˜</span>
            </div>
            
            <div className="stat-item">
              <span className="stat-number">{matchingPreview.weeklyExpectedCases}</span>
              <span className="stat-label">ì£¼ê°„ ì˜ˆìƒ ë°°ì •</span>
            </div>
          </div>

          <div className="preview-recommendations">
            <h4>ğŸ’¡ ì„¤ì • ê°œì„  ì œì•ˆ</h4>
            {matchingPreview.recommendations.map((rec, index) => (
              <div key={index} className="recommendation-item">
                <span className="rec-icon">ğŸ’¡</span>
                <span className="rec-text">{rec.message}</span>
                {rec.actionable && (
                  <button 
                    className="apply-recommendation"
                    onClick={() => applyRecommendation(rec)}
                  >
                    ì ìš©
                  </button>
                )}
              </div>
            ))}
          </div>
        </div>
      )}
    </div>
  );
};
```

**ì‹¤ì‹œê°„ ê°€ìš©ì„± ê´€ë¦¬**
```typescript
export const CoordinatorAvailabilityWidget: React.FC = () => {
  const [availability, setAvailability] = useState({
    status: 'available', // available, busy, offline
    currentCases: 2,
    maxCases: 5,
    nextAvailable: null as Date | null
  });

  const updateAvailability = async (newStatus: string) => {
    await coordinatorApi.updateAvailability(coordinatorId, {
      status: newStatus,
      timestamp: new Date()
    });
    setAvailability({...availability, status: newStatus});
  };

  return (
    <div className="availability-widget">
      <h4>ğŸ“Š ì‹¤ì‹œê°„ ê°€ìš©ì„±</h4>
      
      <div className="current-status">
        <div className={`status-indicator ${availability.status}`}>
          <span className="status-dot"></span>
          <span className="status-text">
            {availability.status === 'available' && 'ë§¤ì¹­ ê°€ëŠ¥'}
            {availability.status === 'busy' && 'ì—…ë¬´ ì¤‘'}
            {availability.status === 'offline' && 'ì˜¤í”„ë¼ì¸'}
          </span>
        </div>
      </div>

      <div className="workload-indicator">
        <div className="workload-bar">
          <div 
            className="workload-fill"
            style={{width: `${(availability.currentCases / availability.maxCases) * 100}%`}}
          ></div>
        </div>
        <span className="workload-text">
          {availability.currentCases}/{availability.maxCases} ì¼€ì´ìŠ¤ ë‹´ë‹¹ ì¤‘
        </span>
      </div>

      <div className="status-controls">
        <button 
          onClick={() => updateAvailability('available')}
          className={availability.status === 'available' ? 'active' : ''}
        >
          ë§¤ì¹­ ê°€ëŠ¥
        </button>
        <button 
          onClick={() => updateAvailability('busy')}
          className={availability.status === 'busy' ? 'active' : ''}
        >
          ì—…ë¬´ ì¤‘
        </button>
        <button 
          onClick={() => updateAvailability('offline')}
          className={availability.status === 'offline' ? 'active' : ''}
        >
          ì˜¤í”„ë¼ì¸
        </button>
      </div>
    </div>
  );
};
```

#### **ì²´í¬ë¦¬ìŠ¤íŠ¸ UI ì»´í¬ë„ŒíŠ¸**

**React ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°**
```typescript
// ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸
export const HealthAssessmentForm: React.FC = () => {
  const [assessment, setAssessment] = useState<HealthAssessmentData>({
    mobility: null,
    eating: null, 
    toilet: null,
    communication: null,
    ltciGrade: null,
    careTargetStatus: null
  });

  const assessmentQuestions = {
    mobility: {
      title: "ê±·ê¸° í™œë™ ëŠ¥ë ¥",
      options: [
        { value: 1, label: "í˜¼ìì„œ ê°€ëŠ¥í•´ìš”" },
        { value: 2, label: "ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš”\n(íƒ€ì¸ì˜ ë¶€ì¶•, ì§€íŒ¡ì´ ì´ìš© ë“±)" },
        { value: 3, label: "í˜¼ìì„œëŠ” ë³´í–‰ì´ ì–´ë ¤ì›Œìš”\n(íœ ì²´ì–´ ì‚¬ìš© ë“±)" }
      ]
    },
    // ... ë‹¤ë¥¸ í•­ëª©ë“¤
  };

  const handleSubmit = async () => {
    const result = await healthAssessmentApi.calculate(assessment);
    // ê²°ê³¼ ì²˜ë¦¬ ë° ì½”ë””ë„¤ì´í„° ì¶”ì²œ
  };
};
```

---

## ğŸ¤– ì±—ë´‡ 'ì—˜ë¹„' ìë™í™” ì‹œìŠ¤í…œ (AI-Powered Process Automation)

### ì±—ë´‡ ìë™í™”ì˜ í•µì‹¬ ê°€ì¹˜

**ì¬ì™¸ë™í¬ë¥¼ ìœ„í•œ í•œêµ­ í–‰ì • ì ˆì°¨ ìë™í™”**
```yaml
ìë™í™” ëª©í‘œ:
  - ë³µì¡í•œ í•œêµ­ í–‰ì • ì ˆì°¨ë¥¼ ë‹¨ê³„ë³„ ëŒ€í™”ë¡œ ë‹¨ìˆœí™”
  - ë°˜ë³µì ì¸ ì„œë¥˜ ì‘ì„± ì‘ì—…ì„ AIê°€ ëŒ€ì‹  ì²˜ë¦¬
  - 24ì‹œê°„ ë‹¤êµ­ì–´ ì§€ì›ìœ¼ë¡œ ì‹œì°¨ ë¬¸ì œ í•´ê²°
  - ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ì¶”ì  ë° ì•Œë¦¼

ëŒ€ìƒ ì‚¬ìš©ì:
  - ì¬ì™¸ë™í¬: í•œêµ­ ì‹œìŠ¤í…œì— ìµìˆ™í•˜ì§€ ì•Šì€ í•´ì™¸ ê±°ì£¼ì
  - ê³ ë ¹ì: ë³µì¡í•œ ì˜¨ë¼ì¸ ì–‘ì‹ ì‘ì„±ì´ ì–´ë ¤ìš´ ì‚¬ìš©ì
  - ê°€ì¡±: ë¶€ëª¨ë‹˜ ëŒ€ì‹  ì„œë¥˜ë¥¼ ì¤€ë¹„í•˜ëŠ” ìë…€ë“¤
```

#### **A. ì±—ë´‡ ê¸°ë°˜ ì„œë¥˜ ì‘ì„± ìë™í™”**

**1. ê±´ê°• ê´€ë ¨ ì„œë¥˜ ìë™í™”**
```java
@Component
public class HealthDocumentAutomation {
    
    public class HealthCertificateBot {
        
        public ChatResponse processHealthCertificate(String userId, ChatMessage message) {
            HealthDocumentSession session = getOrCreateSession(userId, "health_certificate");
            
            switch (session.getCurrentStep()) {
                case "GREETING":
                    return askBasicInfo();
                    
                case "BASIC_INFO":
                    session.setBasicInfo(extractBasicInfo(message));
                    return askMedicalHistory();
                    
                case "MEDICAL_HISTORY":
                    session.setMedicalHistory(extractMedicalHistory(message));
                    return askCurrentSymptoms();
                    
                case "CURRENT_SYMPTOMS":
                    session.setCurrentSymptoms(extractSymptoms(message));
                    return askPreferredHospital();
                    
                case "HOSPITAL_SELECTION":
                    session.setPreferredHospital(extractHospital(message));
                    return generateHealthCertificateForm(session);
                    
                case "FORM_REVIEW":
                    if (message.getContent().contains("í™•ì¸") || message.getContent().contains("ì œì¶œ")) {
                        return submitHealthCertificateApplication(session);
                    }
                    return askForCorrections(message);
            }
        }
        
        private ChatResponse askBasicInfo() {
            return ChatResponse.builder()
                .message("ì•ˆë…•í•˜ì„¸ìš”! ê±´ê°•ì§„ë‹¨ì„œ ì‹ ì²­ì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ê¸°ë³¸ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.\n\n" +
                        "ğŸ“‹ í•„ìš”í•œ ì •ë³´:\n" +
                        "â€¢ ì„±ëª… (í•œê¸€)\n" +
                        "â€¢ ìƒë…„ì›”ì¼ (ì˜ˆ: 1950ë…„ 3ì›” 15ì¼)\n" +
                        "â€¢ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì• 6ìë¦¬\n\n" +
                        "ì˜ˆì‹œ: í™ê¸¸ë™, 1950ë…„ 3ì›” 15ì¼, 500315")
                .type(ChatMessageType.FORM_INPUT)
                .expectedInput(Arrays.asList("name", "birthDate", "residentNumber"))
                .build();
        }
        
        private ChatResponse generateHealthCertificateForm(HealthDocumentSession session) {
            // AIê°€ ìˆ˜ì§‘ëœ ì •ë³´ë¡œ ê±´ê°•ì§„ë‹¨ì„œ ì‹ ì²­ì„œ ìë™ ì‘ì„±
            HealthCertificateForm form = HealthCertificateForm.builder()
                .name(session.getBasicInfo().getName())
                .birthDate(session.getBasicInfo().getBirthDate())
                .residentNumber(session.getBasicInfo().getResidentNumber())
                .medicalHistory(session.getMedicalHistory())
                .currentSymptoms(session.getCurrentSymptoms())
                .preferredHospital(session.getPreferredHospital())
                .applicationDate(LocalDateTime.now())
                .build();
                
            String formPreview = generateFormPreview(form);
            
            return ChatResponse.builder()
                .message("âœ… ê±´ê°•ì§„ë‹¨ì„œ ì‹ ì²­ì„œê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n" + formPreview + 
                        "\n\në‚´ìš©ì„ í™•ì¸í•˜ì‹œê³  'ì œì¶œ'ì´ë¼ê³  ë§ì”€í•´ì£¼ì„¸ìš”. ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ 'ìˆ˜ì •'ì´ë¼ê³  í•´ì£¼ì„¸ìš”.")
                .type(ChatMessageType.FORM_PREVIEW)
                .attachments(Arrays.asList(generatePdfForm(form)))
                .build();
        }
    }
}
```

**2. ì¥ê¸°ìš”ì–‘ì¸ì •ì„œ ì‹ ì²­ ìë™í™”**
```java
@Component
public class LtciApplicationBot {
    
    public ChatResponse processLtciApplication(String userId, ChatMessage message) {
        LtciApplicationSession session = getOrCreateSession(userId, "ltci_application");
        
        switch (session.getCurrentStep()) {
            case "GREETING":
                return explainLtciProcess();
                
            case "CARE_ASSESSMENT":
                return conductCareAssessment(message);
                
            case "FAMILY_INFO":
                return collectFamilyInformation(message);
                
            case "PREFERRED_SERVICES":
                return askPreferredServices(message);
                
            case "DOCUMENT_PREPARATION":
                return prepareRequiredDocuments(session);
                
            case "FINAL_REVIEW":
                return submitLtciApplication(session);
        }
    }
    
    private ChatResponse explainLtciProcess() {
        return ChatResponse.builder()
            .message("ğŸ¥ ì¥ê¸°ìš”ì–‘ì¸ì • ì‹ ì²­ ì ˆì°¨ë¥¼ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\n" +
                    "ğŸ“ í•„ìš”í•œ ë‹¨ê³„:\n" +
                    "1ï¸âƒ£ ê±´ê°• ìƒíƒœ í‰ê°€ (5ë¶„)\n" +
                    "2ï¸âƒ£ ê°€ì¡± ì •ë³´ ì…ë ¥ (3ë¶„)\n" +
                    "3ï¸âƒ£ í¬ë§ ì„œë¹„ìŠ¤ ì„ íƒ (2ë¶„)\n" +
                    "4ï¸âƒ£ ì„œë¥˜ ìë™ ìƒì„± ë° ì œì¶œ\n\n" +
                    "ì´ ì†Œìš”ì‹œê°„: ì•½ 10ë¶„\n\n" +
                    "ì‹œì‘í•˜ì‹œë ¤ë©´ 'ì‹œì‘'ì´ë¼ê³  ë§ì”€í•´ì£¼ì„¸ìš”!")
            .type(ChatMessageType.PROCESS_GUIDE)
            .quickReplies(Arrays.asList("ì‹œì‘", "ë” ìì„¸í•œ ì„¤ëª…"))
            .build();
    }
    
    private ChatResponse conductCareAssessment(ChatMessage message) {
        // ê¸°ì¡´ ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ëŒ€í™”í˜•ìœ¼ë¡œ ì§„í–‰
        return HealthAssessmentChatbot.processCareAssessment(message);
    }
}
```

#### **B. ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™í™” ì‹œìŠ¤í…œ**

**1. ëŒ€í™”í˜• ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸**
```java
@Component
public class InteractiveCareAssessment {
    
    public class CareAssessmentChatbot {
        
        public ChatResponse processCareAssessment(ChatMessage message) {
            AssessmentSession session = getOrCreateSession(message.getUserId(), "care_assessment");
            
            switch (session.getCurrentQuestion()) {
                case "MOBILITY":
                    return askMobilityLevel();
                    
                case "EATING":
                    return askEatingLevel(session);
                    
                case "TOILET":
                    return askToiletLevel(session);
                    
                case "COMMUNICATION":
                    return askCommunicationLevel(session);
                    
                case "LTCI_GRADE":
                    return askLtciGrade(session);
                    
                case "ASSESSMENT_COMPLETE":
                    return generateAssessmentResult(session);
            }
        }
        
        private ChatResponse askMobilityLevel() {
            return ChatResponse.builder()
                .message("ğŸš¶â€â™‚ï¸ **ê±·ê¸° í™œë™ ëŠ¥ë ¥**ì— ëŒ€í•´ ì§ˆë¬¸ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\n" +
                        "ë‹¤ìŒ ì¤‘ ì–´ëŠ ê²ƒì´ ê°€ì¥ ê°€ê¹Œìš°ì‹ ê°€ìš”?\n\n" +
                        "1ï¸âƒ£ í˜¼ìì„œ ê±¸ì„ ìˆ˜ ìˆì–´ìš”\n" +
                        "2ï¸âƒ£ ì§€íŒ¡ì´ë‚˜ ë¶€ì¶•ì´ í•„ìš”í•´ìš”\n" +
                        "3ï¸âƒ£ íœ ì²´ì–´ë¥¼ ì‚¬ìš©í•´ìš”\n\n" +
                        "ë²ˆí˜¸ë‚˜ ì„¤ëª…ìœ¼ë¡œ ë‹µë³€í•´ì£¼ì„¸ìš”.")
                .type(ChatMessageType.MULTIPLE_CHOICE)
                .quickReplies(Arrays.asList("1", "2", "3", "í˜¼ìì„œ ê°€ëŠ¥", "ë¶€ì¶• í•„ìš”", "íœ ì²´ì–´ ì‚¬ìš©"))
                .build();
        }
        
        private ChatResponse generateAssessmentResult(AssessmentSession session) {
            HealthAssessment assessment = calculateAssessment(session);
            
            String resultMessage = String.format(
                "âœ… **ê±´ê°• ìƒíƒœ í‰ê°€ ì™„ë£Œ**\n\n" +
                "ğŸ“Š **í‰ê°€ ê²°ê³¼:**\n" +
                "â€¢ ADL ì ìˆ˜: %dì \n" +
                "â€¢ ì¢…í•© ì¼€ì–´ ë“±ê¸‰: %s\n" +
                "â€¢ ì¶”ì²œ ì‹œì„¤ íƒ€ì…: %s\n\n" +
                "ğŸ¯ **ë§¤ì¹­ëœ ì½”ë””ë„¤ì´í„°:** %dëª…\n" +
                "ğŸ¥ **ì¶”ì²œ ìš”ì–‘ì‹œì„¤:** %dê³³\n\n" +
                "ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                assessment.getAdlScore(),
                assessment.getOverallCareGrade(),
                getRecommendedFacilityTypes(assessment),
                getMatchedCoordinatorCount(assessment),
                getRecommendedFacilityCount(assessment)
            );
            
            return ChatResponse.builder()
                .message(resultMessage)
                .type(ChatMessageType.ASSESSMENT_RESULT)
                .quickReplies(Arrays.asList("ì½”ë””ë„¤ì´í„° ë§¤ì¹­", "ì‹œì„¤ ë‘˜ëŸ¬ë³´ê¸°", "ê²°ê³¼ ì €ì¥"))
                .data(assessment)
                .build();
        }
    }
}
```

**2. ì‹œì„¤ ê²¬í•™ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™í™”**
```java
@Component
public class FacilityVisitChecklistBot {
    
    public ChatResponse processFacilityVisit(String userId, Long facilityId, ChatMessage message) {
        VisitSession session = getOrCreateSession(userId, facilityId);
        
        switch (session.getCurrentStep()) {
            case "PRE_VISIT":
                return providePreVisitGuidance();
                
            case "DURING_VISIT":
                return guideDuringVisit(message);
                
            case "POST_VISIT":
                return collectPostVisitFeedback(message);
                
            case "EVALUATION_COMPLETE":
                return generateVisitReport(session);
        }
    }
    
    private ChatResponse providePreVisitGuidance() {
        return ChatResponse.builder()
            .message("ğŸ¥ **ì‹œì„¤ ê²¬í•™ ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!**\n\n" +
                    "ğŸ“‹ **ê²¬í•™ ì‹œ í™•ì¸í•  í•­ëª©ë“¤:**\n\n" +
                    "ğŸ” **ì‹œì„¤ í™˜ê²½**\n" +
                    "â€¢ ì²­ê²°ë„ ë° ëƒ„ìƒˆ\n" +
                    "â€¢ ì•ˆì „ì‹œì„¤ (ë‚œê°„, ì‘ê¸‰ë²¨)\n" +
                    "â€¢ ê³µìš©ê³µê°„ í™œìš©ë„\n\n" +
                    "ğŸ‘¥ **ì§ì› ì„œë¹„ìŠ¤**\n" +
                    "â€¢ ì§ì› ì¹œì ˆë„\n" +
                    "â€¢ ì „ë¬¸ì„± ë° ê²½í—˜\n" +
                    "â€¢ ì…ì£¼ìì™€ì˜ ì†Œí†µ ë°©ì‹\n\n" +
                    "ğŸ’° **ë¹„ìš© ë° ê³„ì•½**\n" +
                    "â€¢ ì›” ì´ìš©ë£Œ ë° ì¶”ê°€ ë¹„ìš©\n" +
                    "â€¢ ê³„ì•½ ì¡°ê±´ ë° í™˜ë¶ˆ ì •ì±…\n\n" +
                    "ê²¬í•™ì„ ì‹œì‘í•˜ì‹œë©´ 'ê²¬í•™ ì‹œì‘'ì´ë¼ê³  ì•Œë ¤ì£¼ì„¸ìš”!")
            .type(ChatMessageType.VISIT_GUIDE)
            .quickReplies(Arrays.asList("ê²¬í•™ ì‹œì‘", "ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°›ê¸°", "ì§ˆë¬¸ ëª©ë¡"))
            .build();
    }
    
    private ChatResponse guideDuringVisit(ChatMessage message) {
        if (message.getContent().contains("ê²¬í•™ ì‹œì‘")) {
            return startInteractiveChecklist();
        }
        
        // ìŒì„±/í…ìŠ¤íŠ¸ë¡œ ì‹¤ì‹œê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì§„í–‰
        return processChecklistItem(message);
    }
    
    private ChatResponse startInteractiveChecklist() {
        return ChatResponse.builder()
            .message("ğŸ“± **ì‹¤ì‹œê°„ ê²¬í•™ ê°€ì´ë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤!**\n\n" +
                    "ğŸ¤ ìŒì„±ìœ¼ë¡œ ë‹µë³€í•˜ì‹œê±°ë‚˜ í…ìŠ¤íŠ¸ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.\n\n" +
                    "**ì²« ë²ˆì§¸ ì§ˆë¬¸:**\n" +
                    "ì‹œì„¤ì— ë“¤ì–´ì„œìë§ˆì ëŠê»´ì§€ëŠ” ì²«ì¸ìƒì€ ì–´ë– ì‹ ê°€ìš”?\n" +
                    "(ì²­ê²°ë„, ëƒ„ìƒˆ, ë¶„ìœ„ê¸° ë“±)")
            .type(ChatMessageType.VOICE_INPUT_ENABLED)
            .expectedInput(Arrays.asList("cleanliness", "smell", "atmosphere"))
            .build();
    }
}
```

#### **C. ì¼ì • ê´€ë¦¬ ë° ì˜ˆì•½ ìë™í™”**

**1. ë³‘ì› ì˜ˆì•½ ìë™í™”**
```java
@Component
public class HospitalBookingBot {
    
    public ChatResponse processHospitalBooking(String userId, ChatMessage message) {
        BookingSession session = getOrCreateSession(userId, "hospital_booking");
        
        switch (session.getCurrentStep()) {
            case "HOSPITAL_SELECTION":
                return recommendHospitals(session);
                
            case "APPOINTMENT_TYPE":
                return askAppointmentType(message);
                
            case "PREFERRED_TIME":
                return askPreferredTime(message);
                
            case "BOOKING_CONFIRMATION":
                return confirmAndBook(session);
        }
    }
    
    private ChatResponse recommendHospitals(BookingSession session) {
        // ê±´ê°• ìƒíƒœ ê¸°ë°˜ ë³‘ì› ì¶”ì²œ
        List<Hospital> recommendedHospitals = hospitalRecommendationService
            .recommend(session.getHealthAssessment());
            
        String hospitalList = recommendedHospitals.stream()
            .map(hospital -> String.format(
                "ğŸ¥ **%s**\n" +
                "ğŸ“ %s\n" +
                "â­ %s (%dê°œ ë¦¬ë·°)\n" +
                "ğŸš— ê±°ë¦¬: %s\n" +
                "ğŸ’° ì§„ë£Œë¹„: %s\n",
                hospital.getName(),
                hospital.getAddress(),
                hospital.getRating(),
                hospital.getReviewCount(),
                hospital.getDistance(),
                hospital.getEstimatedCost()
            ))
            .collect(Collectors.joining("\n"));
            
        return ChatResponse.builder()
            .message("ğŸ¥ **ê±´ê°•ê²€ì§„ ê°€ëŠ¥í•œ ë³‘ì›ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤:**\n\n" + hospitalList +
                    "\nì–´ëŠ ë³‘ì›ì—ì„œ ê²€ì§„ë°›ìœ¼ì‹œê² ì–´ìš”?")
            .type(ChatMessageType.HOSPITAL_SELECTION)
            .quickReplies(recommendedHospitals.stream()
                .map(Hospital::getName)
                .collect(Collectors.toList()))
            .build();
    }
}
```

#### **D. ë‹¤êµ­ì–´ ì§€ì› ë° ìŒì„± ì¸ì‹**

**1. ë‹¤êµ­ì–´ ëŒ€í™” ì‹œìŠ¤í…œ**
```java
@Component
public class MultilingualChatbot {
    
    public ChatResponse processMessage(ChatMessage message) {
        String detectedLanguage = languageDetectionService.detect(message.getContent());
        String userId = message.getUserId();
        
        // ì‚¬ìš©ì ì–¸ì–´ ì„¤ì • ì €ì¥
        userPreferenceService.setLanguage(userId, detectedLanguage);
        
        // ë©”ì‹œì§€ë¥¼ í•œêµ­ì–´ë¡œ ë²ˆì—­ (ì²˜ë¦¬ìš©)
        String translatedMessage = translationService.translate(message.getContent(), detectedLanguage, "ko");
        
        // ì±—ë´‡ ë¡œì§ ì²˜ë¦¬
        ChatResponse response = chatbotEngine.process(translatedMessage, userId);
        
        // ì‘ë‹µì„ ì‚¬ìš©ì ì–¸ì–´ë¡œ ë²ˆì—­
        String localizedResponse = translationService.translate(response.getMessage(), "ko", detectedLanguage);
        response.setMessage(localizedResponse);
        
        return response;
    }
    
    @Service
    public class VoiceInteractionService {
        
        public ChatResponse processVoiceInput(String userId, AudioData audioData) {
            // ìŒì„±ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜
            String recognizedText = speechToTextService.recognize(audioData);
            
            // ì–¸ì–´ ê°ì§€ ë° ë²ˆì—­
            ChatMessage textMessage = ChatMessage.builder()
                .userId(userId)
                .content(recognizedText)
                .type(MessageType.VOICE)
                .build();
                
            ChatResponse response = processMessage(textMessage);
            
            // ì‘ë‹µì„ ìŒì„±ìœ¼ë¡œ ë³€í™˜
            AudioData responseAudio = textToSpeechService.synthesize(
                response.getMessage(), 
                userPreferenceService.getLanguage(userId)
            );
            
            response.setAudioResponse(responseAudio);
            return response;
        }
    }
}
```

#### **E. ì§„í–‰ ìƒí™© ì¶”ì  ë° ì•Œë¦¼**

**1. í”„ë¡œì„¸ìŠ¤ ì¶”ì  ì‹œìŠ¤í…œ**
```java
@Entity
public class ChatbotProcessTracker {
    @Id
    private Long id;
    private String userId;
    private String processType;              // "health_certificate", "ltci_application"
    private String currentStep;
    private Integer totalSteps;
    private Integer completedSteps;
    private Double progressPercentage;
    
    // ìˆ˜ì§‘ëœ ë°ì´í„°
    @Column(columnDefinition = "TEXT")
    private String collectedData;            // JSON í˜•íƒœë¡œ ì €ì¥
    
    // ìƒì„±ëœ ë¬¸ì„œë“¤
    @ElementCollection
    private List<String> generatedDocuments;
    
    // ë‹¤ìŒ ì•¡ì…˜
    private String nextAction;
    private LocalDateTime nextActionDate;
    
    private LocalDateTime createdAt;
    private LocalDateTime lastUpdated;
}

@Service
public class ProcessNotificationService {
    
    public void sendProgressUpdate(String userId, String processType) {
        ChatbotProcessTracker tracker = processTrackerRepository
            .findByUserIdAndProcessType(userId, processType);
            
        String progressMessage = String.format(
            "ğŸ“‹ **%s ì§„í–‰ ìƒí™©**\n\n" +
            "âœ… ì™„ë£Œ: %d/%d ë‹¨ê³„ (%.0f%%)\n" +
            "ğŸ“ í˜„ì¬ ë‹¨ê³„: %s\n" +
            "â° ë‹¤ìŒ í• ì¼: %s\n" +
            "ğŸ“… ì˜ˆì •ì¼: %s",
            getProcessDisplayName(processType),
            tracker.getCompletedSteps(),
            tracker.getTotalSteps(),
            tracker.getProgressPercentage(),
            getCurrentStepName(tracker.getCurrentStep()),
            tracker.getNextAction(),
            tracker.getNextActionDate()
        );
        
        notificationService.sendChatbotMessage(userId, progressMessage);
    }
    
    @Scheduled(cron = "0 0 9 * * *") // ë§¤ì¼ ì˜¤ì „ 9ì‹œ
    public void sendDailyReminders() {
        List<ChatbotProcessTracker> pendingProcesses = processTrackerRepository
            .findPendingProcesses();
            
        pendingProcesses.forEach(tracker -> {
            if (needsReminder(tracker)) {
                sendReminderMessage(tracker);
            }
        });
    }
}
```

#### **F. ì±—ë´‡ ì‹œìŠ¤í…œ í˜¸í™˜ì„± ë° í™•ì¥ì„± ê²€í† **

**1. ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ API í˜¸í™˜ì„±**
```yaml
í˜¸í™˜ ê°€ëŠ¥í•œ ê¸°ì¡´ API:
  - HealthAssessment API: ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê²°ê³¼ ì—°ë™
  - CoordinatorMatching API: ì±—ë´‡ â†’ ë§¤ì¹­ ì‹œìŠ¤í…œ ìë™ ì—°ê³„
  - FacilityRecommendation API: ì‹œì„¤ ì¶”ì²œ ê²°ê³¼ í™œìš©
  - DocumentGeneration API: ì„œë¥˜ ìë™ ìƒì„± ì—°ë™

ë°ì´í„° êµ¬ì¡° í˜¸í™˜ì„±:
  - ê¸°ì¡´ HealthAssessment ì—”í‹°í‹°ì™€ 100% í˜¸í™˜
  - ChatbotProcessTrackerê°€ ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¶”ì ê³¼ ì—°ê³„
  - ìƒì„±ëœ ë¬¸ì„œëŠ” ê¸°ì¡´ íŒŒì¼ ê´€ë¦¬ ì‹œìŠ¤í…œ í™œìš©
```

**2. í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜**
```java
// ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ ì¶”ê°€ ì‹œ í™•ì¥ ì˜ˆì‹œ
@Component
public class InsuranceApplicationBot extends BaseDocumentBot {
    
    @Override
    protected List<String> getRequiredSteps() {
        return Arrays.asList(
            "INSURANCE_TYPE_SELECTION",
            "BENEFICIARY_INFO", 
            "COVERAGE_SELECTION",
            "DOCUMENT_GENERATION"
        );
    }
    
    @Override
    protected String getProcessType() {
        return "insurance_application";
    }
}

// ë‹¤êµ­ì–´ í™•ì¥
@Component
public class LanguageExpansionService {
    
    public void addNewLanguage(String languageCode, Map<String, String> translations) {
        // ìƒˆë¡œìš´ ì–¸ì–´ ë™ì  ì¶”ê°€ ì§€ì›
        translationService.addLanguageSupport(languageCode, translations);
        voiceService.addTTSSupport(languageCode);
    }
}
```

**3. ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ í™•ì¥ì„±**
```yaml
í™•ì¥ ê°€ëŠ¥í•œ ì—°ë™:
  - ì™¸êµë¶€ API: ì¬ì™¸êµ­ë¯¼ ì •ë³´ ìë™ ì¡°íšŒ
  - ë³´ê±´ë³µì§€ë¶€ API: ì¥ê¸°ìš”ì–‘ë³´í—˜ ì‹ ì²­ ìë™ ì œì¶œ
  - êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ API: ê±´ê°•ë³´í—˜ ì •ë³´ ì—°ë™
  - ì „ìì •ë¶€ API: ê°ì¢… ë¯¼ì› ì„œë¥˜ ìë™ ì œì¶œ

ëª¨ë“ˆí™”ëœ í™•ì¥:
  - ìƒˆë¡œìš´ ì„œë¥˜ íƒ€ì… í”ŒëŸ¬ê·¸ì¸ ë°©ì‹ ì¶”ê°€
  - ìƒˆë¡œìš´ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ ë™ì  ë¡œë”©
  - ìƒˆë¡œìš´ ì–¸ì–´íŒ© ëŸ°íƒ€ì„ ì¶”ê°€
  - ìƒˆë¡œìš´ ìŒì„± ì—”ì§„ ì—°ë™
```

**4. ì„±ëŠ¥ ë° í™•ì¥ì„± ê³ ë ¤ì‚¬í•­**
```yaml
ì„±ëŠ¥ ìµœì í™”:
  - ì„¸ì…˜ ê´€ë¦¬: Redis ê¸°ë°˜ ë¶„ì‚° ì„¸ì…˜ ì§€ì›
  - ë³‘ë ¬ ì²˜ë¦¬: ë‹¤ì¤‘ ì‚¬ìš©ì ë™ì‹œ ëŒ€í™” ì§€ì›
  - ìºì‹±: ìì£¼ ì‚¬ìš©ë˜ëŠ” í…œí”Œë¦¿ ë©”ëª¨ë¦¬ ìºì‹œ
  - ë¡œë“œë°¸ëŸ°ì‹±: ë‹¤ì¤‘ ì±—ë´‡ ì¸ìŠ¤í„´ìŠ¤ ì§€ì›

ëª¨ë‹ˆí„°ë§:
  - ëŒ€í™” ì„±ê³µë¥  ì¶”ì 
  - í”„ë¡œì„¸ìŠ¤ ì™„ë£Œìœ¨ ëª¨ë‹ˆí„°ë§
  - ì‚¬ìš©ì ë§Œì¡±ë„ ìˆ˜ì§‘
  - ì‹œìŠ¤í…œ ì‘ë‹µ ì‹œê°„ ì¸¡ì •
```

---

## ğŸ¤ ì½”ë””ë„¤ì´í„° ì›ìŠ¤í†± ì„œë¹„ìŠ¤ (í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸)

### ì„œë¹„ìŠ¤ ê°œìš”

ì½”ë””ë„¤ì´í„°ëŠ” **í•´ì™¸ ì¬ì™¸ë™í¬**ë¥¼ ëŒ€ìƒìœ¼ë¡œ **ì…êµ­ ì ˆì°¨ë¶€í„° ìš”ì–‘ì› ì…ì£¼ê¹Œì§€** ì „ ê³¼ì •ì„ ì›ìŠ¤í†±ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ì „ë¬¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### 4ë‹¨ê³„ ì›ìŠ¤í†± ì„œë¹„ìŠ¤ í”„ë¡œì„¸ìŠ¤

#### **1ë‹¨ê³„: ì…êµ­ ì „ ì¤€ë¹„ ì§€ì› (Pre-Arrival)**
```yaml
ì„œë¹„ìŠ¤ ê¸°ê°„: 1-2ê°œì›”
ì£¼ìš” ì—…ë¬´:
  - ğŸ›‚ ë¹„ì ìƒë‹´ ë° ì„œë¥˜ ì¤€ë¹„ ì§€ì› (ë°©ë¬¸ë™ë°˜ë¹„ì, ê´€ê´‘ë¹„ì ë“±)
  - âœˆï¸ í•­ê³µí¸ ì˜ˆì•½ ë° êµí†µí¸ ì•ˆë‚´
  - ğŸ¨ ì„ì‹œ ìˆ™ì†Œ ì˜ˆì•½ (ë‹¨ê¸° ë Œíƒˆ, ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤)
  - ğŸ“‹ ì‚¬ì „ ìƒë‹´ (í™”ìƒí†µí™”ë¡œ ê°€ì¡± ìƒí™©, ìš”êµ¬ì‚¬í•­ íŒŒì•…)
  - ğŸ’° ì˜ˆì‚° ê³„íš ìˆ˜ë¦½ (ìš”ì–‘ì› ë¹„ìš©, ìƒí™œë¹„, ì„œë¹„ìŠ¤ ë¹„ìš©)
  - ğŸ“± í•œêµ­ ìƒí™œ í•„ìˆ˜ ì •ë³´ ì œê³µ (í†µì‹ , êµí†µ, ì˜ë£Œ ë“±)
```

#### **2ë‹¨ê³„: ì…êµ­ ë° ì •ì°© ì§€ì› (Arrival & Settlement)**  
```yaml
ì„œë¹„ìŠ¤ ê¸°ê°„: 1-2ì£¼
ì£¼ìš” ì—…ë¬´:
  - ğŸš— ê³µí•­ í”½ì—… ì„œë¹„ìŠ¤ (ì¸ì²œê³µí•­ â†’ ì„ì‹œ ìˆ™ì†Œ)
  - ğŸª ìƒí™œ í•„ìˆ˜ ì—…ë¬´ ë™í–‰ ì§€ì›:
    * ì€í–‰ ê³„ì¢Œ ê°œì„¤ (ì™¸êµ­ì¸ ì „ìš© ê³„ì¢Œ)
    * íœ´ëŒ€í° ê°œí†µ (ì„ ë¶ˆ/í›„ë¶ˆ ìš”ê¸ˆì œ ì„ íƒ)
    * ê±´ê°•ë³´í—˜ ê°€ì… ì ˆì°¨ (êµ­ë¯¼ê±´ê°•ë³´í—˜, ì™¸êµ­ì¸ ë³´í—˜)
    * êµí†µì¹´ë“œ ë°œê¸‰ (T-money, Wowpass)
  - ğŸ›ï¸ ìƒí™œìš©í’ˆ êµ¬ë§¤ ë™í–‰ (ë§ˆíŠ¸, ì•½êµ­, ìƒí•„í’ˆ)
  - ğŸ—£ï¸ ì–¸ì–´ ì¥ë²½ í•´ê²° (ì‹¤ì‹œê°„ í†µë²ˆì—­ ì§€ì›)
  - ğŸ“ ì£¼ë³€ í™˜ê²½ ì•ˆë‚´ (ë³‘ì›, ì•½êµ­, ë§ˆíŠ¸, ê´€ê³µì„œ ìœ„ì¹˜)
```

#### **3ë‹¨ê³„: ìš”ì–‘ì› ë§¤ì¹­ ë° ì„ íƒ ì§€ì› (Care Facility Matching)**
```yaml
ì„œë¹„ìŠ¤ ê¸°ê°„: 2-4ì£¼  
ì£¼ìš” ì—…ë¬´:
  - ğŸ¥ ë¶€ëª¨ë‹˜ ê±´ê°•ìƒíƒœ ì¢…í•© í‰ê°€:
    * ì „ë¬¸ì˜ ê±´ê°•ê²€ì§„ ë™í–‰
    * ìš”ì–‘ë“±ê¸‰ ì‹ ì²­ ë„ì›€ (ì¥ê¸°ìš”ì–‘ë³´í—˜)
    * ì˜ë£Œì§„ ì†Œê²¬ ë²ˆì—­ ë° ì„¤ëª…
  - ğŸ¯ ë§ì¶¤í˜• ìš”ì–‘ì› ì¶”ì²œ:
    * ê±´ê°•ìƒíƒœ/ì˜ˆì‚°/ìœ„ì¹˜ ê¸°ë°˜ ë§¤ì¹­
    * AI ë§¤ì¹­ ì‹œìŠ¤í…œ í™œìš© (ê±°ë¦¬, ë¹„ìš©, í‰ì , íŠ¹í™”ì„œë¹„ìŠ¤)
    * 3-5ê°œ í›„ë³´ ìš”ì–‘ì› ì„ ë³„
  - ğŸ‘€ ìš”ì–‘ì› ê²¬í•™ ë° ìƒë‹´ ë™í–‰:
    * ì‹œì„¤ íˆ¬ì–´ ê°€ì´ë“œ (ê° ì‹œì„¤ íŠ¹ì§• ì„¤ëª…)
    * ì›ì¥/ê°„í˜¸ì‚¬ì™€ ìƒë‹´ í†µì—­
    * ê³„ì•½ì„œ ë° ì´ìš©ì•½ê´€ ê²€í† 
    * ë¹„ìš© ì‚°ì • ë° í˜‘ìƒ ëŒ€í–‰
  - ğŸ“„ ì…ì£¼ ì¤€ë¹„ ë° í–‰ì • ì§€ì›:
    * ì…ì£¼ ì„œë¥˜ ì‘ì„± ë„ì›€
    * ì…ì£¼ ì¤€ë¹„ë¬¼ ë¦¬ìŠ¤íŠ¸ ì œê³µ
    * ì…ì£¼ì¼ ì¡°ì • ë° ì´ì‚¬ ì¤€ë¹„
```

#### **4ë‹¨ê³„: ì‚¬í›„ ê´€ë¦¬ ë° ì§€ì† ì§€ì› (Ongoing Support)**
```yaml
ì„œë¹„ìŠ¤ ê¸°ê°„: ê³„ì•½ì— ë”°ë¼ (6ê°œì›”~2ë…„)
ì£¼ìš” ì—…ë¬´:
  - ğŸ“… ì •ê¸° ë°©ë¬¸ ë° ëª¨ë‹ˆí„°ë§:
    * ì›” 2-4íšŒ ìš”ì–‘ì› ë°©ë¬¸
    * ë¶€ëª¨ë‹˜ ê±´ê°•ìƒíƒœ ë° ë§Œì¡±ë„ ì²´í¬
    * ìš”ì–‘ì›ê³¼ì˜ ì†Œí†µ ë° ê°œì„ ì‚¬í•­ ë…¼ì˜
  - ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± ì†Œí†µ ì§€ì›:
    * ì •ê¸° í™”ìƒí†µí™” ì£¼ì„  (í•´ì™¸ ê°€ì¡±ê³¼ ë¶€ëª¨ë‹˜)
    * ê±´ê°•ìƒíƒœ ë¦¬í¬íŠ¸ ë²ˆì—­ ë° ì „ë‹¬
    * ì‘ê¸‰ìƒí™© ì‹œ ì¦‰ì‹œ ì—°ë½ ë° ëŒ€ì‘
  - ğŸ¥ ì˜ë£Œ ì—°ê³„ ì„œë¹„ìŠ¤:
    * ë³‘ì› ì§„ë£Œ ë™í–‰ (ì‘ê¸‰ì‹¤, ì™¸ë˜ì§„ë£Œ)
    * ì˜ë£Œì§„ê³¼ì˜ ì†Œí†µ ë° í†µì—­
    * ì²˜ë°©ì „ ë° ì¹˜ë£Œê³„íš ì„¤ëª…
  - ğŸ‰ íŠ¹ë³„ í–‰ì‚¬ ì§€ì›:
    * ìƒì¼, ëª…ì ˆ ë“± ê¸°ë…ì¼ ì±™ê¹€
    * ê°€ì¡± ë°©ë¬¸ ì‹œ ê³µí•­ í”½ì—… ë° ì•ˆë‚´
    * ë¬¸í™” ì²´í—˜ í”„ë¡œê·¸ë¨ ê¸°íš
```

### ì½”ë””ë„¤ì´í„° ì „ë¬¸ ë¶„ì•¼ ë° ìê²© ìš”ê±´

#### **ì „ë¬¸ ë¶„ì•¼ë³„ ì½”ë””ë„¤ì´í„°**
```yaml
ì˜ë£Œ ì „ë¬¸ ì½”ë””ë„¤ì´í„°:
  - ê°„í˜¸ì‚¬, ì‚¬íšŒë³µì§€ì‚¬, ìš”ì–‘ë³´í˜¸ì‚¬ ìê²© ë³´ìœ 
  - ì˜ë£Œì§„ê³¼ì˜ ì „ë¬¸ì  ì†Œí†µ ëŠ¥ë ¥
  - ì¹˜ë§¤, ë‡Œì¡¸ì¤‘ ë“± íŠ¹ì • ì§ˆí™˜ ì „ë¬¸ì„±

ë²•ë¬´/í–‰ì • ì „ë¬¸ ì½”ë””ë„¤ì´í„°:  
  - í–‰ì •ì‚¬, ë²•ë¬´ì‚¬ ë“± ìê²© ë³´ìœ 
  - ë¹„ì, ë³´í—˜, í–‰ì •ì ˆì°¨ ì „ë¬¸ ì§€ì‹
  - ì™¸êµ­ì¸ ê´€ë ¨ ë²•ë ¹ ìˆ™ì§€

ì–¸ì–´ ì „ë¬¸ ì½”ë””ë„¤ì´í„°:
  - ë‹¤êµ­ì–´ êµ¬ì‚¬ ëŠ¥ë ¥ (ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´)
  - ë²ˆì—­/í†µì—­ ìê²©ì¦ ë³´ìœ 
  - ë¬¸í™”ì  ì°¨ì´ ì´í•´ ë° ì¤‘ì¬ ëŠ¥ë ¥

ì‹¬ë¦¬ ìƒë‹´ ì „ë¬¸ ì½”ë””ë„¤ì´í„°:
  - ì‹¬ë¦¬ìƒë‹´ì‚¬, ì‚¬íšŒë³µì§€ì‚¬ ìê²©
  - ê°€ì¡± ê°ˆë“± ì¤‘ì¬ ë° ì‹¬ë¦¬ì  ì§€ì›
  - ì¹˜ë§¤ í™˜ì ë° ê°€ì¡± ìƒë‹´ ì „ë¬¸ì„±
```

### ìˆ˜ìµ ëª¨ë¸ ë° ì„œë¹„ìŠ¤ ìš”ê¸ˆ

#### **ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ë³„ ìš”ê¸ˆ**
```yaml
ê¸°ë³¸ íŒ¨í‚¤ì§€ (Essential):
  - ê¸°ê°„: 3ê°œì›” (ì…êµ­~ì…ì£¼ ì™„ë£Œ)
  - ì„œë¹„ìŠ¤: 1-3ë‹¨ê³„ í¬í•¨
  - ìš”ê¸ˆ: 300-500ë§Œì›
  - ëŒ€ìƒ: ê¸°ë³¸ì ì¸ ì§€ì›ë§Œ í•„ìš”í•œ ê²½ìš°

í”„ë¦¬ë¯¸ì—„ íŒ¨í‚¤ì§€ (Premium):
  - ê¸°ê°„: 6ê°œì›” (ì…êµ­~ì‚¬í›„ê´€ë¦¬ 6ê°œì›”)
  - ì„œë¹„ìŠ¤: ì „ ë‹¨ê³„ í¬í•¨ + ì§‘ì¤‘ ì‚¬í›„ê´€ë¦¬
  - ìš”ê¸ˆ: 800-1200ë§Œì›  
  - ëŒ€ìƒ: ì „ë¬¸ì  ì¼€ì–´ê°€ í•„ìš”í•œ ê²½ìš°

VIP íŒ¨í‚¤ì§€ (Concierge):
  - ê¸°ê°„: 1-2ë…„ (ì¥ê¸° ì‚¬í›„ê´€ë¦¬)
  - ì„œë¹„ìŠ¤: ë§ì¶¤í˜• í”„ë¦¬ë¯¸ì—„ ì„œë¹„ìŠ¤
  - ìš”ê¸ˆ: 1500-3000ë§Œì›
  - ëŒ€ìƒ: ê³ ì†Œë“ì¸µ, ë³µì¡í•œ ìƒí™© ì¼€ì´ìŠ¤
```

### ë¶€ê°€ ì„œë¹„ìŠ¤ (ì¶”ê°€ ìˆ˜ìµì›)

#### **ì „ë¬¸ ìƒë‹´ ì„œë¹„ìŠ¤**
```yaml
ë²•ë¬´ ìƒë‹´:
  - ìƒì†, ì¬ì‚° ê´€ë¦¬, ì„¸ë¬´ ë¬¸ì œ
  - í•´ì™¸ ê±°ì£¼ì íŠ¹í™” ë²•ì  ì´ìŠˆ
  - ì‹œê°„ë‹¹ 10-20ë§Œì›

ê¸ˆìœµ ìƒë‹´:  
  - í•´ì™¸ ì†¡ê¸ˆ, í™˜ì „, íˆ¬ì ìƒë‹´
  - ë³´í—˜ ê°€ì… ë° í´ë ˆì„ ì²˜ë¦¬
  - ê±´ë³„ 50-200ë§Œì›

ì˜ë£Œ ì½”ë””ë„¤ì´ì…˜:
  - ì „ë¬¸ì˜ ì†Œê°œ ë° ì˜ˆì•½ ëŒ€í–‰
  - ê±´ê°•ê²€ì§„ íŒ¨í‚¤ì§€ ê¸°íš
  - ê±´ë³„ 30-100ë§Œì›

ë¶€ë™ì‚° ì„œë¹„ìŠ¤:
  - ì„ì‹œ ê±°ì£¼ì§€ ì„ëŒ€ì°¨ ê³„ì•½
  - ì¥ê¸° ê±°ì£¼ ì‹œ ë¶€ë™ì‚° íˆ¬ì ìƒë‹´
  - ì¤‘ê°œìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ ë¶„ë°°
```

#### **ê¸°ì—… ë° ê¸°ê´€ ì—°ê³„ ì„œë¹„ìŠ¤**
```yaml
ë³´í—˜íšŒì‚¬ ì—°ê³„:
  - ì™¸êµ­ì¸ ì „ìš© ë³´í—˜ ìƒí’ˆ íŒë§¤
  - ë³´í—˜ê¸ˆ ì²­êµ¬ ëŒ€í–‰ ì„œë¹„ìŠ¤
  - ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ

í•­ê³µì‚¬/ì—¬í–‰ì‚¬ ì—°ê³„:
  - í•­ê³µê¶Œ ì˜ˆì•½ ëŒ€í–‰
  - ê°€ì¡± ë°©ë¬¸ ì‹œ ì—¬í–‰ íŒ¨í‚¤ì§€
  - ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ

ì˜ë£Œê¸°ê´€ ì—°ê³„:
  - ê±´ê°•ê²€ì§„ íŒ¨í‚¤ì§€ ê¸°íš
  - ì˜ë£Œê´€ê´‘ ì„œë¹„ìŠ¤ ì—°ê³„
  - ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ

ìš”ì–‘ì› ì—°ê³„:
  - ìš”ì–‘ì› ì…ì£¼ ì¤‘ê°œ ìˆ˜ìˆ˜ë£Œ
  - ì‹œì„¤ ê°œì„  ì»¨ì„¤íŒ…
  - ë§¤ì¹­ ì„±ê³µ ìˆ˜ìˆ˜ë£Œ
```

### ì½”ë””ë„¤ì´í„° í’ˆì§ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ

#### **ê³ ê° ë§Œì¡±ë„ ê´€ë¦¬**
```yaml
ì‹¤ì‹œê°„ í”¼ë“œë°± ì‹œìŠ¤í…œ:
  - ì„œë¹„ìŠ¤ ë‹¨ê³„ë³„ ë§Œì¡±ë„ ì¡°ì‚¬
  - ëª¨ë°”ì¼ ì•±ì„ í†µí•œ ì¦‰ì‹œ í”¼ë“œë°±
  - ë¶ˆë§Œ ì‚¬í•­ ì¦‰ì‹œ ëŒ€ì‘ ì²´ê³„

ì •ê¸° í‰ê°€ ì‹œìŠ¤í…œ:
  - ì›”ë³„ ì„œë¹„ìŠ¤ í’ˆì§ˆ í‰ê°€
  - ê³ ê° ì¶”ì²œë„ ì¡°ì‚¬ (NPS)
  - ì½”ë””ë„¤ì´í„° ì„±ê³¼ í‰ê°€

ê°œì„  ì‹œìŠ¤í…œ:
  - ê³ ê° ì˜ê²¬ ë°˜ì˜ í”„ë¡œì„¸ìŠ¤
  - ì„œë¹„ìŠ¤ í‘œì¤€í™” ë° ë§¤ë‰´ì–¼ ì—…ë°ì´íŠ¸
  - ì½”ë””ë„¤ì´í„° êµìœ¡ ë° íŠ¸ë ˆì´ë‹
```

### ğŸ”‘ ì‹¤ì œ ê³µê³µë°ì´í„° API í™œìš© (ë°œê¸‰ë°›ì€ ì¸ì¦í‚¤ ê¸°ë°˜)

#### **ë°œê¸‰ë°›ì€ API ëª©ë¡ ë° í™œìš© ë°©ì•ˆ**
```yaml
ì¸ì¦í‚¤: CCXHQiSSQ0J+RRaadSjmmS7ltxG/tlSVOYMjh45MmGne68ptgGAaAJVJti8nBazSjLemTAyb5gAuj43xq7fTog==
í™œìš©ê¸°ê°„: 2025-07-16 ~ 2027-07-18

ğŸ¥ êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨_ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰ ì„œë¹„ìŠ¤:
  í™œìš©ë‹¨ê³„: "3ë‹¨ê³„ - ìš”ì–‘ì› ë§¤ì¹­"
  ê¸°ëŠ¥: ë§ì¶¤í˜• ìš”ì–‘ì› ì¶”ì²œ (ì§€ì—­/ì˜ˆì‚°/íŠ¹ì„±ë³„)
  URL: https://apis.data.go.kr/B550928/searchLtcInsttService01

ğŸ“‹ êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨_ì¥ê¸°ìš”ì–‘ê¸°ê´€ ì‹œì„¤ë³„ ìƒì„¸ì¡°íšŒ ì„œë¹„ìŠ¤:
  í™œìš©ë‹¨ê³„: "3ë‹¨ê³„ - ìš”ì–‘ì› ìƒì„¸ ì •ë³´"
  ê¸°ëŠ¥: ì‹œì„¤ ê·œëª¨, ì„œë¹„ìŠ¤, ìš”ê¸ˆ ìƒì„¸ ì¡°íšŒ
  URL: https://apis.data.go.kr/B550928/getLtcInsttDetailInfoService02

âš•ï¸ ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì›_ë³‘ì›ì •ë³´ì„œë¹„ìŠ¤:
  í™œìš©ë‹¨ê³„: "2ë‹¨ê³„ - ê±´ê°•ê²€ì§„", "4ë‹¨ê³„ - ì˜ë£Œ ì—°ê³„"
  ê¸°ëŠ¥: ê±´ê°•ê²€ì§„ ë³‘ì› ì¶”ì²œ, ì‘ê¸‰ ì˜ë£Œì§„ ì—°ê²°
  URL: https://apis.data.go.kr/B551182/hospInfoServicev2

ğŸ’Š êµ­ë¦½ì¤‘ì•™ì˜ë£Œì›_ì „êµ­ ì•½êµ­ ì •ë³´ ì¡°íšŒ ì„œë¹„ìŠ¤:
  í™œìš©ë‹¨ê³„: "2ë‹¨ê³„ - ìƒí™œ ì •ì°©", "4ë‹¨ê³„ - ì˜ë£Œ ì§€ì›"
  ê¸°ëŠ¥: ì²˜ë°©ì „ ì²˜ë¦¬ ê°€ëŠ¥ ì•½êµ­ ì•ˆë‚´
  URL: https://apis.data.go.kr/B552657/ErmctInsttInfoInqireService

ğŸ” ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì›_ìš”ì–‘ê¸°ê´€ê°œíì—…ì •ë³´ì¡°íšŒì„œë¹„ìŠ¤:
  í™œìš©ë‹¨ê³„: "3ë‹¨ê³„ - ì‹ ë¢°ì„± ê²€ì¦"
  ê¸°ëŠ¥: ìš”ì–‘ê¸°ê´€ ìš´ì˜ ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸
  URL: https://apis.data.go.kr/B551182/yadmOpCloInfoService2

ğŸ›‚ ì™¸êµë¶€_êµ­ê°€Â·ì§€ì—­ë³„ ì…êµ­í—ˆê°€ìš”ê±´:
  í™œìš©ë‹¨ê³„: "1ë‹¨ê³„ - ì…êµ­ ì „ ì¤€ë¹„"
  ê¸°ëŠ¥: êµ­ê°€ë³„ ë¹„ì ìš”ê±´, í•„ìˆ˜ ì„œë¥˜ ì•ˆë‚´
  URL: https://apis.data.go.kr/1262000/EntranceVisaService2
```

#### **ë‹¨ê³„ë³„ API ì—°ë™ í™œìš©**

**1ë‹¨ê³„: ì…êµ­ ì „ ì¤€ë¹„**
```java
// ì™¸êµë¶€ API í™œìš© - êµ­ê°€ë³„ ì…êµ­ ìš”ê±´ ì¡°íšŒ
public KoreaEntryRequirementResponse getKoreaEntryRequirements(String overseasCountry) {
    // ì¬ì™¸ë™í¬ ê±°ì£¼êµ­ â†’ í•œêµ­ ì…êµ­ ìš”ê±´ ìë™ ì¡°íšŒ
    // ë¹„ì ì¢…ë¥˜, í•„ìˆ˜ ì„œë¥˜, ì²´ë¥˜ ê¸°ê°„ ì •ë³´ ì œê³µ
    // ëŒ€ì‚¬ê´€/ì˜ì‚¬ê´€ ì—°ë½ì²˜ ìë™ ë§¤ì¹­
}

// ì½”ë””ë„¤ì´í„° ì„œë¹„ìŠ¤: ë§ì¶¤í˜• ì…êµ­ ê°€ì´ë“œ ìƒì„±
public PreArrivalGuideResponse createPreArrivalGuide(String country, String purpose) {
    KoreaEntryRequirementResponse requirements = mofaApiService.getKoreaEntryRequirements(country);
    return buildCustomizedGuide(requirements, purpose);
}
```

**2ë‹¨ê³„: ì…êµ­ ë° ì •ì°© + ê±´ê°•ê²€ì§„**
```java
// ë³‘ì› ì •ë³´ API í™œìš© - ê±´ê°•ê²€ì§„ ë³‘ì› ì¶”ì²œ
public List<HospitalInfo> findHealthCheckupHospitals(String region, String language) {
    // ì§€ì—­ ê¸°ë°˜ ë³‘ì› ê²€ìƒ‰
    List<HospitalInfo> hospitals = hospitalApiService.getHospitalsByLocation(sido, sigungu);
    
    // ì¬ì™¸ë™í¬ ì¹œí™”ì  ë³‘ì› í•„í„°ë§ (ë‹¤êµ­ì–´ ì§€ì›, êµ­ì œì§„ë£Œì„¼í„° ë³´ìœ )
    return hospitals.stream()
        .filter(h -> h.hasInternationalCenter())
        .filter(h -> h.supportsLanguage(language))
        .collect(Collectors.toList());
}

// ì•½êµ­ ì •ë³´ API í™œìš© - ìƒí™œê¶Œ ë‚´ ì•½êµ­ ì•ˆë‚´
public List<PharmacyInfo> findNearbyPharmacies(String address) {
    // ì„ì‹œ ê±°ì£¼ì§€ ì£¼ë³€ ì•½êµ­ ê²€ìƒ‰
    // 24ì‹œê°„ ìš´ì˜, ë‹¤êµ­ì–´ ì²˜ë°©ì „ ì²˜ë¦¬ ê°€ëŠ¥ ì•½êµ­ ìš°ì„  ì¶”ì²œ
    return pharmacyApiService.getPharmaciesByLocation(sido, sigungu)
        .stream()
        .sorted(Comparator.comparing(PharmacyInfo::getDistance))
        .collect(Collectors.toList());
}
```

**3ë‹¨ê³„: ìš”ì–‘ì› ë§¤ì¹­ (í•µì‹¬ ê¸°ëŠ¥)**
```java
// ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰ API í™œìš© - ì¬ì™¸ë™í¬ ë§ì¶¤ ì¶”ì²œ
public OverseasKoreanNursingFacilityResponse searchForOverseasKoreans(
    OverseasKoreanNursingSearchRequest request) {
    
    // 1. ê¸°ë³¸ ê²€ìƒ‰ (ì§€ì—­, ìœ í˜•ë³„)
    NursingFacilitySearchResponse basicResults = nursingSearchApiService
        .searchNursingFacilities(request.getSidoName(), request.getSigunguName());
    
    // 2. ì¬ì™¸ë™í¬ ì¹œí™”ì„± ì ìˆ˜ ê³„ì‚°
    List<EnhancedFacilityInfo> enhanced = basicResults.getFacilities().stream()
        .map(facility -> {
            // ê³µí•­ ì ‘ê·¼ì„±, ë‹¤êµ­ì–´ ì§€ì›, ì˜ë£Œì§„ ìˆ˜ì¤€ ë“± í‰ê°€
            int score = calculateOverseasFriendlyScore(facility, request);
            
            // ì‹ ë¢°ì„± ê²€ì¦ (ê°œíì—… ì •ë³´ API í™œìš©)
            FacilityReliabilityResponse reliability = facilityStatusApiService
                .validateFacilityReliability(facility.getFacilityCode());
            
            return EnhancedFacilityInfo.builder()
                .basicInfo(facility)
                .overseasFriendlyScore(score)
                .reliabilityInfo(reliability)
                .build();
        })
        .filter(f -> f.getReliabilityInfo().getRiskLevel() != RiskLevel.HIGH)
        .sorted(Comparator.comparing(EnhancedFacilityInfo::getOverseasFriendlyScore).reversed())
        .collect(Collectors.toList());
    
    // 3. ìƒì„¸ ì •ë³´ ì¡°íšŒ (ìƒìœ„ 10ê°œ ì‹œì„¤)
    List<CompleteNursingFacilityInfo> completeFacilities = enhanced.stream()
        .limit(10)
        .map(facility -> {
            NursingFacilityDetailResponse detail = nursingDetailApiService
                .getNursingFacilityDetail(facility.getFacilityCode());
            
            return CompleteNursingFacilityInfo.builder()
                .enhancedInfo(facility)
                .detailInfo(detail)
                .countrySpecificAdvice(generateAdvice(request.getOverseasCountry()))
                .build();
        })
        .collect(Collectors.toList());
    
    return OverseasKoreanNursingFacilityResponse.builder()
        .facilities(completeFacilities)
        .totalCount(enhanced.size())
        .searchCriteria(request)
        .build();
}

// ì‹ ë¢°ì„± ì ìˆ˜ ê³„ì‚° (ê°œíì—… ì •ë³´ ê¸°ë°˜)
private int calculateReliabilityScore(FacilityStatusResponse status) {
    int score = 50; // ê¸°ë³¸ ì ìˆ˜
    
    // ìš´ì˜ ìƒíƒœë³„ ì ìˆ˜
    switch (status.getBusinessStatus()) {
        case "ì •ìƒ", "ìš´ì˜ì¤‘": score += 40; break;
        case "íœ´ì—…": score += 10; break;
        case "íì—…", "ë§ì†Œ": score = 0; break;
    }
    
    // ìš´ì˜ ê¸°ê°„ë³„ ì¶”ê°€ ì ìˆ˜ (ì‹ ë¢°ì„± ì§€í‘œ)
    if (status.getOpeningDate() != null) {
        long years = ChronoUnit.YEARS.between(status.getOpeningDate(), LocalDate.now());
        score += Math.min(years * 2, 10);
    }
    
    return Math.min(score, 100);
}
```

**4ë‹¨ê³„: ì‚¬í›„ ê´€ë¦¬**
```java
// í†µí•© ì˜ë£Œ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤
public MedicalNetworkResponse buildMedicalNetwork(String facilityCode, String region) {
    // ìš”ì–‘ì› ì •ë³´
    NursingFacilityDetailResponse facility = nursingDetailApiService
        .getNursingFacilityDetail(facilityCode);
    
    // ì£¼ë³€ ë³‘ì› ë„¤íŠ¸ì›Œí¬
    List<HospitalInfo> nearbyHospitals = hospitalApiService
        .getHospitalsByLocation(region);
    
    // ì£¼ë³€ ì•½êµ­ ë„¤íŠ¸ì›Œí¬  
    List<PharmacyInfo> nearbyPharmacies = pharmacyApiService
        .getPharmaciesByLocation(region);
    
    return MedicalNetworkResponse.builder()
        .centerFacility(facility)
        .partnerHospitals(nearbyHospitals)
        .nearbyPharmacies(nearbyPharmacies)
        .emergencyContacts(buildEmergencyContacts(region))
        .build();
}
```

#### **ê¸°ìˆ ì  ìš°ìœ„ ë° ì°¨ë³„í™” ìš”ì†Œ**
```yaml
âœ… ì‹¤ì œ ì •ë¶€ ë°ì´í„° ê¸°ë°˜:
  - ê°€ì§œ ì •ë³´ ì—†ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°ì´í„°
  - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë˜ëŠ” ìš´ì˜ ìƒíƒœ
  - ì •ë¶€ ì¸ì¦ ì‹œì„¤ë§Œ ì¶”ì²œ

âœ… AI ê¸°ë°˜ ë§ì¶¤í˜• ë§¤ì¹­:
  - ì¬ì™¸ë™í¬ë³„ íŠ¹ì„± ê³ ë ¤í•œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
  - êµ­ê°€ë³„/ì–¸ì–´ë³„/ë¬¸í™”ì  ì°¨ì´ ë°˜ì˜
  - ì‹ ë¢°ì„± ì ìˆ˜ ê¸°ë°˜ í•„í„°ë§

âœ… ì›ìŠ¤í†± ì˜ë£Œ ìƒíƒœê³„:
  - ìš”ì–‘ì› + ë³‘ì› + ì•½êµ­ í†µí•© ì •ë³´
  - ì‘ê¸‰ìƒí™© ëŒ€ì‘ ë„¤íŠ¸ì›Œí¬ êµ¬ì¶•
  - ì˜ë£Œì§„ ê°„ ì†Œí†µ ì§€ì›

âœ… ì‹¤ì‹œê°„ ì‹ ë¢°ì„± ê²€ì¦:
  - ê°œíì—… ìƒíƒœ ìë™ í™•ì¸
  - ìœ„í—˜ ì‹œì„¤ ì‚¬ì „ í•„í„°ë§
  - ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
```

---

## ğŸ“‹ API ë¬¸ì„œí™” ì „ëµ

### OpenAPI 3.0 ê¸°ë°˜ ë¬¸ì„œí™”

**API ë¬¸ì„œí™” ë„êµ¬ ìŠ¤íƒ:**
```yaml
OpenAPI Spec: 3.0.3 (ìµœì‹  ë²„ì „)
ë¬¸ì„œ UI: Swagger UI + Redoc (ë‹¤ì¤‘ ë·°)
ì½”ë“œ ìƒì„±: OpenAPI Generator
ë¬¸ì„œ í˜¸ìŠ¤íŒ…: GitHub Pages (ìë™ ë°°í¬)
API í…ŒìŠ¤íŠ¸: Postman + Newman (ìë™í™”)
```

### API ë¬¸ì„œí™” êµ¬ì¡°

#### 1. OpenAPI ì„¤ì • (api-module)
```yaml
# api-module/src/main/resources/application.yml
springdoc:
  api-docs:
    enabled: true
    path: /api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    operationsSorter: method
    tagsSorter: alpha
  group-configs:
    - group: 'member-api'
      paths-to-match: '/api/members/**'
    - group: 'facility-api'  
      paths-to-match: '/api/facilities/**'
    - group: 'job-api'
      paths-to-match: '/api/jobs/**'
```

#### 2. API ê·¸ë£¹ë³„ ë¬¸ì„œí™”
- **íšŒì› API** (`/api/members/**`)
  - íšŒì›ê°€ì…, ë¡œê·¸ì¸, í”„ë¡œí•„ ê´€ë¦¬
  - ê¶Œí•œ ê´€ë¦¬, íƒˆí‡´ ì²˜ë¦¬
  
- **ì‹œì„¤ API** (`/api/facilities/**`)
  - ì‹œì„¤ ê²€ìƒ‰, ìƒì„¸ ì¡°íšŒ, ë“±ë¡/ìˆ˜ì •
  - ì§€ë„ ì—°ë™, ì´ë¯¸ì§€ ì—…ë¡œë“œ
  
- **êµ¬ì¸êµ¬ì§ API** (`/api/jobs/**`)
  - êµ¬ì¸/êµ¬ì§ ê³µê³  CRUD
  - ì§€ì›/ë§¤ì¹­ ê´€ë¦¬
  
- **ë¦¬ë·° API** (`/api/reviews/**`)
  - ë¦¬ë·° ì‘ì„±/ìˆ˜ì •/ì‚­ì œ
  - í‰ì  ì§‘ê³„, ì¶”ì²œ ì‹œìŠ¤í…œ

#### 3. ì½”ë“œ ë ˆë²¨ ë¬¸ì„œí™”
```java
@RestController
@RequestMapping("/api/members")
@Tag(name = "íšŒì› ê´€ë¦¬", description = "íšŒì› ê°€ì…, ë¡œê·¸ì¸, í”„ë¡œí•„ ê´€ë¦¬ API")
public class MemberController {

    @Operation(
        summary = "íšŒì› ê°€ì…",
        description = "ìƒˆë¡œìš´ íšŒì›ì„ ë“±ë¡í•©ë‹ˆë‹¤. ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.",
        responses = {
            @ApiResponse(responseCode = "201", description = "íšŒì› ê°€ì… ì„±ê³µ"),
            @ApiResponse(responseCode = "409", description = "ì´ë©”ì¼ ì¤‘ë³µ")
        }
    )
    @PostMapping("/register")
    public ResponseEntity<MemberResponse> register(
        @RequestBody @Valid 
        @Schema(description = "íšŒì› ê°€ì… ìš”ì²­ ì •ë³´")
        MemberRegisterRequest request
    ) {
        // êµ¬í˜„ ë¡œì§
    }
}
```

### API ë²„ì €ë‹ ì „ëµ

**URL ê¸°ë°˜ ë²„ì €ë‹:**
```
/api/v1/members/**  (í˜„ì¬ ë²„ì „)
/api/v2/members/**  (í–¥í›„ ë²„ì „)
```

**í—¤ë” ê¸°ë°˜ ë²„ì €ë‹ (ì„ íƒì‚¬í•­):**
```
Accept: application/vnd.globalcarelink.v1+json
Accept: application/vnd.globalcarelink.v2+json
```

---

## ğŸ’° **ìë³¸ê¸ˆ 0ì› ê°œë°œ ì „ëµ**

### **ì™„ì „ ë¬´ë£Œ ê¸°ìˆ  ìŠ¤íƒ í™œìš©**

#### **ë°ì´í„°ë² ì´ìŠ¤ & ì €ì¥ì†Œ**
```yaml
ê°œë°œ/ìš´ì˜:
  - SQLite (ë¬´ì œí•œ ë¬´ë£Œ, íŒŒì¼ ê¸°ë°˜)
  - GitHub Repository (íŒŒì¼ ì €ì¥ì†Œ, ë¬´ë£Œ CDN)
  - ë©”ëª¨ë¦¬ ìºì‹œ (Caffeine, Redis ëŒ€ì‹ )
  
ì¥ì :
  - ì„¤ì • ê°„ë‹¨, ë³„ë„ ì„œë²„ ë¶ˆí•„ìš”
  - ë°±ì—… = íŒŒì¼ ë³µì‚¬
  - ë™ì‹œ ì ‘ì† 1000ëª…ê¹Œì§€ ì¶©ë¶„
```

#### **ë¬´ë£Œ ë°°í¬ ì„œë¹„ìŠ¤**
```yaml
ë°±ì—”ë“œ ë°°í¬ ì˜µì…˜:
  1. Railway (ì›” 500ì‹œê°„ ë¬´ë£Œ, ì¶”ì²œ)
  2. Render.com (ë¬´ë£Œ í”Œëœ)
  3. fly.io (ë¬´ë£Œ í”Œëœ)
  4. Oracle Cloud Always Free (í‰ìƒ ë¬´ë£Œ)

í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬:
  1. GitHub Pages (ë¬´ì œí•œ ë¬´ë£Œ, CDN í¬í•¨)
  2. Netlify (ì›” 100GB ë¬´ë£Œ)
  3. Vercel (ë¬´ì œí•œ ë¬´ë£Œ)
```

#### **ì™¸ë¶€ ì„œë¹„ìŠ¤ ë¬´ë£Œ í”Œëœ**
```yaml
ì´ë©”ì¼: Gmail SMTP (ì¼ì¼ 500í†µ)
ì§€ë„: OpenStreetMap + Leaflet.js (ì™„ì „ ë¬´ë£Œ)
      ì¹´ì¹´ì˜¤ë§µ (ì›” 30ë§Œê±´ ë¬´ë£Œ)
ì¸ì¦: Google OAuth, ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ (ë¬´ë£Œ)
ì´ë¯¸ì§€: ìì²´ ì²˜ë¦¬ (Java BufferedImage)
SMS: ì´ë©”ì¼ ì¸ì¦ìœ¼ë¡œ ëŒ€ì²´ (ë¹„ìš© ì ˆì•½)
```

### **ë‹¨ê³„ë³„ í™•ì¥ ê³„íš**

#### **Phase 1: ì™„ì „ ë¬´ë£Œ MVP (0ì›)**
```yaml
ì‚¬ìš©ì: 100ëª… ì´í•˜
ê¸°ìˆ : SQLite + ë©”ëª¨ë¦¬ ìºì‹œ + ë¬´ë£Œ í˜¸ìŠ¤íŒ…
ë¹„ìš©: $0/ì›”
```

#### **Phase 2: ë¶€ë¶„ ìœ ë£Œ ($10-20/ì›”)**  
```yaml
ì¡°ê±´: ì‚¬ìš©ì 500ëª… ì´ìƒ, ìˆ˜ìµ ë°œìƒ ì‹œì‘
ì—…ê·¸ë ˆì´ë“œ: PostgreSQL, ì•ˆì •ì  VPS
ë¹„ìš©: $10-20/ì›”
```

#### **Phase 3: ë³¸ê²© í™•ì¥ ($100+/ì›”)**
```yaml
ì¡°ê±´: ì›” ìˆ˜ìµ $500 ì´ìƒ  
ì—…ê·¸ë ˆì´ë“œ: Redis, CDN, ì „ë¬¸ ëª¨ë‹ˆí„°ë§
ë¹„ìš©: $100+/ì›”
```

### **ê°œë°œ ìš°ì„ ìˆœìœ„ (ë¬´ë£Œ ì¤‘ì‹¬)**

#### **ì¦‰ì‹œ ê°œë°œ (ìë³¸ê¸ˆ 0ì›)**
1. SQLite ê¸°ë°˜ ë¡œì»¬ ê°œë°œ
2. í•µì‹¬ CRUD ê¸°ëŠ¥ êµ¬í˜„
3. OpenStreetMap ì§€ë„ ì—°ë™
4. Gmail ì´ë©”ì¼ ë°œì†¡
5. GitHub Pages ë°°í¬

#### **ìˆ˜ìµ ë°œìƒ í›„ ì—…ê·¸ë ˆì´ë“œ**  
1. PostgreSQL ì „í™˜
2. Redis ìºì‹œ ë„ì…
3. êµ¬ê¸€ë§µ API ì¶”ê°€
4. ì „ë¬¸ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤
5. SMS ì•Œë¦¼ ì„œë¹„ìŠ¤
</file>

<file path=".github/workflows/auto-commit.yml">
name: Auto Commit on Development

on:
  workflow_dispatch:  # ìˆ˜ë™ íŠ¸ë¦¬ê±°
  push:
    branches: [ master, main, develop ]
    paths-ignore:
      - '.github/**'
      - 'README.md'
      - 'docs/**'

jobs:
  auto-commit:
    runs-on: ubuntu-latest
    if: "!contains(github.event.head_commit.message, '[skip ci]')"
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        fetch-depth: 0

    - name: Setup Git
      run: |
        git config --global user.name "Claude Assistant"
        git config --global user.email "claude@anthropic.com"
        
    - name: Check for changes
      id: verify-changes
      run: |
        if [ -n "$(git status --porcelain)" ]; then
          echo "changes=true" >> $GITHUB_OUTPUT
        else
          echo "changes=false" >> $GITHUB_OUTPUT
        fi

    - name: Auto commit development progress
      if: steps.verify-changes.outputs.changes == 'true'
      run: |
        git add .
        git commit -m "ğŸ¤– Auto-commit: Development progress update

        - Automated commit from development workflow
        - Files updated during Phase development
        - Generated by Claude Code assistant

        ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

        Co-Authored-By: Claude <noreply@anthropic.com>" || echo "No changes to commit"
        
    - name: Push changes
      if: steps.verify-changes.outputs.changes == 'true'
      run: |
        git push origin HEAD:${{ github.ref_name }}
</file>

<file path="docs/phases/phase-1.md">
# Phase 1: í•µì‹¬ ì¸í”„ë¼ êµ¬ì¶•

## ğŸ¯ ê°œìš”
**ì†Œìš”ê¸°ê°„**: 1-2ì¼  
**ì˜ˆìƒ í† í°**: ~14,000 í† í°  
**ëª©í‘œ**: Spring Boot 3.3.5 + JDK 21 ê¸°ë°˜ í”„ë¡œì íŠ¸ ì¸í”„ë¼ ì™„ì„±

---

## ğŸ“Œ Phase 1-A: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •

### êµ¬í˜„ ëŒ€ìƒ
- âœ… Gradle ë©€í‹°ëª¨ë“ˆ í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±
- âœ… Spring Boot 3.3.5 ê¸°ë³¸ ì„¤ì •  
- âœ… SQLite ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- âœ… ê¸°ë³¸ íŒ¨í‚¤ì§€ êµ¬ì¡° ìƒì„±

### í•µì‹¬ íŒŒì¼
```
build.gradle.kts
settings.gradle.kts  
src/main/resources/application.yml
src/main/java/com/globalcarelink/GlobalCareLinkApplication.java
```

### ê¸°ìˆ  ìŠ¤íƒ
- **ì–¸ì–´**: Java 21 LTS
- **í”„ë ˆì„ì›Œí¬**: Spring Boot 3.3.5  
- **ë¹Œë“œ**: Gradle 8.x + Kotlin DSL
- **ë°ì´í„°ë² ì´ìŠ¤**: SQLite (ë¬´ë£Œ)
- **íŒ¨í‚¤ì§€ êµ¬ì¡°**: ê¸°ëŠ¥ë³„ ë‹¨ì¼ ëª¨ë“ˆ

---

## ğŸ“Œ Phase 1-B: ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •

### êµ¬í˜„ ëŒ€ìƒ  
- âœ… Spring Security 6.x ì„¤ì •
- âœ… JWT í† í° ê¸°ë°˜ ì¸ì¦
- âœ… CORS ì„¤ì •
- âœ… ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬

### í•µì‹¬ íŒŒì¼
```
SecurityConfig.java
JwtTokenProvider.java
GlobalExceptionHandler.java
CustomException.java
```

### ë³´ì•ˆ ê¸°ëŠ¥
- **ì¸ì¦**: JWT í† í° ê¸°ë°˜
- **ì¸ê°€**: ì—­í• ë³„ ì ‘ê·¼ ì œì–´ (5ê°€ì§€ ì—­í• )
- **CORS**: React í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™
- **ì˜ˆì™¸ì²˜ë¦¬**: í†µí•© ì—ëŸ¬ ì‘ë‹µ

---

## ğŸ›  ê°œë°œ ëª…ë ¹ì–´

### ë¹Œë“œ ë° ì‹¤í–‰
```bash
# JDK 21 í™•ì¸
java -version

# í”„ë¡œì íŠ¸ ë¹Œë“œ  
./gradlew build

# ê°œë°œ ì„œë²„ ì‹¤í–‰
./gradlew bootRun --args='--spring.profiles.active=dev'

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
# SQLite ë°ì´í„°ë² ì´ìŠ¤ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir data

# JPA ìë™ DDLë¡œ ìŠ¤í‚¤ë§ˆ ìƒì„±
# application.yml: spring.jpa.hibernate.ddl-auto=create-drop
```

---

## ğŸ“‹ í™•ì¸ ì‚¬í•­

### Phase 1-A ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] `./gradlew build` ì„±ê³µ
- [ ] `./gradlew bootRun` ì„±ê³µ  
- [ ] Swagger UI ì ‘ì† ê°€ëŠ¥ (`http://localhost:8080/swagger-ui.html`)
- [ ] SQLite ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ìƒì„± í™•ì¸

### Phase 1-B ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸  
- [ ] JWT í† í° ìƒì„±/ê²€ì¦ í…ŒìŠ¤íŠ¸
- [ ] CORS í—¤ë” ì‘ë‹µ í™•ì¸
- [ ] 401/403 ì—ëŸ¬ ì‘ë‹µ í™•ì¸
- [ ] ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ ë™ì‘ í™•ì¸

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Phase 2-A**: ê¸°ë³¸ íšŒì› ê¸°ëŠ¥ êµ¬í˜„
- Member ì—”í‹°í‹° (5ê°€ì§€ ì—­í• )
- íšŒì›ê°€ì…/ë¡œê·¸ì¸ API  
- ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
- ê¸°ë³¸ CRUD ê¸°ëŠ¥

**ì²´í¬í¬ì¸íŠ¸**: Phase 1 ì™„ë£Œ í›„ Phase 2 ì§„í–‰
</file>

<file path="docs/phases/phase-2.md">
# Phase 2: íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ

## ğŸ¯ ê°œìš”
**ì†Œìš”ê¸°ê°„**: 2-3ì¼  
**ì˜ˆìƒ í† í°**: ~18,000 í† í°  
**ëª©í‘œ**: 5ê°€ì§€ ì—­í•  ê¸°ë°˜ íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ + êµ­ë‚´/í•´ì™¸ ì‚¬ìš©ì êµ¬ë¶„

---

## ğŸ“Œ Phase 2-A: ê¸°ë³¸ íšŒì› ê¸°ëŠ¥

### êµ¬í˜„ ëŒ€ìƒ
- âœ… Member ì—”í‹°í‹° (5ê°€ì§€ ì—­í•  ì§€ì›)
- âœ… íšŒì›ê°€ì…/ë¡œê·¸ì¸ API
- âœ… ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” (BCrypt)
- âœ… ê¸°ë³¸ CRUD ê¸°ëŠ¥
- âœ… JWT í† í° ì¸ì¦ í†µí•©

### ì—”í‹°í‹° ì„¤ê³„
```java
@Entity
@Table(name = "members")
public class Member extends BaseEntity {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(unique = true, nullable = false)
    private String email;
    
    @Column(nullable = false)
    private String password;
    
    @Column(nullable = false)
    private String name;
    
    @Enumerated(EnumType.STRING)
    @Column(nullable = false)
    private MemberRole role;
    
    @Column(name = "is_job_seeker")
    private Boolean isJobSeeker = false;
    
    private String phoneNumber;
    private String language;      // ì–¸ì–´ ì„ í˜¸ë„
    private String region;        // ì§€ì—­ ì •ë³´
    private Boolean isActive = true;
}
```

### ì—­í•  ì •ì˜ (MemberRole)
```java
public enum MemberRole {
    ADMIN,          // ì‹œìŠ¤í…œ ê´€ë¦¬ì
    FACILITY,       // ì‹œì„¤ ê´€ë¦¬ì  
    COORDINATOR,    // ì½”ë””ë„¤ì´í„°
    DOMESTIC_USER,  // êµ­ë‚´ ì‚¬ìš©ì
    OVERSEAS_USER   // í•´ì™¸ ì‚¬ìš©ì (ì¬ì™¸ë™í¬)
}
```

### API ì—”ë“œí¬ì¸íŠ¸
```
POST /api/auth/register     - íšŒì›ê°€ì…
POST /api/auth/login        - ë¡œê·¸ì¸  
GET  /api/members/{id}      - íšŒì› ì¡°íšŒ
PUT  /api/members/{id}      - íšŒì› ì •ë³´ ìˆ˜ì •
DELETE /api/members/{id}    - íšŒì› íƒˆí‡´
GET  /api/members           - íšŒì› ëª©ë¡ (ê´€ë¦¬ì)
```

---

## ğŸ“Œ Phase 2-B: êµ­ë‚´/í•´ì™¸ ì‚¬ìš©ì êµ¬ë¶„

### êµ¬í˜„ ëŒ€ìƒ
- âœ… DomesticProfile ì—”í‹°í‹° (êµ­ë‚´ ì‚¬ìš©ì ì „ìš©)
- âœ… OverseasProfile ì—”í‹°í‹° (í•´ì™¸ ì‚¬ìš©ì ì „ìš©)  
- âœ… ProfileService (í”„ë¡œí•„ ê´€ë¦¬ ë¡œì§)
- âœ… ë‹¤êµ­ì–´ ê¸°ë³¸ ì„¤ì • ì¤€ë¹„
- âœ… ì—­í• ë³„ í”„ë¡œí•„ ìƒì„± ì œí•œ

### DomesticProfile êµ¬ì¡°
```java
@Entity
@Table(name = "domestic_profiles")
public class DomesticProfile extends BaseEntity {
    @OneToOne(fetch = FetchType.LAZY)
    private Member member;
    
    // ê¸°ë³¸ ì •ë³´
    private LocalDate birthDate;
    private String gender;
    private String address;
    private String postalCode;
    
    // ì‘ê¸‰ ì—°ë½ì²˜  
    private String emergencyContactName;
    private String emergencyContactPhone;
    private String emergencyContactRelation;
    
    // ê±´ê°• ì •ë³´
    private String healthInsuranceNumber;
    private Integer ltciGrade;              // ì¥ê¸°ìš”ì–‘ë“±ê¸‰
    private String ltciCertificateNumber;
    
    // ì¼€ì–´ ì •ë³´
    private String preferredRegion;
    private String careLevel;
    private String specialNeeds;
    private String budgetRange;
    
    // ì™„ì„±ë„ ì¶”ì 
    private Integer profileCompletionPercentage = 0;
}
```

### OverseasProfile êµ¬ì¡°  
```java
@Entity
@Table(name = "overseas_profiles")
public class OverseasProfile extends BaseEntity {
    @OneToOne(fetch = FetchType.LAZY)
    private Member member;
    
    // ê¸°ë³¸ ì •ë³´
    private LocalDate birthDate;
    private String gender;
    private String overseasAddress;
    private String residenceCountry;        // í•„ìˆ˜
    private String residenceCity;
    
    // ì—¬ê¶Œ/ë¹„ì ì •ë³´
    private String passportNumber;
    private LocalDate passportExpiryDate;
    private String visaStatus;
    private LocalDate visaExpiryDate;
    
    // ì—°ë½ì²˜ (í•´ì™¸/í•œêµ­)
    private String overseasContactName;
    private String overseasContactPhone;
    private String koreaContactName;
    private String koreaContactPhone;
    
    // ì…êµ­ ê´€ë ¨
    private String entryPurpose;
    private String expectedStayDuration;
    private String preferredCommunicationMethod;
    private String timeZonePreference;
    
    // ì½”ë””ë„¤ì´í„° ì„œë¹„ìŠ¤
    private Boolean coordinatorRequired = true;
    
    // ì™„ì„±ë„ ì¶”ì 
    private Integer profileCompletionPercentage = 0;
}
```

### í”„ë¡œí•„ API ì—”ë“œí¬ì¸íŠ¸
```
POST /api/profiles/domestic/{memberId}    - êµ­ë‚´ í”„ë¡œí•„ ìƒì„±
GET  /api/profiles/domestic/{memberId}    - êµ­ë‚´ í”„ë¡œí•„ ì¡°íšŒ  
PUT  /api/profiles/domestic/{memberId}    - êµ­ë‚´ í”„ë¡œí•„ ìˆ˜ì •

POST /api/profiles/overseas/{memberId}    - í•´ì™¸ í”„ë¡œí•„ ìƒì„±
GET  /api/profiles/overseas/{memberId}    - í•´ì™¸ í”„ë¡œí•„ ì¡°íšŒ
PUT  /api/profiles/overseas/{memberId}    - í•´ì™¸ í”„ë¡œí•„ ìˆ˜ì •

GET  /api/profiles/domestic?minCompletion=80         - ì™„ì„±ë„ë³„ ì¡°íšŒ
GET  /api/profiles/overseas?country=ë¯¸êµ­              - êµ­ê°€ë³„ ì¡°íšŒ  
GET  /api/profiles/overseas/coordinator-required     - ì½”ë””ë„¤ì´í„° í•„ìš” ëŒ€ìƒ
GET  /api/profiles/overseas/expiring-documents       - ì„œë¥˜ ë§Œë£Œ ì˜ˆì •ì
```

---

## ğŸ”’ ë³´ì•ˆ ê¸°ëŠ¥

### ì…ë ¥ ê²€ì¦ ë° ë³´ì•ˆ
- **ì…ë ¥ Sanitization**: XSS ë°©ì§€
- **SQL ì¸ì ì…˜ ë°©ì§€**: íŒ¨í„´ ê²€ì‚¬  
- **ê°œì¸ì •ë³´ ë§ˆìŠ¤í‚¹**: ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, ì—¬ê¶Œë²ˆí˜¸
- **ë¹„ë°€ë²ˆí˜¸ ì •ì±…**: 8ì ì´ìƒ, ëŒ€ì†Œë¬¸ì+ìˆ«ì+íŠ¹ìˆ˜ë¬¸ì
- **ì—­í• ë³„ ì ‘ê·¼ ì œì–´**: DOMESTIC_USER â†” OVERSEAS_USER ë¶„ë¦¬

### í”„ë¡œí•„ ìƒì„± ì œí•œ
```java
// êµ­ë‚´ ì‚¬ìš©ìëŠ” í•´ì™¸ í”„ë¡œí•„ ìƒì„± ë¶ˆê°€
if (member.getRole() == MemberRole.DOMESTIC_USER) {
    throw new CustomException.BadRequest("êµ­ë‚´ ì‚¬ìš©ìëŠ” í•´ì™¸ í”„ë¡œí•„ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
}

// í•´ì™¸ ì‚¬ìš©ìëŠ” êµ­ë‚´ í”„ë¡œí•„ ìƒì„± ë¶ˆê°€
if (member.getRole() == MemberRole.OVERSEAS_USER) {  
    throw new CustomException.BadRequest("í•´ì™¸ ì‚¬ìš©ìëŠ” êµ­ë‚´ í”„ë¡œí•„ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
}
```

---

## ğŸ“Š í”„ë¡œí•„ ì™„ì„±ë„ ì‹œìŠ¤í…œ

### ìë™ ì™„ì„±ë„ ê³„ì‚°
- **êµ­ë‚´ í”„ë¡œí•„**: 15ê°œ í•„ë“œ ê¸°ì¤€ (ê¸°ë³¸ì •ë³´ 5ê°œ, ì—°ë½ì²˜ 3ê°œ, ê±´ê°•ì •ë³´ 3ê°œ, ì¼€ì–´ì •ë³´ 4ê°œ)
- **í•´ì™¸ í”„ë¡œí•„**: 25ê°œ í•„ë“œ ê¸°ì¤€ (ì—¬ê¶Œì •ë³´, ì—°ë½ì²˜ ë¶„ë¦¬, ì…êµ­ì •ë³´ ì¶”ê°€)
- **ì™„ì„±ë„ ì„ê³„ê°’**: êµ­ë‚´ 80%, í•´ì™¸ 70%

### ë‹¨ê³„ë³„ ì •ë³´ ìˆ˜ì§‘
1. **ê¸°ë³¸ ì •ë³´**: ìƒë…„ì›”ì¼, ì„±ë³„, ì£¼ì†Œ
2. **ì—°ë½ì²˜**: ì‘ê¸‰ì—°ë½ì²˜ (í•´ì™¸ì˜ ê²½ìš° í•´ì™¸+í•œêµ­ ë¶„ë¦¬)  
3. **ê±´ê°• ì •ë³´**: ë³´í—˜, ì¥ê¸°ìš”ì–‘ë“±ê¸‰
4. **ì¼€ì–´ ì •ë³´**: ì„ í˜¸ì§€ì—­, ì˜ˆì‚°, íŠ¹ë³„ ìš”êµ¬ì‚¬í•­

---

## ğŸ›  ê°œë°œ ë„êµ¬

### í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
```bash
# íšŒì› ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*MemberServiceTest"

# í”„ë¡œí•„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸  
./gradlew :test --tests "*ProfileServiceTest"

# API í†µí•© í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*ControllerTest"
```

### API ë¬¸ì„œ í™•ì¸
```bash
# Swagger UI ì ‘ì†
http://localhost:8080/swagger-ui.html

# OpenAPI ìŠ¤í™ í™•ì¸
http://localhost:8080/api-docs
```

---

## ğŸ“‹ í™•ì¸ ì‚¬í•­

### Phase 2-A ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] 5ê°€ì§€ ì—­í• ë¡œ íšŒì›ê°€ì… ì„±ê³µ
- [ ] JWT í† í°ìœ¼ë¡œ ë¡œê·¸ì¸ ì„±ê³µ  
- [ ] ë¹„ë°€ë²ˆí˜¸ BCrypt ì•”í˜¸í™” í™•ì¸
- [ ] ì—­í• ë³„ ê¶Œí•œ ì ‘ê·¼ ì œì–´ ë™ì‘
- [ ] Swagger API ë¬¸ì„œ ìƒì„± í™•ì¸

### Phase 2-B ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] êµ­ë‚´/í•´ì™¸ í”„ë¡œí•„ ìƒì„± ë¶„ë¦¬ ë™ì‘
- [ ] í”„ë¡œí•„ ì™„ì„±ë„ ìë™ ê³„ì‚°
- [ ] ê°œì¸ì •ë³´ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ í™•ì¸
- [ ] ì„œë¥˜ ë§Œë£Œ ì˜ˆì •ì ì¡°íšŒ ê¸°ëŠ¥
- [ ] ì½”ë””ë„¤ì´í„° í•„ìš” ëŒ€ìƒ ìë™ ì‹ë³„

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Phase 3-A**: ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ
- HealthAssessment ì—”í‹°í‹°
- 4ê°œ ì˜ì—­ í‰ê°€ ë¡œì§ (ê±·ê¸°, ì‹ì‚¬, ë°°ë³€, ì˜ì‚¬ì†Œí†µ)  
- ADL ì ìˆ˜ ê³„ì‚°
- ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ

**ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸**: Phase 2 ì™„ë£Œ í›„ Phase 3 ì§„í–‰
</file>

<file path="docs/phases/phase-3.md">
# Phase 3: ê±´ê°• ìƒíƒœ í‰ê°€ ì‹œìŠ¤í…œ

## ğŸ¯ ê°œìš”
**ì†Œìš”ê¸°ê°„**: 3-4ì¼  
**ì˜ˆìƒ í† í°**: ~22,000 í† í°  
**ëª©í‘œ**: KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ + React UI êµ¬í˜„

---

## ğŸ“Œ Phase 3-A: ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ

### êµ¬í˜„ ëŒ€ìƒ
- [ ] HealthAssessment ì—”í‹°í‹°
- [ ] 4ê°œ ì˜ì—­ í‰ê°€ ë¡œì§ (ê±·ê¸°, ì‹ì‚¬, ë°°ë³€, ì˜ì‚¬ì†Œí†µ)
- [ ] ADL ì ìˆ˜ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜
- [ ] ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ
- [ ] ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ì—°ë™

### ì—”í‹°í‹° ì„¤ê³„
```java
@Entity
@Table(name = "health_assessments")
public class HealthAssessment extends BaseEntity {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(name = "member_id", nullable = false)
    private String memberId;
    
    // ê¸°ë³¸ ì •ë³´
    private String gender;
    private Integer birthYear;
    
    // ADL í‰ê°€ (1-3ì )
    @Column(name = "mobility_level", nullable = false)
    private Integer mobilityLevel;        // ê±·ê¸° í™œë™
    
    @Column(name = "eating_level", nullable = false) 
    private Integer eatingLevel;          // ì‹ì‚¬ í™œë™
    
    @Column(name = "toilet_level", nullable = false)
    private Integer toiletLevel;          // ë°°ë³€ í™œë™
    
    @Column(name = "communication_level", nullable = false)
    private Integer communicationLevel;   // ì˜ì‚¬ì†Œí†µ
    
    // ì¥ê¸°ìš”ì–‘ë³´í—˜ ì •ë³´
    @Column(name = "ltci_grade")
    private Integer ltciGrade;           // 1-5ë“±ê¸‰, 6(ì¸ì§€ì§€ì›), 7(ëª¨ë¦„), 8(ì—†ìŒ)
    
    // ëŒë´„ëŒ€ìƒì ìƒíƒœ  
    @Column(name = "care_target_status")
    private Integer careTargetStatus;    // 1-4 (ìƒëª…ì˜ˆí›„ ìƒíƒœ)
    
    // ê³„ì‚°ëœ ê²°ê³¼
    @Column(name = "adl_score")
    private Integer adlScore;            // ADL ì ìˆ˜ (4-12ì )
    
    @Column(name = "overall_care_grade")
    private String overallCareGrade;     // ì¢…í•© ì¼€ì–´ ë“±ê¸‰
    
    @Column(name = "assessment_date")
    private LocalDateTime assessmentDate;
}
```

### ëŒë´„ì§€ìˆ˜ í‰ê°€ ê¸°ì¤€ (KBë¼ì´í”„ìƒëª… ê¸°ë°˜)

#### 1. ê±·ê¸° í™œë™ ëŠ¥ë ¥ (care_mobility)
```yaml
ë“±ê¸‰ 1 (ë…ë¦½): í˜¼ìì„œ ê°€ëŠ¥í•´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ë„ì›€): ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš” (íƒ€ì¸ì˜ ë¶€ì¶•, ì§€íŒ¡ì´ ì´ìš© ë“±)  
ë“±ê¸‰ 3 (ì™„ì „ë„ì›€): í˜¼ìì„œëŠ” ë³´í–‰ì´ ì–´ë ¤ì›Œìš” (íœ ì²´ì–´ ì‚¬ìš© ë“±)
```

#### 2. ì‹ì‚¬ í™œë™ ëŠ¥ë ¥ (care_eating)
```yaml
ë“±ê¸‰ 1 (ë…ë¦½): í˜¼ìì„œ ê°€ëŠ¥í•´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ë„ì›€): ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš” (ë°˜ì°¬ ì§‘ê¸°, ìë¥´ê¸° ë“± ì¼ë¶€ ë„ì›€)
ë“±ê¸‰ 3 (ì™„ì „ë„ì›€): ì™„ì „í•œ ë„ì›€ì´ í•„ìš”í•´ìš” (ìŒì‹ì„ ë–  ë¨¹ì—¬ì¤Œ)
```

#### 3. ë°°ë³€ í™œë™ ëŠ¥ë ¥ (care_toilet)  
```yaml
ë“±ê¸‰ 1 (ë…ë¦½): í˜¼ìì„œ í™”ì¥ì‹¤ì„ ì´ìš©í•  ìˆ˜ ìˆì–´ìš”
ë“±ê¸‰ 2 (ë¶€ë¶„ë„ì›€): í™”ì¥ì‹¤ ì´ìš© ì‹œ ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš”
ë“±ê¸‰ 3 (ì™„ì „ë„ì›€): ì™„ì „í•œ ë„ì›€ì´ í•„ìš”í•´ìš” (ê°„ì´ë³€ê¸°, ê¸°ì €ê·€ ì°©ìš© ë“±)
```

#### 4. ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ (care_communication)
```yaml
ë“±ê¸‰ 1 (ì •ìƒ): ì •ìƒì ìœ¼ë¡œ ê°€ëŠ¥í•´ìš”  
ë“±ê¸‰ 2 (ë¶€ë¶„ì œí•œ): ë•Œë•Œë¡œ ì–´ë ¤ì›Œìš” (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ê°€ëŠ¥)
ë“±ê¸‰ 3 (ì‹¬ê°ì œí•œ): ì†Œí†µì´ ì–´ë ¤ì›Œìš” (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ì˜ ëª»í•¨)
```

### ì¼€ì–´ ë“±ê¸‰ ê³„ì‚° ë¡œì§
```java
@Service
public class CareGradeCalculator {
    
    public CareGrade calculateComprehensiveGrade(HealthAssessment assessment) {
        // 1. ê¸°ë³¸ ADL ì ìˆ˜ ê³„ì‚° (ì¼ìƒìƒí™œìˆ˜í–‰ëŠ¥ë ¥)
        int adlScore = calculateADLScore(assessment);
        
        // 2. ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ë°˜ì˜
        int ltciGrade = assessment.getLtciGrade();
        
        // 3. ëŒë´„ëŒ€ìƒì ìƒíƒœ ë°˜ì˜  
        int careTargetStatus = assessment.getCareTargetStatus();
        
        // 4. ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ë„ì¶œ
        return determineOverallCareGrade(adlScore, ltciGrade, careTargetStatus);
    }
    
    private int calculateADLScore(HealthAssessment assessment) {
        int mobility = assessment.getMobilityLevel();    // 1-3
        int eating = assessment.getEatingLevel();        // 1-3  
        int toilet = assessment.getToiletLevel();        // 1-3
        int communication = assessment.getCommunicationLevel(); // 1-3
        
        // ê° ì˜ì—­ë³„ ê°€ì¤‘ì¹˜ ì ìš©
        return (mobility * 25) + (eating * 20) + (toilet * 30) + (communication * 25);
    }
}
```

### API ì—”ë“œí¬ì¸íŠ¸
```
POST /api/health-assessments                    - ê±´ê°• í‰ê°€ ìƒì„±
GET  /api/health-assessments/{memberId}         - íšŒì›ë³„ í‰ê°€ ì¡°íšŒ
PUT  /api/health-assessments/{id}               - í‰ê°€ ì •ë³´ ìˆ˜ì •
POST /api/health-assessments/calculate          - ì¼€ì–´ ë“±ê¸‰ ê³„ì‚°
GET  /api/health-assessments/statistics         - í†µê³„ ì¡°íšŒ (ê´€ë¦¬ì)
```

---

## ğŸ“Œ Phase 3-B: React ì²´í¬ë¦¬ìŠ¤íŠ¸ UI

### êµ¬í˜„ ëŒ€ìƒ
- [ ] React 18 + TypeScript í”„ë¡œì íŠ¸ ì„¤ì • í™•ì¥
- [ ] ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ í¼ ì»´í¬ë„ŒíŠ¸
- [ ] ë‹¨ê³„ë³„ ì§„í–‰ UI (Step Wizard)
- [ ] ê²°ê³¼ í‘œì‹œ ì»´í¬ë„ŒíŠ¸
- [ ] ë°˜ì‘í˜• ëª¨ë°”ì¼ ìµœì í™”

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```typescript
// ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸
export const HealthAssessmentForm: React.FC = () => {
  const [assessment, setAssessment] = useState<HealthAssessmentData>({
    mobility: null,
    eating: null, 
    toilet: null,
    communication: null,
    ltciGrade: null,
    careTargetStatus: null
  });

  const assessmentQuestions = {
    mobility: {
      title: "ê±·ê¸° í™œë™ ëŠ¥ë ¥",
      options: [
        { value: 1, label: "í˜¼ìì„œ ê°€ëŠ¥í•´ìš”" },
        { value: 2, label: "ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•´ìš”\n(íƒ€ì¸ì˜ ë¶€ì¶•, ì§€íŒ¡ì´ ì´ìš© ë“±)" },
        { value: 3, label: "í˜¼ìì„œëŠ” ë³´í–‰ì´ ì–´ë ¤ì›Œìš”\n(íœ ì²´ì–´ ì‚¬ìš© ë“±)" }
      ]
    },
    // ... ë‹¤ë¥¸ í•­ëª©ë“¤
  };

  const handleSubmit = async () => {
    const result = await healthAssessmentApi.calculate(assessment);
    // ê²°ê³¼ ì²˜ë¦¬ ë° ì½”ë””ë„¤ì´í„° ì¶”ì²œ
  };
};
```

### UI/UX ê¸°ëŠ¥
- **ë‹¨ê³„ë³„ ì§„í–‰**: 4ë‹¨ê³„ Step Wizard (ê±·ê¸°â†’ì‹ì‚¬â†’ë°°ë³€â†’ì˜ì‚¬ì†Œí†µ)
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: ì„ íƒí•  ë•Œë§ˆë‹¤ ì˜ˆìƒ ë“±ê¸‰ í‘œì‹œ  
- **ì ‘ê·¼ì„±**: ì‹œê°ì¥ì• ì¸ ìŠ¤í¬ë¦°ë¦¬ë” ì§€ì›
- **ëª¨ë°”ì¼ ìµœì í™”**: Touch-friendly ë²„íŠ¼ í¬ê¸°
- **ë‹¤êµ­ì–´ ì§€ì›**: í•œ/ì˜/ì¤‘/ì¼ ì–¸ì–´ ì „í™˜

### ê²°ê³¼ í‘œì‹œ í™”ë©´
```typescript
export const AssessmentResult: React.FC<{result: CareGradeResult}> = ({result}) => {
  return (
    <div className="assessment-result">
      <div className="result-summary">
        <h2>ê±´ê°• ìƒíƒœ í‰ê°€ ê²°ê³¼</h2>
        <div className="care-grade-badge">
          <span className="grade">{result.overallCareGrade}</span>
          <span className="score">ADL ì ìˆ˜: {result.adlScore}ì </span>
        </div>
      </div>
      
      <div className="recommendations">
        <h3>ğŸ¯ ë§¤ì¹­ëœ ì½”ë””ë„¤ì´í„°: {result.matchedCoordinators.length}ëª…</h3>
        <h3>ğŸ¥ ì¶”ì²œ ìš”ì–‘ì‹œì„¤: {result.recommendedFacilities.length}ê³³</h3>
        
        <div className="next-steps">
          <button onClick={() => navigate('/coordinator-matching')}>
            ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œì‘
          </button>
          <button onClick={() => navigate('/facility-search')}>
            ì‹œì„¤ ë‘˜ëŸ¬ë³´ê¸°  
          </button>
        </div>
      </div>
    </div>
  );
};
```

---

## ğŸ”— ì™¸ë¶€ ì—°ë™ ì¤€ë¹„

### ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API ì—°ë™
```java
@Component
public class LtciEvaluationApiClient {
    
    @Value("${ltci.evaluation.api.key}")
    private String apiKey;
    
    @Value("${ltci.evaluation.base.url}")  
    private String baseUrl;
    
    public List<FacilityEvaluation> getFacilityEvaluations(String region) {
        // ê³µê³µë°ì´í„° API í˜¸ì¶œ
        // ì¸ì¦í‚¤: CCXHQiSSQ0J+RRaadSjmmS7ltxG/tlSVOYMjh45MmGne68ptgGAaAJVJti8nBazSjLemTAyb5gAuj43xq7fTog==
    }
}
```

---

## ğŸ“Š í†µê³„ ë° ë¶„ì„

### í‰ê°€ ê²°ê³¼ í†µê³„
- **ì¼€ì–´ ë“±ê¸‰ë³„ ë¶„í¬**: 1ë“±ê¸‰(ìµœì¤‘ì¦) ~ 6ë“±ê¸‰(ì¸ì§€ì§€ì›) ë¹„ìœ¨
- **ì§€ì—­ë³„ í‰ê°€ í˜„í™©**: ì‹œ/ë„ë³„ í‰ê°€ ì™„ë£Œìœ¨
- **ì—°ë ¹ëŒ€ë³„ ì¼€ì–´ ë“±ê¸‰**: 60ëŒ€, 70ëŒ€, 80ëŒ€+ ë“±ê¸‰ ë¶„í¬  
- **ì„±ë³„ ì¼€ì–´ íŒ¨í„´**: ë‚¨/ì—¬ ì¼€ì–´ ë“±ê¸‰ ì°¨ì´ ë¶„ì„

### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë°ì´í„°
```java
@RestController
@RequestMapping("/api/admin/health-assessments")
public class HealthAssessmentAdminController {
    
    @GetMapping("/statistics")
    public ResponseEntity<AssessmentStatistics> getStatistics() {
        return ResponseEntity.ok(assessmentStatisticsService.getOverallStatistics());
    }
    
    @GetMapping("/grade-distribution") 
    public ResponseEntity<Map<String, Long>> getCareGradeDistribution() {
        return ResponseEntity.ok(assessmentStatisticsService.getCareGradeDistribution());
    }
}
```

---

## ğŸ›  ê°œë°œ ë„êµ¬

### í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
```bash
# ë°±ì—”ë“œ ê±´ê°•í‰ê°€ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*HealthAssessmentTest"

# ì¼€ì–´ë“±ê¸‰ ê³„ì‚° í…ŒìŠ¤íŠ¸  
./gradlew :test --tests "*CareGradeCalculatorTest"

# í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
cd frontend && npm test HealthAssessmentForm
```

### API í…ŒìŠ¤íŠ¸
```bash
# ê±´ê°• í‰ê°€ ìƒì„±
curl -X POST http://localhost:8080/api/health-assessments \
  -H "Content-Type: application/json" \
  -d '{"memberId":"user123","mobilityLevel":2,"eatingLevel":1,"toiletLevel":2,"communicationLevel":1}'

# ì¼€ì–´ ë“±ê¸‰ ê³„ì‚°
curl -X POST http://localhost:8080/api/health-assessments/calculate \
  -H "Content-Type: application/json"  
  -d '{"adlScore":80,"ltciGrade":3,"careTargetStatus":4}'
```

---

## ğŸ“‹ í™•ì¸ ì‚¬í•­

### Phase 3-A ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] 4ê°œ ì˜ì—­ ê±´ê°• í‰ê°€ ë¡œì§ êµ¬í˜„
- [ ] ADL ì ìˆ˜ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜ ê²€ì¦
- [ ] ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ì—°ë™ í™•ì¸
- [ ] ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ ì •í™•ì„± í…ŒìŠ¤íŠ¸
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ë™ì‘ í™•ì¸

### Phase 3-B ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸  
- [ ] React ì²´í¬ë¦¬ìŠ¤íŠ¸ í¼ ì™„ì„±
- [ ] ë‹¨ê³„ë³„ ì§„í–‰ UI ë™ì‘ í™•ì¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ê²€ì¦
- [ ] ë°±ì—”ë“œ API ì—°ë™ ì„±ê³µ
- [ ] ê²°ê³¼ í™”ë©´ í‘œì‹œ ì™„ë£Œ

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Phase 4-A**: ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ ê´€ë¦¬  
- CoordinatorProfile ì—”í‹°í‹°
- ìê¸° ì„¤ì • ì¼€ì–´ ë“±ê¸‰ ì‹œìŠ¤í…œ
- ì „ë¬¸ì„± ë° ê²½ë ¥ ê´€ë¦¬  
- ì‹¤ì‹œê°„ ê°€ìš©ì„± ê´€ë¦¬

**ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸**: Phase 3 ì™„ë£Œ í›„ ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œìŠ¤í…œ êµ¬ì¶•
</file>

<file path="docs/phases/phase-4.md">
# Phase 4: ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œìŠ¤í…œ

## ğŸ¯ ê°œìš”
**ì†Œìš”ê¸°ê°„**: 4-5ì¼  
**ì˜ˆìƒ í† í°**: ~27,000 í† í°  
**ëª©í‘œ**: AI ê¸°ë°˜ ì½”ë””ë„¤ì´í„° ìë™ ë§¤ì¹­ ì‹œìŠ¤í…œ + ìê¸° ì„¤ì • ì¼€ì–´ ë“±ê¸‰ ê´€ë¦¬

---

## ğŸ“Œ Phase 4-A: ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ ê´€ë¦¬

### êµ¬í˜„ ëŒ€ìƒ
- [ ] CoordinatorProfile ì—”í‹°í‹°
- [ ] ìê¸° ì„¤ì • ì¼€ì–´ ë“±ê¸‰ ì‹œìŠ¤í…œ  
- [ ] ì „ë¬¸ì„± ë° ê²½ë ¥ ê´€ë¦¬
- [ ] ì‹¤ì‹œê°„ ê°€ìš©ì„± ê´€ë¦¬
- [ ] ì„±ê³¼ ê¸°ë°˜ ì‹ ë¢°ë„ ì ìˆ˜

### ì½”ë””ë„¤ì´í„° ì „ë¬¸ ë¶„ì•¼ë³„ ë¶„ë¥˜
```yaml
ì˜ë£Œ ì „ë¬¸ ì½”ë””ë„¤ì´í„°:
  - ê°„í˜¸ì‚¬, ì‚¬íšŒë³µì§€ì‚¬, ìš”ì–‘ë³´í˜¸ì‚¬ ìê²© ë³´ìœ 
  - ì˜ë£Œì§„ê³¼ì˜ ì „ë¬¸ì  ì†Œí†µ ëŠ¥ë ¥
  - ì¹˜ë§¤, ë‡Œì¡¸ì¤‘ ë“± íŠ¹ì • ì§ˆí™˜ ì „ë¬¸ì„±

ë²•ë¬´/í–‰ì • ì „ë¬¸ ì½”ë””ë„¤ì´í„°:  
  - í–‰ì •ì‚¬, ë²•ë¬´ì‚¬ ë“± ìê²© ë³´ìœ 
  - ë¹„ì, ë³´í—˜, í–‰ì •ì ˆì°¨ ì „ë¬¸ ì§€ì‹
  - ì™¸êµ­ì¸ ê´€ë ¨ ë²•ë ¹ ìˆ™ì§€

ì–¸ì–´ ì „ë¬¸ ì½”ë””ë„¤ì´í„°:
  - ë‹¤êµ­ì–´ êµ¬ì‚¬ ëŠ¥ë ¥ (ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´)
  - ë²ˆì—­/í†µì—­ ìê²©ì¦ ë³´ìœ 
  - ë¬¸í™”ì  ì°¨ì´ ì´í•´ ë° ì¤‘ì¬ ëŠ¥ë ¥

ì‹¬ë¦¬ ìƒë‹´ ì „ë¬¸ ì½”ë””ë„¤ì´í„°:
  - ì‹¬ë¦¬ìƒë‹´ì‚¬, ì‚¬íšŒë³µì§€ì‚¬ ìê²©
  - ê°€ì¡± ê°ˆë“± ì¤‘ì¬ ë° ì‹¬ë¦¬ì  ì§€ì›
  - ì¹˜ë§¤ í™˜ì ë° ê°€ì¡± ìƒë‹´ ì „ë¬¸ì„±
```

### ì—”í‹°í‹° ì„¤ê³„
```java
@Entity
@Table(name = "coordinator_care_settings")
public class CoordinatorCareSettings extends BaseEntity {
    @Id
    private Long id;
    private String coordinatorId;
    
    // ì‹œìŠ¤í…œ ìë™ ì‚°ì¶œ ë“±ê¸‰
    private Integer baseCareLevel;           // ìê²©ì¦ ê¸°ë°˜ ê¸°ë³¸ ë“±ê¸‰
    private Integer maxCareLevel;            // ê²½ë ¥ ê¸°ë°˜ ìµœëŒ€ ë“±ê¸‰
    
    // ì½”ë””ë„¤ì´í„° ê°œì¸ ì„¤ì •
    @ElementCollection
    private Set<Integer> preferredCareGrades;    // ì„ í˜¸ ì¼€ì–´ ë“±ê¸‰ [1,2,3,4,5,6]
    
    @ElementCollection  
    private Set<Integer> excludedCareGrades;     // ê±°ë¶€ ì¼€ì–´ ë“±ê¸‰ [1,2]
    
    @ElementCollection
    private Set<String> specialtyAreas;         // ì „ë¬¸ ë¶„ì•¼ ["dementia", "medical"]
    
    // ì—…ë¬´ëŸ‰ ì„¤ì •
    private Integer maxSimultaneousCases;       // ë™ì‹œ ë‹´ë‹¹ ê°€ëŠ¥ ì¼€ì´ìŠ¤ ìˆ˜
    private Integer preferredCasesPerMonth;     // ì›” ì„ í˜¸ ì¼€ì´ìŠ¤ ìˆ˜
    
    // ê·¼ë¬´ ì¡°ê±´ ì„¤ì •
    private Boolean availableWeekends;          // ì£¼ë§ ê·¼ë¬´ ê°€ëŠ¥ ì—¬ë¶€
    private Boolean availableEmergency;         // ì‘ê¸‰ ìƒí™© ëŒ€ì‘ ê°€ëŠ¥ ì—¬ë¶€
    private Set<String> workingRegions;         // ê·¼ë¬´ ê°€ëŠ¥ ì§€ì—­
    
    // ì„±ê³¼ ê¸°ë°˜ ì¡°ì •
    private Double performanceScore;            // ì„±ê³¼ ì ìˆ˜ (0.0-5.0)
    private Double customerSatisfaction;        // ê³ ê° ë§Œì¡±ë„ (0.0-5.0)
    private Integer successfulCases;            // ì„±ê³µ ì¼€ì´ìŠ¤ ìˆ˜
    private Integer totalCases;                 // ì´ ë‹´ë‹¹ ì¼€ì´ìŠ¤ ìˆ˜
    
    private LocalDateTime lastUpdated;
}
```

### ìê²©ì¦ ê¸°ë°˜ ê¸°ë³¸ ë“±ê¸‰ ì‹œìŠ¤í…œ
```yaml
Tier 1 (ìš”ì–‘ë³´í˜¸ì‚¬): 
  - ê¸°ë³¸ ì¼€ì–´ ë“±ê¸‰: 4-5ë“±ê¸‰, ì¸ì§€ì§€ì›ë“±ê¸‰
  - ìƒí•œì„ : 3ë“±ê¸‰ê¹Œì§€ ê°€ëŠ¥ (ê²½ë ¥ 2ë…„+ ì‹œ)
  
Tier 2 (ê°„í˜¸ì¡°ë¬´ì‚¬, ì‚¬íšŒë³µì§€ì‚¬):
  - ê¸°ë³¸ ì¼€ì–´ ë“±ê¸‰: 2-5ë“±ê¸‰  
  - ìƒí•œì„ : 1ë“±ê¸‰ê¹Œì§€ ê°€ëŠ¥ (ê²½ë ¥ 5ë…„+ ì‹œ)
  
Tier 3 (ê°„í˜¸ì‚¬, ì˜ë£Œì§„):
  - ê¸°ë³¸ ì¼€ì–´ ë“±ê¸‰: 1-5ë“±ê¸‰ ì „ì²´
  - íŠ¹ìˆ˜ ì¼€ì–´: í˜¸ìŠ¤í”¼ìŠ¤, ì˜ë£Œì§„ í˜‘ë ¥ ì¼€ì–´
```

### API ì—”ë“œí¬ì¸íŠ¸
```
GET  /api/coordinators/{coordinatorId}/care-settings       - ì¼€ì–´ ì„¤ì • ì¡°íšŒ
PUT  /api/coordinators/{coordinatorId}/care-settings       - ì¼€ì–´ ì„¤ì • ì—…ë°ì´íŠ¸
POST /api/coordinators/{coordinatorId}/care-grades/preferences  - ì„ í˜¸/ê±°ë¶€ ë“±ê¸‰ ì„¤ì •
GET  /api/coordinators/{coordinatorId}/matching-statistics     - ë§¤ì¹­ ì„±ê³¼ í†µê³„
POST /api/coordinators/{coordinatorId}/availability            - ì‹¤ì‹œê°„ ê°€ìš©ì„± ì—…ë°ì´íŠ¸
```

---

## ğŸ“Œ Phase 4-B: AI ê¸°ë°˜ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜

### êµ¬í˜„ ëŒ€ìƒ  
- [ ] ë‹¤ì¸µ ë§¤ì¹­ ì‹œìŠ¤í…œ (Multi-Layer Matching)
- [ ] ì¢…í•© ì ìˆ˜ ê³„ì‚° ë¡œì§
- [ ] ì—…ë¬´ëŸ‰ ìµœì í™” ë¶„ë°°
- [ ] ë§¤ì¹­ ê²°ê³¼ ì„¤ëª… ìƒì„±
- [ ] ì‹¤ì‹œê°„ ê°€ìš©ì„± ë°˜ì˜

### ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ êµ¬ì¡°
```java
@Service
public class OptimizedCoordinatorMatchingService {
    
    public List<CoordinatorMatch> findOptimalMatches(HealthAssessment assessment, 
                                                   MatchingPreference preference) {
        
        // 1ë‹¨ê³„: ê¸°ë³¸ ìê²© í•„í„°ë§
        List<Coordinator> eligibleCoordinators = filterByBasicQualifications(assessment);
        
        // 2ë‹¨ê³„: ì½”ë””ë„¤ì´í„° ì„¤ì • ë§¤ì¹­
        List<Coordinator> settingsMatched = filterByCoordinatorSettings(eligibleCoordinators, assessment);
        
        // 3ë‹¨ê³„: AI ìŠ¤ì½”ì–´ë§ ë° ìµœì í™”
        List<CoordinatorMatch> scoredMatches = calculateOptimalMatches(settingsMatched, assessment);
        
        // 4ë‹¨ê³„: ì‹¤ì‹œê°„ ê°€ìš©ì„± í™•ì¸
        return filterByRealTimeAvailability(scoredMatches, preference);
    }
}
```

### ì¢…í•© ì ìˆ˜ ê³„ì‚° (5.0 ë§Œì )
```java
private double calculateComprehensiveMatchScore(Coordinator coordinator, HealthAssessment assessment) {
    double score = 0.0;
    
    // 1. ì „ë¬¸ì„± ë§¤ì¹­ ì ìˆ˜ (40%)
    score += calculateSpecialtyMatchScore(coordinator, assessment) * 0.4;
    
    // 2. ê²½ë ¥ ë° ì„±ê³¼ ì ìˆ˜ (25%)
    score += calculateExperienceScore(coordinator) * 0.25;
    
    // 3. ê³ ê° ë§Œì¡±ë„ ì ìˆ˜ (20%)
    score += coordinator.getCareSettings().getCustomerSatisfaction() * 0.2;
    
    // 4. ì§€ì—­ ì ‘ê·¼ì„± ì ìˆ˜ (10%)
    score += calculateLocationScore(coordinator, assessment) * 0.1;
    
    // 5. ì‹¤ì‹œê°„ ê°€ìš©ì„± ë³´ë„ˆìŠ¤ (5%)
    score += calculateAvailabilityBonus(coordinator) * 0.05;
    
    return Math.min(score, 5.0); // ìµœëŒ€ 5ì 
}
```

### ì „ë¬¸ì„± ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë§¤ì¹­
```java
private double calculateSpecialtyMatchScore(Coordinator coordinator, HealthAssessment assessment) {
    double specialtyScore = 0.0;
    Set<String> coordinatorSpecialties = coordinator.getCareSettings().getSpecialtyAreas();
    
    // ì¹˜ë§¤ ì „ë¬¸ì„± ë§¤ì¹­
    if (assessment.getLtciGrade() == 6 || assessment.getCommunicationLevel() == 3) {
        if (coordinatorSpecialties.contains("dementia")) {
            specialtyScore += 2.0;
        }
    }
    
    // ì˜ë£Œ ì „ë¬¸ì„± ë§¤ì¹­ (1-2ë“±ê¸‰, ìƒíƒœ1-2)
    if (assessment.getOverallCareGrade().getLevel() <= 2 || assessment.getCareTargetStatus() <= 2) {
        if (coordinatorSpecialties.contains("medical")) {
            specialtyScore += 2.0;
        }
    }
    
    // ì¬í™œ ì „ë¬¸ì„± ë§¤ì¹­
    if (assessment.getMobilityLevel() >= 2) {
        if (coordinatorSpecialties.contains("rehabilitation")) {
            specialtyScore += 1.5;
        }
    }
    
    // ë‹¤êµ­ì–´ ì§€ì› (ì¬ì™¸ë™í¬)
    if (assessment.isOverseasKorean()) {
        if (coordinatorSpecialties.contains("multilingual")) {
            specialtyScore += 1.0;
        }
    }
    
    return Math.min(specialtyScore, 5.0);
}
```

### ì—…ë¬´ëŸ‰ ìµœì í™” ë¶„ë°°
```java
@Component
public class CoordinatorWorkloadOptimizer {
    
    public List<CoordinatorMatch> optimizeWorkloadDistribution(List<CoordinatorMatch> matches) {
        return matches.stream()
            .map(match -> {
                Coordinator coordinator = match.getCoordinator();
                double workloadScore = calculateWorkloadScore(coordinator);
                
                // ì—…ë¬´ëŸ‰ì´ ì ì€ ì½”ë””ë„¤ì´í„°ì—ê²Œ ê°€ì‚°ì 
                double adjustedScore = match.getMatchScore() + (workloadScore * 0.3);
                
                return new CoordinatorMatch(coordinator, adjustedScore, 
                    match.getMatchReason() + generateWorkloadReason(workloadScore));
            })
            .sorted(Comparator.comparing(CoordinatorMatch::getMatchScore).reversed())
            .collect(Collectors.toList());
    }
    
    private double calculateWorkloadScore(Coordinator coordinator) {
        CoordinatorCareSettings settings = coordinator.getCareSettings();
        int currentCases = getCurrentActiveCases(coordinator.getId());
        int maxCases = settings.getMaxSimultaneousCases();
        
        // ì—…ë¬´ëŸ‰ ë¹„ìœ¨ ê³„ì‚° (ë‚®ì„ìˆ˜ë¡ ë†’ì€ ì ìˆ˜)
        double workloadRatio = (double) currentCases / maxCases;
        
        if (workloadRatio >= 1.0) return 0.0;      // í¬í™” ìƒíƒœ
        if (workloadRatio >= 0.8) return 1.0;      // ê±°ì˜ í¬í™”
        if (workloadRatio >= 0.6) return 2.0;      // ì ì • ìˆ˜ì¤€
        if (workloadRatio >= 0.4) return 3.0;      // ì—¬ìœ  ìˆìŒ
        return 4.0;                                // ë§¤ìš° ì—¬ìœ 
    }
}
```

### ì§€ëŠ¥í˜• ë§¤ì¹­ ê²°ê³¼ ì„¤ëª…
```java
public class MatchingExplanationGenerator {
    
    public String generateMatchReason(Coordinator coordinator, HealthAssessment assessment) {
        StringBuilder reason = new StringBuilder();
        
        // ì „ë¬¸ì„± ë§¤ì¹­ ì´ìœ 
        if (isSpecialtyMatch(coordinator, assessment)) {
            reason.append("ğŸ¯ ì „ë¬¸ ë¶„ì•¼ ì™„ë²½ ë§¤ì¹­: ");
            reason.append(getSpecialtyDescription(coordinator, assessment));
            reason.append("\n");
        }
        
        // ê²½ë ¥ ë§¤ì¹­ ì´ìœ 
        int experience = coordinator.getCareSettings().getExperienceYears();
        reason.append("ğŸ“Š ê²½ë ¥: ").append(experience).append("ë…„ (");
        if (experience >= 10) reason.append("ìµœê³  ì „ë¬¸ê°€");
        else if (experience >= 5) reason.append("ìˆ™ë ¨ ì „ë¬¸ê°€");
        else if (experience >= 2) reason.append("ê²½ë ¥ì");
        else reason.append("ì‹ ì…");
        reason.append(")\n");
        
        // ì„±ê³¼ ì´ìœ 
        double satisfaction = coordinator.getCareSettings().getCustomerSatisfaction();
        reason.append("â­ ê³ ê° ë§Œì¡±ë„: ").append(satisfaction).append("/5.0");
        if (satisfaction >= 4.5) reason.append(" (ìµœìš°ìˆ˜)");
        else if (satisfaction >= 4.0) reason.append(" (ìš°ìˆ˜)");
        else if (satisfaction >= 3.5) reason.append(" (ì–‘í˜¸)");
        reason.append("\n");
        
        // ê°€ìš©ì„± ì´ìœ 
        int currentLoad = getCurrentActiveCases(coordinator.getId());
        int maxLoad = coordinator.getCareSettings().getMaxSimultaneousCases();
        reason.append("â° í˜„ì¬ ì—…ë¬´ëŸ‰: ").append(currentLoad).append("/").append(maxLoad);
        if (currentLoad < maxLoad * 0.6) reason.append(" (ì¦‰ì‹œ ë°°ì • ê°€ëŠ¥)");
        else if (currentLoad < maxLoad * 0.8) reason.append(" (ë°°ì • ê°€ëŠ¥)");
        else reason.append(" (ì¼ì • ì¡°ìœ¨ í•„ìš”)");
        
        return reason.toString();
    }
}
```

---

## ğŸ¨ React ë§¤ì¹­ ê²°ê³¼ UI

### ë§¤ì¹­ ê²°ê³¼ ì»´í¬ë„ŒíŠ¸
```typescript
export const CoordinatorMatchingResult: React.FC<{matches: CoordinatorMatch[]}> = ({matches}) => {
  const [selectedCoordinator, setSelectedCoordinator] = useState<CoordinatorMatch | null>(null);

  return (
    <div className="coordinator-matching-result">
      <h2>ğŸ¯ ë§¤ì¹­ëœ ì½”ë””ë„¤ì´í„° ({matches.length}ëª…)</h2>
      
      <div className="matching-summary">
        <div className="best-match">
          <h3>ğŸ† ìµœê³  ë§¤ì¹­ (ë§¤ì¹­ë„: {matches[0].matchScore.toFixed(1)}/5.0)</h3>
          <CoordinatorCard coordinator={matches[0]} />
        </div>
        
        <div className="alternative-matches">
          <h3>ğŸ“‹ ë‹¤ë¥¸ ì¶”ì²œ ì½”ë””ë„¤ì´í„°</h3>
          {matches.slice(1, 4).map((match, index) => (
            <CoordinatorCard key={index} coordinator={match} compact />
          ))}
        </div>
      </div>
      
      <div className="matching-actions">
        <button 
          className="primary-button"
          onClick={() => requestConsultation(matches[0])}
        >
          ìµœê³  ë§¤ì¹­ ì½”ë””ë„¤ì´í„°ì™€ ìƒë‹´ ì‹ ì²­
        </button>
        <button 
          className="secondary-button"
          onClick={() => viewAllMatches()}
        >
          ì „ì²´ ë§¤ì¹­ ê²°ê³¼ ë³´ê¸° ({matches.length}ëª…)
        </button>
      </div>
    </div>
  );
};

const CoordinatorCard: React.FC<{coordinator: CoordinatorMatch, compact?: boolean}> = ({coordinator, compact = false}) => {
  return (
    <div className={`coordinator-card ${compact ? 'compact' : ''}`}>
      <div className="coordinator-header">
        <div className="coordinator-info">
          <h4>{coordinator.name}</h4>
          <span className="specialties">
            {coordinator.specialtyAreas.map(area => (
              <span key={area} className="specialty-badge">{area}</span>
            ))}
          </span>
        </div>
        <div className="match-score">
          <span className="score">{coordinator.matchScore.toFixed(1)}</span>
          <span className="max-score">/5.0</span>
        </div>
      </div>
      
      {!compact && (
        <div className="coordinator-details">
          <div className="match-reason">
            <h5>ğŸ¯ ë§¤ì¹­ ì´ìœ </h5>
            <p>{coordinator.matchReason}</p>
          </div>
          
          <div className="coordinator-stats">
            <div className="stat">
              <span className="stat-label">ê²½ë ¥</span>
              <span className="stat-value">{coordinator.experienceYears}ë…„</span>
            </div>
            <div className="stat">
              <span className="stat-label">ì„±ê³µ ì¼€ì´ìŠ¤</span>
              <span className="stat-value">{coordinator.successfulCases}ê±´</span>
            </div>
            <div className="stat">
              <span className="stat-label">ë§Œì¡±ë„</span>
              <span className="stat-value">{coordinator.customerSatisfaction.toFixed(1)}/5.0</span>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};
```

---

## ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### ë§¤ì¹­ ì„±ê³µë¥  ì¶”ì 
```yaml
ë§¤ì¹­ ì„±ê³µë¥  ì¶”ì :
  - ì´ˆê¸° ë§¤ì¹­ ì„±ê³µë¥ : ë§¤ì¹­ í›„ ê³„ì•½ ì²´ê²°ìœ¨
  - ì¥ê¸° ë§Œì¡±ë„: 3ê°œì›” í›„ ê³ ê° ë§Œì¡±ë„  
  - ì½”ë””ë„¤ì´í„° ë§Œì¡±ë„: ì—…ë¬´ ë¶€í•˜ ì ì •ì„±
  - ì¬ë§¤ì¹­ë¥ : ì½”ë””ë„¤ì´í„° ë³€ê²½ ìš”ì²­ë¥ 

ì‹¤ì‹œê°„ ìµœì í™”:
  - A/B í…ŒìŠ¤íŠ¸: ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ë¹„êµ
  - ë¨¸ì‹ ëŸ¬ë‹: ë§¤ì¹­ ì„±ê³µ íŒ¨í„´ í•™ìŠµ
  - í”¼ë“œë°± ë£¨í”„: ê²°ê³¼ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ ê°œì„ 
  - ê³„ì ˆë³„ ì¡°ì •: ì‹œê¸°ë³„ ìˆ˜ìš” íŒ¨í„´ ë°˜ì˜
```

### ê´€ë¦¬ì ë§¤ì¹­ í†µê³„ API
```java
@RestController
@RequestMapping("/api/admin/coordinator-matching")
public class CoordinatorMatchingAdminController {
    
    @GetMapping("/statistics")
    public ResponseEntity<MatchingStatistics> getMatchingStatistics() {
        return ResponseEntity.ok(matchingStatisticsService.getOverallStatistics());
    }
    
    @GetMapping("/success-rate")
    public ResponseEntity<Map<String, Double>> getMatchingSuccessRate() {
        return ResponseEntity.ok(matchingStatisticsService.getSuccessRateBySpecialty());
    }
    
    @GetMapping("/coordinator-workload")
    public ResponseEntity<List<CoordinatorWorkloadReport>> getCoordinatorWorkload() {
        return ResponseEntity.ok(matchingStatisticsService.getWorkloadReports());
    }
}
```

---

## ğŸ›  ê°œë°œ ë„êµ¬

### í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
```bash
# ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*CoordinatorMatchingServiceTest"

# ì—…ë¬´ëŸ‰ ìµœì í™” í…ŒìŠ¤íŠ¸  
./gradlew :test --tests "*WorkloadOptimizerTest"

# ì „ë¬¸ì„± ë§¤ì¹­ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*SpecialtyMatchingTest"
```

### ë§¤ì¹­ ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
```bash
# ëŒ€ëŸ‰ ë§¤ì¹­ í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:8080/api/coordinator-matching/simulate \
  -H "Content-Type: application/json" \
  -d '{"healthAssessmentId":123,"coordinatorCount":100}'

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸  
./gradlew :test --tests "*MatchingPerformanceTest"
```

---

## ğŸ“‹ í™•ì¸ ì‚¬í•­

### Phase 4-A ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì½”ë””ë„¤ì´í„° ìê¸° ì„¤ì • ì¼€ì–´ ë“±ê¸‰ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ì „ë¬¸ì„± ë° ìê²©ì¦ ê¸°ë°˜ ë“±ê¸‰ ìë™ ì‚°ì¶œ
- [ ] ì‹¤ì‹œê°„ ê°€ìš©ì„± ê´€ë¦¬ ê¸°ëŠ¥
- [ ] ì„±ê³¼ ê¸°ë°˜ ì‹ ë¢°ë„ ì ìˆ˜ ê³„ì‚°
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ë™ì‘ í™•ì¸

### Phase 4-B ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸  
- [ ] AI ê¸°ë°˜ ë‹¤ì¸µ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- [ ] ì¢…í•© ì ìˆ˜ ê³„ì‚° ë¡œì§ ì •í™•ì„± ê²€ì¦
- [ ] ì—…ë¬´ëŸ‰ ìµœì í™” ë¶„ë°° ê¸°ëŠ¥
- [ ] ë§¤ì¹­ ê²°ê³¼ ì„¤ëª… ìƒì„±
- [ ] React ë§¤ì¹­ ê²°ê³¼ UI ì™„ì„±

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Phase 5-A**: ì‹œì„¤ ë“±ê¸‰ ë° ë¶„ë¥˜ ì‹œìŠ¤í…œ
- FacilityProfile ì—”í‹°í‹°
- ì‹œì„¤ íƒ€ì…ë³„ ë¶„ë¥˜ (ì–‘ë¡œì‹œì„¤, ìš”ì–‘ë³‘ì› ë“±)  
- A-E ë“±ê¸‰ ì‹œìŠ¤í…œ
- ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API ì—°ë™

**ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸**: Phase 4 ì™„ë£Œ í›„ ì‹œì„¤ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶•
</file>

<file path="docs/phases/phase-5.md">
# Phase 5: ì‹œì„¤ ê´€ë¦¬ ì‹œìŠ¤í…œ

## ğŸ¯ ê°œìš”
**ì†Œìš”ê¸°ê°„**: 5-6ì¼  
**ì˜ˆìƒ í† í°**: ~26,000 í† í°  
**ëª©í‘œ**: ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API ì—°ë™ + AI ê¸°ë°˜ ì‹œì„¤-í™˜ì ë§¤ì¹­ ì‹œìŠ¤í…œ

---

## ğŸ“Œ Phase 5-A: ì‹œì„¤ ë“±ê¸‰ ë° ë¶„ë¥˜

### êµ¬í˜„ ëŒ€ìƒ
- [ ] FacilityProfile ì—”í‹°í‹°
- [ ] ì‹œì„¤ íƒ€ì…ë³„ ë¶„ë¥˜ (ì–‘ë¡œì‹œì„¤, ìš”ì–‘ë³‘ì› ë“±)
- [ ] A-E ë“±ê¸‰ ì‹œìŠ¤í…œ (ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ê¸°ì¤€)
- [ ] ì „ë¬¸ íŠ¹í™” ì‹œì„¤ ê´€ë¦¬
- [ ] ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API ì—°ë™

### ì‹œì„¤ íƒ€ì…ë³„ ë¶„ë¥˜ ì‹œìŠ¤í…œ
```yaml
ì£¼ê±°ë³µì§€ì‹œì„¤:
  - ì–‘ë¡œì‹œì„¤: 65ì„¸ ì´ìƒ ë…¸ì¸ ê³µë™ìƒí™œ (ë“±ê¸‰ ë¶ˆí•„ìš”)
  - ë…¸ì¸ê³µë™ìƒí™œê°€ì •: ì†Œê·œëª¨ ê³µë™ì£¼íƒ (5-9ëª…)
  - ë…¸ì¸ë³µì§€ì£¼íƒ: ë…ë¦½ì£¼ê±° + ë³µì§€ì„œë¹„ìŠ¤

ì˜ë£Œë³µì§€ì‹œì„¤:
  - ë…¸ì¸ìš”ì–‘ì‹œì„¤: ì¥ê¸°ìš”ì–‘ 1-5ë“±ê¸‰ ëŒ€ìƒ (24ì‹œê°„ ì¼€ì–´)
  - ë…¸ì¸ìš”ì–‘ê³µë™ìƒí™œê°€ì •: ì†Œê·œëª¨ ìš”ì–‘ì‹œì„¤ (5-9ëª…)
  - ë‹¨ê¸°ë³´í˜¸ì‹œì„¤: ì„ì‹œë³´í˜¸ ì„œë¹„ìŠ¤ (ìµœëŒ€ 15ì¼)

ì˜ë£Œê¸°ê´€:
  - ìš”ì–‘ë³‘ì›: ì˜ë£Œì§„ ìƒì£¼, ì˜ë£Œì„œë¹„ìŠ¤ ì œê³µ
  - ë…¸ì¸ì „ë¬¸ë³‘ì›: ë…¸ì¸ íŠ¹í™” ì˜ë£Œì„œë¹„ìŠ¤
  - ë…¸ì¸ìš”ì–‘ë³‘ì›: ì¥ê¸°ì…ì› + ìš”ì–‘ì„œë¹„ìŠ¤

ì¬ê°€ë³µì§€ì‹œì„¤:
  - ë°©ë¬¸ìš”ì–‘ì„œë¹„ìŠ¤: ê°€ì • ë°©ë¬¸ ì¼€ì–´
  - ì£¼ì•¼ê°„ë³´í˜¸ì„œë¹„ìŠ¤: ë‚®/ë°¤ ì„ì‹œë³´í˜¸
  - ë‹¨ê¸°ë³´í˜¸ì„œë¹„ìŠ¤: ê°€ì¡± íœ´ì‹ ì§€ì›
```

### ì‹œì„¤ ë“±ê¸‰ ë¶„ë¥˜ (ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ê¸°ì¤€)
```yaml
Aë“±ê¸‰ (ìµœìš°ìˆ˜):
  - í‰ê°€ì ìˆ˜: 90ì  ì´ìƒ
  - íŠ¹ì§•: ìµœê³  ìˆ˜ì¤€ì˜ ì¼€ì–´ í’ˆì§ˆ, ì˜ë£Œì§„ ìš°ìˆ˜, ì‹œì„¤ í˜„ëŒ€í™”
  - ëŒ€ìƒ: 1-2ë“±ê¸‰ ì¤‘ì¦í™˜ì ì „ë¬¸ ì¼€ì–´

Bë“±ê¸‰ (ìš°ìˆ˜):
  - í‰ê°€ì ìˆ˜: 80-89ì   
  - íŠ¹ì§•: ì–‘ì§ˆì˜ ì¼€ì–´ ì„œë¹„ìŠ¤, ì•ˆì •ì  ìš´ì˜
  - ëŒ€ìƒ: 2-3ë“±ê¸‰ ì¤‘ë“±ë„ í™˜ì ì í•©

Cë“±ê¸‰ (ë³´í†µ):
  - í‰ê°€ì ìˆ˜: 70-79ì 
  - íŠ¹ì§•: ê¸°ë³¸ ì¼€ì–´ ì„œë¹„ìŠ¤ ì œê³µ, í‘œì¤€ì  ìš´ì˜
  - ëŒ€ìƒ: 3-5ë“±ê¸‰ ê²½ì¦í™˜ì ì í•©

Dë“±ê¸‰ (ê°œì„ í•„ìš”):
  - í‰ê°€ì ìˆ˜: 60-69ì 
  - íŠ¹ì§•: ì¼€ì–´ í’ˆì§ˆ ê°œì„  í•„ìš”, ìš´ì˜ìƒ ì´ìŠˆ
  - ì£¼ì˜: ë§¤ì¹­ ì‹œ ì‹ ì¤‘ ê²€í†  í•„ìš”

Eë“±ê¸‰ (ë¶€ì í•©):
  - í‰ê°€ì ìˆ˜: 60ì  ë¯¸ë§Œ
  - íŠ¹ì§•: ì‹¬ê°í•œ í’ˆì§ˆ ë¬¸ì œ, í–‰ì •ì²˜ë¶„ ì´ë ¥
  - ì œì™¸: ë§¤ì¹­ ëŒ€ìƒì—ì„œ ì œì™¸ ê¶Œì¥
```

### ì—”í‹°í‹° ì„¤ê³„
```java
@Entity
@Table(name = "facility_profiles")
public class FacilityProfile extends BaseEntity {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    // ê¸°ë³¸ ì •ë³´
    private String facilityName;
    private String facilityType;           // "ì–‘ë¡œì‹œì„¤", "ë…¸ì¸ìš”ì–‘ì‹œì„¤", "ìš”ì–‘ë³‘ì›" ë“±
    private String facilityGrade;          // "A", "B", "C", "D", "E"
    private Integer evaluationScore;       // ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ì ìˆ˜
    
    // ì¼€ì–´ ê°€ëŠ¥ ë“±ê¸‰
    @ElementCollection
    private Set<Integer> acceptableCareGrades;  // [1,2,3,4,5,6]
    
    // ì „ë¬¸ ë¶„ì•¼
    @ElementCollection
    private Set<String> specializations;       // ["dementia", "medical", "rehabilitation"]
    
    // ì‹œì„¤ ê·œëª¨ ë° ì •ì›
    private Integer totalCapacity;             // ì´ ì •ì›
    private Integer currentOccupancy;          // í˜„ì¬ ì…ì£¼ì ìˆ˜
    private Integer availableBeds;             // ê°€ìš© ì¹¨ëŒ€ ìˆ˜
    
    // ì˜ë£Œì§„ ì •ë³´
    private Boolean hasDoctor;                 // ì˜ì‚¬ ìƒì£¼ ì—¬ë¶€
    private Boolean hasNurse24h;               // 24ì‹œê°„ ê°„í˜¸ì‚¬ ìƒì£¼
    private Integer nurseCount;                // ê°„í˜¸ì‚¬ ìˆ˜
    private Integer caregiverCount;            // ìš”ì–‘ë³´í˜¸ì‚¬ ìˆ˜
    
    // ì‹œì„¤ íŠ¹ì§•
    private Boolean hasElevator;               // ì—˜ë¦¬ë² ì´í„° ë³´ìœ 
    private Boolean hasEmergencySystem;        // ì‘ê¸‰ì‹œìŠ¤í…œ êµ¬ë¹„
    private Boolean hasRehabilitationRoom;     // ì¬í™œì‹¤ ë³´ìœ 
    private Boolean hasDementiaProgram;        // ì¹˜ë§¤ í”„ë¡œê·¸ë¨ ìš´ì˜
    
    // ìœ„ì¹˜ ë° ì ‘ê·¼ì„±
    private String region;                     // ì§€ì—­ (ì‹œ/ë„)
    private String district;                   // êµ¬/êµ°
    private Double latitude;                   // ìœ„ë„
    private Double longitude;                  // ê²½ë„
    private Boolean nearSubway;                // ì§€í•˜ì²  ì ‘ê·¼ì„±
    private Boolean nearHospital;              // ë³‘ì› ê·¼ì ‘ì„±
    
    // ë¹„ìš© ì •ë³´
    private Integer monthlyBasicFee;           // ì›” ê¸°ë³¸ë£Œ
    private Integer admissionFee;              // ì…ì†Œê¸ˆ
    private Boolean acceptsLtci;               // ì¥ê¸°ìš”ì–‘ë³´í—˜ ì ìš©
    
    private LocalDateTime lastUpdated;
}
```

### ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API ì—°ë™
```java
@Component
public class LtciEvaluationApiClient {
    
    @Value("${ltci.evaluation.api.key}")
    private String apiKey;
    
    @Value("${ltci.evaluation.base.url}")  
    private String baseUrl;
    
    public List<FacilityEvaluationData> getFacilityEvaluations(String region) {
        try {
            String url = baseUrl + "/ltci-evaluations";
            
            HttpHeaders headers = new HttpHeaders();
            headers.set("Authorization", "Bearer " + apiKey);
            headers.setContentType(MediaType.APPLICATION_JSON);
            
            UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(url)
                    .queryParam("serviceKey", apiKey)
                    .queryParam("region", region)
                    .queryParam("numOfRows", 1000);
            
            ResponseEntity<LtciApiResponse> response = restTemplate.exchange(
                    builder.toUriString(), 
                    HttpMethod.GET, 
                    new HttpEntity<>(headers), 
                    LtciApiResponse.class
            );
            
            return response.getBody().getItems();
            
        } catch (Exception e) {
            log.error("ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API í˜¸ì¶œ ì‹¤íŒ¨: {}", e.getMessage(), e);
            return Collections.emptyList();
        }
    }
}
```

---

## ğŸ“Œ Phase 5-B: ì‹œì„¤ ë§¤ì¹­ ë° ì¶”ì²œ

### êµ¬í˜„ ëŒ€ìƒ  
- [ ] ì‹œì„¤-í™˜ì ë§¤ì¹­ ë¡œì§
- [ ] ì½”ë””ë„¤ì´í„° ì‹œì„¤ ì „ë¬¸ì„± ì—°ë™
- [ ] ê²¬í•™ ê³„íš ë° í‰ê°€ ì‹œìŠ¤í…œ
- [ ] ì¬ì™¸ë™í¬ ë§ì¶¤ ì‹œì„¤ ì¶”ì²œ
- [ ] ì‹ ë¢°ì„± ì ìˆ˜ ê¸°ë°˜ í•„í„°ë§

### ì¬ì™¸ë™í¬ ë§ì¶¤ ì‹œì„¤ ë§¤ì¹­
```java
@Service
public class OverseasKoreanFacilityMatchingService {
    
    public OverseasKoreanNursingFacilityResponse searchForOverseasKoreans(
        OverseasKoreanNursingSearchRequest request) {
        
        // 1. ê¸°ë³¸ ê²€ìƒ‰ (ì§€ì—­, ìœ í˜•ë³„)
        List<FacilityProfile> basicResults = facilityRepository
            .findByRegionAndFacilityType(request.getRegion(), request.getFacilityType());
        
        // 2. ì¬ì™¸ë™í¬ ì¹œí™”ì„± ì ìˆ˜ ê³„ì‚°
        List<EnhancedFacilityInfo> enhanced = basicResults.stream()
            .map(facility -> {
                // ê³µí•­ ì ‘ê·¼ì„±, ë‹¤êµ­ì–´ ì§€ì›, ì˜ë£Œì§„ ìˆ˜ì¤€ ë“± í‰ê°€
                int score = calculateOverseasFriendlyScore(facility, request);
                
                // ì‹ ë¢°ì„± ê²€ì¦ (ê°œíì—… ì •ë³´ API í™œìš©)
                FacilityReliabilityResponse reliability = validateFacilityReliability(facility.getId());
                
                return EnhancedFacilityInfo.builder()
                    .basicInfo(facility)
                    .overseasFriendlyScore(score)
                    .reliabilityInfo(reliability)
                    .build();
            })
            .filter(f -> f.getReliabilityInfo().getRiskLevel() != RiskLevel.HIGH)
            .sorted(Comparator.comparing(EnhancedFacilityInfo::getOverseasFriendlyScore).reversed())
            .collect(Collectors.toList());
        
        // 3. ìƒì„¸ ì •ë³´ ì¡°íšŒ (ìƒìœ„ 10ê°œ ì‹œì„¤)
        List<CompleteFacilityInfo> completeFacilities = enhanced.stream()
            .limit(10)
            .map(this::enrichWithDetailInfo)
            .collect(Collectors.toList());
        
        return OverseasKoreanNursingFacilityResponse.builder()
            .facilities(completeFacilities)
            .totalCount(enhanced.size())
            .searchCriteria(request)
            .build();
    }
}
```

### ì‹œì„¤ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
```java
@Service
public class FacilityMatchingService {
    
    public List<FacilityMatch> findCompatibleFacilities(HealthAssessment assessment, 
                                                       FacilityPreference preference) {
        
        CareGrade careGrade = assessment.getOverallCareGrade();
        
        return facilityRepository.findAll().stream()
            .filter(facility -> isBasicCompatible(facility, careGrade))
            .filter(facility -> hasAvailability(facility))
            .filter(facility -> meetsQualityStandard(facility))
            .map(facility -> calculateFacilityMatch(facility, assessment, preference))
            .sorted(Comparator.comparing(FacilityMatch::getMatchScore).reversed())
            .limit(20)
            .collect(Collectors.toList());
    }
    
    private FacilityMatch calculateFacilityMatch(FacilityProfile facility, 
                                               HealthAssessment assessment, 
                                               FacilityPreference preference) {
        double score = 0.0;
        
        // 1. ì‹œì„¤ ë“±ê¸‰ ì ìˆ˜ (30%)
        score += calculateFacilityGradeScore(facility) * 0.3;
        
        // 2. ì „ë¬¸ì„± ë§¤ì¹­ ì ìˆ˜ (25%)
        score += calculateSpecializationScore(facility, assessment) * 0.25;
        
        // 3. ì˜ë£Œì§„ ì í•©ì„± ì ìˆ˜ (20%)
        score += calculateMedicalStaffScore(facility, assessment) * 0.2;
        
        // 4. ìœ„ì¹˜ ì ‘ê·¼ì„± ì ìˆ˜ (15%)
        score += calculateLocationScore(facility, preference) * 0.15;
        
        // 5. ë¹„ìš© ì í•©ì„± ì ìˆ˜ (10%)
        score += calculateCostScore(facility, preference) * 0.1;
        
        String explanation = generateFacilityMatchExplanation(facility, assessment, score);
        
        return new FacilityMatch(facility, score, explanation);
    }
}
```

### ì½”ë””ë„¤ì´í„° ì‹œì„¤ ì „ë¬¸ì„± ì—°ë™
```java
@Entity
public class CoordinatorFacilityExpertise {
    @Id
    private Long id;
    private String coordinatorId;
    
    // ì‹œì„¤ íƒ€ì…ë³„ ì „ë¬¸ì„±
    @ElementCollection
    private Set<String> expertFacilityTypes;     // ["ë…¸ì¸ìš”ì–‘ì‹œì„¤", "ìš”ì–‘ë³‘ì›", "ì¹˜ë§¤ì „ë¬¸ì‹œì„¤"]
    
    // ì‹œì„¤ ë“±ê¸‰ë³„ ê²½í—˜
    @ElementCollection
    private Map<String, Integer> facilityGradeExperience; // {"A": 5, "B": 12, "C": 8}
    
    // ì§€ì—­ë³„ ì‹œì„¤ ë„¤íŠ¸ì›Œí¬
    @ElementCollection
    private Set<String> familiarRegions;         // ["ì„œìš¸ ê°•ë‚¨êµ¬", "ê²½ê¸° ì„±ë‚¨ì‹œ"]
    
    // í˜‘ë ¥ ì‹œì„¤ ëª©ë¡
    @ElementCollection
    private Set<Long> partnerFacilities;         // í˜‘ë ¥ ê´€ê³„ ì‹œì„¤ ID
}
```

---

## ğŸ¨ React ì‹œì„¤ ê²€ìƒ‰ UI

### ì‹œì„¤ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸
```typescript
export const FacilitySearchPage: React.FC = () => {
  const [searchCriteria, setSearchCriteria] = useState<FacilitySearchCriteria>({
    region: '',
    facilityType: '',
    careGrade: '',
    budget: '',
    specializations: []
  });
  
  const [facilities, setFacilities] = useState<FacilityMatch[]>([]);
  const [loading, setLoading] = useState(false);

  const handleSearch = async () => {
    setLoading(true);
    try {
      const results = await facilityApi.searchFacilities(searchCriteria);
      setFacilities(results);
    } catch (error) {
      toast.error('ì‹œì„¤ ê²€ìƒ‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="facility-search-page">
      <div className="search-filters">
        <FacilitySearchFilters 
          criteria={searchCriteria}
          onChange={setSearchCriteria}
          onSearch={handleSearch}
        />
      </div>
      
      <div className="search-results">
        {loading ? (
          <FacilitySearchSkeleton />
        ) : (
          <FacilitySearchResults facilities={facilities} />
        )}
      </div>
    </div>
  );
};

const FacilityCard: React.FC<{facility: FacilityMatch}> = ({facility}) => {
  return (
    <div className="facility-card">
      <div className="facility-header">
        <h3>{facility.facilityName}</h3>
        <div className="facility-grade">
          <span className={`grade-badge grade-${facility.facilityGrade.toLowerCase()}`}>
            {facility.facilityGrade}ë“±ê¸‰
          </span>
          <span className="match-score">ë§¤ì¹­ë„: {facility.matchScore.toFixed(1)}/5.0</span>
        </div>
      </div>
      
      <div className="facility-info">
        <div className="location">
          <span className="icon">ğŸ“</span>
          <span>{facility.region} {facility.district}</span>
        </div>
        <div className="capacity">
          <span className="icon">ğŸ </span>
          <span>ì…ì£¼ ê°€ëŠ¥: {facility.availableBeds}ìë¦¬</span>
        </div>
        <div className="cost">
          <span className="icon">ğŸ’°</span>
          <span>ì›” ì´ìš©ë£Œ: {facility.monthlyBasicFee.toLocaleString()}ë§Œì›</span>
        </div>
      </div>
      
      <div className="facility-specializations">
        {facility.specializations.map(spec => (
          <span key={spec} className="specialization-badge">{spec}</span>
        ))}
      </div>
      
      <div className="facility-actions">
        <button 
          className="primary-button"
          onClick={() => viewFacilityDetail(facility.id)}
        >
          ìƒì„¸ ì •ë³´
        </button>
        <button 
          className="secondary-button"
          onClick={() => requestVisit(facility.id)}
        >
          ê²¬í•™ ì‹ ì²­
        </button>
      </div>
    </div>
  );
};
```

---

## ğŸ“Š ì‹œì„¤ í‰ê°€ ë° í†µê³„

### ì‹œì„¤ ì‹ ë¢°ì„± ì ìˆ˜ ê³„ì‚°
```java
private int calculateReliabilityScore(FacilityProfile facility) {
    int score = 50; // ê¸°ë³¸ ì ìˆ˜
    
    // ìš´ì˜ ìƒíƒœë³„ ì ìˆ˜
    switch (facility.getBusinessStatus()) {
        case "ì •ìƒ", "ìš´ì˜ì¤‘": score += 40; break;
        case "íœ´ì—…": score += 10; break;
        case "íì—…", "ë§ì†Œ": score = 0; break;
    }
    
    // ìš´ì˜ ê¸°ê°„ë³„ ì¶”ê°€ ì ìˆ˜ (ì‹ ë¢°ì„± ì§€í‘œ)
    if (facility.getOpeningDate() != null) {
        long years = ChronoUnit.YEARS.between(facility.getOpeningDate(), LocalDate.now());
        score += Math.min(years * 2, 10);
    }
    
    // í‰ê°€ ë“±ê¸‰ë³„ ì¶”ê°€ ì ìˆ˜
    switch (facility.getFacilityGrade()) {
        case "A": score += 10; break;
        case "B": score += 5; break;
        case "C": score += 0; break;
        case "D": score -= 5; break;
        case "E": score -= 15; break;
    }
    
    return Math.min(score, 100);
}
```

### API ì—”ë“œí¬ì¸íŠ¸
```
GET  /api/facilities/search                     - ì‹œì„¤ ê²€ìƒ‰
GET  /api/facilities/{id}                       - ì‹œì„¤ ìƒì„¸ ì¡°íšŒ
POST /api/facilities/{id}/visit-request         - ê²¬í•™ ì‹ ì²­
GET  /api/facilities/overseas-friendly          - ì¬ì™¸ë™í¬ ì¹œí™” ì‹œì„¤
GET  /api/facilities/statistics                 - ì‹œì„¤ í†µê³„ (ê´€ë¦¬ì)
POST /api/facilities/batch-update               - í‰ê°€ ë°ì´í„° ì¼ê´„ ì—…ë°ì´íŠ¸
```

---

## ğŸ›  ê°œë°œ ë„êµ¬

### í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
```bash
# ì‹œì„¤ ë§¤ì¹­ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*FacilityMatchingServiceTest"

# API ì—°ë™ í…ŒìŠ¤íŠ¸  
./gradlew :test --tests "*LtciEvaluationApiClientTest"

# ì‹ ë¢°ì„± ì ìˆ˜ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*FacilityReliabilityTest"
```

### API ë°ì´í„° ë™ê¸°í™”
```bash
# ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ ë°ì´í„° ë™ê¸°í™”
curl -X POST http://localhost:8080/api/facilities/sync-evaluation-data \
  -H "Authorization: Bearer {admin-token}"

# ê°œíì—… ì •ë³´ í™•ì¸
curl -X POST http://localhost:8080/api/facilities/validate-business-status
```

---

## ğŸ“‹ í™•ì¸ ì‚¬í•­

### Phase 5-A ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì‹œì„¤ íƒ€ì…ë³„ ë¶„ë¥˜ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] A-E ë“±ê¸‰ ì‹œìŠ¤í…œ ì ìš©
- [ ] ì¥ê¸°ìš”ì–‘ê¸°ê´€ í‰ê°€ API ì—°ë™ ì„±ê³µ
- [ ] ì „ë¬¸ íŠ¹í™” ì‹œì„¤ ê´€ë¦¬ ê¸°ëŠ¥
- [ ] ì‹ ë¢°ì„± ì ìˆ˜ ê³„ì‚° ë¡œì§ ê²€ì¦

### Phase 5-B ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸  
- [ ] ì‹œì„¤-í™˜ì ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- [ ] ì¬ì™¸ë™í¬ ë§ì¶¤ ì‹œì„¤ ì¶”ì²œ ê¸°ëŠ¥
- [ ] React ì‹œì„¤ ê²€ìƒ‰ UI ì™„ì„±
- [ ] ê²¬í•™ ì‹ ì²­ ë° í‰ê°€ ì‹œìŠ¤í…œ
- [ ] ì½”ë””ë„¤ì´í„° ì‹œì„¤ ì „ë¬¸ì„± ì—°ë™

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Phase 6-A**: ê³µê³µë°ì´í„° API í†µí•© ì—°ë™
- êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ ì¥ê¸°ìš”ì–‘ê¸°ê´€ API
- ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ë³‘ì›ì •ë³´ API
- ì™¸êµë¶€ ì¬ì™¸êµ­ë¯¼ ì„œë¹„ìŠ¤ API
- API í´ë¼ì´ì–¸íŠ¸ í†µí•© êµ¬ì„±

**ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸**: Phase 5 ì™„ë£Œ í›„ ê³µê³µë°ì´í„° ì—°ë™ ì‹œìŠ¤í…œ êµ¬ì¶•
</file>

<file path="docs/phases/phase-6.md">
# Phase 6: ê³µê³µë°ì´í„° API ì—°ë™

## ğŸ¯ ê°œìš”
**ì†Œìš”ê¸°ê°„**: 6-7ì¼  
**ì˜ˆìƒ í† í°**: ~18,000 í† í°  
**ëª©í‘œ**: ì •ë¶€ ê³µê³µë°ì´í„° API í†µí•© ì—°ë™ + ì™¸êµë¶€ ì¬ì™¸ë™í¬ ì„œë¹„ìŠ¤ ì—°ê³„

---

## ğŸ“Œ Phase 6-A: ê¸°ë³¸ API ì—°ë™

### êµ¬í˜„ ëŒ€ìƒ
- [ ] êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ ì¥ê¸°ìš”ì–‘ê¸°ê´€ API
- [ ] ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ë³‘ì›ì •ë³´ API  
- [ ] êµ­ë¦½ì¤‘ì•™ì˜ë£Œì› ì „êµ­ ì•½êµ­ ì •ë³´ API
- [ ] ìš”ì–‘ê¸°ê´€ê°œíì—…ì •ë³´ì¡°íšŒ API
- [ ] API í´ë¼ì´ì–¸íŠ¸ í†µí•© êµ¬ì„±

### ë°œê¸‰ë°›ì€ ì¸ì¦í‚¤ ëª©ë¡
```yaml
ê³µí†µ ì¸ì¦í‚¤: CCXHQiSSQ0J+RRaadSjmmS7ltxG/tlSVOYMjh45MmGne68ptgGAaAJVJti8nBazSjLemTAyb5gAuj43xq7fTog==
í™œìš©ê¸°ê°„: 2025-07-16 ~ 2027-07-18

ì—°ë™ API ëª©ë¡:
1. êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨_ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰ ì„œë¹„ìŠ¤
   - URL: https://apis.data.go.kr/B550928/searchLtcInsttService01
   - ê¸°ëŠ¥: ë§ì¶¤í˜• ìš”ì–‘ì› ì¶”ì²œ (ì§€ì—­/ì˜ˆì‚°/íŠ¹ì„±ë³„)

2. êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨_ì¥ê¸°ìš”ì–‘ê¸°ê´€ ì‹œì„¤ë³„ ìƒì„¸ì¡°íšŒ ì„œë¹„ìŠ¤  
   - URL: https://apis.data.go.kr/B550928/getLtcInsttDetailInfoService02
   - ê¸°ëŠ¥: ì‹œì„¤ ê·œëª¨, ì„œë¹„ìŠ¤, ìš”ê¸ˆ ìƒì„¸ ì¡°íšŒ

3. ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì›_ë³‘ì›ì •ë³´ì„œë¹„ìŠ¤
   - URL: https://apis.data.go.kr/B551182/hospInfoServicev2
   - ê¸°ëŠ¥: ê±´ê°•ê²€ì§„ ë³‘ì› ì¶”ì²œ, ì‘ê¸‰ ì˜ë£Œì§„ ì—°ê²°

4. êµ­ë¦½ì¤‘ì•™ì˜ë£Œì›_ì „êµ­ ì•½êµ­ ì •ë³´ ì¡°íšŒ ì„œë¹„ìŠ¤
   - URL: https://apis.data.go.kr/B552657/ErmctInsttInfoInqireService
   - ê¸°ëŠ¥: ì²˜ë°©ì „ ì²˜ë¦¬ ê°€ëŠ¥ ì•½êµ­ ì•ˆë‚´

5. ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì›_ìš”ì–‘ê¸°ê´€ê°œíì—…ì •ë³´ì¡°íšŒì„œë¹„ìŠ¤
   - URL: https://apis.data.go.kr/B551182/yadmOpCloInfoService2
   - ê¸°ëŠ¥: ìš”ì–‘ê¸°ê´€ ìš´ì˜ ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸
```

### í†µí•© API í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°
```java
@Component
public class PublicDataApiClient {
    
    @Value("${public.data.api.key}")
    private String apiKey;
    
    private final RestTemplate restTemplate;
    
    // ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰
    public List<LtcInstitution> searchLtcInstitutions(LtcSearchRequest request) {
        String url = "https://apis.data.go.kr/B550928/searchLtcInsttService01";
        
        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(url)
                .queryParam("serviceKey", apiKey)
                .queryParam("sidoName", request.getSidoName())
                .queryParam("sigunguName", request.getSigunguName())
                .queryParam("facilityType", request.getFacilityType())
                .queryParam("numOfRows", 1000)
                .queryParam("pageNo", 1)
                .queryParam("resultType", "json");
        
        try {
            ResponseEntity<LtcApiResponse> response = restTemplate.exchange(
                    builder.toUriString(), 
                    HttpMethod.GET, 
                    null, 
                    LtcApiResponse.class
            );
            
            return response.getBody().getBody().getItems();
            
        } catch (Exception e) {
            log.error("ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰ API í˜¸ì¶œ ì‹¤íŒ¨: {}", e.getMessage(), e);
            return Collections.emptyList();
        }
    }
    
    // ì¥ê¸°ìš”ì–‘ê¸°ê´€ ìƒì„¸ ì¡°íšŒ
    public LtcInstitutionDetail getLtcInstitutionDetail(String institutionCode) {
        String url = "https://apis.data.go.kr/B550928/getLtcInsttDetailInfoService02";
        
        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(url)
                .queryParam("serviceKey", apiKey)
                .queryParam("instCd", institutionCode)
                .queryParam("resultType", "json");
        
        try {
            ResponseEntity<LtcDetailApiResponse> response = restTemplate.exchange(
                    builder.toUriString(), 
                    HttpMethod.GET, 
                    null, 
                    LtcDetailApiResponse.class
            );
            
            return response.getBody().getBody().getItems().get(0);
            
        } catch (Exception e) {
            log.error("ì¥ê¸°ìš”ì–‘ê¸°ê´€ ìƒì„¸ ì¡°íšŒ API í˜¸ì¶œ ì‹¤íŒ¨: {}", e.getMessage(), e);
            return null;
        }
    }
    
    // ë³‘ì› ì •ë³´ ì¡°íšŒ
    public List<HospitalInfo> searchHospitals(HospitalSearchRequest request) {
        String url = "https://apis.data.go.kr/B551182/hospInfoServicev2/getHospBasisList";
        
        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(url)
                .queryParam("serviceKey", apiKey)
                .queryParam("sidoCd", request.getSidoCode())
                .queryParam("sgguCd", request.getSigunguCode())
                .queryParam("numOfRows", 100)
                .queryParam("pageNo", 1)
                .queryParam("_type", "json");
        
        try {
            ResponseEntity<HospitalApiResponse> response = restTemplate.exchange(
                    builder.toUriString(), 
                    HttpMethod.GET, 
                    null, 
                    HospitalApiResponse.class
            );
            
            return response.getBody().getBody().getItems();
            
        } catch (Exception e) {
            log.error("ë³‘ì› ì •ë³´ API í˜¸ì¶œ ì‹¤íŒ¨: {}", e.getMessage(), e);
            return Collections.emptyList();
        }
    }
}
```

### API ì‘ë‹µ ë°ì´í„° ëª¨ë¸
```java
@Data
public class LtcInstitution {
    private String instCd;              // ê¸°ê´€ì½”ë“œ
    private String instNm;              // ê¸°ê´€ëª…
    private String sidoNm;              // ì‹œë„ëª…
    private String sigunguNm;           // ì‹œêµ°êµ¬ëª…
    private String roadAddr;            // ë„ë¡œëª…ì£¼ì†Œ
    private String lotnoAddr;           // ì§€ë²ˆì£¼ì†Œ
    private String instDiv;             // ê¸°ê´€êµ¬ë¶„
    private String instType;            // ê¸°ê´€ìœ í˜•
    private String telno;               // ì „í™”ë²ˆí˜¸
    private String faxno;               // íŒ©ìŠ¤ë²ˆí˜¸
    private String totCapcty;           // ì •ì›
    private String curCapcty;           // í˜„ì›
    private String latitude;            // ìœ„ë„
    private String longitude;           // ê²½ë„
}

@Data
public class LtcInstitutionDetail {
    private String instCd;              // ê¸°ê´€ì½”ë“œ
    private String instNm;              // ê¸°ê´€ëª…
    private String estbDt;              // ì„¤ë¦½ì¼
    private String adminNm;             // ê´€ë¦¬ìëª…
    private String adminTelno;          // ê´€ë¦¬ìì „í™”ë²ˆí˜¸
    private String medicalStaffCnt;     // ì˜ë£Œì§„ìˆ˜
    private String nurseStaffCnt;       // ê°„í˜¸ì¸ë ¥ìˆ˜
    private String careStaffCnt;        // ìš”ì–‘ë³´í˜¸ì‚¬ìˆ˜
    private String socialWorkerCnt;     // ì‚¬íšŒë³µì§€ì‚¬ìˆ˜
    private String facilityGrade;       // í‰ê°€ë“±ê¸‰
    private String evaluationDate;      // í‰ê°€ì¼ì
    private String monthlyFee;          // ì›”ì´ìš©ë£Œ
    private String admissionFee;        // ì…ì†Œë£Œ
}
```

---

## ğŸ“Œ Phase 6-B: ì™¸êµë¶€ API ì—°ë™

### êµ¬í˜„ ëŒ€ìƒ
- [ ] ì¬ì™¸êµ­ë¯¼ í˜„í™© API
- [ ] ì˜ì‚¬ê´€/ì´ì˜ì‚¬ê´€ ì •ë³´ API  
- [ ] ì¬ì™¸ë™í¬ ì§€ì› ì •ì±… API
- [ ] êµ­ê°€ë³„ ì˜ë£Œ ì •ë³´ API
- [ ] ë‹¤êµ­ì–´ ë°ì´í„° ì²˜ë¦¬

### ì™¸êµë¶€ API ì—°ë™
```java
@Component
public class MofaApiClient {
    
    @Value("${mofa.api.key}")
    private String apiKey;
    
    @Value("${mofa.api.base.url}")
    private String baseUrl;
    
    // êµ­ê°€ë³„ ì…êµ­ ìš”ê±´ ì¡°íšŒ
    public KoreaEntryRequirementResponse getKoreaEntryRequirements(String overseasCountry) {
        String url = baseUrl + "/EntranceVisaService2/getEntryVisaList";
        
        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(url)
                .queryParam("serviceKey", apiKey)
                .queryParam("cond[country_nm::]", overseasCountry)
                .queryParam("numOfRows", 10)
                .queryParam("pageNo", 1)
                .queryParam("type", "json");
        
        try {
            ResponseEntity<MofaApiResponse> response = restTemplate.exchange(
                    builder.toUriString(), 
                    HttpMethod.GET, 
                    null, 
                    MofaApiResponse.class
            );
            
            return processEntryRequirements(response.getBody());
            
        } catch (Exception e) {
            log.error("ì™¸êµë¶€ ì…êµ­ìš”ê±´ API í˜¸ì¶œ ì‹¤íŒ¨: {}", e.getMessage(), e);
            return null;
        }
    }
    
    // ì¬ì™¸ë™í¬ ì§€ì› ì„œë¹„ìŠ¤ ì¡°íšŒ
    public List<OverseasKoreanSupport> getOverseasKoreanSupports(String country) {
        // ì¬ì™¸ë™í¬ ëŒ€ìƒ ì§€ì› ì •ì±… ë° ì„œë¹„ìŠ¤ ì¡°íšŒ
        // ì˜ë£Œ, ë³µì§€, êµìœ¡ ë“± ì¹´í…Œê³ ë¦¬ë³„ ì§€ì› ë‚´ìš©
    }
    
    // ì˜ì‚¬ê´€ ì •ë³´ ì¡°íšŒ  
    public List<ConsulateInfo> getConsulatesByCountry(String country) {
        // í•´ë‹¹ êµ­ê°€ ë‚´ í•œêµ­ ì˜ì‚¬ê´€/ì´ì˜ì‚¬ê´€ ì •ë³´
        // ì—°ë½ì²˜, ì£¼ì†Œ, ì—…ë¬´ì‹œê°„, ì œê³µ ì„œë¹„ìŠ¤
    }
}
```

### ì¬ì™¸ë™í¬ ì„œë¹„ìŠ¤ í†µí•©
```java
@Service
public class OverseasKoreanService {
    
    private final MofaApiClient mofaApiClient;
    private final PublicDataApiClient publicDataApiClient;
    
    public OverseasKoreanServicePackage createServicePackage(OverseasProfile profile) {
        String country = profile.getResidenceCountry();
        String city = profile.getResidenceCity();
        
        // 1. ì…êµ­ ìš”ê±´ ì¡°íšŒ
        KoreaEntryRequirementResponse entryReq = mofaApiClient.getKoreaEntryRequirements(country);
        
        // 2. í˜„ì§€ ì˜ì‚¬ê´€ ì •ë³´
        List<ConsulateInfo> consulates = mofaApiClient.getConsulatesByCountry(country);
        
        // 3. ì¬ì™¸ë™í¬ ì§€ì› ì„œë¹„ìŠ¤
        List<OverseasKoreanSupport> supports = mofaApiClient.getOverseasKoreanSupports(country);
        
        // 4. í•œêµ­ ë‚´ ì˜ë£Œ ë„¤íŠ¸ì›Œí¬  
        List<HospitalInfo> koreanHospitals = publicDataApiClient.searchHospitals(
            HospitalSearchRequest.forOverseasKoreans(profile.getPreferredRegionInKorea())
        );
        
        return OverseasKoreanServicePackage.builder()
                .profile(profile)
                .entryRequirements(entryReq)
                .nearbyConsulates(consulates)
                .supportServices(supports)
                .koreanMedicalNetwork(koreanHospitals)
                .build();
    }
}
```

---

## ğŸ”„ ë°ì´í„° ë™ê¸°í™” ì‹œìŠ¤í…œ

### ë°°ì¹˜ ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬
```java
@Component
public class PublicDataSyncScheduler {
    
    @Scheduled(cron = "0 0 2 * * ?") // ë§¤ì¼ ìƒˆë²½ 2ì‹œ
    public void syncLtcInstitutionData() {
        log.info("ì¥ê¸°ìš”ì–‘ê¸°ê´€ ë°ì´í„° ë™ê¸°í™” ì‹œì‘");
        
        try {
            // ì „êµ­ ì‹œë„ë³„ ë°ì´í„° ìˆ˜ì§‘
            List<String> sidoList = Arrays.asList(
                "ì„œìš¸íŠ¹ë³„ì‹œ", "ë¶€ì‚°ê´‘ì—­ì‹œ", "ëŒ€êµ¬ê´‘ì—­ì‹œ", "ì¸ì²œê´‘ì—­ì‹œ",
                "ê´‘ì£¼ê´‘ì—­ì‹œ", "ëŒ€ì „ê´‘ì—­ì‹œ", "ìš¸ì‚°ê´‘ì—­ì‹œ", "ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ",
                "ê²½ê¸°ë„", "ê°•ì›íŠ¹ë³„ìì¹˜ë„", "ì¶©ì²­ë¶ë„", "ì¶©ì²­ë‚¨ë„",
                "ì „ë¶íŠ¹ë³„ìì¹˜ë„", "ì „ë¼ë‚¨ë„", "ê²½ìƒë¶ë„", "ê²½ìƒë‚¨ë„", "ì œì£¼íŠ¹ë³„ìì¹˜ë„"
            );
            
            int totalSynced = 0;
            for (String sido : sidoList) {
                List<LtcInstitution> institutions = publicDataApiClient.searchLtcInstitutions(
                    LtcSearchRequest.builder().sidoName(sido).build()
                );
                
                for (LtcInstitution inst : institutions) {
                    syncSingleInstitution(inst);
                    totalSynced++;
                }
                
                // API í˜¸ì¶œ ì œí•œ ê³ ë ¤ (1ì´ˆ ëŒ€ê¸°)
                Thread.sleep(1000);
            }
            
            log.info("ì¥ê¸°ìš”ì–‘ê¸°ê´€ ë°ì´í„° ë™ê¸°í™” ì™„ë£Œ: {}ê°œ ê¸°ê´€", totalSynced);
            
        } catch (Exception e) {
            log.error("ë°ì´í„° ë™ê¸°í™” ì‹¤íŒ¨: {}", e.getMessage(), e);
        }
    }
    
    @Scheduled(cron = "0 0 6 * * MON") // ë§¤ì£¼ ì›”ìš”ì¼ ìƒˆë²½ 6ì‹œ
    public void syncHospitalData() {
        // ë³‘ì› ì •ë³´ ì£¼ê°„ ë™ê¸°í™”
    }
    
    @Scheduled(cron = "0 0 4 1 * ?") // ë§¤ì›” 1ì¼ ìƒˆë²½ 4ì‹œ
    public void syncOverseasKoreanData() {
        // ì¬ì™¸ë™í¬ ì§€ì› ì •ì±… ì›”ê°„ ë™ê¸°í™”
    }
}
```

### ë°ì´í„° ê²€ì¦ ë° í’ˆì§ˆ ê´€ë¦¬
```java
@Service
public class PublicDataValidationService {
    
    public DataQualityReport validateLtcInstitutionData() {
        List<FacilityProfile> allFacilities = facilityRepository.findAll();
        
        DataQualityReport report = DataQualityReport.builder()
            .totalRecords(allFacilities.size())
            .build();
        
        for (FacilityProfile facility : allFacilities) {
            // 1. í•„ìˆ˜ í•„ë“œ ê²€ì¦
            if (!StringUtils.hasText(facility.getFacilityName())) {
                report.addError("ì‹œì„¤ëª… ëˆ„ë½: " + facility.getId());
            }
            
            // 2. ì¢Œí‘œ ìœ íš¨ì„± ê²€ì¦
            if (facility.getLatitude() == null || facility.getLongitude() == null) {
                report.addWarning("ì¢Œí‘œ ì •ë³´ ëˆ„ë½: " + facility.getFacilityName());
            }
            
            // 3. ì—°ë½ì²˜ í˜•ì‹ ê²€ì¦
            if (facility.getTelno() != null && !isValidPhoneNumber(facility.getTelno())) {
                report.addError("ì˜ëª»ëœ ì „í™”ë²ˆí˜¸: " + facility.getFacilityName());
            }
            
            // 4. ì¤‘ë³µ ë°ì´í„° ê²€ì¦
            List<FacilityProfile> duplicates = facilityRepository
                .findByFacilityNameAndRoadAddr(facility.getFacilityName(), facility.getRoadAddr());
            if (duplicates.size() > 1) {
                report.addWarning("ì¤‘ë³µ ì‹œì„¤: " + facility.getFacilityName());
            }
        }
        
        return report;
    }
}
```

---

## ğŸ“Š API í†µê³„ ë° ëª¨ë‹ˆí„°ë§

### API í˜¸ì¶œ í†µê³„ ìˆ˜ì§‘
```java
@Component
public class ApiUsageMonitor {
    
    private final MeterRegistry meterRegistry;
    
    public void recordApiCall(String apiName, boolean success, long responseTime) {
        // Micrometerë¥¼ í†µí•œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
        Timer.Sample sample = Timer.start(meterRegistry);
        sample.stop(Timer.builder("public_data_api_calls")
                .tag("api", apiName)
                .tag("success", String.valueOf(success))
                .register(meterRegistry));
        
        // ì„±ê³µ/ì‹¤íŒ¨ ì¹´ìš´í„°
        Counter.builder("public_data_api_calls_total")
                .tag("api", apiName)
                .tag("result", success ? "success" : "failure")
                .register(meterRegistry)
                .increment();
    }
    
    public ApiUsageStatistics getUsageStatistics() {
        return ApiUsageStatistics.builder()
                .ltcApiCalls(getLtcApiCallCount())
                .hospitalApiCalls(getHospitalApiCallCount())
                .mofaApiCalls(getMofaApiCallCount())
                .totalApiCalls(getTotalApiCallCount())
                .successRate(calculateSuccessRate())
                .averageResponseTime(getAverageResponseTime())
                .build();
    }
}
```

### API ì—”ë“œí¬ì¸íŠ¸
```
GET  /api/public-data/ltc-institutions/search        - ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰
GET  /api/public-data/ltc-institutions/{code}        - ì¥ê¸°ìš”ì–‘ê¸°ê´€ ìƒì„¸
GET  /api/public-data/hospitals/search               - ë³‘ì› ê²€ìƒ‰
GET  /api/public-data/pharmacies/search              - ì•½êµ­ ê²€ìƒ‰
POST /api/public-data/sync/ltc-institutions          - ì¥ê¸°ìš”ì–‘ê¸°ê´€ ë°ì´í„° ë™ê¸°í™”
GET  /api/overseas-korean/entry-requirements/{country} - ì…êµ­ ìš”ê±´ ì¡°íšŒ
GET  /api/overseas-korean/consulates/{country}       - ì˜ì‚¬ê´€ ì •ë³´
GET  /api/admin/api-usage/statistics                 - API ì‚¬ìš© í†µê³„ (ê´€ë¦¬ì)
```

---

## ğŸ›  ê°œë°œ ë„êµ¬

### í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
```bash
# API í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*PublicDataApiClientTest"

# ë°ì´í„° ë™ê¸°í™” í…ŒìŠ¤íŠ¸  
./gradlew :test --tests "*PublicDataSyncTest"

# ì™¸êµë¶€ API ì—°ë™ í…ŒìŠ¤íŠ¸
./gradlew :test --tests "*MofaApiClientTest"
```

### API í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
```bash
# ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
curl -X GET "http://localhost:8080/api/public-data/ltc-institutions/search?sidoName=ì„œìš¸íŠ¹ë³„ì‹œ&sigunguName=ê°•ë‚¨êµ¬" \
  -H "Authorization: Bearer {token}"

# ì™¸êµë¶€ API í…ŒìŠ¤íŠ¸  
curl -X GET "http://localhost:8080/api/overseas-korean/entry-requirements/ë¯¸êµ­" \
  -H "Authorization: Bearer {token}"

# ë°ì´í„° ë™ê¸°í™” ì‹¤í–‰
curl -X POST "http://localhost:8080/api/public-data/sync/ltc-institutions" \
  -H "Authorization: Bearer {admin-token}"
```

---

## ğŸ“‹ í™•ì¸ ì‚¬í•­

### Phase 6-A ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì¥ê¸°ìš”ì–‘ê¸°ê´€ ê²€ìƒ‰/ìƒì„¸ API ì—°ë™ ì„±ê³µ
- [ ] ë³‘ì›ì •ë³´ ë° ì•½êµ­ì •ë³´ API ì—°ë™ ì„±ê³µ
- [ ] ìš”ì–‘ê¸°ê´€ ê°œíì—… ì •ë³´ ì‹¤ì‹œê°„ ì—°ë™
- [ ] API í˜¸ì¶œ í†µê³„ ë° ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
- [ ] ë°ì´í„° ê²€ì¦ ë° í’ˆì§ˆ ê´€ë¦¬ ì²´ê³„

### Phase 6-B ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸  
- [ ] ì™¸êµë¶€ ì…êµ­ìš”ê±´ API ì—°ë™ ì„±ê³µ
- [ ] ì¬ì™¸ë™í¬ ì§€ì› ì„œë¹„ìŠ¤ ì •ë³´ ì—°ë™
- [ ] ì˜ì‚¬ê´€ ì •ë³´ ìë™ ë§¤ì¹­ ê¸°ëŠ¥
- [ ] ë‹¤êµ­ì–´ ë°ì´í„° ì²˜ë¦¬ ì‹œìŠ¤í…œ
- [ ] ë°°ì¹˜ ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ì •ìƒ ë™ì‘

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

**Phase 7-A**: ì±—ë´‡ ì—°ë™ ì¸í„°í˜ì´ìŠ¤
- ì±—ë´‡ í˜¸í™˜ì„± API ì—”ë“œí¬ì¸íŠ¸
- ì„¸ì…˜ ê´€ë¦¬ ì‹œìŠ¤í…œ
- í”„ë¡œì„¸ìŠ¤ ì¶”ì  ì—°ë™

**ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸**: Phase 6 ì™„ë£Œ í›„ ì±—ë´‡ ì‹œìŠ¤í…œ ì—°ë™ ì¤€ë¹„
</file>

<file path="docs/phases/phase-overview.md">
# LightCare ê°œë°œ ë‹¨ê³„ ê°œìš”

## ğŸ¯ ì „ì²´ Phase ìš”ì•½

| Phase | ì œëª© | ê¸°ê°„ | í† í° | ìƒíƒœ | ì£¼ìš” ê¸°ëŠ¥ |
|-------|------|------|------|------|-----------|
| **Phase 1** | í•µì‹¬ ì¸í”„ë¼ êµ¬ì¶• | 1-2ì¼ | 14,000 | âœ… ì™„ë£Œ | Spring Boot + Security + SQLite |
| **Phase 2** | íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ | 2-3ì¼ | 18,000 | âœ… ì™„ë£Œ | 5ì—­í•  íšŒì› + êµ­ë‚´/í•´ì™¸ í”„ë¡œí•„ |
| **Phase 3** | ê±´ê°• ìƒíƒœ í‰ê°€ | 3-4ì¼ | 22,000 | ğŸš§ ì§„í–‰ì˜ˆì • | ëŒë´„ì§€ìˆ˜ + React ì²´í¬ë¦¬ìŠ¤íŠ¸ |
| **Phase 4** | ì½”ë””ë„¤ì´í„° ë§¤ì¹­ | 4-5ì¼ | 27,000 | ğŸ“‹ ê³„íšì¤‘ | AI ë§¤ì¹­ + ìê¸°ì„¤ì • ì‹œìŠ¤í…œ |
| **Phase 5** | ì‹œì„¤ ê´€ë¦¬ ì‹œìŠ¤í…œ | 5-6ì¼ | 26,000 | ğŸ“‹ ê³„íšì¤‘ | ì¥ê¸°ìš”ì–‘ê¸°ê´€ API + ì‹œì„¤ ë§¤ì¹­ |
| **Phase 6** | ê³µê³µë°ì´í„° API | 6-7ì¼ | 18,000 | ğŸ“‹ ê³„íšì¤‘ | ì •ë¶€API ì—°ë™ + ì™¸êµë¶€ API |
| **Phase 7** | ì±—ë´‡ ì—°ë™ | 7ì¼ | 8,000 | ğŸ“‹ ê³„íšì¤‘ | ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤ |
| **Phase 8** | í”„ë¡ íŠ¸ì—”ë“œ í†µí•© | 8-10ì¼ | 33,000 | ğŸ“‹ ê³„íšì¤‘ | React UI + elderberry ë””ìì¸ |
| **Phase 9** | í…ŒìŠ¤íŠ¸ & ë°°í¬ | 11-12ì¼ | 18,000 | ğŸ“‹ ê³„íšì¤‘ | í…ŒìŠ¤íŠ¸ + CI/CD |

**ì´ ì˜ˆìƒ í† í°**: ~184,000 í† í°  
**ê°œë°œ ê¸°ê°„**: 12ì¼ (2ì£¼)

---

## ğŸ“Œ í˜„ì¬ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ Phase

#### Phase 1: í•µì‹¬ ì¸í”„ë¼ êµ¬ì¶•
- **1-A**: Spring Boot 3.3.5 + JDK 21 í”„ë¡œì íŠ¸ ì„¤ì •
- **1-B**: Spring Security 6.x + JWT ì¸ì¦ ì‹œìŠ¤í…œ

#### Phase 2: íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ  
- **2-A**: Member ì—”í‹°í‹° + 5ê°€ì§€ ì—­í•  (ADMIN, FACILITY, COORDINATOR, DOMESTIC_USER, OVERSEAS_USER)
- **2-B**: DomesticProfile/OverseasProfile + ì™„ì„±ë„ ì¶”ì  ì‹œìŠ¤í…œ

### ğŸš§ ë‹¤ìŒ ì§„í–‰ ì˜ˆì •

#### Phase 3: ê±´ê°• ìƒíƒœ í‰ê°€ ì‹œìŠ¤í…œ
**í•µì‹¬ ëª©í‘œ**: KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ + React UI
- HealthAssessment ì—”í‹°í‹° (ê±·ê¸°/ì‹ì‚¬/ë°°ë³€/ì˜ì‚¬ì†Œí†µ 4ê°œ ì˜ì—­)
- ADL ì ìˆ˜ ê³„ì‚° + ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ
- React ì²´í¬ë¦¬ìŠ¤íŠ¸ í¼ + ê²°ê³¼ í‘œì‹œ ì»´í¬ë„ŒíŠ¸

---

## ğŸ¯ ê°œë°œ ìš°ì„ ìˆœìœ„

### P0 (Critical) - ë°˜ë“œì‹œ ì™„ë£Œ
- âœ… Phase 1: ì¸í”„ë¼ (ì™„ë£Œ)
- âœ… Phase 2: íšŒì› ê´€ë¦¬ (ì™„ë£Œ)  
- ğŸš§ Phase 3: ê±´ê°• í‰ê°€ (ì§„í–‰ì¤‘)
- ğŸ“‹ Phase 4: ì½”ë””ë„¤ì´í„° ë§¤ì¹­ (ì¤‘ìš”)

### P1 (High) - í•µì‹¬ ê¸°ëŠ¥
- ğŸ“‹ Phase 5: ì‹œì„¤ ê´€ë¦¬
- ğŸ“‹ Phase 6: ê³µê³µë°ì´í„° API

### P2 (Medium) - í™•ì¥ ê¸°ëŠ¥  
- ğŸ“‹ Phase 7: ì±—ë´‡ ì—°ë™
- ğŸ“‹ Phase 8: í”„ë¡ íŠ¸ì—”ë“œ

### P3 (Low) - í’ˆì§ˆ í–¥ìƒ
- ğŸ“‹ Phase 9: í…ŒìŠ¤íŠ¸ & ë°°í¬

---

## ğŸ“Š í† í° ì‚¬ìš© ì „ëµ

### ë‹¨ê³„ë³„ í† í° ë°°ë¶„
```
Phase 1-2 (ì™„ë£Œ): 32,000 í† í° (17.4%)
Phase 3-4 (í•µì‹¬): 49,000 í† í° (26.6%) 
Phase 5-6 (í™•ì¥): 44,000 í† í° (23.9%)
Phase 7-9 (ì™„ì„±): 59,000 í† í° (32.1%)
```

### ì¼ì¼ ê¶Œì¥ ì‚¬ìš©ëŸ‰
- **1-6ì¼ì°¨**: í‰ê·  15,000 í† í°/ì¼
- **7-10ì¼ì°¨**: í‰ê·  12,000 í† í°/ì¼  
- **11-12ì¼ì°¨**: í‰ê·  9,000 í† í°/ì¼

---

## ğŸš¨ ë¦¬ìŠ¤í¬ ê´€ë¦¬

### ì£¼ìš” ë¦¬ìŠ¤í¬ ìš”ì†Œ
1. **í† í° ì´ˆê³¼ ì‚¬ìš©**: ë³µì¡í•œ ë¡œì§ ë‹¨ìˆœí™” í•„ìš”
2. **API ì—°ë™ ì‹¤íŒ¨**: Mock ë°ì´í„°ë¡œ ìš°ì„  ê°œë°œ  
3. **ì‹œê°„ ë¶€ì¡±**: P2/P3 ê¸°ëŠ¥ ì¶•ì†Œ ê³ ë ¤
4. **ê¸°ìˆ ì  ë³µì¡ë„**: AI ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ ë‹¨ìˆœí™”

### ì™„í™” ì „ëµ
- **MVP ìš°ì„ **: í•µì‹¬ ê¸°ëŠ¥ë§Œ ì™„ë²½ êµ¬í˜„
- **ì ì§„ì  í™•ì¥**: Phaseë³„ ì™„ë£Œ í›„ ë‹¤ìŒ ë‹¨ê³„
- **ë°±ì—… í”Œëœ**: ê° Phaseë³„ ìµœì†Œ ê¸°ëŠ¥ ì •ì˜
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: í† í° ì‚¬ìš©ëŸ‰ ì¼ì¼ ì²´í¬

---

## ğŸ“ Phaseë³„ ìƒì„¸ ë¬¸ì„œ

ê° Phaseë³„ ìƒì„¸ êµ¬í˜„ ê³„íšì€ ë³„ë„ ë¬¸ì„œ ì°¸ì¡°:

- [ğŸ“– Phase 1: í•µì‹¬ ì¸í”„ë¼ êµ¬ì¶•](./phase-1.md)
- [ğŸ“– Phase 2: íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ](./phase-2.md)  
- [ğŸ“– Phase 3: ê±´ê°• ìƒíƒœ í‰ê°€ ì‹œìŠ¤í…œ](./phase-3.md)
- [ğŸ“– Phase 4: ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œìŠ¤í…œ](./phase-4.md)
- [ğŸ“– Phase 5: ì‹œì„¤ ê´€ë¦¬ ì‹œìŠ¤í…œ](./phase-5.md)
- [ğŸ“– Phase 6: ê³µê³µë°ì´í„° API ì—°ë™](./phase-6.md)

---

## ğŸ¯ ì„±ê³µ ì§€í‘œ

### ê¸°ìˆ ì  ì™„ì„±ë„
- [ ] ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ë™ì‘
- [ ] JWT ì¸ì¦ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
- [ ] 5ê°€ì§€ ì—­í• ë³„ ê¶Œí•œ ì œì–´
- [ ] ê³µê³µë°ì´í„° API ì—°ë™ ì„±ê³µ
- [ ] React UI ê¸°ë³¸ ê¸°ëŠ¥ ì™„ì„±

### ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì™„ì„±ë„  
- [ ] ê±´ê°• ìƒíƒœ í‰ê°€ â†’ ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ
- [ ] ì¼€ì–´ ë“±ê¸‰ â†’ ì½”ë””ë„¤ì´í„° ë§¤ì¹­  
- [ ] ì½”ë””ë„¤ì´í„° â†’ ì‹œì„¤ ì¶”ì²œ
- [ ] ì „ì²´ ë§¤ì¹­ í”Œë¡œìš° ì—°ê²°
- [ ] ì¬ì™¸ë™í¬ íŠ¹í™” ì„œë¹„ìŠ¤

### í’ˆì§ˆ ì§€í‘œ
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ  
- [ ] API ì‘ë‹µ ì‹œê°„ 500ms ì´í•˜
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì •ê·œí™” ì™„ë£Œ
- [ ] ë³´ì•ˆ ì·¨ì•½ì  0ê°œ
- [ ] ê³µê³µë°ì´í„° ë™ê¸°í™” ìë™í™”

---

## ğŸ“… ë‹¤ìŒ ì•¡ì…˜

1. **ì¦‰ì‹œ ì‹œì‘**: Phase 3-A (ê±´ê°• ìƒíƒœ í‰ê°€ ì‹œìŠ¤í…œ)
2. **í† í° ëª¨ë‹ˆí„°ë§**: ì¼ì¼ ì‚¬ìš©ëŸ‰ ì¶”ì 
3. **ì¤‘ê°„ ì²´í¬í¬ì¸íŠ¸**: Phase 3 ì™„ë£Œ í›„ Phase 4 ì‹œì‘ ì—¬ë¶€ ê²°ì •

ì´ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì²´ê³„ì ì¸ ê°œë°œì„ ì§„í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
</file>

<file path="docs/DEVELOPMENT_PLAN.md">
# LightCare ê°œë°œ ê³„íšì„œ (í† í° ì œí•œ ê³ ë ¤)

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” LightCare í”„ë¡œì íŠ¸ë¥¼ í† í° ì œí•œì„ ê³ ë ¤í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ ê°œë°œí•˜ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ê³„íšì„œì…ë‹ˆë‹¤.

**í”„ë¡œì íŠ¸ íŠ¹ì„±:**
- **ê°œë°œíŒ€**: 4ëª… (AI ì˜ì¡´ë„ 100%)
- **ê¸°ìˆ ìŠ¤íƒ**: JDK 21 + Spring Boot 3.3.5 + React 18
- **ê°œë°œê¸°ê°„**: 2ì£¼ ì™„ì„± ëª©í‘œ
- **ì˜ˆì‚°**: ìë³¸ê¸ˆ 0ì› (ë¬´ë£Œ ì„œë¹„ìŠ¤ í™œìš©)

---

## ğŸ¯ Phase 1: í•µì‹¬ ì¸í”„ë¼ êµ¬ì¶• (1-2ì¼)

### ğŸ“Œ Phase 1-A: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
**ì˜ˆìƒ í† í°**: ~8,000 í† í°  
**ì†Œìš”ì‹œê°„**: ë°˜ë‚˜ì ˆ

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] Gradle ë©€í‹°ëª¨ë“ˆ í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±
- [ ] Spring Boot 3.3.5 ê¸°ë³¸ ì„¤ì •
- [ ] SQLite ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- [ ] ê¸°ë³¸ íŒ¨í‚¤ì§€ êµ¬ì¡° ìƒì„±

#### í•µì‹¬ íŒŒì¼
```
build.gradle.kts
settings.gradle.kts
src/main/resources/application.yml
src/main/java/com/example/carelink/CareLinkApplication.java
```

#### AI í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ
```
"JDK 21 + Spring Boot 3.3.5 ê¸°ë°˜ ë©€í‹°ëª¨ë“ˆ Gradle í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”. 
ëª¨ë“ˆ êµ¬ì„±: api-module, member-module, facility-module
SQLite ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • í¬í•¨"
```

---

### ğŸ“Œ Phase 1-B: ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •
**ì˜ˆìƒ í† í°**: ~6,000 í† í°  
**ì†Œìš”ì‹œê°„**: ë°˜ë‚˜ì ˆ

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] Spring Security 6.x ì„¤ì •
- [ ] JWT í† í° ê¸°ë°˜ ì¸ì¦
- [ ] CORS ì„¤ì •
- [ ] ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬

#### í•µì‹¬ íŒŒì¼
```
SecurityConfig.java
JwtTokenProvider.java
GlobalExceptionHandler.java
```

---

## ğŸ¯ Phase 2: íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ (2-3ì¼)

### ğŸ“Œ Phase 2-A: ê¸°ë³¸ íšŒì› ê¸°ëŠ¥
**ì˜ˆìƒ í† í°**: ~10,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] Member ì—”í‹°í‹° (5ê°€ì§€ ì—­í•  ì§€ì›)
- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸ API
- [ ] ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
- [ ] ê¸°ë³¸ CRUD ê¸°ëŠ¥

#### ì—”í‹°í‹° ì„¤ê³„
```java
@Entity
public class Member {
    private Long id;
    private String email;
    private String password;
    private String name;
    private MemberRole role; // ADMIN, FACILITY, COORDINATOR, DOMESTIC_USER, OVERSEAS_USER
    private Boolean isJobSeeker;
    // ê¸°ë³¸ í•„ë“œë“¤...
}
```

---

### ğŸ“Œ Phase 2-B: êµ­ë‚´/í•´ì™¸ ì‚¬ìš©ì êµ¬ë¶„
**ì˜ˆìƒ í† í°**: ~8,000 í† í°  
**ì†Œìš”ì‹œê°„**: ë°˜ë‚˜ì ˆ

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] í”„ë¡œí•„ ì—”í‹°í‹° (êµ­ë‚´/í•´ì™¸ êµ¬ë¶„)
- [ ] ë‹¤êµ­ì–´ ê¸°ë³¸ ì„¤ì •
- [ ] ì§€ì—­ë³„ ì ‘ê·¼ ê¶Œí•œ

---

## ğŸ¯ Phase 3: ê±´ê°• ìƒíƒœ í‰ê°€ ì‹œìŠ¤í…œ (3-4ì¼)

### ğŸ“Œ Phase 3-A: ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ
**ì˜ˆìƒ í† í°**: ~12,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1.5ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] HealthAssessment ì—”í‹°í‹°
- [ ] 4ê°œ ì˜ì—­ í‰ê°€ ë¡œì§ (ê±·ê¸°, ì‹ì‚¬, ë°°ë³€, ì˜ì‚¬ì†Œí†µ)
- [ ] ADL ì ìˆ˜ ê³„ì‚°
- [ ] ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ

#### í•µì‹¬ í´ë˜ìŠ¤
```java
@Entity
public class HealthAssessment {
    private Integer mobilityLevel;      // 1-3
    private Integer eatingLevel;        // 1-3
    private Integer toiletLevel;        // 1-3
    private Integer communicationLevel; // 1-3
    private Integer ltciGrade;          // ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰
    private String overallCareGrade;    // ì¢…í•© ì¼€ì–´ ë“±ê¸‰
}

@Service
public class CareGradeCalculator {
    public CareGrade calculateComprehensiveGrade(HealthAssessment assessment);
}
```

---

### ğŸ“Œ Phase 3-B: React ì²´í¬ë¦¬ìŠ¤íŠ¸ UI
**ì˜ˆìƒ í† í°**: ~10,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] React 18 + TypeScript í”„ë¡œì íŠ¸ ì„¤ì •
- [ ] ê±´ê°• ìƒíƒœ ì²´í¬ë¦¬ìŠ¤íŠ¸ í¼
- [ ] ë‹¨ê³„ë³„ ì§„í–‰ UI
- [ ] ê²°ê³¼ í‘œì‹œ ì»´í¬ë„ŒíŠ¸

---

## ğŸ¯ Phase 4: ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œìŠ¤í…œ (4-5ì¼)

### ğŸ“Œ Phase 4-A: ì½”ë””ë„¤ì´í„° í”„ë¡œí•„ ê´€ë¦¬
**ì˜ˆìƒ í† í°**: ~15,000 í† í°  
**ì†Œìš”ì‹œê°„**: 2ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] CoordinatorProfile ì—”í‹°í‹°
- [ ] ìê¸° ì„¤ì • ì¼€ì–´ ë“±ê¸‰ ì‹œìŠ¤í…œ
- [ ] ì „ë¬¸ì„± ë° ê²½ë ¥ ê´€ë¦¬
- [ ] ì‹¤ì‹œê°„ ê°€ìš©ì„± ê´€ë¦¬

#### í•µì‹¬ ê¸°ëŠ¥
```java
@Entity
public class CoordinatorCareSettings {
    private Set<Integer> preferredCareGrades;    // ì„ í˜¸ ì¼€ì–´ ë“±ê¸‰
    private Set<Integer> excludedCareGrades;     // ê±°ë¶€ ì¼€ì–´ ë“±ê¸‰
    private Set<String> specialtyAreas;         // ì „ë¬¸ ë¶„ì•¼
    private Integer maxSimultaneousCases;       // ë™ì‹œ ë‹´ë‹¹ ê°€ëŠ¥ ì¼€ì´ìŠ¤
}
```

---

### ğŸ“Œ Phase 4-B: AI ê¸°ë°˜ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
**ì˜ˆìƒ í† í°**: ~12,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1.5ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] ë‹¤ì¸µ ë§¤ì¹­ ì‹œìŠ¤í…œ
- [ ] ì¢…í•© ì ìˆ˜ ê³„ì‚° ë¡œì§
- [ ] ì—…ë¬´ëŸ‰ ìµœì í™”
- [ ] ë§¤ì¹­ ê²°ê³¼ ì„¤ëª… ìƒì„±

#### ë§¤ì¹­ ë¡œì§
```java
@Service
public class OptimizedCoordinatorMatchingService {
    // 1. ê¸°ë³¸ ìê²© í•„í„°ë§ (40%)
    // 2. ì „ë¬¸ì„± ë§¤ì¹­ (25%)  
    // 3. ê²½ë ¥ ë° ì„±ê³¼ (20%)
    // 4. ìœ„ì¹˜ ì ‘ê·¼ì„± (10%)
    // 5. ì‹¤ì‹œê°„ ê°€ìš©ì„± (5%)
}
```

---

## ğŸ¯ Phase 5: ì‹œì„¤ ê´€ë¦¬ ì‹œìŠ¤í…œ (5-6ì¼)

### ğŸ“Œ Phase 5-A: ì‹œì„¤ ë“±ê¸‰ ë° ë¶„ë¥˜
**ì˜ˆìƒ í† í°**: ~14,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1.5ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] FacilityProfile ì—”í‹°í‹°
- [ ] ì‹œì„¤ íƒ€ì…ë³„ ë¶„ë¥˜ (ì–‘ë¡œì‹œì„¤, ìš”ì–‘ë³‘ì› ë“±)
- [ ] A-E ë“±ê¸‰ ì‹œìŠ¤í…œ
- [ ] ì „ë¬¸ íŠ¹í™” ì‹œì„¤ ê´€ë¦¬

---

### ğŸ“Œ Phase 5-B: ì‹œì„¤ ë§¤ì¹­ ë° ì¶”ì²œ
**ì˜ˆìƒ í† í°**: ~12,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] ì‹œì„¤-í™˜ì ë§¤ì¹­ ë¡œì§
- [ ] ì½”ë””ë„¤ì´í„° ì‹œì„¤ ì „ë¬¸ì„± ì—°ë™
- [ ] ê²¬í•™ ê³„íš ë° í‰ê°€ ì‹œìŠ¤í…œ

---

## ğŸ¯ Phase 6: ê³µê³µë°ì´í„° API ì—°ë™ (6-7ì¼)

### ğŸ“Œ Phase 6-A: ê¸°ë³¸ API ì—°ë™
**ì˜ˆìƒ í† í°**: ~10,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ ì¥ê¸°ìš”ì–‘ê¸°ê´€ API
- [ ] ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì› ë³‘ì›ì •ë³´ API
- [ ] API í´ë¼ì´ì–¸íŠ¸ êµ¬ì„±

#### ì¸ì¦í‚¤ í™œìš©
```
CCXHQiSSQ0J+RRaadSjmmS7ltxG/tlSVOYMjh45MmGne68ptgGAaAJVJti8nBazSjLemTAyb5gAuj43xq7fTog==
```

---

### ğŸ“Œ Phase 6-B: ì™¸êµë¶€ API ì—°ë™
**ì˜ˆìƒ í† í°**: ~8,000 í† í°  
**ì†Œìš”ì‹œê°„**: ë°˜ë‚˜ì ˆ

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] ì¬ì™¸êµ­ë¯¼ ì„œë¹„ìŠ¤ API
- [ ] êµ­ê°€ë³„ ì…êµ­ ìš”ê±´ API
- [ ] ë‹¤êµ­ì–´ ë°ì´í„° ì²˜ë¦¬

---

## ğŸ¯ Phase 7: ì±—ë´‡ ì—°ë™ ì¸í„°í˜ì´ìŠ¤ (7ì¼)

### ğŸ“Œ Phase 7-A: ì±—ë´‡ í˜¸í™˜ì„± API
**ì˜ˆìƒ í† í°**: ~8,000 í† í°  
**ì†Œìš”ì‹œê°„**: ë°˜ë‚˜ì ˆ

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] ì±—ë´‡ ì—°ë™ API ì—”ë“œí¬ì¸íŠ¸
- [ ] ì„¸ì…˜ ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] í”„ë¡œì„¸ìŠ¤ ì¶”ì  ì—°ë™

**ì£¼ì˜**: ì±—ë´‡ êµ¬í˜„ì²´ëŠ” ë‹¤ë¥¸ íŒ€ì›ì´ ë‹´ë‹¹

---

## ğŸ¯ Phase 8: í”„ë¡ íŠ¸ì—”ë“œ í†µí•© (8-10ì¼)

### ğŸ“Œ Phase 8-A: ë©”ì¸ UI êµ¬ì„±
**ì˜ˆìƒ í† í°**: ~15,000 í† í°  
**ì†Œìš”ì‹œê°„**: 2ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] 'elderberry' ë””ìì¸ ì‹œìŠ¤í…œ
- [ ] ë©”ì¸ í˜ì´ì§€ ë° ë„¤ë¹„ê²Œì´ì…˜
- [ ] ì‚¬ìš©ì ê¶Œí•œë³„ UI

---

### ğŸ“Œ Phase 8-B: ê¸°ëŠ¥ë³„ í˜ì´ì§€ êµ¬í˜„
**ì˜ˆìƒ í† í°**: ~18,000 í† í°  
**ì†Œìš”ì‹œê°„**: 2.5ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] ê±´ê°• ì²´í¬ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€
- [ ] ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ê²°ê³¼ í˜ì´ì§€
- [ ] ì‹œì„¤ ê²€ìƒ‰ ë° ìƒì„¸ í˜ì´ì§€
- [ ] ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬ í˜ì´ì§€

---

## ğŸ¯ Phase 9: í…ŒìŠ¤íŠ¸ ë° ìµœì í™” (11-12ì¼)

### ğŸ“Œ Phase 9-A: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
**ì˜ˆìƒ í† í°**: ~10,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] JUnit 5 í…ŒìŠ¤íŠ¸ ì½”ë“œ
- [ ] MockMvc í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸

---

### ğŸ“Œ Phase 9-B: í†µí•© í…ŒìŠ¤íŠ¸ ë° ë°°í¬
**ì˜ˆìƒ í† í°**: ~8,000 í† í°  
**ì†Œìš”ì‹œê°„**: 1ì¼

#### êµ¬í˜„ ëŒ€ìƒ
- [ ] E2E í…ŒìŠ¤íŠ¸
- [ ] Railway/Render ë°°í¬ ì„¤ì •
- [ ] GitHub Actions CI/CD

---

## ğŸ“Š ê°œë°œ ì§„í–‰ ê´€ë¦¬

### í† í° ì‚¬ìš©ëŸ‰ ì¶”ì 
- **ì´ ì˜ˆìƒ í† í°**: ~196,000 í† í°
- **ì¼ì¼ ê¶Œì¥ í† í°**: ~14,000 í† í°
- **Phaseë³„ í† í° ë¶„ë°°**: ê· ë“± ë¶„í• 

### ìš°ì„ ìˆœìœ„ ê´€ë¦¬
1. **P0 (Critical)**: Phase 1-4 (í•µì‹¬ ê¸°ëŠ¥)
2. **P1 (High)**: Phase 5-6 (ì‹œì„¤ ê´€ë¦¬, API ì—°ë™)
3. **P2 (Medium)**: Phase 7-8 (UI, ì±—ë´‡ ì—°ë™)
4. **P3 (Low)**: Phase 9 (í…ŒìŠ¤íŠ¸, ìµœì í™”)

### ì²´í¬í¬ì¸íŠ¸
- **Day 3**: Phase 2 ì™„ë£Œ í™•ì¸
- **Day 6**: Phase 4 ì™„ë£Œ í™•ì¸
- **Day 9**: Phase 6 ì™„ë£Œ í™•ì¸
- **Day 12**: ì „ì²´ ì‹œìŠ¤í…œ ì™„ì„±

---

## ğŸš¨ ë¦¬ìŠ¤í¬ ê´€ë¦¬

### ì£¼ìš” ë¦¬ìŠ¤í¬
1. **í† í° ì´ˆê³¼ ì‚¬ìš©**: ë³µì¡í•œ ë¡œì§ì„ ë‹¨ìˆœí™”
2. **API ì—°ë™ ì‹¤íŒ¨**: Mock ë°ì´í„°ë¡œ ìš°ì„  ê°œë°œ
3. **ì‹œê°„ ë¶€ì¡±**: P2, P3 ê¸°ëŠ¥ ì¶•ì†Œ

### ì™„í™” ë°©ì•ˆ
- Phaseë³„ ì™„ë£Œ í›„ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰
- í•µì‹¬ ê¸°ëŠ¥ ìš°ì„  êµ¬í˜„ (MVP ì ‘ê·¼)
- ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ì²´í¬

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **Phase 1-A ì‹œì‘**: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
2. **í† í° ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§** ì‹œì‘
3. **ì¼ì¼ ì²´í¬í¬ì¸íŠ¸** ì„¤ì •

ì´ ê³„íšì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì²´ê³„ì ì¸ ê°œë°œì„ ì§„í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
</file>

<file path="frontend/src/components/ui/Button.tsx">
/**
 * ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
 * 'elderberry' í…Œë§ˆ ìŠ¤íƒ€ì¼ ì ìš©
 */
import React from 'react';
import { motion } from 'framer-motion';
import { Loader2 } from 'lucide-react';
â‹®----
interface ButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'care';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  fullWidth?: boolean;
  onClick?: () => void;
  type?: 'button' | 'submit' | 'reset';
  className?: string;
}
</file>

<file path="frontend/src/components/ui/Card.tsx">
/**
 * ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
 * 'elderberry' í…Œë§ˆ ìŠ¤íƒ€ì¼ ì ìš©
 */
import React from 'react';
import { motion } from 'framer-motion';
â‹®----
interface CardProps {
  children: React.ReactNode;
  className?: string;
  padding?: 'none' | 'sm' | 'md' | 'lg';
  shadow?: 'none' | 'sm' | 'md' | 'lg';
  hover?: boolean;
  onClick?: () => void;
}
â‹®----
const Card: React.FC<CardProps> = ({
  children,
  className = '',
  padding = 'md',
  shadow = 'sm',
  hover = false,
  onClick,
}) =>
â‹®----
// === ì¹´ë“œ ì„œë¸Œì»´í¬ë„ŒíŠ¸ë“¤ ===
â‹®----
interface CardHeaderProps {
  children: React.ReactNode;
  className?: string;
}
â‹®----
export const CardHeader: React.FC<CardHeaderProps> = ({ 
  children, 
  className = '' 
}) => (
  <div className={`border-b border-elderberry-100 pb-4 mb-4 ${className}`}>
    {children}
  </div>
);
â‹®----
interface CardTitleProps {
  children: React.ReactNode;
  className?: string;
}
â‹®----
export const CardTitle: React.FC<CardTitleProps> = ({ 
  children, 
  className = '' 
}) => (
  <h3 className={`text-lg font-semibold text-elderberry-900 ${className}`}>
    {children}
  </h3>
);
â‹®----
interface CardDescriptionProps {
  children: React.ReactNode;
  className?: string;
}
â‹®----
export const CardDescription: React.FC<CardDescriptionProps> = ({ 
  children, 
  className = '' 
}) => (
  <p className={`text-sm text-elderberry-600 mt-1 ${className}`}>
    {children}
  </p>
);
â‹®----
interface CardContentProps {
  children: React.ReactNode;
  className?: string;
}
â‹®----
export const CardContent: React.FC<CardContentProps> = ({ 
  children, 
  className = '' 
}) => (
  <div className={className}>
    {children}
  </div>
);
â‹®----
interface CardFooterProps {
  children: React.ReactNode;
  className?: string;
}
â‹®----
export const CardFooter: React.FC<CardFooterProps> = ({ 
  children, 
  className = '' 
}) => (
  <div className={`border-t border-elderberry-100 pt-4 mt-4 ${className}`}>
    {children}
  </div>
);
</file>

<file path="frontend/src/components/ui/ProgressBar.tsx">
/**
 * ì§„í–‰ë¥  í‘œì‹œ ë°” ì»´í¬ë„ŒíŠ¸
 * ì²´í¬ë¦¬ìŠ¤íŠ¸ ì§„í–‰ ìƒí™© í‘œì‹œìš©
 */
import React from 'react';
import { motion } from 'framer-motion';
â‹®----
interface ProgressBarProps {
  progress: number; // 0-100
  steps?: string[];
  currentStep?: number;
  showPercentage?: boolean;
  showSteps?: boolean;
  className?: string;
}
â‹®----
progress: number; // 0-100
â‹®----
{/* ì§„í–‰ë¥  í…ìŠ¤íŠ¸ */}
â‹®----
{/* ì§„í–‰ë¥  ë°” */}
â‹®----
{/* ë‹¨ê³„ë³„ í‘œì‹œ */}
â‹®----
{/* ë‹¨ê³„ ì›í˜• í‘œì‹œ */}
</file>

<file path="frontend/src/components/ui/RadioGroup.tsx">
/**
 * ë¼ë””ì˜¤ ë²„íŠ¼ ê·¸ë£¹ ì»´í¬ë„ŒíŠ¸
 * ADL í‰ê°€ìš© ì„ íƒ ì¸í„°í˜ì´ìŠ¤
 */
import React from 'react';
import { motion } from 'framer-motion';
â‹®----
export interface RadioOption {
  value: string | number;
  label: string;
  description?: string;
  disabled?: boolean;
}
â‹®----
interface RadioGroupProps {
  name: string;
  value?: string | number;
  options: RadioOption[];
  onChange: (value: string | number) => void;
  error?: string;
  required?: boolean;
  className?: string;
  direction?: 'vertical' | 'horizontal';
}
â‹®----
{/* ì»¤ìŠ¤í…€ ë¼ë””ì˜¤ ë²„íŠ¼ */}
â‹®----
{/* ë¼ë²¨ ë° ì„¤ëª… */}
â‹®----
{/* ì„ íƒ í‘œì‹œ ì•„ì´ì½˜ */}
â‹®----
{/* ì—ëŸ¬ ë©”ì‹œì§€ */}
</file>

<file path="frontend/src/features/health/steps/AdditionalInfoStep.tsx">
/**
 * ì¶”ê°€ ì •ë³´ ì…ë ¥ ë‹¨ê³„
 * ëŒë´„ìƒíƒœ, ì‹ì‚¬í˜•íƒœ, ì§ˆí™˜ì •ë³´ ë“±
 */
import React from 'react';
import { motion } from 'framer-motion';
import { FileText, AlertTriangle } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { CARE_TARGET_STATUS, MEAL_TYPES } from '@/types/health';
import type { CareTargetStatus, MealType } from '@/types/health';
import RadioGroup, { type RadioOption } from '@/components/ui/RadioGroup';
â‹®----
// ëŒë´„ëŒ€ìƒì ìƒíƒœ ì˜µì…˜
â‹®----
// ì‹ì‚¬í˜•íƒœ ì˜µì…˜
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* ëŒë´„ëŒ€ìƒì ìƒíƒœ */}
â‹®----
setCareTargetStatus(value as CareTargetStatus);
clearError('careTargetStatus');
â‹®----
{/* ì‹ì‚¬í˜•íƒœ */}
â‹®----
setMealType(value as MealType);
clearError('mealType');
â‹®----
{/* ì§ˆí™˜ ì •ë³´ */}
â‹®----
{/* íŠ¹ì´ì‚¬í•­ ë° ê¸°íƒ€ ë©”ëª¨ */}
â‹®----
{/* ì•ˆë‚´ ë©”ì‹œì§€ */}
</file>

<file path="frontend/src/features/health/steps/AdlCommunicationStep.tsx">
/**
 * ADL í‰ê°€ - ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ì¸ì§€ ë° ì†Œí†µ ëŠ¥ë ¥ í‰ê°€
 */
import React from 'react';
import { motion } from 'framer-motion';
import { MessageCircle, AlertCircle, CheckCircle2, Info } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { ADL_OPTIONS } from '@/types/health';
import type { AdlLevel } from '@/types/health';
import RadioGroup, { type RadioOption } from '@/components/ui/RadioGroup';
â‹®----
// ì˜ì‚¬ì†Œí†µ í‰ê°€ ì˜µì…˜ ë³€í™˜
â‹®----
// í‰ê°€ ë ˆë²¨ë³„ ìƒì„¸ ì„¤ëª…
function getCommunicationDescription(level: AdlLevel): string
â‹®----
// í˜„ì¬ ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* í‰ê°€ ì§ˆë¬¸ */}
â‹®----
{/* ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´ */}
â‹®----
{/* ì˜ì‚¬ì†Œí†µ ì˜ì—­ë³„ ì„¸ë¶€ ì•ˆë‚´ */}
â‹®----
{/* í‰ê°€ ê°€ì´ë“œë¼ì¸ */}
â‹®----
{/* ì ìˆ˜ ì •ë³´ */}
â‹®----
{/* ì˜ˆì‹œ ìƒí™© */}
</file>

<file path="frontend/src/features/health/steps/AdlEatingStep.tsx">
/**
 * ADL í‰ê°€ - ì‹ì‚¬ í™œë™ ëŠ¥ë ¥
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ì‹ì‚¬ ëŠ¥ë ¥ í‰ê°€
 */
import React from 'react';
import { motion } from 'framer-motion';
import { Utensils, AlertCircle, CheckCircle2, Info } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { ADL_OPTIONS } from '@/types/health';
import type { AdlLevel } from '@/types/health';
import RadioGroup, { type RadioOption } from '@/components/ui/RadioGroup';
â‹®----
// ì‹ì‚¬ í‰ê°€ ì˜µì…˜ ë³€í™˜
â‹®----
// í‰ê°€ ë ˆë²¨ë³„ ìƒì„¸ ì„¤ëª…
function getEatingDescription(level: AdlLevel): string
â‹®----
// í˜„ì¬ ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* í‰ê°€ ì§ˆë¬¸ */}
â‹®----
{/* ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´ */}
â‹®----
{/* ì‹ì‚¬ ìœ í˜•ë³„ ì„¸ë¶€ ì•ˆë‚´ */}
â‹®----
{/* í‰ê°€ ê°€ì´ë“œë¼ì¸ */}
â‹®----
{/* ì ìˆ˜ ì •ë³´ */}
â‹®----
{/* ì˜ˆì‹œ ìƒí™© */}
</file>

<file path="frontend/src/features/health/steps/AdlMobilityStep.tsx">
/**
 * ADL í‰ê°€ - ê±·ê¸° í™œë™ ëŠ¥ë ¥
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ì´ë™ì„± í‰ê°€
 */
import React from 'react';
import { motion } from 'framer-motion';
import { Activity, AlertCircle, CheckCircle2 } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { ADL_OPTIONS } from '@/types/health';
import type { AdlLevel } from '@/types/health';
import RadioGroup, { type RadioOption } from '@/components/ui/RadioGroup';
â‹®----
// ì´ë™ì„± í‰ê°€ ì˜µì…˜ ë³€í™˜
â‹®----
// í‰ê°€ ë ˆë²¨ë³„ ìƒì„¸ ì„¤ëª…
function getMobilityDescription(level: AdlLevel): string
â‹®----
// í˜„ì¬ ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* í‰ê°€ ì§ˆë¬¸ */}
â‹®----
{/* ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´ */}
â‹®----
{/* í‰ê°€ ê°€ì´ë“œë¼ì¸ */}
â‹®----
{/* ì ìˆ˜ ì •ë³´ */}
â‹®----
{/* ì˜ˆì‹œ ìƒí™© */}
</file>

<file path="frontend/src/features/health/steps/AdlToiletStep.tsx">
/**
 * ADL í‰ê°€ - ë°°ë³€ í™œë™ ëŠ¥ë ¥
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ í™”ì¥ì‹¤ ì´ìš© ëŠ¥ë ¥ í‰ê°€
 */
import React from 'react';
import { motion } from 'framer-motion';
import { Bath, AlertCircle, CheckCircle2, Info } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { ADL_OPTIONS } from '@/types/health';
import type { AdlLevel } from '@/types/health';
import RadioGroup, { type RadioOption } from '@/components/ui/RadioGroup';
â‹®----
// í™”ì¥ì‹¤ ì´ìš© í‰ê°€ ì˜µì…˜ ë³€í™˜
â‹®----
// í‰ê°€ ë ˆë²¨ë³„ ìƒì„¸ ì„¤ëª…
function getToiletDescription(level: AdlLevel): string
â‹®----
// í˜„ì¬ ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* í‰ê°€ ì§ˆë¬¸ */}
â‹®----
{/* ì„ íƒëœ ë ˆë²¨ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´ */}
â‹®----
{/* í‰ê°€ ê°€ì´ë“œë¼ì¸ */}
â‹®----
{/* ì ìˆ˜ ì •ë³´ */}
â‹®----
{/* ì˜ˆì‹œ ìƒí™© */}
</file>

<file path="frontend/src/features/health/steps/BasicInfoStep.tsx">
/**
 * ê¸°ë³¸ ì •ë³´ ì…ë ¥ ë‹¨ê³„
 * í‰ê°€ ëŒ€ìƒìì˜ ê¸°ë³¸ ì •ë³´ ìˆ˜ì§‘
 */
import React from 'react';
import { motion } from 'framer-motion';
import { User, Calendar, UserCheck } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import type { Gender } from '@/types/health';
import RadioGroup from '@/components/ui/RadioGroup';
â‹®----
// ì„±ë³„ ì˜µì…˜
â‹®----
// í‰ê°€ì ê´€ê³„ ì˜µì…˜
â‹®----
// í˜„ì¬ ì—°ë„ ê³„ì‚°
â‹®----
{/* íšŒì› ID (ì½ê¸° ì „ìš©) */}
â‹®----
{/* ì„±ë³„ ì„ íƒ */}
â‹®----
{/* ì¶œìƒë…„ë„ ì„ íƒ */}
â‹®----
{/* í‰ê°€ì ì´ë¦„ */}
â‹®----
{/* í‰ê°€ìì™€ì˜ ê´€ê³„ */}
â‹®----
{/* ì•ˆë‚´ ë©”ì‹œì§€ */}
</file>

<file path="frontend/src/features/health/steps/LtciGradeStep.tsx">
/**
 * ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ì…ë ¥ ë‹¨ê³„
 * ì„ íƒì‚¬í•­ - ê¸°ì¡´ ë“±ê¸‰ì´ ìˆëŠ” ê²½ìš°ë§Œ
 */
import React from 'react';
import { motion } from 'framer-motion';
import { Shield, Info } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { LTCI_GRADES } from '@/types/health';
import type { LtciGrade } from '@/types/health';
import RadioGroup, { type RadioOption } from '@/components/ui/RadioGroup';
â‹®----
// ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ì˜µì…˜ ë³€í™˜
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* ì•ˆë‚´ ë©”ì‹œì§€ */}
â‹®----
{/* ë“±ê¸‰ ì„ íƒ */}
â‹®----
{/* ì„ íƒëœ ë“±ê¸‰ ì •ë³´ */}
â‹®----
{/* ë“±ê¸‰ë³„ ì„¤ëª… */}
â‹®----
{/* ì‹ ì²­ ì•ˆë‚´ */}
</file>

<file path="frontend/src/features/health/steps/ReviewStep.tsx">
/**
 * ê²€í†  ë° ì œì¶œ ë‹¨ê³„
 * ì…ë ¥ëœ ëª¨ë“  ì •ë³´ í™•ì¸ ë° í‰ê°€ ì œì¶œ
 */
import React, { useState, useMemo } from 'react';
import { motion } from 'framer-motion';
import { 
  CheckCircle2, 
  AlertCircle, 
  User, 
  Activity, 
  Utensils, 
  Bath, 
  MessageCircle,
  Shield,
  FileText,
  Loader2,
  Download
} from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import { HealthAssessmentApi } from '@/services/healthApi';
import { ADL_OPTIONS, LTCI_GRADES, CARE_TARGET_STATUS, MEAL_TYPES } from '@/types/health';
import Button from '@/components/ui/Button';
import Card, { CardHeader, CardTitle, CardContent } from '@/components/ui/Card';
â‹®----
interface ReviewStepProps {
  onComplete?: (assessmentId: number) => void;
}
â‹®----
// ADL ì ìˆ˜ ê³„ì‚°
â‹®----
// ì¼€ì–´ ë“±ê¸‰ ì˜ˆìƒ (ê°„ë‹¨í•œ ë¡œì§)
â‹®----
// í¼ ë°ì´í„° ê²€ì¦
â‹®----
// í‰ê°€ ì œì¶œ
const handleSubmit = async () =>
â‹®----
// ì„±ê³µ í›„ ì²˜ë¦¬
â‹®----
// ì„±ê³µ í™”ë©´
â‹®----
{/* ì„¹ì…˜ í—¤ë” */}
â‹®----
{/* ì™„ì„±ë„ í‘œì‹œ */}
â‹®----
{/* ê¸°ë³¸ ì •ë³´ ìš”ì•½ */}
â‹®----
{/* ADL í‰ê°€ ìš”ì•½ */}
â‹®----
{/* ADL ì´ì  */}
â‹®----
{/* ì¶”ê°€ ì •ë³´ ìš”ì•½ */}
â‹®----
{/* ì˜¤ë¥˜ ë©”ì‹œì§€ */}
â‹®----
{/* ì œì¶œ ë²„íŠ¼ */}
â‹®----
{/* ì•ˆë‚´ ë©”ì‹œì§€ */}
</file>

<file path="frontend/src/features/health/HealthAssessmentWizard.tsx">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§ˆë²•ì‚¬ ì»´í¬ë„ŒíŠ¸
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ë‹¨ê³„ë³„ ëŒë´„ì§€ìˆ˜ í‰ê°€
 */
import React, { useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { ChevronLeft, ChevronRight, AlertCircle, CheckCircle2 } from 'lucide-react';
â‹®----
import { useHealthAssessmentStore } from '@/stores/healthAssessmentStore';
import Button from '@/components/ui/Button';
import Card, { CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/components/ui/Card';
import ProgressBar from '@/components/ui/ProgressBar';
â‹®----
// ë‹¨ê³„ë³„ ì»´í¬ë„ŒíŠ¸ë“¤
import BasicInfoStep from './steps/BasicInfoStep';
import AdlMobilityStep from './steps/AdlMobilityStep';
import AdlEatingStep from './steps/AdlEatingStep';
import AdlToiletStep from './steps/AdlToiletStep';
import AdlCommunicationStep from './steps/AdlCommunicationStep';
import LtciGradeStep from './steps/LtciGradeStep';
import AdditionalInfoStep from './steps/AdditionalInfoStep';
import ReviewStep from './steps/ReviewStep';
â‹®----
interface HealthAssessmentWizardProps {
  onComplete?: (assessmentId: number) => void;
  onCancel?: () => void;
  memberId: string;
}
â‹®----
// ì´ˆê¸°í™” ì‹œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë³µì›
â‹®----
// í˜„ì¬ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
const renderCurrentStep = () =>
â‹®----
// ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰ í•¸ë“¤ëŸ¬
const handleNext = () =>
â‹®----
// ì—ëŸ¬ê°€ ìˆëŠ”ì§€ í™•ì¸
â‹®----
{/* í—¤ë” */}
â‹®----
{/* ì§„í–‰ë¥  í‘œì‹œ */}
â‹®----
{/* ë©”ì¸ ì¹´ë“œ */}
â‹®----
{/* ì—ëŸ¬ í‘œì‹œ */}
â‹®----
{/* í˜„ì¬ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ */}
â‹®----
{/* ì´ì „ ë²„íŠ¼ */}
â‹®----
{/* ì¤‘ê°„ ì •ë³´ */}
â‹®----
{/* ë‹¤ìŒ/ì™„ë£Œ ë²„íŠ¼ */}
â‹®----
{/* í•˜ë‹¨ ì•¡ì…˜ ë²„íŠ¼ë“¤ */}
â‹®----
resetForm();
onCancel?.();
â‹®----
{/* ë„ì›€ë§ ì •ë³´ */}
</file>

<file path="frontend/src/services/healthApi.ts">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ API ì„œë¹„ìŠ¤
 */
import axios from 'axios';
import type { 
  HealthAssessment, 
  HealthAssessmentCreateRequest, 
  CareGradeResult 
} from '@/types/health';
â‹®----
// ìš”ì²­ ì¸í„°ì…‰í„°: JWT í† í° ìë™ ì¶”ê°€
â‹®----
// ì‘ë‹µ ì¸í„°ì…‰í„°: ì—ëŸ¬ ì²˜ë¦¬
â‹®----
// í† í° ë§Œë£Œ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
â‹®----
export class HealthAssessmentApi
â‹®----
/**
   * ìƒˆë¡œìš´ ê±´ê°• í‰ê°€ ìƒì„±
   */
static async createAssessment(request: HealthAssessmentCreateRequest): Promise<HealthAssessment>
â‹®----
/**
   * íšŒì›ë³„ ìµœì‹  ê±´ê°• í‰ê°€ ì¡°íšŒ
   */
static async getLatestAssessment(memberId: string): Promise<HealthAssessment | null>
â‹®----
return null; // í‰ê°€ ê¸°ë¡ì´ ì—†ëŠ” ê²½ìš°
â‹®----
/**
   * íšŒì›ë³„ ê±´ê°• í‰ê°€ ì´ë ¥ ì¡°íšŒ
   */
static async getAssessmentHistory(memberId: string): Promise<HealthAssessment[]>
â‹®----
/**
   * ê±´ê°• í‰ê°€ ìˆ˜ì •
   */
static async updateAssessment(
    assessmentId: number, 
    request: Partial<HealthAssessmentCreateRequest>
): Promise<HealthAssessment>
â‹®----
/**
   * ì¼€ì–´ ë“±ê¸‰ ì¬ê³„ì‚°
   */
static async calculateCareGrade(assessmentId: number): Promise<CareGradeResult>
â‹®----
/**
   * ê±´ê°• í‰ê°€ ìš”ì•½ ì¡°íšŒ
   */
static async getAssessmentSummary(assessmentId: number): Promise<string>
â‹®----
/**
   * í‰ê°€ ì™„ì„±ë„ ì²´í¬
   */
static async checkCompleteness(assessmentId: number): Promise<
â‹®----
/**
   * ê±´ê°• í‰ê°€ ì‚­ì œ (ê´€ë¦¬ìë§Œ)
   */
static async deleteAssessment(assessmentId: number): Promise<void>
</file>

<file path="frontend/src/stores/healthAssessmentStore.ts">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ ê´€ë¦¬
 * Zustandë¥¼ ì‚¬ìš©í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬
 */
import { create } from 'zustand';
import { devtools } from 'zustand/middleware';
import type { 
  HealthAssessmentCreateRequest, 
  ChecklistState, 
  ChecklistStep,
  AdlLevel,
  LtciGrade,
  CareTargetStatus,
  MealType,
  Gender 
} from '@/types/health';
â‹®----
interface HealthAssessmentStore extends ChecklistState {
  // === ì•¡ì…˜ ë©”ì„œë“œ ===
  
  // ë‹¨ê³„ ì´ë™
  nextStep: () => void;
  previousStep: () => void;
  goToStep: (stepIndex: number) => void;
  
  // í¼ ë°ì´í„° ì—…ë°ì´íŠ¸
  updateFormData: (data: Partial<HealthAssessmentCreateRequest>) => void;
  updateAdlScore: (field: keyof Pick<HealthAssessmentCreateRequest, 'mobilityLevel' | 'eatingLevel' | 'toiletLevel' | 'communicationLevel'>, value: AdlLevel) => void;
  
  // ê¸°ë³¸ ì •ë³´ ì„¤ì •
  setBasicInfo: (memberId: string, gender?: Gender, birthYear?: number) => void;
  
  // ì¶”ê°€ ì •ë³´ ì„¤ì •
  setLtciGrade: (grade?: LtciGrade) => void;
  setCareTargetStatus: (status?: CareTargetStatus) => void;
  setMealType: (type?: MealType) => void;
  setDiseaseTypes: (types: string) => void;
  setNotes: (notes: string) => void;
  
  // ê²€ì¦ ë° ì™„ì„±ë„
  validateCurrentStep: () => boolean;
  calculateCompletionPercentage: () => number;
  
  // ì—ëŸ¬ ì²˜ë¦¬
  setError: (field: string, error: string) => void;
  clearError: (field: string) => void;
  clearAllErrors: () => void;
  
  // ì œì¶œ ìƒíƒœ
  setSubmitting: (isSubmitting: boolean) => void;
  
  // ì´ˆê¸°í™”
  resetForm: () => void;
  
  // ì„ì‹œ ì €ì¥ ë° ë³µì›
  saveToLocalStorage: () => void;
  loadFromLocalStorage: () => void;
}
â‹®----
// === ì•¡ì…˜ ë©”ì„œë“œ ===
â‹®----
// ë‹¨ê³„ ì´ë™
â‹®----
// í¼ ë°ì´í„° ì—…ë°ì´íŠ¸
â‹®----
// ê¸°ë³¸ ì •ë³´ ì„¤ì •
â‹®----
// ì¶”ê°€ ì •ë³´ ì„¤ì •
â‹®----
// ê²€ì¦ ë° ì™„ì„±ë„
â‹®----
// ì—ëŸ¬ ì²˜ë¦¬
â‹®----
// ì œì¶œ ìƒíƒœ
â‹®----
// ì´ˆê¸°í™”
â‹®----
// ì„ì‹œ ì €ì¥ ë° ë³µì›
â‹®----
// === ì´ˆê¸° ë‹¨ê³„ ì •ì˜ ===
â‹®----
// === ì´ˆê¸° ìƒíƒœ ===
â‹®----
// === ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í‚¤ ===
â‹®----
// === ë‹¨ê³„ ì´ë™ ===
â‹®----
// í˜„ì¬ ë‹¨ê³„ ê²€ì¦
â‹®----
// === í¼ ë°ì´í„° ì—…ë°ì´íŠ¸ ===
â‹®----
// ìë™ ì €ì¥
â‹®----
// === ê¸°ë³¸ ì •ë³´ ì„¤ì • ===
â‹®----
// === ì¶”ê°€ ì •ë³´ ì„¤ì • ===
â‹®----
// === ê²€ì¦ ===
â‹®----
// í•„ìˆ˜ ADL í•­ëª© ì¬ê²€ì¦
â‹®----
// í•„ìˆ˜ í•„ë“œ 80%, ì„ íƒ í•„ë“œ 20% ê°€ì¤‘ì¹˜
â‹®----
// === ì—ëŸ¬ ì²˜ë¦¬ ===
â‹®----
// === ì œì¶œ ìƒíƒœ ===
â‹®----
// === ì´ˆê¸°í™” ===
â‹®----
// === ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ===
â‹®----
// 24ì‹œê°„ ì´ë‚´ ë°ì´í„°ë§Œ ë³µì›
</file>

<file path="frontend/src/types/health.ts">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ ê´€ë ¨ íƒ€ì… ì •ì˜
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ
 */
â‹®----
// === ADL í‰ê°€ ë ˆë²¨ ===
export type AdlLevel = 1 | 2 | 3;
â‹®----
export interface AdlOptions {
  1: string;
  2: string;
  3: string;
}
â‹®----
// === ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ===
export type LtciGrade = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;
â‹®----
// === ëŒë´„ëŒ€ìƒì ìƒíƒœ ===
export type CareTargetStatus = 1 | 2 | 3 | 4;
â‹®----
// === ì‹ì‚¬í˜•íƒœ ===
export type MealType = 1 | 2 | 3;
â‹®----
// === ì„±ë³„ ===
export type Gender = 'MALE' | 'FEMALE' | 'M' | 'F';
â‹®----
// === ê±´ê°• í‰ê°€ ìƒì„± ìš”ì²­ ===
export interface HealthAssessmentCreateRequest {
  memberId: string;
  gender?: Gender;
  birthYear?: number;
  
  // ADL í‰ê°€ (í•„ìˆ˜)
  mobilityLevel: AdlLevel;
  eatingLevel: AdlLevel;
  toiletLevel: AdlLevel;
  communicationLevel: AdlLevel;
  
  // ì¶”ê°€ í‰ê°€ í•­ëª©
  ltciGrade?: LtciGrade;
  careTargetStatus?: CareTargetStatus;
  mealType?: MealType;
  diseaseTypes?: string;
  
  // ì¶”ê°€ ì •ë³´
  notes?: string;
  assessorName?: string;
  assessorRelation?: string;
}
â‹®----
// ADL í‰ê°€ (í•„ìˆ˜)
â‹®----
// ì¶”ê°€ í‰ê°€ í•­ëª©
â‹®----
// ì¶”ê°€ ì •ë³´
â‹®----
// === ê±´ê°• í‰ê°€ ì‘ë‹µ ===
export interface HealthAssessment {
  id: number;
  memberId: string;
  gender?: string;
  birthYear?: number;
  
  // ADL í‰ê°€
  mobilityLevel: number;
  eatingLevel: number;
  toiletLevel: number;
  communicationLevel: number;
  
  // ê³„ì‚°ëœ ì ìˆ˜
  adlScore: number;
  overallCareGrade: string;
  careGradeLevel: number;
  
  // ì¶”ê°€ í‰ê°€ í•­ëª©
  ltciGrade?: number;
  careTargetStatus?: number;
  mealType?: number;
  diseaseTypes?: string;
  
  // ë©”íƒ€ ì •ë³´
  assessmentDate: string;
  createdAt: string;
  updatedAt: string;
  
  // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²°ê³¼
  specializedCareType: string;
  estimatedMonthlyCostRange: string;
  
  notes?: string;
  assessorName?: string;
  assessorRelation?: string;
}
â‹®----
// ADL í‰ê°€
â‹®----
// ê³„ì‚°ëœ ì ìˆ˜
â‹®----
// ì¶”ê°€ í‰ê°€ í•­ëª©
â‹®----
// ë©”íƒ€ ì •ë³´
â‹®----
// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²°ê³¼
â‹®----
// === ì¼€ì–´ ë“±ê¸‰ ê²°ê³¼ ===
export interface CareGradeResult {
  gradeLevel: number;
  gradeName: string;
  careType: string;
  description: string;
  recommendedFacilityTypes: string[];
  estimatedMonthlyCost: {
    min: number;
    max: number;
    currency: string;
  };
}
â‹®----
// === ì²´í¬ë¦¬ìŠ¤íŠ¸ UI ìƒíƒœ ===
export interface ChecklistStep {
  id: string;
  title: string;
  description: string;
  isRequired: boolean;
  isCompleted: boolean;
  validationErrors?: string[];
}
â‹®----
export interface ChecklistState {
  currentStep: number;
  totalSteps: number;
  steps: ChecklistStep[];
  formData: Partial<HealthAssessmentCreateRequest>;
  isSubmitting: boolean;
  errors: Record<string, string>;
}
â‹®----
// === ADL í‰ê°€ ì˜µì…˜ ì •ì˜ ===
â‹®----
// === ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ì •ì˜ ===
â‹®----
// === ëŒë´„ëŒ€ìƒì ìƒíƒœ ì •ì˜ ===
â‹®----
// === ì‹ì‚¬í˜•íƒœ ì •ì˜ ===
</file>

<file path="frontend/src/App.css">
/**
 * ë©”ì¸ ì•± ìŠ¤íƒ€ì¼
 * 'elderberry' í…Œë§ˆ ê¸°ë°˜ ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
 */
â‹®----
/* Tailwind CSS ì„í¬íŠ¸ */
@tailwind base;
@tailwind components;
@tailwind utilities;
â‹®----
/* ì „ì—­ ìŠ¤íƒ€ì¼ */
@layer base {
â‹®----
html {
â‹®----
body {
â‹®----
/* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
::-webkit-scrollbar {
â‹®----
::-webkit-scrollbar-track {
â‹®----
@apply bg-elderberry-100;
â‹®----
::-webkit-scrollbar-thumb {
â‹®----
::-webkit-scrollbar-thumb:hover {
â‹®----
@apply bg-elderberry-400;
â‹®----
/* ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ */
@layer components {
â‹®----
/* í¼ ìš”ì†Œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
.form-input {
â‹®----
.form-input:focus {
â‹®----
/* ì¹´ë“œ ê·¸ë¦¼ì íš¨ê³¼ */
.card-shadow {
â‹®----
.card-shadow-lg {
â‹®----
/* ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
.btn-elderberry {
â‹®----
.btn-elderberry:hover {
â‹®----
/* ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ */
.gradient-elderberry {
â‹®----
/* ì• ë‹ˆë©”ì´ì…˜ í´ë˜ìŠ¤ */
.fade-in {
â‹®----
.slide-up {
â‹®----
.bounce-gentle {
â‹®----
/* ìœ í‹¸ë¦¬í‹° ìŠ¤íƒ€ì¼ */
@layer utilities {
â‹®----
/* í…ìŠ¤íŠ¸ ê·¸ë¼ë°ì´ì…˜ */
.text-gradient-elderberry {
â‹®----
/* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ */
.grid-responsive {
â‹®----
/* ì¤‘ì•™ ì •ë ¬ ì»¨í…Œì´ë„ˆ */
.container-center {
â‹®----
/* ì„¹ì…˜ íŒ¨ë”© */
.section-padding {
â‹®----
/* ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ */
â‹®----
/* ì¸ì‡„ ìŠ¤íƒ€ì¼ */
â‹®----
.no-print {
â‹®----
.card-shadow,
â‹®----
/* ë‹¤í¬ëª¨ë“œ ëŒ€ì‘ (ë‚˜ì¤‘ì— ì¶”ê°€í•  ë•Œë¥¼ ìœ„í•´) */
â‹®----
:root {
â‹®----
/* ë‹¤í¬ëª¨ë“œ ìƒ‰ìƒ ë³€ìˆ˜ë“¤ (í•„ìš”ì‹œ ì¶”ê°€) */
â‹®----
/* ì ‘ê·¼ì„± ê°œì„  */
â‹®----
*,
â‹®----
/* í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ ê°œì„  */
:focus-visible {
â‹®----
/* ì„ íƒ ì˜ì—­ ìŠ¤íƒ€ì¼ */
::selection {
</file>

<file path="frontend/src/main.tsx">
/**
 * React ì•± ì§„ì…ì 
 * Vite + React 18 ê¸°ë°˜
 */
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.tsx'
â‹®----
// ì „ì—­ ìŠ¤íƒ€ì¼ ë¶ˆëŸ¬ì˜¤ê¸°
â‹®----
// React 18 ë£¨íŠ¸ ìƒì„± ë° ë Œë”ë§
</file>

<file path="frontend/src/vite-env.d.ts">
/// <reference types="vite/client" />
â‹®----
// Vite í™˜ê²½ ë³€ìˆ˜ íƒ€ì… ì •ì˜
interface ImportMetaEnv {
  readonly VITE_API_BASE_URL: string
  readonly VITE_WS_URL: string
  readonly VITE_KAKAO_API_KEY: string
  readonly VITE_USE_FREE_MAP: string
  readonly VITE_GITHUB_REPO_OWNER: string
  readonly VITE_GITHUB_REPO_NAME: string
  readonly VITE_DEV_MODE: string
  readonly VITE_LOG_LEVEL: string
}
â‹®----
interface ImportMeta {
  readonly env: ImportMetaEnv
}
</file>

<file path="frontend/postcss.config.js">

</file>

<file path="frontend/tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,

    /* Path mapping */
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
</file>

<file path="frontend/tsconfig.node.json">
{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}
</file>

<file path="frontend/vite.config.ts">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
â‹®----
// https://vitejs.dev/config/
</file>

<file path="gradle/wrapper/gradle-wrapper.properties">
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-8.10.2-bin.zip
networkTimeout=10000
validateDistributionUrl=true
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
</file>

<file path="src/main/java/com/globalcarelink/auth/dto/LoginRequest.java">
public class LoginRequest {
</file>

<file path="src/main/java/com/globalcarelink/auth/dto/MemberRegisterRequest.java">
public class MemberRegisterRequest {
</file>

<file path="src/main/java/com/globalcarelink/auth/dto/MemberResponse.java">
public class MemberResponse {
â‹®----
public static MemberResponse from(Member member) {
return MemberResponse.builder()
.id(member.getId())
.email(member.getEmail())
.name(member.getName())
.phoneNumber(member.getPhoneNumber())
.role(member.getRole())
.isJobSeeker(member.getIsJobSeeker())
.isActive(member.getIsActive())
.language(member.getLanguage())
.region(member.getRegion())
.createdAt(member.getCreatedAt())
.updatedAt(member.getUpdatedAt())
.build();
</file>

<file path="src/main/java/com/globalcarelink/auth/dto/MemberUpdateRequest.java">
public class MemberUpdateRequest {
</file>

<file path="src/main/java/com/globalcarelink/auth/dto/TokenResponse.java">
public class TokenResponse {
â‹®----
public static TokenResponse of(String accessToken, Long expiresIn, MemberResponse member) {
return TokenResponse.builder()
.accessToken(accessToken)
.tokenType("Bearer")
.expiresIn(expiresIn)
.member(member)
.build();
</file>

<file path="src/main/java/com/globalcarelink/auth/AuthController.java">
public class AuthController {
â‹®----
public ResponseEntity<MemberResponse> register(@RequestBody @Valid MemberRegisterRequest request) {
MemberResponse response = memberService.register(request);
return ResponseEntity.status(HttpStatus.CREATED).body(response);
â‹®----
public ResponseEntity<TokenResponse> login(@RequestBody @Valid LoginRequest request) {
TokenResponse response = memberService.login(request);
return ResponseEntity.ok(response);
â‹®----
public ResponseEntity<MemberResponse> getCurrentMember(@RequestParam String email) {
MemberResponse response = memberService.findByEmail(email);
</file>

<file path="src/main/java/com/globalcarelink/auth/JwtAuthenticationFilter.java">
public class JwtAuthenticationFilter extends OncePerRequestFilter {
â‹®----
protected void doFilterInternal(HttpServletRequest request,
â‹®----
String token = resolveToken(request);
â‹®----
if (StringUtils.hasText(token) && jwtTokenProvider.validateToken(token)) {
Authentication authentication = jwtTokenProvider.getAuthentication(token);
SecurityContextHolder.getContext().setAuthentication(authentication);
â‹®----
filterChain.doFilter(request, response);
â‹®----
private String resolveToken(HttpServletRequest request) {
String bearerToken = request.getHeader("Authorization");
â‹®----
if (StringUtils.hasText(bearerToken) && bearerToken.startsWith("Bearer ")) {
return bearerToken.substring(7);
</file>

<file path="src/main/java/com/globalcarelink/auth/JwtTokenProvider.java">
public class JwtTokenProvider {
â‹®----
protected void init() {
key = Keys.hmacShaKeyFor(secretKey.getBytes());
â‹®----
public String createToken(String email, String role) {
Claims claims = Jwts.claims().subject(email).build();
claims.put("role", role);
â‹®----
Date now = new Date();
Date validity = new Date(now.getTime() + expiration);
â‹®----
return Jwts.builder()
.claims(claims)
.issuedAt(now)
.expiration(validity)
.signWith(key)
.compact();
â‹®----
public Authentication getAuthentication(String token) {
Claims claims = getClaims(token);
String email = claims.getSubject();
String role = claims.get("role", String.class);
â‹®----
return new UsernamePasswordAuthenticationToken(
â‹®----
Collections.singletonList(new SimpleGrantedAuthority("ROLE_" + role))
â‹®----
public String getEmail(String token) {
return getClaims(token).getSubject();
â‹®----
public boolean validateToken(String token) {
â‹®----
getClaims(token);
â‹®----
log.debug("Invalid JWT token: {}", e.getMessage());
â‹®----
private Claims getClaims(String token) {
return Jwts.parser()
.verifyWith(key)
.build()
.parseSignedClaims(token)
.getPayload();
</file>

<file path="src/main/java/com/globalcarelink/auth/MemberController.java">
public class MemberController {
â‹®----
public ResponseEntity<MemberResponse> getMember(@PathVariable Long id) {
MemberResponse response = memberService.findById(id);
return ResponseEntity.ok(response);
â‹®----
public ResponseEntity<MemberResponse> updateProfile(
â‹®----
MemberResponse response = memberService.updateProfile(id, request);
â‹®----
public ResponseEntity<Void> toggleJobSeekerStatus(@PathVariable Long id) {
memberService.toggleJobSeekerStatus(id);
return ResponseEntity.ok().build();
â‹®----
public ResponseEntity<Void> deactivate(@PathVariable Long id) {
memberService.deactivate(id);
â‹®----
public ResponseEntity<List<MemberResponse>> getMembersByRole(@PathVariable MemberRole role) {
List<MemberResponse> response = memberService.findByRole(role);
â‹®----
public ResponseEntity<List<MemberResponse>> getActiveJobSeekers() {
List<MemberResponse> response = memberService.findActiveJobSeekers();
â‹®----
public ResponseEntity<Long> countByRole(@PathVariable MemberRole role) {
long count = memberService.countByRole(role);
return ResponseEntity.ok(count);
</file>

<file path="src/main/java/com/globalcarelink/auth/MemberRepository.java">
public interface MemberRepository extends JpaRepository<Member, Long> {
â‹®----
Optional<Member> findByEmail(String email);
â‹®----
boolean existsByEmail(String email);
â‹®----
List<Member> findByRole(MemberRole role);
â‹®----
List<Member> findByRoleAndIsActive(MemberRole role, Boolean isActive);
â‹®----
List<Member> findByIsJobSeekerAndIsActive(Boolean isJobSeeker, Boolean isActive);
â‹®----
List<Member> findByRolesAndIsActive(@Param("roles") List<MemberRole> roles, @Param("isActive") Boolean isActive);
â‹®----
List<Member> findActiveByRoleAndRegion(@Param("role") MemberRole role, @Param("region") String region);
â‹®----
List<Member> searchByKeyword(@Param("keyword") String keyword);
â‹®----
long countByRole(MemberRole role);
â‹®----
long countByRoleAndIsActive(MemberRole role, Boolean isActive);
</file>

<file path="src/main/java/com/globalcarelink/common/config/AsyncConfig.java">
public class AsyncConfig implements AsyncConfigurer {
â‹®----
public Executor getAsyncExecutor() {
ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
executor.setCorePoolSize(5);
executor.setMaxPoolSize(20);
executor.setQueueCapacity(100);
executor.setKeepAliveSeconds(60);
executor.setThreadNamePrefix("Elderberry-Async-");
executor.setWaitForTasksToCompleteOnShutdown(true);
executor.setAwaitTerminationSeconds(30);
executor.initialize();
â‹®----
public Executor matchingTaskExecutor() {
â‹®----
executor.setCorePoolSize(3);
executor.setMaxPoolSize(10);
executor.setQueueCapacity(50);
â‹®----
executor.setThreadNamePrefix("Matching-Async-");
â‹®----
public Executor statisticsTaskExecutor() {
â‹®----
executor.setCorePoolSize(2);
executor.setMaxPoolSize(5);
executor.setQueueCapacity(25);
â‹®----
executor.setThreadNamePrefix("Statistics-Async-");
â‹®----
public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {
â‹®----
log.error("ë¹„ë™ê¸° ì‘ì—… ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ ë°œìƒ - ë©”ì„œë“œ: {}, íŒŒë¼ë¯¸í„°: {}",
method.getName(), objects, throwable);
</file>

<file path="src/main/java/com/globalcarelink/common/config/CacheConfig.java">
public class CacheConfig {
â‹®----
public CacheManager cacheManager() {
CaffeineCacheManager cacheManager = new CaffeineCacheManager();
cacheManager.setCaffeine(caffeineCacheBuilder());
cacheManager.setCacheNames(
java.util.List.of(
â‹®----
private Caffeine<Object, Object> caffeineCacheBuilder() {
return Caffeine.newBuilder()
.initialCapacity(100)
.maximumSize(1000)
.expireAfterAccess(Duration.ofMinutes(30))
.expireAfterWrite(Duration.ofMinutes(60))
.recordStats();
â‹®----
public CacheManager coordinatorMatchCacheManager() {
CaffeineCacheManager cacheManager = new CaffeineCacheManager("coordinator-matches");
cacheManager.setCaffeine(Caffeine.newBuilder()
.initialCapacity(50)
.maximumSize(500)
.expireAfterAccess(Duration.ofMinutes(15))
.expireAfterWrite(Duration.ofMinutes(30))
.recordStats());
â‹®----
public CacheManager healthAssessmentCacheManager() {
CaffeineCacheManager cacheManager = new CaffeineCacheManager("health-assessments");
â‹®----
.maximumSize(2000)
.expireAfterAccess(Duration.ofMinutes(60))
.expireAfterWrite(Duration.ofHours(2))
â‹®----
public CacheManager statisticsCacheManager() {
CaffeineCacheManager cacheManager = new CaffeineCacheManager("matching-statistics");
â‹®----
.initialCapacity(10)
.maximumSize(100)
.expireAfterAccess(Duration.ofMinutes(10))
.expireAfterWrite(Duration.ofMinutes(15))
</file>

<file path="src/main/java/com/globalcarelink/common/config/JpaConfig.java">
public class JpaConfig {
</file>

<file path="src/main/java/com/globalcarelink/common/config/LoggingAspect.java">
public class LoggingAspect {
â‹®----
private static final org.slf4j.Logger performanceLogger = LoggerFactory.getLogger("performance");
â‹®----
public void serviceLayer() {}
â‹®----
public void controllerLayer() {}
â‹®----
public void repositoryLayer() {}
â‹®----
public Object logServiceExecution(ProceedingJoinPoint joinPoint) throws Throwable {
long startTime = System.currentTimeMillis();
String methodName = joinPoint.getSignature().getName();
String className = joinPoint.getTarget().getClass().getSimpleName();
â‹®----
Object[] args = joinPoint.getArgs();
String sanitizedArgs = sanitizeArgs(args);
â‹®----
log.debug("ì„œë¹„ìŠ¤ ë©”ì„œë“œ ì‹œì‘: {}.{} - íŒŒë¼ë¯¸í„°: {}", className, methodName, sanitizedArgs);
â‹®----
Object result = joinPoint.proceed();
â‹®----
long duration = System.currentTimeMillis() - startTime;
log.debug("ì„œë¹„ìŠ¤ ë©”ì„œë“œ ì™„ë£Œ: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms", className, methodName, duration);
â‹®----
performanceLogger.info("ëŠë¦° ì„œë¹„ìŠ¤ ë©”ì„œë“œ: {}.{} - {}ms", className, methodName, duration);
â‹®----
log.error("ì„œë¹„ìŠ¤ ë©”ì„œë“œ ì˜¤ë¥˜: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms, ì˜¤ë¥˜: {}",
className, methodName, duration, e.getMessage(), e);
â‹®----
public Object logControllerExecution(ProceedingJoinPoint joinPoint) throws Throwable {
â‹®----
log.info("ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ì‹œì‘: {}.{} - íŒŒë¼ë¯¸í„°: {}", className, methodName, sanitizedArgs);
â‹®----
log.info("ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ì™„ë£Œ: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms", className, methodName, duration);
â‹®----
log.error("ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ì˜¤ë¥˜: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms, ì˜¤ë¥˜: {}",
â‹®----
public void logException(JoinPoint joinPoint, Throwable ex) {
â‹®----
log.error("ì˜ˆì™¸ ë°œìƒ: {}.{} - ì˜ˆì™¸íƒ€ì…: {}, ë©”ì‹œì§€: {}",
className, methodName, ex.getClass().getSimpleName(), ex.getMessage());
â‹®----
if (ex.getCause() != null) {
log.error("ì›ì¸: {}", ex.getCause().getMessage());
â‹®----
public Object logRepositoryExecution(ProceedingJoinPoint joinPoint) throws Throwable {
â‹®----
log.debug("Repository ë©”ì„œë“œ ì‹œì‘: {}.{}", className, methodName);
â‹®----
log.debug("Repository ë©”ì„œë“œ ì™„ë£Œ: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms", className, methodName, duration);
â‹®----
performanceLogger.warn("ëŠë¦° DB ì¿¼ë¦¬: {}.{} - {}ms", className, methodName, duration);
â‹®----
log.error("Repository ë©”ì„œë“œ ì˜¤ë¥˜: {}.{} - ì‹¤í–‰ì‹œê°„: {}ms, ì˜¤ë¥˜: {}",
className, methodName, duration, e.getMessage());
â‹®----
private String sanitizeArgs(Object[] args) {
â‹®----
return Arrays.stream(args)
.map(this::sanitizeArg)
.reduce((a, b) -> a + ", " + b)
.map(s -> "[" + s + "]")
.orElse("[]");
â‹®----
private String sanitizeArg(Object arg) {
â‹®----
String argString = arg.toString();
â‹®----
if (argString.toLowerCase().contains("password")) {
â‹®----
if (argString.length() > 100) {
return argString.substring(0, 97) + "...";
</file>

<file path="src/main/java/com/globalcarelink/common/config/LoggingFilter.java">
public class LoggingFilter extends OncePerRequestFilter {
â‹®----
protected void doFilterInternal(HttpServletRequest request,
â‹®----
long startTime = System.currentTimeMillis();
â‹®----
setupMDC(request);
â‹®----
log.info("ìš”ì²­ ì‹œì‘: {} {}", request.getMethod(), request.getRequestURI());
â‹®----
filterChain.doFilter(request, response);
â‹®----
long duration = System.currentTimeMillis() - startTime;
â‹®----
log.info("ìš”ì²­ ì™„ë£Œ: {} {} - ì‘ë‹µì½”ë“œ: {}, ì²˜ë¦¬ì‹œê°„: {}ms",
request.getMethod(),
request.getRequestURI(),
response.getStatus(),
â‹®----
log.warn("ëŠë¦° ìš”ì²­ ê°ì§€: {}ms - {} {}", duration, request.getMethod(), request.getRequestURI());
â‹®----
clearMDC();
â‹®----
private void setupMDC(HttpServletRequest request) {
String traceId = UUID.randomUUID().toString().substring(0, 8);
MDC.put(TRACE_ID, traceId);
MDC.put(REQUEST_URI, request.getRequestURI());
MDC.put(METHOD, request.getMethod());
MDC.put(CLIENT_IP, getClientIpAddress(request));
â‹®----
Authentication authentication = SecurityContextHolder.getContext().getAuthentication();
if (authentication != null && authentication.isAuthenticated() &&
!"anonymousUser".equals(authentication.getName())) {
â‹®----
String userEmail = authentication.getName();
MDC.put(USER_EMAIL, userEmail);
MDC.put(USER_ID, extractUserId(userEmail));
â‹®----
private void clearMDC() {
MDC.remove(TRACE_ID);
MDC.remove(USER_ID);
MDC.remove(USER_EMAIL);
MDC.remove(REQUEST_URI);
MDC.remove(METHOD);
MDC.remove(CLIENT_IP);
â‹®----
private String getClientIpAddress(HttpServletRequest request) {
String xForwardedFor = request.getHeader("X-Forwarded-For");
if (xForwardedFor != null && !xForwardedFor.isEmpty()) {
return xForwardedFor.split(",")[0].trim();
â‹®----
String xRealIp = request.getHeader("X-Real-IP");
if (xRealIp != null && !xRealIp.isEmpty()) {
â‹®----
return request.getRemoteAddr();
â‹®----
private String extractUserId(String email) {
return email != null ? email.split("@")[0] : "unknown";
</file>

<file path="src/main/java/com/globalcarelink/common/entity/BaseEntity.java">
public abstract class BaseEntity {
</file>

<file path="src/main/java/com/globalcarelink/common/exception/CustomException.java">
public class CustomException extends RuntimeException {
â‹®----
public static class Unauthorized extends CustomException {
â‹®----
public static class Forbidden extends CustomException {
â‹®----
public static class NotFound extends CustomException {
â‹®----
public static class BadRequest extends CustomException {
â‹®----
public static class Conflict extends CustomException {
</file>

<file path="src/main/java/com/globalcarelink/common/util/DateUtil.java">
public final class DateUtil {
â‹®----
public static final ZoneId KOREA_ZONE = ZoneId.of("Asia/Seoul");
public static final DateTimeFormatter DATE_FORMAT = DateTimeFormatter.ofPattern("yyyy-MM-dd");
public static final DateTimeFormatter DATETIME_FORMAT = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
public static final DateTimeFormatter TIMESTAMP_FORMAT = DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSS");
public static final DateTimeFormatter KOREAN_DATE_FORMAT = DateTimeFormatter.ofPattern("yyyyë…„ MMì›” ddì¼", Locale.KOREAN);
public static final DateTimeFormatter KOREAN_DATETIME_FORMAT = DateTimeFormatter.ofPattern("yyyyë…„ MMì›” ddì¼ HHì‹œ mmë¶„", Locale.KOREAN);
â‹®----
public static LocalDateTime now() {
return LocalDateTime.now(KOREA_ZONE);
â‹®----
public static LocalDate today() {
return LocalDate.now(KOREA_ZONE);
â‹®----
public static String formatDate(LocalDate date) {
return date != null ? date.format(DATE_FORMAT) : null;
â‹®----
public static String formatDateTime(LocalDateTime dateTime) {
return dateTime != null ? dateTime.format(DATETIME_FORMAT) : null;
â‹®----
public static String formatKoreanDate(LocalDate date) {
return date != null ? date.format(KOREAN_DATE_FORMAT) : null;
â‹®----
public static String formatKoreanDateTime(LocalDateTime dateTime) {
return dateTime != null ? dateTime.format(KOREAN_DATETIME_FORMAT) : null;
â‹®----
public static LocalDate parseDate(String dateString) {
â‹®----
return LocalDate.parse(dateString, DATE_FORMAT);
â‹®----
throw new IllegalArgumentException("ë‚ ì§œ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤: " + dateString, e);
â‹®----
public static LocalDateTime parseDateTime(String dateTimeString) {
â‹®----
return LocalDateTime.parse(dateTimeString, DATETIME_FORMAT);
â‹®----
throw new IllegalArgumentException("ë‚ ì§œì‹œê°„ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤: " + dateTimeString, e);
â‹®----
public static long daysBetween(LocalDate startDate, LocalDate endDate) {
return ChronoUnit.DAYS.between(startDate, endDate);
â‹®----
public static long hoursBetween(LocalDateTime startDateTime, LocalDateTime endDateTime) {
return ChronoUnit.HOURS.between(startDateTime, endDateTime);
â‹®----
public static long minutesBetween(LocalDateTime startDateTime, LocalDateTime endDateTime) {
return ChronoUnit.MINUTES.between(startDateTime, endDateTime);
â‹®----
public static boolean isToday(LocalDate date) {
return date != null && date.equals(today());
â‹®----
public static boolean isThisWeek(LocalDate date) {
â‹®----
LocalDate today = today();
LocalDate weekStart = today.with(DayOfWeek.MONDAY);
LocalDate weekEnd = today.with(DayOfWeek.SUNDAY);
â‹®----
return !date.isBefore(weekStart) && !date.isAfter(weekEnd);
â‹®----
public static boolean isThisMonth(LocalDate date) {
â‹®----
return date.getYear() == today.getYear() && date.getMonth() == today.getMonth();
â‹®----
public static int calculateAge(LocalDate birthDate) {
â‹®----
return Period.between(birthDate, today()).getYears();
â‹®----
public static String getTimeAgoText(LocalDateTime dateTime) {
â‹®----
LocalDateTime now = now();
long minutes = ChronoUnit.MINUTES.between(dateTime, now);
â‹®----
long hours = ChronoUnit.HOURS.between(dateTime, now);
â‹®----
long days = ChronoUnit.DAYS.between(dateTime, now);
â‹®----
public static LocalDateTime startOfDay(LocalDate date) {
return date != null ? date.atStartOfDay() : null;
â‹®----
public static LocalDateTime endOfDay(LocalDate date) {
return date != null ? date.atTime(23, 59, 59, 999_999_999) : null;
â‹®----
public static LocalDate getFirstDayOfMonth(LocalDate date) {
return date != null ? date.withDayOfMonth(1) : null;
â‹®----
public static LocalDate getLastDayOfMonth(LocalDate date) {
return date != null ? date.withDayOfMonth(date.lengthOfMonth()) : null;
â‹®----
public static boolean isBusinessDay(LocalDate date) {
â‹®----
DayOfWeek dayOfWeek = date.getDayOfWeek();
â‹®----
public static boolean isWeekend(LocalDate date) {
return !isBusinessDay(date);
â‹®----
public static LocalDateTime convertToKoreaTime(LocalDateTime utcDateTime) {
â‹®----
return utcDateTime.atZone(ZoneOffset.UTC)
.withZoneSameInstant(KOREA_ZONE)
.toLocalDateTime();
â‹®----
public static LocalDateTime convertToUtc(LocalDateTime koreaDateTime) {
â‹®----
return koreaDateTime.atZone(KOREA_ZONE)
.withZoneSameInstant(ZoneOffset.UTC)
â‹®----
public static boolean isValidDateRange(LocalDate startDate, LocalDate endDate) {
â‹®----
return !startDate.isAfter(endDate);
â‹®----
public static boolean isValidDateTimeRange(LocalDateTime startDateTime, LocalDateTime endDateTime) {
â‹®----
return !startDateTime.isAfter(endDateTime);
</file>

<file path="src/main/java/com/globalcarelink/common/util/SecurityUtil.java">
public final class SecurityUtil {
â‹®----
private static final String DEFAULT_KEY = "GlobalCareLink!"; // 16ì ê³ ì • í‚¤ (ê°œë°œìš©)
â‹®----
private static final Pattern SQL_INJECTION_PATTERN = Pattern.compile(
â‹®----
public static String encryptSensitiveData(String plainText) {
â‹®----
SecretKeySpec secretKey = new SecretKeySpec(DEFAULT_KEY.getBytes(StandardCharsets.UTF_8), ALGORITHM);
Cipher cipher = Cipher.getInstance(TRANSFORMATION);
cipher.init(Cipher.ENCRYPT_MODE, secretKey);
â‹®----
byte[] encryptedBytes = cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));
return Base64.getEncoder().encodeToString(encryptedBytes);
â‹®----
log.error("ë°ì´í„° ì•”í˜¸í™” ì‹¤íŒ¨: {}", e.getMessage());
return plainText; // ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë°˜í™˜ (ê°œë°œìš©)
â‹®----
public static String decryptSensitiveData(String encryptedText) {
â‹®----
cipher.init(Cipher.DECRYPT_MODE, secretKey);
â‹®----
byte[] decryptedBytes = cipher.doFinal(Base64.getDecoder().decode(encryptedText));
return new String(decryptedBytes, StandardCharsets.UTF_8);
â‹®----
log.error("ë°ì´í„° ë³µí˜¸í™” ì‹¤íŒ¨: {}", e.getMessage());
return encryptedText; // ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë°˜í™˜
â‹®----
public static String maskEmail(String email) {
if (email == null || !email.contains("@")) return email;
â‹®----
String[] parts = email.split("@");
â‹®----
if (username.length() <= 2) return email;
â‹®----
String maskedUsername = username.charAt(0) + "*".repeat(username.length() - 2) + username.charAt(username.length() - 1);
â‹®----
public static String maskPhoneNumber(String phoneNumber) {
if (phoneNumber == null || phoneNumber.length() < 8) return phoneNumber;
â‹®----
return phoneNumber.substring(0, 3) + "-****-" + phoneNumber.substring(phoneNumber.length() - 4);
â‹®----
public static String generateSecureToken() {
SecureRandom random = new SecureRandom();
â‹®----
random.nextBytes(bytes);
return Base64.getUrlEncoder().withoutPadding().encodeToString(bytes);
â‹®----
public static String generateSecurePassword(int length) {
â‹®----
StringBuilder password = new StringBuilder();
â‹®----
// ê° ì¹´í…Œê³ ë¦¬ì—ì„œ ìµœì†Œ 1ê°œì”© í¬í•¨
password.append(upperCase.charAt(random.nextInt(upperCase.length())));
password.append(lowerCase.charAt(random.nextInt(lowerCase.length())));
password.append(digits.charAt(random.nextInt(digits.length())));
password.append(specialChars.charAt(random.nextInt(specialChars.length())));
â‹®----
// ë‚˜ë¨¸ì§€ ê¸¸ì´ë§Œí¼ ëœë¤ ìƒì„±
â‹®----
password.append(allChars.charAt(random.nextInt(allChars.length())));
â‹®----
// ë¬¸ìì—´ ì„ê¸°
return shuffleString(password.toString());
â‹®----
public static boolean containsSqlInjection(String input) {
â‹®----
return SQL_INJECTION_PATTERN.matcher(input).find();
â‹®----
public static String sanitizeForSql(String input) {
â‹®----
return input.replaceAll("'", "''")
.replaceAll("\"", "\\\"")
.replaceAll(";", "")
.replaceAll("--", "")
.replaceAll("/\\*", "")
.replaceAll("\\*/", "");
â‹®----
public static boolean isSecurePassword(String password) {
if (password == null || password.length() < 8 || password.length() > 128) {
â‹®----
boolean hasUpper = password.chars().anyMatch(Character::isUpperCase);
boolean hasLower = password.chars().anyMatch(Character::isLowerCase);
boolean hasDigit = password.chars().anyMatch(Character::isDigit);
boolean hasSpecial = password.chars().anyMatch(ch -> "@$!%*?&".indexOf(ch) >= 0);
â‹®----
public static SecretKey generateAESKey() throws NoSuchAlgorithmException {
KeyGenerator keyGenerator = KeyGenerator.getInstance(ALGORITHM);
keyGenerator.init(256);
return keyGenerator.generateKey();
â‹®----
private static String shuffleString(String input) {
char[] characters = input.toCharArray();
â‹®----
int j = random.nextInt(i + 1);
â‹®----
return new String(characters);
</file>

<file path="src/main/java/com/globalcarelink/common/util/ValidationUtil.java">
public final class ValidationUtil {
â‹®----
private static final Pattern EMAIL_PATTERN = Pattern.compile(
â‹®----
private static final Pattern PHONE_PATTERN = Pattern.compile(
â‹®----
private static final Pattern PASSWORD_PATTERN = Pattern.compile(
â‹®----
private static final Pattern KOREAN_NAME_PATTERN = Pattern.compile(
â‹®----
public static boolean isValidEmail(String email) {
return email != null && EMAIL_PATTERN.matcher(email).matches();
â‹®----
public static boolean isValidPhoneNumber(String phoneNumber) {
if (phoneNumber == null) return true; // Optional field
return PHONE_PATTERN.matcher(phoneNumber).matches();
â‹®----
public static boolean isValidPassword(String password) {
return password != null && PASSWORD_PATTERN.matcher(password).matches();
â‹®----
public static boolean isValidKoreanName(String name) {
return name != null && KOREAN_NAME_PATTERN.matcher(name).matches();
â‹®----
public static boolean isValidRegion(String region) {
if (region == null || region.trim().isEmpty()) return true; // Optional field
return region.length() >= 2 && region.length() <= 100;
â‹®----
public static boolean isValidLanguageCode(String language) {
if (language == null || language.trim().isEmpty()) return true; // Optional field
return language.matches("^[a-z]{2}(-[A-Z]{2})?$"); // ko, en, zh-CN ë“±
â‹®----
public static String getPasswordValidationMessage() {
â‹®----
public static String getPhoneValidationMessage() {
â‹®----
public static String getEmailValidationMessage() {
â‹®----
public static String sanitizeInput(String input) {
â‹®----
return input.trim()
.replaceAll("<script[^>]*>.*?</script>", "")
.replaceAll("<[^>]+>", "")
.replaceAll("[\\r\\n]+", " ");
â‹®----
public static boolean containsSuspiciousPattern(String input) {
â‹®----
String lowerInput = input.toLowerCase();
return lowerInput.contains("<script") ||
lowerInput.contains("javascript:") ||
lowerInput.contains("onload=") ||
lowerInput.contains("onerror=") ||
lowerInput.contains("eval(") ||
lowerInput.contains("document.cookie");
</file>

<file path="src/main/java/com/globalcarelink/common/HealthController.java">
public class HealthController {
â‹®----
public ResponseEntity<Map<String, Object>> health() {
â‹®----
response.put("status", "UP");
response.put("message", "GlobalCareLink ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤");
response.put("timestamp", LocalDateTime.now());
response.put("version", "0.0.1-SNAPSHOT");
â‹®----
return ResponseEntity.ok(response);
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorLanguageSkill.java">
import lombok.*;
â‹®----
/**
 * ì½”ë””ë„¤ì´í„° ì–¸ì–´ ëŠ¥ë ¥ ì—”í‹°í‹°
 * ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ë‹¤êµ­ì–´ ì§€ì› ëŠ¥ë ¥ ê´€ë¦¬
 */
â‹®----
public class CoordinatorLanguageSkill extends BaseEntity {
â‹®----
/**
     * ì–¸ì–´ ì½”ë“œ (ISO 639-1)
     * KO: í•œêµ­ì–´, EN: ì˜ì–´, ZH: ì¤‘êµ­ì–´, JP: ì¼ë³¸ì–´, ES: ìŠ¤í˜ì¸ì–´, 
     * VI: ë² íŠ¸ë‚¨ì–´, TH: íƒœêµ­ì–´, RU: ëŸ¬ì‹œì•„ì–´
     */
â‹®----
/**
     * ì–¸ì–´ëª… (ì‚¬ìš©ì í‘œì‹œìš©)
     */
â‹®----
/**
     * ì–¸ì–´ ìˆ˜ì¤€ (CEFR ê¸°ì¤€ + ëª¨êµ­ì–´)
     * NATIVE: ëª¨êµ­ì–´ ìˆ˜ì¤€
     * FLUENT: ìœ ì°½í•¨ (C1-C2)
     * BUSINESS: ì—…ë¬´ ê°€ëŠ¥ (B2)
     * CONVERSATIONAL: ì¼ìƒ ëŒ€í™” (B1)
     * BASIC: ê¸°ì´ˆ ìˆ˜ì¤€ (A1-A2)
     */
â‹®----
/**
     * ìê²©ì¦/ì¸ì¦ ì •ë³´
     */
â‹®----
private String certification; // "TOEIC 950", "HSK 6ê¸‰", "JLPT N1" ë“±
â‹®----
/**
     * ì „ë¬¸ ë¶„ì•¼ (í•´ë‹¹ ì–¸ì–´ë¡œ ìƒë‹´ ê°€ëŠ¥í•œ ë¶„ì•¼)
     */
â‹®----
private String specialization; // "ì˜ë£Œìƒë‹´", "ë²•ë¬´ìƒë‹´", "ë¶€ë™ì‚°" ë“±
â‹®----
/**
     * êµ­ê°€/ì§€ì—­ ê²½í—˜ (í•´ë‹¹ ì–¸ì–´ê¶Œ ê±°ì£¼/ê·¼ë¬´ ê²½í—˜)
     */
â‹®----
private String countryExperience; // "ë¯¸êµ­ 5ë…„ ê±°ì£¼", "ì¤‘êµ­ í˜„ì§€ ê·¼ë¬´ 3ë…„" ë“±
â‹®----
/**
     * ì–¸ì–´ë³„ ì„œë¹„ìŠ¤ ìš”ê¸ˆ (ì¶”ê°€ ìš”ê¸ˆ)
     */
â‹®----
private Double serviceFeeRate; // ê¸°ë³¸ ìš”ê¸ˆ ëŒ€ë¹„ ë°°ìœ¨ (1.0=ë™ì¼, 1.5=50%í• ì¦)
â‹®----
/**
     * í™œì„± ìƒíƒœ
     */
â‹®----
/**
     * ìš°ì„ ìˆœìœ„ (ê°™ì€ ì–¸ì–´ ë‚´ì—ì„œì˜ ìš°ì„ ìˆœìœ„)
     */
â‹®----
// ===== ë¹„ì¦ˆë‹ˆìŠ¤ ë©”ì„œë“œ =====
â‹®----
/**
     * ì—…ë¬´ ìˆ˜ì¤€ ì´ìƒ ì—¬ë¶€
     */
public boolean isBusinessLevelOrAbove() {
â‹®----
/**
     * ì „ë¬¸ ìƒë‹´ ê°€ëŠ¥ ì—¬ë¶€
     */
public boolean canProvideProfessionalConsultation() {
â‹®----
/**
     * í•´ë‹¹ êµ­ê°€ ê²½í—˜ ì—¬ë¶€
     */
public boolean hasCountryExperience() {
return countryExperience != null && !countryExperience.trim().isEmpty();
â‹®----
/**
     * ìê²©ì¦ ë³´ìœ  ì—¬ë¶€
     */
public boolean hasCertification() {
return certification != null && !certification.trim().isEmpty();
â‹®----
/**
     * ì–¸ì–´ë³„ ë§¤ì¹­ ì ìˆ˜ ê³„ì‚° (5ì  ë§Œì )
     */
public double calculateMatchingScore() {
â‹®----
// ìê²©ì¦ ë³´ìœ  ì‹œ ê°€ì‚°ì 
if (hasCertification()) {
â‹®----
// í˜„ì§€ ê²½í—˜ ê°€ì‚°ì 
if (hasCountryExperience()) {
â‹®----
// ì „ë¬¸ ë¶„ì•¼ ê°€ì‚°ì 
if (specialization != null && !specialization.trim().isEmpty()) {
â‹®----
return Math.min(baseScore, 5.0);
â‹®----
/**
     * ì–¸ì–´ ëŠ¥ë ¥ í‘œì‹œ ë¬¸ìì—´
     */
public String getDisplayText() {
StringBuilder display = new StringBuilder();
display.append(languageName).append(" (").append(getProficiencyDisplayName()).append(")");
â‹®----
display.append(" - ").append(certification);
â‹®----
display.append(" [").append(countryExperience).append("]");
â‹®----
return display.toString();
â‹®----
/**
     * ìˆ˜ì¤€ë³„ í•œê¸€ í‘œì‹œëª…
     */
public String getProficiencyDisplayName() {
â‹®----
/**
     * ì¬ì™¸ë™í¬ êµ­ê°€ë³„ ì–¸ì–´ ë§¤ì¹­
     */
public boolean matchesCountry(String countryCode) {
return switch (languageCode.toUpperCase()) {
case "EN" -> countryCode.matches("US|CA|AU|NZ|GB"); // ì˜ì–´ê¶Œ
case "ZH" -> countryCode.matches("CN|TW|SG|MY");    // ì¤‘í™”ê¶Œ
case "JP" -> countryCode.equals("JP");              // ì¼ë³¸
case "ES" -> countryCode.matches("ES|MX|AR|CL|PE"); // ìŠ¤í˜ì¸ì–´ê¶Œ
case "VI" -> countryCode.equals("VN");              // ë² íŠ¸ë‚¨
case "TH" -> countryCode.equals("TH");              // íƒœêµ­
case "RU" -> countryCode.matches("RU|KZ|UZ");       // ëŸ¬ì‹œì•„ì–´ê¶Œ
â‹®----
/**
     * ì–¸ì–´ ìˆ˜ì¤€ enum
     */
â‹®----
public String getDescription() {
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorLanguageSkillRepository.java">
/**
 * ì½”ë””ë„¤ì´í„° ì–¸ì–´ ëŠ¥ë ¥ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
 */
â‹®----
public interface CoordinatorLanguageSkillRepository extends JpaRepository<CoordinatorLanguageSkill, Long> {
â‹®----
/**
     * ì½”ë””ë„¤ì´í„°ë³„ ì–¸ì–´ ëŠ¥ë ¥ ì¡°íšŒ
     */
List<CoordinatorLanguageSkill> findByCoordinatorIdAndIsActiveTrueOrderByPriorityOrder(String coordinatorId);
â‹®----
/**
     * íŠ¹ì • ì–¸ì–´ ì½”ë“œë¡œ ì¡°íšŒ
     */
List<CoordinatorLanguageSkill> findByLanguageCodeAndIsActiveTrue(String languageCode);
â‹®----
/**
     * íŠ¹ì • ì½”ë””ë„¤ì´í„°ì˜ íŠ¹ì • ì–¸ì–´ ëŠ¥ë ¥ ì¡°íšŒ
     */
Optional<CoordinatorLanguageSkill> findByCoordinatorIdAndLanguageCodeAndIsActiveTrue(String coordinatorId, String languageCode);
â‹®----
/**
     * ëª¨ë“  í™œì„± ì–¸ì–´ ëŠ¥ë ¥ ì¡°íšŒ (ìš°ì„ ìˆœìœ„ ì •ë ¬)
     */
List<CoordinatorLanguageSkill> findByIsActiveTrueOrderByPriorityOrder();
â‹®----
/**
     * ì—…ë¬´ ìˆ˜ì¤€ ì´ìƒ ì–¸ì–´ ëŠ¥ë ¥ì ì¡°íšŒ
     */
â‹®----
List<CoordinatorLanguageSkill> findBusinessLevelLanguageSkills();
â‹®----
/**
     * íŠ¹ì • ìˆ˜ì¤€ ì´ìƒ ì–¸ì–´ ëŠ¥ë ¥ì ì¡°íšŒ
     */
List<CoordinatorLanguageSkill> findByProficiencyLevelInAndIsActiveTrueOrderByPriorityOrder(List<CoordinatorLanguageSkill.LanguageProficiency> proficiencyLevels);
â‹®----
/**
     * ìê²©ì¦ ë³´ìœ ì ì¡°íšŒ
     */
â‹®----
List<CoordinatorLanguageSkill> findByCertificationNotNullAndIsActiveTrueOrderByPriorityOrder();
â‹®----
/**
     * í˜„ì§€ ê²½í—˜ ë³´ìœ ì ì¡°íšŒ
     */
â‹®----
List<CoordinatorLanguageSkill> findByCountryExperienceNotNullAndIsActiveTrueOrderByPriorityOrder();
â‹®----
/**
     * ì–¸ì–´ë³„ ì½”ë””ë„¤ì´í„° ìˆ˜ í†µê³„
     */
â‹®----
List<LanguageStatistics> findLanguageDistributionStatistics();
â‹®----
/**
     * ì½”ë””ë„¤ì´í„°ë³„ ì–¸ì–´ ìˆ˜ í†µê³„
     */
â‹®----
List<CoordinatorLanguageCount> findCoordinatorLanguageCountStatistics();
â‹®----
/**
     * íŠ¹ì • êµ­ê°€ì—ì„œ ê²½í—˜ì´ ìˆëŠ” ì½”ë””ë„¤ì´í„° ì¡°íšŒ
     */
â‹®----
List<CoordinatorLanguageSkill> findByCountryExperienceContaining(@Param("countryName") String countryName);
â‹®----
/**
     * ë‹¤êµ­ì–´ ì§€ì› ì½”ë””ë„¤ì´í„° (2ê°œ ì–¸ì–´ ì´ìƒ)
     */
â‹®----
List<String> findMultilingualCoordinatorIds();
â‹®----
/**
     * ì–¸ì–´ë³„ í‰ê·  ë§¤ì¹­ ì ìˆ˜
     */
â‹®----
List<LanguageAverageScore> findLanguageAverageScores();
â‹®----
// ===== DTO ì¸í„°í˜ì´ìŠ¤ë“¤ =====
â‹®----
interface LanguageStatistics {
String getLanguageCode();
String getLanguageName();
Long getCoordinatorCount();
â‹®----
interface CoordinatorLanguageCount {
String getCoordinatorId();
Long getLanguageCount();
â‹®----
interface LanguageAverageScore {
â‹®----
Double getAvgScore();
</file>

<file path="src/main/java/com/globalcarelink/coordinator/LanguageMatchingService.java">
/**
 * ì–¸ì–´ ê¸°ë°˜ ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì„œë¹„ìŠ¤
 * ì¬ì™¸ë™í¬ì˜ ì–¸ì–´ ì„ í˜¸ë„ì™€ ì½”ë””ë„¤ì´í„° ì–¸ì–´ ëŠ¥ë ¥ì„ ë§¤ì¹­
 */
â‹®----
public class LanguageMatchingService {
â‹®----
/**
     * ì–¸ì–´ ê¸°ë°˜ ì½”ë””ë„¤ì´í„° ì¶”ì²œ
     */
public List<CoordinatorLanguageMatch> findLanguageCompatibleCoordinators(
â‹®----
log.debug("ì–¸ì–´ ê¸°ë°˜ ì½”ë””ë„¤ì´í„° ê²€ìƒ‰ - ì–¸ì–´: {}, êµ­ê°€: {}, ì „ë¬¸ìƒë‹´: {}",
â‹®----
// 1. í•´ë‹¹ ì–¸ì–´ ê°€ëŠ¥ ì½”ë””ë„¤ì´í„° ì¡°íšŒ
â‹®----
languageSkillRepository.findByLanguageCodeAndIsActiveTrue(preferredLanguage.toUpperCase());
â‹®----
// 2. ì „ë¬¸ ìƒë‹´ í•„ìš” ì‹œ ìˆ˜ì¤€ í•„í„°ë§
â‹®----
languageSkills = languageSkills.stream()
.filter(CoordinatorLanguageSkill::canProvideProfessionalConsultation)
.collect(Collectors.toList());
â‹®----
// 3. êµ­ê°€ ê²½í—˜ ê°€ì‚°ì  ì ìš©
List<CoordinatorLanguageMatch> matches = languageSkills.stream()
.map(skill -> createLanguageMatch(skill, countryCode))
.sorted(Comparator.comparing(CoordinatorLanguageMatch::getMatchScore).reversed())
â‹®----
log.info("ì–¸ì–´ ë§¤ì¹­ ì™„ë£Œ - ì–¸ì–´: {}, ë§¤ì¹­ëœ ì½”ë””ë„¤ì´í„°: {}ëª…", preferredLanguage, matches.size());
â‹®----
/**
     * ë‹¤êµ­ì–´ ì§€ì› ì½”ë””ë„¤ì´í„° ì¡°íšŒ
     */
public List<CoordinatorMultilingualProfile> findMultilingualCoordinators() {
// ì–¸ì–´ë³„ ê·¸ë£¹í•‘
â‹®----
languageSkillRepository.findByIsActiveTrueOrderByPriorityOrder().stream()
.collect(Collectors.groupingBy(CoordinatorLanguageSkill::getCoordinatorId));
â‹®----
return skillsByCoordinator.entrySet().stream()
.map(entry -> {
String coordinatorId = entry.getKey();
List<CoordinatorLanguageSkill> skills = entry.getValue();
â‹®----
return CoordinatorMultilingualProfile.builder()
.coordinatorId(coordinatorId)
.languageSkills(skills)
.totalLanguages(skills.size())
.averageScore(calculateAverageLanguageScore(skills))
.hasNativeLanguages(hasNativeLanguages(skills))
.supportedCountries(getSupportedCountries(skills))
.build();
â‹®----
.sorted(Comparator.comparing(CoordinatorMultilingualProfile::getAverageScore).reversed())
â‹®----
/**
     * íŠ¹ì • êµ­ê°€ì˜ ì¬ì™¸ë™í¬ë¥¼ ìœ„í•œ ìµœì  ì½”ë””ë„¤ì´í„° ì¶”ì²œ
     */
public List<CoordinatorLanguageMatch> findOptimalCoordinatorForOverseasKorean(
â‹®----
// 1. ì£¼ ì–¸ì–´ ë§¤ì¹­
â‹®----
allMatches.addAll(findLanguageCompatibleCoordinators(preferredLanguage, countryCode, true));
â‹®----
// 2. ì¶”ê°€ ì–¸ì–´ ë§¤ì¹­ (ë‚®ì€ ìš°ì„ ìˆœìœ„)
if (additionalLanguages != null && !additionalLanguages.isEmpty()) {
â‹®----
findLanguageCompatibleCoordinators(additionalLang, countryCode, false);
â‹®----
// ì¶”ê°€ ì–¸ì–´ëŠ” ë§¤ì¹­ ì ìˆ˜ ê°€ì¤‘ì¹˜ ì ìš©
additionalMatches.forEach(match ->
match.setMatchScore(match.getMatchScore() * 0.7));
â‹®----
allMatches.addAll(additionalMatches);
â‹®----
// 3. ì¤‘ë³µ ì œê±° ë° ì •ë ¬
return allMatches.stream()
.collect(Collectors.groupingBy(match -> match.getLanguageSkill().getCoordinatorId()))
.values().stream()
.map(matches -> matches.stream().max(Comparator.comparing(CoordinatorLanguageMatch::getMatchScore)).orElse(null))
.filter(match -> match != null)
â‹®----
.limit(10)
â‹®----
/**
     * ì–¸ì–´ë³„ ì„œë¹„ìŠ¤ ìš”ê¸ˆ ê³„ì‚°
     */
public ServiceFeeCalculation calculateLanguageServiceFee(
â‹®----
.findByCoordinatorIdAndLanguageCodeAndIsActiveTrue(coordinatorId, languageCode)
.orElse(null);
â‹®----
if (skill == null || skill.getServiceFeeRate() == null) {
return ServiceFeeCalculation.builder()
.baseFee(baseFee)
.languageFee(baseFee)
.feeRate(1.0)
.additionalFee(0.0)
.hasLanguagePremium(false)
â‹®----
double languageFee = baseFee * skill.getServiceFeeRate();
â‹®----
.languageFee(languageFee)
.feeRate(skill.getServiceFeeRate())
.additionalFee(additionalFee)
.hasLanguagePremium(skill.getServiceFeeRate() > 1.0)
.languageName(skill.getLanguageName())
.proficiencyLevel(skill.getProficiencyLevel().name())
â‹®----
/**
     * ì½”ë””ë„¤ì´í„°ë³„ ì§€ì› ê°€ëŠ¥ ì–¸ì–´ í†µê³„
     */
public Map<String, Long> getLanguageDistributionStatistics() {
return languageSkillRepository.findByIsActiveTrueOrderByPriorityOrder().stream()
.collect(Collectors.groupingBy(
â‹®----
Collectors.counting()
â‹®----
/**
     * ë¶€ì¡±í•œ ì–¸ì–´ ë¶„ì„ (ìˆ˜ìš” ëŒ€ë¹„ ê³µê¸‰ ë¶€ì¡±)
     */
public List<LanguageGapAnalysis> analyzeLanguageGaps() {
Map<String, Long> currentSupply = getLanguageDistributionStatistics();
â‹®----
// ì¬ì™¸ë™í¬ ì£¼ìš” ê±°ì£¼êµ­ ê¸°ë°˜ ìˆ˜ìš” ì¶”ì •
Map<String, Long> estimatedDemand = Map.of(
"EN", 50L, // ì˜ì–´ê¶Œ ì¬ì™¸ë™í¬ ë‹¤ìˆ˜
"ZH", 40L, // ì¤‘êµ­ ê±°ì£¼ ì¬ì™¸ë™í¬
"JP", 30L, // ì¼ë³¸ ê±°ì£¼ ì¬ì™¸ë™í¬
"ES", 15L, // ë‚¨ë¯¸ ì¬ì™¸ë™í¬
"RU", 10L, // êµ¬ì†Œë ¨ ì¬ì™¸ë™í¬
"VI", 8L,  // ë² íŠ¸ë‚¨ ì§„ì¶œ ì¦ê°€
"TH", 5L   // ë™ë‚¨ì•„ ì§„ì¶œ
â‹®----
return estimatedDemand.entrySet().stream()
â‹®----
String langCode = entry.getKey();
Long demand = entry.getValue();
Long supply = currentSupply.getOrDefault(langCode, 0L);
â‹®----
return LanguageGapAnalysis.builder()
.languageCode(langCode)
.languageName(getLanguageName(langCode))
.estimatedDemand(demand)
.currentSupply(supply)
.gap(demand - supply)
.supplyRatio((double) supply / demand)
.priority(demand - supply > 0 ? "HIGH" : "ADEQUATE")
â‹®----
.sorted(Comparator.comparing(LanguageGapAnalysis::getGap).reversed())
â‹®----
// ===== ë‚´ë¶€ í—¬í¼ ë©”ì„œë“œ =====
â‹®----
private CoordinatorLanguageMatch createLanguageMatch(CoordinatorLanguageSkill skill, String countryCode) {
double matchScore = skill.calculateMatchingScore();
â‹®----
// êµ­ê°€ ë§¤ì¹­ ë³´ë„ˆìŠ¤
if (skill.matchesCountry(countryCode)) {
â‹®----
// í˜„ì§€ ê²½í—˜ ì¶”ê°€ ë³´ë„ˆìŠ¤
if (skill.hasCountryExperience() &&
skill.getCountryExperience().toLowerCase().contains(getCountryName(countryCode).toLowerCase())) {
â‹®----
return CoordinatorLanguageMatch.builder()
.languageSkill(skill)
.matchScore(Math.min(matchScore, 5.0))
.matchReason(generateMatchReason(skill, countryCode, matchScore))
â‹®----
private double calculateAverageLanguageScore(List<CoordinatorLanguageSkill> skills) {
return skills.stream()
.mapToDouble(CoordinatorLanguageSkill::calculateMatchingScore)
.average()
.orElse(0.0);
â‹®----
private boolean hasNativeLanguages(List<CoordinatorLanguageSkill> skills) {
â‹®----
.anyMatch(skill -> skill.getProficiencyLevel() == CoordinatorLanguageSkill.LanguageProficiency.NATIVE);
â‹®----
private List<String> getSupportedCountries(List<CoordinatorLanguageSkill> skills) {
â‹®----
.filter(skill -> skill.getCountryExperience() != null)
.map(CoordinatorLanguageSkill::getCountryExperience)
â‹®----
private String generateMatchReason(CoordinatorLanguageSkill skill, String countryCode, double matchScore) {
StringBuilder reason = new StringBuilder();
â‹®----
reason.append("ğŸ—£ï¸ ").append(skill.getLanguageName())
.append(" (").append(skill.getProficiencyDisplayName()).append(")");
â‹®----
if (skill.hasCertification()) {
reason.append(" âœ“ ").append(skill.getCertification());
â‹®----
reason.append(" ğŸŒ ").append(getCountryName(countryCode)).append(" ì „ë¬¸");
â‹®----
if (skill.hasCountryExperience()) {
reason.append(" ğŸ“ í˜„ì§€ê²½í—˜: ").append(skill.getCountryExperience());
â‹®----
reason.append(" (ë§¤ì¹­ë„: ").append(String.format("%.1f", matchScore)).append("/5.0)");
â‹®----
return reason.toString();
â‹®----
private String getCountryName(String countryCode) {
return switch (countryCode.toUpperCase()) {
â‹®----
private String getLanguageName(String langCode) {
return switch (langCode.toUpperCase()) {
â‹®----
// ===== DTO í´ë˜ìŠ¤ë“¤ =====
â‹®----
public static class CoordinatorLanguageMatch {
â‹®----
public static class CoordinatorMultilingualProfile {
â‹®----
public static class ServiceFeeCalculation {
â‹®----
public static class LanguageGapAnalysis {
</file>

<file path="src/main/java/com/globalcarelink/health/dto/HealthAssessmentCreateRequest.java">
/**
 * ê±´ê°• í‰ê°€ ìƒì„± ìš”ì²­ DTO
 */
â‹®----
public class HealthAssessmentCreateRequest {
â‹®----
// === ADL í‰ê°€ (í•„ìˆ˜) ===
â‹®----
// === ì¶”ê°€ í‰ê°€ í•­ëª© ===
â‹®----
// === ì¶”ê°€ ì •ë³´ ===
â‹®----
private String notes; // íŠ¹ì´ì‚¬í•­
â‹®----
private String assessorName; // í‰ê°€ì ì´ë¦„
â‹®----
private String assessorRelation; // í‰ê°€ìì™€ì˜ ê´€ê³„ (ë³¸ì¸, ê°€ì¡±, ê°„ë³‘ì¸ ë“±)
</file>

<file path="src/main/java/com/globalcarelink/health/dto/HealthAssessmentStatistics.java">
/**
 * ê±´ê°• í‰ê°€ í†µê³„ ì‘ë‹µ DTO
 */
â‹®----
public class HealthAssessmentStatistics {
â‹®----
// === ê¸°ë³¸ í†µê³„ ===
â‹®----
/**
     * ì „ì²´ í‰ê°€ ìˆ˜
     */
â‹®----
/**
     * ì™„ì„±ëœ í‰ê°€ ìˆ˜ (4ê°œ ADL ì˜ì—­ ëª¨ë‘ ì‘ì„±)
     */
â‹®----
/**
     * ìµœê·¼ 30ì¼ í‰ê°€ ìˆ˜
     */
â‹®----
/**
     * ì™„ì„±ë„ ë¹„ìœ¨ (%)
     */
public double getCompletionRate() {
â‹®----
// === ì¼€ì–´ ë“±ê¸‰ë³„ ë¶„í¬ ===
â‹®----
/**
     * ì¼€ì–´ ë“±ê¸‰ë³„ í†µê³„
     * [{"grade": "1", "count": 150}, {"grade": "2", "count": 200}, ...]
     */
â‹®----
/**
     * ADL ì ìˆ˜ êµ¬ê°„ë³„ ë¶„í¬
     * [{"score_range": "ê²½ì¦(100-140)", "count": 80}, ...]
     */
â‹®----
/**
     * ì—°ë ¹ëŒ€ë³„ ì¼€ì–´ ë“±ê¸‰ ë¶„í¬
     * [{"age_group": "70ëŒ€", "ltci_grade": "3", "count": 45}, ...]
     */
â‹®----
/**
     * ì„±ë³„ ì¼€ì–´ íŒ¨í„´ ë¶„ì„
     * [{"gender": "M", "ltci_grade": "2", "avg_adl_score": 180.5, "count": 30}, ...]
     */
â‹®----
// === íŠ¹í™” ì¼€ì–´ í†µê³„ ===
â‹®----
/**
     * í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ ëŒ€ìƒì ìˆ˜
     */
â‹®----
/**
     * ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´ ëŒ€ìƒì ìˆ˜
     */
â‹®----
/**
     * ì¤‘ì¦ í™˜ì ìˆ˜
     */
â‹®----
/**
     * ì¬ì™¸ë™í¬ í‰ê°€ ìˆ˜
     */
â‹®----
// === ì¶”ê°€ ë¶„ì„ ë°ì´í„° ===
â‹®----
/**
     * í‰ê·  ADL ì ìˆ˜
     */
â‹®----
/**
     * ê°€ì¥ ë§ì€ ì¼€ì–´ ë“±ê¸‰
     */
â‹®----
/**
     * í‰ê°€ íŠ¸ë Œë“œ (ì›”ë³„)
     */
â‹®----
// === ë‚´ë¶€ DTO í´ë˜ìŠ¤ë“¤ ===
â‹®----
public static class MonthlyTrend {
private String month; // "2024-01"
â‹®----
public static class CareGradeStatistics {
â‹®----
public static class DiseaseTypeStatistics {
â‹®----
// === í¸ì˜ ë©”ì„œë“œ ===
â‹®----
/**
     * ì¼€ì–´ ë“±ê¸‰ë³„ í†µê³„ë¥¼ êµ¬ì¡°í™”ëœ ê°ì²´ë¡œ ë³€í™˜
     */
public List<CareGradeStatistics> getCareGradeStatisticsStructured() {
if (careGradeDistribution == null) return List.of();
â‹®----
return careGradeDistribution.stream()
.map(map -> CareGradeStatistics.builder()
.gradeLevel(String.valueOf(map.get("grade")))
.count((Long) map.get("count"))
.percentage(calculatePercentage((Long) map.get("count"), totalAssessments))
.build())
.toList();
â‹®----
/**
     * ìµœê³  ë¹ˆë„ ì¼€ì–´ ë“±ê¸‰ ì¡°íšŒ
     */
public String getMostFrequentCareGrade() {
if (careGradeDistribution == null || careGradeDistribution.isEmpty()) {
â‹®----
.max((a, b) -> Long.compare((Long) a.get("count"), (Long) b.get("count")))
.map(map -> String.valueOf(map.get("grade")))
.orElse("ë°ì´í„° ì—†ìŒ");
â‹®----
/**
     * ê±´ê°•í•œ ì‚¬ìš©ì ë¹„ìœ¨ (ADL ì ìˆ˜ 140ì  ì´í•˜)
     */
public double getHealthyUserRatio() {
â‹®----
long healthyCount = adlScoreDistribution.stream()
.filter(map -> {
String range = String.valueOf(map.get("score_range"));
return range.contains("ê²½ì¦(100-140)");
â‹®----
.mapToLong(map -> (Long) map.get("count"))
.sum();
â‹®----
/**
     * ê³ ìœ„í—˜êµ° ë¹„ìœ¨ (ADL ì ìˆ˜ 220ì  ì´ìƒ)
     */
public double getHighRiskRatio() {
â‹®----
long highRiskCount = adlScoreDistribution.stream()
â‹®----
return range.contains("ìµœì¤‘ì¦(221-300)");
â‹®----
// === ë‚´ë¶€ í—¬í¼ ë©”ì„œë“œ ===
â‹®----
private double calculatePercentage(Long count, Long total) {
</file>

<file path="src/main/java/com/globalcarelink/health/dto/HealthAssessmentUpdateRequest.java">
/**
 * ê±´ê°• í‰ê°€ ìˆ˜ì • ìš”ì²­ DTO
 * ëª¨ë“  í•„ë“œëŠ” ì„ íƒì‚¬í•­ (nullì´ë©´ ê¸°ì¡´ ê°’ ìœ ì§€)
 */
â‹®----
public class HealthAssessmentUpdateRequest {
â‹®----
// === ADL í‰ê°€ ===
â‹®----
// === ì¶”ê°€ í‰ê°€ í•­ëª© ===
â‹®----
// === ì¶”ê°€ ì •ë³´ ===
â‹®----
private String notes; // íŠ¹ì´ì‚¬í•­
â‹®----
private String updateReason; // ìˆ˜ì • ì‚¬ìœ 
</file>

<file path="src/main/java/com/globalcarelink/health/HealthAssessmentController.java">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ API ì»¨íŠ¸ë¡¤ëŸ¬
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ
 */
â‹®----
public class HealthAssessmentController {
â‹®----
public ResponseEntity<HealthAssessment> createAssessment(
â‹®----
log.info("ê±´ê°• í‰ê°€ ìƒì„± ìš”ì²­ - íšŒì›: {}", request.getMemberId());
â‹®----
HealthAssessment assessment = healthAssessmentService.createAssessment(request);
â‹®----
return ResponseEntity.status(HttpStatus.CREATED).body(assessment);
â‹®----
public ResponseEntity<HealthAssessment> getLatestAssessment(
â‹®----
Optional<HealthAssessment> assessment = healthAssessmentService.getLatestAssessmentByMemberId(memberId);
â‹®----
.map(ResponseEntity::ok)
.orElse(ResponseEntity.notFound().build());
â‹®----
public ResponseEntity<List<HealthAssessment>> getAssessmentHistory(
â‹®----
List<HealthAssessment> assessments = healthAssessmentService.getAssessmentHistoryByMemberId(memberId);
â‹®----
return ResponseEntity.ok(assessments);
â‹®----
public ResponseEntity<Page<HealthAssessment>> getAssessmentsByMemberId(
â‹®----
Pageable pageable = PageRequest.of(page, size);
Page<HealthAssessment> assessments = healthAssessmentService.getAssessmentsByMemberId(memberId, pageable);
â‹®----
public ResponseEntity<HealthAssessment> updateAssessment(
â‹®----
log.info("ê±´ê°• í‰ê°€ ìˆ˜ì • ìš”ì²­ - ID: {}", assessmentId);
â‹®----
HealthAssessment updated = healthAssessmentService.updateAssessment(assessmentId, request);
â‹®----
return ResponseEntity.ok(updated);
â‹®----
public ResponseEntity<CareGradeCalculator.CareGradeResult> calculateCareGrade(
â‹®----
// í‰ê°€ ì¡°íšŒ
// TODO: ì‹¤ì œë¡œëŠ” assessmentIdë¡œ ì¡°íšŒí•´ì•¼ í•¨
HealthAssessment assessment = new HealthAssessment(); // ì„ì‹œ
â‹®----
CareGradeCalculator.CareGradeResult result = healthAssessmentService.calculateCareGrade(assessment);
â‹®----
return ResponseEntity.ok(result);
â‹®----
public ResponseEntity<Void> deleteAssessment(
â‹®----
log.info("ê±´ê°• í‰ê°€ ì‚­ì œ ìš”ì²­ - ID: {}", assessmentId);
â‹®----
healthAssessmentService.deleteAssessment(assessmentId);
â‹®----
return ResponseEntity.noContent().build();
â‹®----
// ===== íŠ¹í™” ì¡°íšŒ API =====
â‹®----
public ResponseEntity<List<HealthAssessment>> getHospiceCareTargets() {
List<HealthAssessment> assessments = healthAssessmentService.getHospiceCareTargets();
â‹®----
public ResponseEntity<List<HealthAssessment>> getDementiaCareTargets() {
List<HealthAssessment> assessments = healthAssessmentService.getDementiaCareTargets();
â‹®----
public ResponseEntity<List<HealthAssessment>> getSevereCareTargets() {
List<HealthAssessment> assessments = healthAssessmentService.getSevereCareTargets();
â‹®----
public ResponseEntity<List<HealthAssessment>> getOverseasKoreanAssessments() {
List<HealthAssessment> assessments = healthAssessmentService.getOverseasKoreanAssessments();
â‹®----
public ResponseEntity<List<HealthAssessment>> getAssessmentsByCareGradeRange(
â‹®----
List<HealthAssessment> assessments = healthAssessmentService.getAssessmentsByCareGradeRange(minGrade, maxGrade);
â‹®----
// ===== í†µê³„ ë° ë¶„ì„ API =====
â‹®----
public ResponseEntity<HealthAssessmentStatistics> getStatistics() {
HealthAssessmentStatistics statistics = healthAssessmentService.getStatistics();
return ResponseEntity.ok(statistics);
â‹®----
public ResponseEntity<List<Map<String, Object>>> getMemberAssessmentTrend(
â‹®----
List<Map<String, Object>> trend = healthAssessmentService.getMemberAssessmentTrend(memberId);
return ResponseEntity.ok(trend);
â‹®----
// ===== ê°„í¸ ì¡°íšŒ API =====
â‹®----
public ResponseEntity<String> getAssessmentSummary(
â‹®----
String summary = assessment.generateAssessmentSummary();
return ResponseEntity.ok(summary);
â‹®----
public ResponseEntity<Map<String, Object>> checkAssessmentCompleteness(
â‹®----
Map<String, Object> completeness = Map.of(
"isComplete", assessment.isComplete(),
"completionPercentage", assessment.isComplete() ? 100 : 75, // ì„ì‹œ ê³„ì‚°
"missingFields", assessment.isComplete() ? List.of() : List.of("ltciGrade", "diseaseTypes"),
"careType", assessment.getSpecializedCareType(),
"estimatedCost", assessment.getEstimatedMonthlyCostRange()
â‹®----
return ResponseEntity.ok(completeness);
</file>

<file path="src/main/java/com/globalcarelink/profile/dto/DomesticProfileRequest.java">
public class DomesticProfileRequest {
</file>

<file path="src/main/java/com/globalcarelink/profile/dto/DomesticProfileResponse.java">
public class DomesticProfileResponse {
â‹®----
public static DomesticProfileResponse from(DomesticProfile profile) {
â‹®----
return DomesticProfileResponse.builder()
.id(profile.getId())
.memberId(profile.getMember().getId())
.birthDate(profile.getBirthDate())
.gender(profile.getGender())
.address(profile.getAddress())
.detailedAddress(profile.getDetailedAddress())
.postalCode(profile.getPostalCode())
.emergencyContactName(profile.getEmergencyContactName())
.emergencyContactPhone(maskPhoneNumber(profile.getEmergencyContactPhone()))
.emergencyContactRelation(profile.getEmergencyContactRelation())
.healthInsuranceNumber(maskHealthInsuranceNumber(profile.getHealthInsuranceNumber()))
.ltciGrade(profile.getLtciGrade())
.ltciCertificateNumber(profile.getLtciCertificateNumber())
.preferredRegion(profile.getPreferredRegion())
.careLevel(profile.getCareLevel())
.specialNeeds(profile.getSpecialNeeds())
.familyVisitFrequency(profile.getFamilyVisitFrequency())
.budgetRange(profile.getBudgetRange())
.profileCompletionPercentage(profile.getProfileCompletionPercentage())
.createdAt(profile.getCreatedAt())
.updatedAt(profile.getUpdatedAt())
.hasBasicInfo(profile.hasBasicInfo())
.hasEmergencyContact(profile.hasEmergencyContact())
.hasHealthInfo(profile.hasHealthInfo())
.isProfileComplete(profile.isProfileComplete())
.build();
â‹®----
private static String maskPhoneNumber(String phoneNumber) {
if (phoneNumber == null || phoneNumber.length() < 8) {
â‹®----
return phoneNumber.substring(0, 3) + "-****-" + phoneNumber.substring(phoneNumber.length() - 4);
â‹®----
private static String maskHealthInsuranceNumber(String insuranceNumber) {
if (insuranceNumber == null || insuranceNumber.length() < 8) {
â‹®----
return insuranceNumber.substring(0, 6) + "****" + insuranceNumber.substring(insuranceNumber.length() - 3);
</file>

<file path="src/main/java/com/globalcarelink/profile/dto/OverseasProfileRequest.java">
public class OverseasProfileRequest {
</file>

<file path="src/main/java/com/globalcarelink/profile/dto/OverseasProfileResponse.java">
public class OverseasProfileResponse {
â‹®----
public static OverseasProfileResponse from(OverseasProfile profile) {
â‹®----
return OverseasProfileResponse.builder()
.id(profile.getId())
.memberId(profile.getMember().getId())
.birthDate(profile.getBirthDate())
.gender(profile.getGender())
.overseasAddress(profile.getOverseasAddress())
.residenceCountry(profile.getResidenceCountry())
.residenceCity(profile.getResidenceCity())
.koreanAddress(profile.getKoreanAddress())
.koreanPostalCode(profile.getKoreanPostalCode())
.passportNumber(maskPassportNumber(profile.getPassportNumber()))
.passportExpiryDate(profile.getPassportExpiryDate())
.visaStatus(profile.getVisaStatus())
.visaExpiryDate(profile.getVisaExpiryDate())
.overseasContactName(profile.getOverseasContactName())
.overseasContactPhone(maskOverseasPhone(profile.getOverseasContactPhone()))
.overseasContactRelation(profile.getOverseasContactRelation())
.koreaContactName(profile.getKoreaContactName())
.koreaContactPhone(maskPhoneNumber(profile.getKoreaContactPhone()))
.koreaContactRelation(profile.getKoreaContactRelation())
.overseasInsuranceNumber(maskInsuranceNumber(profile.getOverseasInsuranceNumber()))
.overseasInsuranceProvider(profile.getOverseasInsuranceProvider())
.travelInsurance(profile.getTravelInsurance())
.entryPurpose(profile.getEntryPurpose())
.expectedStayDuration(profile.getExpectedStayDuration())
.preferredCommunicationMethod(profile.getPreferredCommunicationMethod())
.timeZonePreference(profile.getTimeZonePreference())
.preferredRegionInKorea(profile.getPreferredRegionInKorea())
.budgetRange(profile.getBudgetRange())
.careLevel(profile.getCareLevel())
.specialNeeds(profile.getSpecialNeeds())
.culturalDietaryRequirements(profile.getCulturalDietaryRequirements())
.profileCompletionPercentage(profile.getProfileCompletionPercentage())
.coordinatorRequired(profile.getCoordinatorRequired())
.createdAt(profile.getCreatedAt())
.updatedAt(profile.getUpdatedAt())
.hasBasicInfo(profile.hasBasicInfo())
.hasPassportInfo(profile.hasPassportInfo())
.hasOverseasContact(profile.hasOverseasContact())
.hasKoreaContact(profile.hasKoreaContact())
.isDocumentationComplete(profile.isDocumentationComplete())
.isProfileComplete(profile.isProfileComplete())
.build();
â‹®----
private static String maskPassportNumber(String passportNumber) {
if (passportNumber == null || passportNumber.length() < 6) {
â‹®----
return passportNumber.substring(0, 5) + "****";
â‹®----
private static String maskPhoneNumber(String phoneNumber) {
if (phoneNumber == null || phoneNumber.length() < 8) {
â‹®----
return phoneNumber.substring(0, 3) + "-****-" + phoneNumber.substring(phoneNumber.length() - 4);
â‹®----
private static String maskOverseasPhone(String phoneNumber) {
â‹®----
if (phoneNumber.contains("-")) {
String[] parts = phoneNumber.split("-");
â‹®----
return phoneNumber.substring(0, 6) + "***" + phoneNumber.substring(phoneNumber.length() - 4);
â‹®----
private static String maskInsuranceNumber(String insuranceNumber) {
if (insuranceNumber == null || insuranceNumber.length() < 8) {
â‹®----
return insuranceNumber.substring(0, 6) + "***" + insuranceNumber.substring(insuranceNumber.length() - 3);
</file>

<file path="src/main/java/com/globalcarelink/profile/DomesticProfile.java">
import lombok.*;
â‹®----
public class DomesticProfile extends BaseEntity {
â‹®----
public void updateBasicInfo(LocalDate birthDate, String gender, String address,
â‹®----
calculateProfileCompletion();
â‹®----
public void updateEmergencyContact(String name, String phone, String relation) {
â‹®----
public void updateHealthInfo(String healthInsuranceNumber, Integer ltciGrade,
â‹®----
public void updateCareInfo(String preferredRegion, String careLevel,
â‹®----
private void calculateProfileCompletion() {
â‹®----
if (gender != null && !gender.trim().isEmpty()) completedFields++;
if (address != null && !address.trim().isEmpty()) completedFields++;
if (detailedAddress != null && !detailedAddress.trim().isEmpty()) completedFields++;
if (postalCode != null && !postalCode.trim().isEmpty()) completedFields++;
if (emergencyContactName != null && !emergencyContactName.trim().isEmpty()) completedFields++;
if (emergencyContactPhone != null && !emergencyContactPhone.trim().isEmpty()) completedFields++;
if (emergencyContactRelation != null && !emergencyContactRelation.trim().isEmpty()) completedFields++;
if (healthInsuranceNumber != null && !healthInsuranceNumber.trim().isEmpty()) completedFields++;
â‹®----
if (ltciCertificateNumber != null && !ltciCertificateNumber.trim().isEmpty()) completedFields++;
if (preferredRegion != null && !preferredRegion.trim().isEmpty()) completedFields++;
if (careLevel != null && !careLevel.trim().isEmpty()) completedFields++;
if (specialNeeds != null && !specialNeeds.trim().isEmpty()) completedFields++;
if (budgetRange != null && !budgetRange.trim().isEmpty()) completedFields++;
â‹®----
this.profileCompletionPercentage = Math.round((float) completedFields / totalFields * 100);
â‹®----
public boolean isProfileComplete() {
â‹®----
public boolean hasBasicInfo() {
â‹®----
public boolean hasEmergencyContact() {
â‹®----
public boolean hasHealthInfo() {
</file>

<file path="src/main/java/com/globalcarelink/profile/DomesticProfileRepository.java">
public interface DomesticProfileRepository extends JpaRepository<DomesticProfile, Long> {
â‹®----
Optional<DomesticProfile> findByMemberId(Long memberId);
â‹®----
boolean existsByMemberId(Long memberId);
â‹®----
List<DomesticProfile> findByProfileCompletionPercentageGreaterThanEqual(@Param("percentage") Integer percentage);
â‹®----
List<DomesticProfile> findByLtciGrade(@Param("grade") Integer grade);
â‹®----
List<DomesticProfile> findByCareLevel(@Param("careLevel") String careLevel);
â‹®----
List<DomesticProfile> findByPreferredRegion(@Param("region") String region);
â‹®----
List<DomesticProfile> findByBudgetRange(@Param("budgetRange") String budgetRange);
â‹®----
List<DomesticProfile> findJobSeekersWithProfileCompletion(@Param("percentage") Integer percentage);
â‹®----
List<DomesticProfile> findByCity(@Param("city") String city);
â‹®----
long countCompleteProfiles();
â‹®----
long countProfilesWithEmergencyContact();
â‹®----
long countProfilesWithLtciGrade();
â‹®----
List<Object[]> getCareeLevelStatistics();
â‹®----
List<Object[]> getBudgetRangeStatistics();
â‹®----
Double getAverageProfileCompletion();
</file>

<file path="src/main/java/com/globalcarelink/profile/OverseasProfile.java">
import lombok.*;
â‹®----
public class OverseasProfile extends BaseEntity {
â‹®----
public void updateBasicInfo(LocalDate birthDate, String gender, String overseasAddress,
â‹®----
calculateProfileCompletion();
â‹®----
public void updateKoreanAddress(String koreanAddress, String koreanPostalCode) {
â‹®----
public void updatePassportInfo(String passportNumber, LocalDate passportExpiryDate,
â‹®----
public void updateOverseasContact(String name, String phone, String relation) {
â‹®----
public void updateKoreaContact(String name, String phone, String relation) {
â‹®----
public void updateInsuranceInfo(String overseasInsuranceNumber, String overseasInsuranceProvider,
â‹®----
public void updateTripInfo(String entryPurpose, String expectedStayDuration,
â‹®----
public void updateCareInfo(String preferredRegionInKorea, String budgetRange, String careLevel,
â‹®----
public void setCoordinatorRequired(boolean required) {
â‹®----
private void calculateProfileCompletion() {
â‹®----
if (gender != null && !gender.trim().isEmpty()) completedFields++;
if (overseasAddress != null && !overseasAddress.trim().isEmpty()) completedFields++;
if (residenceCountry != null && !residenceCountry.trim().isEmpty()) completedFields++;
if (residenceCity != null && !residenceCity.trim().isEmpty()) completedFields++;
if (koreanAddress != null && !koreanAddress.trim().isEmpty()) completedFields++;
if (koreanPostalCode != null && !koreanPostalCode.trim().isEmpty()) completedFields++;
if (passportNumber != null && !passportNumber.trim().isEmpty()) completedFields++;
â‹®----
if (visaStatus != null && !visaStatus.trim().isEmpty()) completedFields++;
â‹®----
if (overseasContactName != null && !overseasContactName.trim().isEmpty()) completedFields++;
if (overseasContactPhone != null && !overseasContactPhone.trim().isEmpty()) completedFields++;
if (overseasContactRelation != null && !overseasContactRelation.trim().isEmpty()) completedFields++;
if (koreaContactName != null && !koreaContactName.trim().isEmpty()) completedFields++;
if (koreaContactPhone != null && !koreaContactPhone.trim().isEmpty()) completedFields++;
if (koreaContactRelation != null && !koreaContactRelation.trim().isEmpty()) completedFields++;
if (overseasInsuranceNumber != null && !overseasInsuranceNumber.trim().isEmpty()) completedFields++;
if (overseasInsuranceProvider != null && !overseasInsuranceProvider.trim().isEmpty()) completedFields++;
if (travelInsurance != null && !travelInsurance.trim().isEmpty()) completedFields++;
if (entryPurpose != null && !entryPurpose.trim().isEmpty()) completedFields++;
if (expectedStayDuration != null && !expectedStayDuration.trim().isEmpty()) completedFields++;
if (preferredCommunicationMethod != null && !preferredCommunicationMethod.trim().isEmpty()) completedFields++;
if (timeZonePreference != null && !timeZonePreference.trim().isEmpty()) completedFields++;
if (budgetRange != null && !budgetRange.trim().isEmpty()) completedFields++;
â‹®----
this.profileCompletionPercentage = Math.round((float) completedFields / totalFields * 100);
â‹®----
public boolean isProfileComplete() {
â‹®----
public boolean hasBasicInfo() {
â‹®----
public boolean hasPassportInfo() {
â‹®----
public boolean hasOverseasContact() {
â‹®----
public boolean hasKoreaContact() {
â‹®----
public boolean isDocumentationComplete() {
return hasPassportInfo() && visaStatus != null;
</file>

<file path="src/main/java/com/globalcarelink/profile/OverseasProfileRepository.java">
public interface OverseasProfileRepository extends JpaRepository<OverseasProfile, Long> {
â‹®----
Optional<OverseasProfile> findByMemberId(Long memberId);
â‹®----
boolean existsByMemberId(Long memberId);
â‹®----
List<OverseasProfile> findByResidenceCountry(@Param("country") String country);
â‹®----
List<OverseasProfile> findByResidenceCountryAndCity(@Param("country") String country, @Param("city") String city);
â‹®----
List<OverseasProfile> findByProfileCompletionPercentageGreaterThanEqual(@Param("percentage") Integer percentage);
â‹®----
List<OverseasProfile> findRequiringCoordinator();
â‹®----
List<OverseasProfile> findRequiringCoordinatorWithCompletion(@Param("percentage") Integer percentage);
â‹®----
List<OverseasProfile> findByPassportExpiryDateBefore(@Param("date") LocalDate date);
â‹®----
List<OverseasProfile> findByVisaExpiryDateBefore(@Param("date") LocalDate date);
â‹®----
List<OverseasProfile> findByPreferredRegionInKorea(@Param("region") String region);
â‹®----
List<OverseasProfile> findByBudgetRange(@Param("budgetRange") String budgetRange);
â‹®----
List<OverseasProfile> findByCareLevel(@Param("careLevel") String careLevel);
â‹®----
List<OverseasProfile> findByEntryPurpose(@Param("purpose") String purpose);
â‹®----
List<OverseasProfile> findByExpectedStayDuration(@Param("duration") String duration);
â‹®----
List<OverseasProfile> findByPreferredCommunicationMethod(@Param("method") String method);
â‹®----
List<OverseasProfile> findByTimeZonePreference(@Param("timeZone") String timeZone);
â‹®----
List<OverseasProfile> findJobSeekersWithProfileCompletion(@Param("percentage") Integer percentage);
â‹®----
long countCompleteProfiles();
â‹®----
long countRequiringCoordinator();
â‹®----
List<Object[]> getResidenceCountryStatistics();
â‹®----
List<Object[]> getCareLevelStatistics();
â‹®----
List<Object[]> getBudgetRangeStatistics();
â‹®----
List<Object[]> getEntryPurposeStatistics();
â‹®----
Double getAverageProfileCompletion();
â‹®----
long countExpiringPassports(@Param("threeMonthsLater") LocalDate threeMonthsLater);
â‹®----
long countExpiringVisas(@Param("oneMonthLater") LocalDate oneMonthLater);
</file>

<file path="src/main/java/com/globalcarelink/profile/ProfileController.java">
public class ProfileController {
â‹®----
public ResponseEntity<DomesticProfileResponse> createDomesticProfile(
â‹®----
DomesticProfileResponse response = profileService.createDomesticProfile(memberId, request);
return ResponseEntity.status(HttpStatus.CREATED).body(response);
â‹®----
public ResponseEntity<OverseasProfileResponse> createOverseasProfile(
â‹®----
OverseasProfileResponse response = profileService.createOverseasProfile(memberId, request);
â‹®----
public ResponseEntity<DomesticProfileResponse> getDomesticProfile(
â‹®----
DomesticProfileResponse response = profileService.getDomesticProfile(memberId);
return ResponseEntity.ok(response);
â‹®----
public ResponseEntity<OverseasProfileResponse> getOverseasProfile(
â‹®----
OverseasProfileResponse response = profileService.getOverseasProfile(memberId);
â‹®----
public ResponseEntity<DomesticProfileResponse> updateDomesticProfile(
â‹®----
DomesticProfileResponse response = profileService.updateDomesticProfile(memberId, request);
â‹®----
public ResponseEntity<OverseasProfileResponse> updateOverseasProfile(
â‹®----
OverseasProfileResponse response = profileService.updateOverseasProfile(memberId, request);
â‹®----
public ResponseEntity<Void> deleteDomesticProfile(
â‹®----
profileService.deleteDomesticProfile(memberId);
return ResponseEntity.noContent().build();
â‹®----
public ResponseEntity<Void> deleteOverseasProfile(
â‹®----
profileService.deleteOverseasProfile(memberId);
â‹®----
public ResponseEntity<List<DomesticProfileResponse>> getDomesticProfilesByCompletion(
â‹®----
List<DomesticProfileResponse> profiles = profileService.getDomesticProfilesByCompletion(minCompletion);
return ResponseEntity.ok(profiles);
â‹®----
public ResponseEntity<List<OverseasProfileResponse>> getOverseasProfilesByCountry(
â‹®----
List<OverseasProfileResponse> profiles = profileService.getOverseasProfilesByCountry(country);
â‹®----
public ResponseEntity<List<OverseasProfileResponse>> getOverseasProfilesRequiringCoordinator() {
â‹®----
List<OverseasProfileResponse> profiles = profileService.getOverseasProfilesRequiringCoordinator();
â‹®----
public ResponseEntity<List<OverseasProfileResponse>> getOverseasProfilesWithExpiringDocuments() {
â‹®----
List<OverseasProfileResponse> profiles = profileService.getOverseasProfilesWithExpiringDocuments();
</file>

<file path="src/main/java/com/globalcarelink/GlobalCareLinkApplication.java">
public class GlobalCareLinkApplication {
public static void main(String[] args) {
SpringApplication.run(GlobalCareLinkApplication.class, args);
</file>

<file path="src/main/resources/application-test.yml">
spring:
  datasource:
    url: jdbc:sqlite::memory:
    driver-class-name: org.sqlite.JDBC
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false
  
  logging:
    level:
      org.hibernate.SQL: WARN
      com.globalcarelink: INFO
</file>

<file path="src/main/resources/logback-spring.xml">
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    
    <!-- ë¡œê·¸ íŒŒì¼ ê²½ë¡œ ì„¤ì • -->
    <property name="LOG_PATH" value="./logs"/>
    <property name="LOG_FILE_NAME" value="lightcare"/>
    
    <!-- ì½˜ì†” ì¶œë ¥ íŒ¨í„´ (ê°œë°œìš©) -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan([%X{traceId}]) %yellow(%logger{36}) - %msg%n</pattern>
        </encoder>
    </appender>
    
    <!-- ì¼ë°˜ ë¡œê·¸ íŒŒì¼ (INFO ì´ìƒ) -->
    <appender name="FILE_INFO" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/${LOG_FILE_NAME}.log</file>
        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
            <providers>
                <timestamp/>
                <logLevel/>
                <loggerName/>
                <mdc/>
                <message/>
                <stackTrace/>
                <pattern>
                    <pattern>
                        {
                            "timestamp": "%d{yyyy-MM-dd HH:mm:ss.SSS}",
                            "level": "%level",
                            "thread": "%thread",
                            "logger": "%logger{40}",
                            "traceId": "%X{traceId:-}",
                            "userId": "%X{userId:-}",
                            "userEmail": "%X{userEmail:-}",
                            "requestUri": "%X{requestUri:-}",
                            "method": "%X{method:-}",
                            "clientIp": "%X{clientIp:-}",
                            "message": "%message",
                            "exception": "%exception"
                        }
                    </pattern>
                </pattern>
            </providers>
        </encoder>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_PATH}/${LOG_FILE_NAME}.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
            <maxHistory>30</maxHistory>
            <totalSizeCap>1GB</totalSizeCap>
        </rollingPolicy>
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>INFO</level>
        </filter>
    </appender>
    
    <!-- ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ (ERRORë§Œ) -->
    <appender name="FILE_ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/${LOG_FILE_NAME}-error.log</file>
        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
            <providers>
                <timestamp/>
                <logLevel/>
                <loggerName/>
                <mdc/>
                <message/>
                <stackTrace/>
                <pattern>
                    <pattern>
                        {
                            "timestamp": "%d{yyyy-MM-dd HH:mm:ss.SSS}",
                            "level": "%level",
                            "thread": "%thread",
                            "logger": "%logger{40}",
                            "traceId": "%X{traceId:-}",
                            "userId": "%X{userId:-}",
                            "userEmail": "%X{userEmail:-}",
                            "requestUri": "%X{requestUri:-}",
                            "method": "%X{method:-}",
                            "clientIp": "%X{clientIp:-}",
                            "message": "%message",
                            "exception": "%exception",
                            "stackTrace": "%ex{full}"
                        }
                    </pattern>
                </pattern>
            </providers>
        </encoder>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_PATH}/${LOG_FILE_NAME}-error.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                <maxFileSize>10MB</maxFileSize>
            </timeBasedFileNamingAndTriggeringPolicy>
            <maxHistory>60</maxHistory>
        </rollingPolicy>
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>ERROR</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
    </appender>
    
    <!-- ì„±ëŠ¥ ë¡œê·¸ íŒŒì¼ (ë©”ì„œë“œ ì‹¤í–‰ ì‹œê°„ ë“±) -->
    <appender name="FILE_PERFORMANCE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_PATH}/${LOG_FILE_NAME}-performance.log</file>
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%X{traceId}] [%X{method}] %X{requestUri} - %msg%n</pattern>
        </encoder>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${LOG_PATH}/${LOG_FILE_NAME}-performance.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>7</maxHistory>
        </rollingPolicy>
    </appender>
    
    <!-- í”„ë¡œíŒŒì¼ë³„ ì„¤ì • -->
    <springProfile name="dev,test">
        <root level="DEBUG">
            <appender-ref ref="CONSOLE"/>
            <appender-ref ref="FILE_INFO"/>
            <appender-ref ref="FILE_ERROR"/>
        </root>
    </springProfile>
    
    <springProfile name="prod">
        <root level="INFO">
            <appender-ref ref="FILE_INFO"/>
            <appender-ref ref="FILE_ERROR"/>
        </root>
    </springProfile>
    
    <!-- íŠ¹ì • íŒ¨í‚¤ì§€ ë¡œê·¸ ë ˆë²¨ ì„¤ì • -->
    <logger name="com.globalcarelink" level="DEBUG" additivity="false">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE_INFO"/>
        <appender-ref ref="FILE_ERROR"/>
    </logger>
    
    <logger name="org.springframework.security" level="DEBUG" additivity="false">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE_INFO"/>
    </logger>
    
    <logger name="performance" level="INFO" additivity="false">
        <appender-ref ref="FILE_PERFORMANCE"/>
    </logger>
    
    <!-- SQL ë¡œê·¸ -->
    <logger name="org.hibernate.SQL" level="DEBUG"/>
    <logger name="org.hibernate.type.descriptor.sql.BasicBinder" level="TRACE"/>
    
</configuration>
</file>

<file path="src/test/java/com/globalcarelink/GlobalCareLinkApplicationTest.java">
class GlobalCareLinkApplicationTest {
â‹®----
void contextLoads() {
</file>

<file path=".env.example">
# ===========================================
# LightCare í™˜ê²½ë³€ìˆ˜ ì„¤ì • (ì˜ˆì‹œ íŒŒì¼)
# ì‹¤ì œ ì‚¬ìš© ì‹œ .env íŒŒì¼ë¡œ ë³µì‚¬ í›„ ì‹¤ì œ ê°’ ì…ë ¥
# ===========================================

# ===========================================
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (SQLite - íŒŒì¼ ê¸°ë°˜)
# ===========================================
DATABASE_URL=jdbc:sqlite:./data/lightcare.db
# SQLiteëŠ” ì‚¬ìš©ìëª…/ë¹„ë°€ë²ˆí˜¸ ë¶ˆí•„ìš”

# ===========================================
# JWT ë³´ì•ˆ ì„¤ì • (í•„ìˆ˜ ë³€ê²½)
# ===========================================
JWT_SECRET=your_super_secret_jwt_key_with_256_bits_minimum_change_in_production
JWT_EXPIRATION=86400000

# ===========================================
# ì´ë©”ì¼ ì„¤ì • (Gmail SMTP - ë¬´ë£Œ)
# ===========================================
GMAIL_USERNAME=your-email@gmail.com
GMAIL_APP_PASSWORD=your_gmail_app_password
# Gmail ì•± ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰ ë°©ë²•: https://support.google.com/accounts/answer/185833

# ===========================================
# ì™¸ë¶€ API í‚¤ (ë¬´ë£Œ í”Œëœ)
# ===========================================
# ì¹´ì¹´ì˜¤ë§µ API (ì›” 30ë§Œê±´ ë¬´ë£Œ)
KAKAO_API_KEY=your_kakao_map_api_key
KAKAO_REST_API_KEY=your_kakao_rest_api_key

# ê³µê³µë°ì´í„° API (ë°œê¸‰ë°›ì€ ì¸ì¦í‚¤)
PUBLIC_API_KEY=CCXHQiSSQ0J+RRaadSjmmS7ltxG/tlSVOYMjh45MmGne68ptgGAaAJVJti8nBazSjLemTAyb5gAuj43xq7fTog==

# ì™¸êµë¶€ API
MOFA_API_KEY=your_mofa_api_key

# ===========================================
# GitHub ì„¤ì • (íŒŒì¼ ì €ì¥ìš©)
# ===========================================
GITHUB_TOKEN=your_github_personal_access_token
GITHUB_REPO_OWNER=dooseob
GITHUB_REPO_NAME=elderberry-files

# ===========================================
# ê°œë°œ í™˜ê²½ ì„¤ì •
# ===========================================
SPRING_PROFILES_ACTIVE=dev
LOG_LEVEL=debug
SERVER_PORT=8080

# Java ì„¤ì •
JAVA_HOME=/path/to/jdk-21
JAVA_OPTS=-Xmx1g -Xms512m

# ===========================================
# í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ë³€ìˆ˜ (Vite)
# ===========================================
VITE_API_BASE_URL=http://localhost:8080/api
VITE_WS_URL=ws://localhost:8080/ws
VITE_KAKAO_API_KEY=your_kakao_api_key
VITE_GITHUB_REPO_OWNER=dooseob
VITE_GITHUB_REPO_NAME=elderberry
VITE_DEV_MODE=true

# ===========================================
# ë°°í¬ í™˜ê²½ (Railway/Render)
# ===========================================
# Railway ë°°í¬ì‹œ ìë™ ì„¤ì •
RAILWAY_ENVIRONMENT=production
PORT=8080

# Render ë°°í¬ì‹œ ì„¤ì •
RENDER_EXTERNAL_URL=https://your-app.onrender.com

# ===========================================
# ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
# ===========================================
# ê°œë°œ í™˜ê²½ì—ì„œëŠ” false, ìš´ì˜ì—ì„œëŠ” true
ACTUATOR_ENABLED=false
METRICS_ENABLED=false
</file>

<file path=".gitignore">
# ===========================================
# LightCare í”„ë¡œì íŠ¸ .gitignore
# ===========================================

# ===========================================
# í™˜ê²½ë³€ìˆ˜ ë° ë³´ì•ˆ íŒŒì¼ (ì ˆëŒ€ ì»¤ë°‹ ê¸ˆì§€!)
# ===========================================
.env
.env.local
.env.dev
.env.prod
.env.staging
*.env
secrets/
config/secrets.yml
application-secret.yml

# API í‚¤ íŒŒì¼
api-keys.txt
keys/
credentials/

# ===========================================
# Java/Spring Boot
# ===========================================
# ì»´íŒŒì¼ëœ í´ë˜ìŠ¤ íŒŒì¼
*.class
*.jar
*.war
*.ear
*.nar

# Gradle
.gradle/
build/
gradle-app.setting
!gradle-wrapper.jar
!**/src/main/**/build/
!**/src/test/**/build/

# Maven (í˜¹ì‹œ ì‚¬ìš©í•  ê²½ìš°)
target/
pom.xml.tag
pom.xml.releaseBackup
pom.xml.versionsBackup
pom.xml.next
release.properties
dependency-reduced-pom.xml
buildNumber.properties

# Spring Boot
*.jar
*.war
*.orig
spring-boot-*.txt
.factorypath

# ===========================================
# ë°ì´í„°ë² ì´ìŠ¤ (SQLite)
# ===========================================
*.db
*.sqlite
*.sqlite3
data/
database/
db/
# í…ŒìŠ¤íŠ¸ DB ì œì™¸
!**/src/test/resources/**/*.db

# ===========================================
# ë¡œê·¸ íŒŒì¼
# ===========================================
*.log
logs/
log/
*.log.*
application.log
error.log
debug.log

# ===========================================
# IDE ì„¤ì • íŒŒì¼
# ===========================================
# IntelliJ IDEA
.idea/
*.iws
*.iml
*.ipr
out/
.idea_modules/

# Eclipse
.metadata
bin/
tmp/
*.tmp
*.bak
*.swp
*~.nib
local.properties
.settings/
.loadpath
.recommenders

# NetBeans
/nbproject/private/
/nbbuild/
/dist/
/nbdist/
/.nb-gradle/

# Visual Studio Code
.vscode/
*.code-workspace

# ===========================================
# Node.js/React/Vite (í”„ë¡ íŠ¸ì—”ë“œ)
# ===========================================
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# ë¹Œë“œ ê²°ê³¼ë¬¼
dist/
dist-ssr/
build/

# í™˜ê²½ë³€ìˆ˜ (í”„ë¡ íŠ¸ì—”ë“œ)
.env.local
.env.development.local
.env.test.local
.env.production.local

# ===========================================
# ìš´ì˜ì²´ì œ
# ===========================================
# Windows
Thumbs.db
ehthumbs.db
Desktop.ini
$RECYCLE.BIN/
*.cab
*.msi
*.msix
*.msm
*.msp
*.lnk

# macOS
.DS_Store
.AppleDouble
.LSOverride
Icon
._*
.DocumentRevisions-V100
.fseventsd
.Spotlight-V100
.TemporaryItems
.Trashes
.VolumeIcon.icns
.com.apple.timemachine.donotpresent

# Linux
*~
.fuse_hidden*
.directory
.Trash-*
.nfs*

# ===========================================
# ì„ì‹œ íŒŒì¼ ë° ë°±ì—…
# ===========================================
*.tmp
*.temp
*.swp
*.swo
*~
.#*
\#*#
.#*
*.orig
*.rej

# ===========================================
# í…ŒìŠ¤íŠ¸ ê´€ë ¨
# ===========================================
# í…ŒìŠ¤íŠ¸ ê²°ê³¼
/test-results/
/coverage/
*.lcov
.nyc_output

# ===========================================
# ë°°í¬ ê´€ë ¨
# ===========================================
# Docker
.dockerignore
Dockerfile.prod
docker-compose.override.yml

# ë°°í¬ ì•„í‹°íŒ©íŠ¸
deploy/
deployment/
.deploy/

# ===========================================
# ê°œë°œ ë„êµ¬
# ===========================================
# JProfiler
*.jpb

# YourKit
*.hprof

# JMeter
*.jmx
jmeter.log

# ===========================================
# ì»¤ìŠ¤í…€ ì œì™¸ (í”„ë¡œì íŠ¸ë³„)
# ===========================================
# ì—…ë¡œë“œëœ íŒŒì¼ë“¤
uploads/
files/
media/
static/uploads/

# ìºì‹œ íŒŒì¼
.cache/
*.cache

# ì‹œí¬ë¦¿ ë°±ì—…
*.secret
*.private
*.key
*.pem
*.p12
*.pfx

# ê°œë°œ ì¤‘ ë©”ëª¨ íŒŒì¼
TODO.txt
NOTES.txt
scratch.txt
temp.md

# ===========================================
# ì¤‘ìš”: ì‹¤ìˆ˜ë¡œ ì»¤ë°‹í•˜ê¸° ì‰¬ìš´ íŒŒì¼ë“¤
# ===========================================
# ì„¤ì • ë°±ì—…
application-local.yml
application-dev.yml.backup
config-backup/

# ê°œë°œ í…ŒìŠ¤íŠ¸ íŒŒì¼
test-data.sql
sample-data.json
mock-data/

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼
benchmark/
performance-test/
</file>

<file path="gradlew">
#!/bin/sh

# Gradle start up script for POSIX generated by Gradle.

DEFAULT_JVM_OPTS='"-Xmx64m" "-Xms64m"'
APP_NAME="Gradle"
APP_BASE_NAME=`basename "$0"`

JAVA_EXE="java"
if [ -n "$JAVA_HOME" ] ; then
    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
        JAVA_EXE="$JAVA_HOME/jre/sh/java"
    else
        JAVA_EXE="$JAVA_HOME/bin/java"
    fi
fi

if [ ! -x "$JAVA_EXE" ] ; then
    echo "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME"
    echo ""
    echo "Please set the JAVA_HOME variable in your environment to match the"
    echo "location of your Java installation."
    exit 1
fi

CLASSPATH=gradle/wrapper/gradle-wrapper.jar

exec "$JAVA_EXE" $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS "-Dorg.gradle.appname=$APP_BASE_NAME" -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"
</file>

<file path="settings.gradle.kts">
rootProject.name = "global-care-link"
</file>

<file path=".claude/settings.local.json">
{
  "permissions": {
    "allow": [
      "Bash(grep:*)",
      "Bash(mkdir:*)",
      "Bash(git init:*)",
      "Bash(git remote add:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git config:*)",
      "Bash(git push:*)",
      "Bash(java:*)",
      "Bash(./gradlew build:*)",
      "Bash(gradle:*)",
      "Bash(chmod:*)",
      "Bash(wc:*)",
      "Bash(./gradlew:*)",
      "Bash(export:*)",
      "Bash(ls:*)",
      "Bash(claude mcp add:*)",
      "Bash(claude mcp:*)",
      "Bash(npm install:*)",
      "Bash(/mnt/c/Program Files/Java/jdk-21/bin/java -version)",
      "Bash(cmd.exe:*)"
    ],
    "deny": []
  }
}
</file>

<file path="frontend/src/components/coordinator/CoordinatorCard.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { 
  Star, 
  MapPin, 
  Globe, 
  Award, 
  Users, 
  Clock, 
  CheckCircle2,
  AlertCircle,
  Calendar,
  Phone
} from 'lucide-react';
import Card, { CardHeader, CardContent, CardFooter } from '@/components/ui/Card';
import Button from '@/components/ui/Button';
import { CoordinatorMatch, CoordinatorLanguageSkill } from '@/services/coordinatorApi';
â‹®----
interface CoordinatorCardProps {
  coordinator: CoordinatorMatch;
  onSelect?: (coordinatorId: string) => void;
  onViewDetails?: (coordinatorId: string) => void;
  isSelected?: boolean;
  showActions?: boolean;
}
â‹®----
const getScoreColor = (score: number) =>
â‹®----
const getWorkloadStatus = (ratio: number) =>
â‹®----
const renderLanguageSkills = (skills: CoordinatorLanguageSkill[]) =>
â‹®----
</file>

<file path="frontend/src/components/coordinator/MatchingPreferencePanel.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { X, Settings, Globe, MapPin, Clock, Shield } from 'lucide-react';
import { MatchingPreference } from '@/services/coordinatorApi';
import Card, { CardHeader, CardTitle, CardContent } from '@/components/ui/Card';
import Button from '@/components/ui/Button';
â‹®----
interface MatchingPreferencePanelProps {
  preference: MatchingPreference;
  onChange: (preference: MatchingPreference) => void;
  onClose: () => void;
}
â‹®----
const handleChange = (key: keyof MatchingPreference, value: any) =>
â‹®----
onChange=
</file>

<file path="frontend/src/components/coordinator/MatchingStatsDashboard.tsx">
import React from 'react';
import { motion } from 'framer-motion';
import { 
  X, 
  BarChart3, 
  Users, 
  Star, 
  Clock, 
  TrendingUp,
  CheckCircle2,
  Activity
} from 'lucide-react';
import { CoordinatorMatchingStatistics } from '@/services/coordinatorApi';
import Card, { CardHeader, CardTitle, CardContent } from '@/components/ui/Card';
import Button from '@/components/ui/Button';
â‹®----
interface MatchingStatsDashboardProps {
  statistics: CoordinatorMatchingStatistics;
  onClose: () => void;
}
â‹®----
const getSatisfactionLevel = (score: number) =>
â‹®----
const getSuccessRateLevel = (rate: number) =>
â‹®----
const getResponseTimeLevel = (time: number) =>
</file>

<file path="frontend/src/features/coordinator/CoordinatorMatchingWizard.tsx">
import React, { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { 
  Search, 
  Filter, 
  BarChart3, 
  Users, 
  Star,
  AlertCircle,
  CheckCircle2,
  Loader2
} from 'lucide-react';
import { useQuery } from '@tanstack/react-query';
â‹®----
import { coordinatorMatchingApi, CoordinatorMatch, MatchingPreference, CoordinatorMatchingStatistics } from '@/services/coordinatorApi';
import { HealthAssessment } from '@/types/health';
import CoordinatorCard from '@/components/coordinator/CoordinatorCard';
import MatchingPreferencePanel from '@/components/coordinator/MatchingPreferencePanel';
import MatchingStatsDashboard from '@/components/coordinator/MatchingStatsDashboard';
import Card, { CardHeader, CardTitle, CardContent } from '@/components/ui/Card';
import Button from '@/components/ui/Button';
â‹®----
interface CoordinatorMatchingWizardProps {
  assessmentId: number;
  assessment?: HealthAssessment;
  onMatchingComplete?: (selectedCoordinatorId: string) => void;
  onCancel?: () => void;
}
â‹®----
const CoordinatorMatchingWizard: React.FC<CoordinatorMatchingWizardProps> = ({
  assessmentId,
  assessment,
  onMatchingComplete,
  onCancel,
}) =>
â‹®----
const handlePreferenceChange = (newPreference: MatchingPreference) =>
â‹®----
const handleCoordinatorSelect = (coordinatorId: string) =>
â‹®----
const handleMatchingComplete = () =>
â‹®----
const getMatchQualityStats = (matches?: CoordinatorMatch[]) =>
â‹®----
onClick=
â‹®----
console.log('ì½”ë””ë„¤ì´í„° ìƒì„¸ ë³´ê¸°:', id);
</file>

<file path="frontend/src/services/coordinatorApi.ts">
import { HealthAssessment } from '@/types/health';
â‹®----
export interface CoordinatorMatch {
  coordinatorId: string;
  name: string;
  matchScore: number;
  matchReason: string;
  experienceYears: number;
  successfulCases: number;
  customerSatisfaction: number;
  specialtyAreas: string[];
  compatibleCareGrades: number[];
  languageSkills: CoordinatorLanguageSkill[];
  availableWeekends: boolean;
  availableEmergency: boolean;
  workingRegions: string[];
  currentActiveCases: number;
  maxSimultaneousCases: number;
  workloadRatio: number;
}
â‹®----
export interface CoordinatorLanguageSkill {
  language: string;
  proficiencyLevel: string;
  isNative: boolean;
  certificationLevel?: string;
}
â‹®----
export interface MatchingPreference {
  preferredLanguage?: string;
  preferredRegion?: string;
  needsWeekendAvailability?: boolean;
  needsEmergencyAvailability?: boolean;
  minCustomerSatisfaction?: number;
  maxResults?: number;
  countryCode?: string;
  needsProfessionalConsultation?: boolean;
}
â‹®----
export interface CoordinatorMatchingStatistics {
  totalActiveCoordinators: number;
  averageCustomerSatisfaction: number;
  availableCoordinators: number;
  totalSuccessfulMatches: number;
  overallMatchingSuccessRate: number;
  averageResponseTime: number;
}
â‹®----
export interface MatchingSimulationRequest {
  healthAssessmentCount: number;
  coordinatorCount: number;
  simulationType: 'RANDOM' | 'REALISTIC' | 'STRESS_TEST';
  includeLanguageMatching?: boolean;
  includeSpecialtyMatching?: boolean;
  includeWorkloadOptimization?: boolean;
}
â‹®----
export interface MatchingSimulationResult {
  totalHealthAssessments: number;
  totalCoordinators: number;
  successfulMatches: number;
  failedMatches: number;
  averageMatchingScore: number;
  matchingSuccessRate: number;
  executionTimeMs: number;
  simulationTime: string;
}
â‹®----
class CoordinatorMatchingApi {
â‹®----
async findMatches(assessmentId: number, preference?: MatchingPreference): Promise<CoordinatorMatch[]>
â‹®----
async getStatistics(): Promise<CoordinatorMatchingStatistics>
â‹®----
async runSimulation(request: MatchingSimulationRequest): Promise<MatchingSimulationResult>
â‹®----
async getCoordinatorDetails(coordinatorId: string): Promise<CoordinatorMatch>
</file>

<file path="frontend/index.html">
<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Elderberry - ê¸€ë¡œë²Œ ìš”ì–‘ì› êµ¬ì¸êµ¬ì§ ì„œë¹„ìŠ¤</title>
    <meta name="description" content="ì¬ì™¸ë™í¬ë¥¼ ìœ„í•œ í•œêµ­ ìš”ì–‘ì› ë§¤ì¹­ ì„œë¹„ìŠ¤" />
    
    <!-- Noto Sans KR í°íŠ¸ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Pretendard í°íŠ¸ -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="frontend/tailwind.config.js">
/** @type {import('tailwindcss').Config} */
â‹®----
// 'elderberry' í…Œë§ˆ - ë”°ëœ»í•˜ê³  í‰í™”ë¡œìš´ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸
</file>

<file path="src/main/java/com/globalcarelink/auth/Member.java">
import lombok.*;
â‹®----
public class Member extends BaseEntity {
â‹®----
public void updateProfile(String name, String phoneNumber, String language, String region) {
â‹®----
public void updatePassword(String encodedPassword) {
â‹®----
public void toggleJobSeekerStatus() {
â‹®----
public void deactivate() {
â‹®----
public void activate() {
â‹®----
public boolean isOverseasUser() {
â‹®----
public boolean isStaff() {
return this.role.isStaff();
</file>

<file path="src/main/java/com/globalcarelink/auth/MemberRole.java">
/**
 * íšŒì› ì—­í•  ì •ì˜ - ì‚¬ìš©ìì™€ êµ¬ì§ì ì™„ì „ ë¶„ë¦¬
 * 
 * ì—­í•  ë¶„ë¥˜:
 * 1. ê´€ë¦¬/ìš´ì˜ì§„: ADMIN, FACILITY, COORDINATOR
 * 2. í™˜ì/ê°€ì¡±: USER_DOMESTIC, USER_OVERSEAS (ìš”ì–‘ ì„œë¹„ìŠ¤ ì´ìš©ì)
 * 3. êµ¬ì§ì: JOB_SEEKER_DOMESTIC, JOB_SEEKER_OVERSEAS (ìš”ì–‘ ë¶„ì•¼ ì·¨ì—… í¬ë§ì)
 */
â‹®----
// === ê´€ë¦¬/ìš´ì˜ì§„ ===
â‹®----
// === í™˜ì/ê°€ì¡± (ìš”ì–‘ ì„œë¹„ìŠ¤ ì´ìš©ì) ===
â‹®----
// === êµ¬ì§ì (ìš”ì–‘ ë¶„ì•¼ ì·¨ì—… í¬ë§ì) ===
â‹®----
// === ì—­í•  ë¶„ë¥˜ ë©”ì„œë“œ ===
â‹®----
/**
     * í™˜ì/ê°€ì¡± ì‚¬ìš©ì ì—¬ë¶€
     */
public boolean isPatientFamily() {
â‹®----
/**
     * êµ¬ì§ì ì—¬ë¶€
     */
public boolean isJobSeeker() {
â‹®----
/**
     * ê´€ë¦¬/ìš´ì˜ì§„ ì—¬ë¶€
     */
public boolean isStaff() {
â‹®----
/**
     * í•´ì™¸ ê±°ì£¼ì ì—¬ë¶€ (ì¬ì™¸ë™í¬)
     */
public boolean isOverseas() {
â‹®----
/**
     * êµ­ë‚´ ê±°ì£¼ì ì—¬ë¶€
     */
public boolean isDomestic() {
â‹®----
/**
     * ì½”ë””ë„¤ì´í„° ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥ ì—¬ë¶€
     */
public boolean canUseCoordinatorService() {
return isPatientFamily(); // í™˜ì/ê°€ì¡±ë§Œ ì½”ë””ë„¤ì´í„° ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥
â‹®----
/**
     * êµ¬ì¸êµ¬ì§ ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥ ì—¬ë¶€
     */
public boolean canUseJobService() {
return isJobSeeker() || this == FACILITY; // êµ¬ì§ì + ì‹œì„¤íšŒì›(êµ¬ì¸)
â‹®----
/**
     * ê±´ê°• í‰ê°€ ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥ ì—¬ë¶€
     */
public boolean canUseHealthAssessment() {
return isPatientFamily(); // í™˜ì/ê°€ì¡±ë§Œ ê±´ê°• í‰ê°€ ê°€ëŠ¥
â‹®----
// === ë‚´ë¶€ ì—´ê±°í˜• ===
â‹®----
/**
     * íšŒì› ìœ í˜• ë¶„ë¥˜
     */
â‹®----
STAFF,          // ê´€ë¦¬/ìš´ì˜ì§„
PATIENT_FAMILY, // í™˜ì/ê°€ì¡±
JOB_SEEKER      // êµ¬ì§ì
</file>

<file path="src/main/java/com/globalcarelink/auth/MemberService.java">
public class MemberService {
â‹®----
public MemberResponse register(MemberRegisterRequest request) {
validateRegisterRequest(request);
â‹®----
if (memberRepository.existsByEmail(request.getEmail())) {
log.warn("íšŒì›ê°€ì… ì‹¤íŒ¨ - ì´ë©”ì¼ ì¤‘ë³µ: {}", SecurityUtil.maskEmail(request.getEmail()));
â‹®----
// ì…ë ¥ê°’ sanitize
String sanitizedEmail = ValidationUtil.sanitizeInput(request.getEmail()).toLowerCase();
String sanitizedName = ValidationUtil.sanitizeInput(request.getName());
String sanitizedPhoneNumber = ValidationUtil.sanitizeInput(request.getPhoneNumber());
String sanitizedLanguage = ValidationUtil.sanitizeInput(request.getLanguage());
String sanitizedRegion = ValidationUtil.sanitizeInput(request.getRegion());
â‹®----
Member member = Member.builder()
.email(sanitizedEmail)
.password(passwordEncoder.encode(request.getPassword()))
.name(sanitizedName)
.phoneNumber(sanitizedPhoneNumber)
.role(request.getRole())
.isJobSeeker(request.getIsJobSeeker())
.language(sanitizedLanguage)
.region(sanitizedRegion)
.build();
â‹®----
Member savedMember = memberRepository.save(member);
â‹®----
log.info("ìƒˆ íšŒì› ê°€ì… ì„±ê³µ: email={}, role={}, region={}",
SecurityUtil.maskEmail(savedMember.getEmail()),
savedMember.getRole(),
savedMember.getRegion());
â‹®----
return MemberResponse.from(savedMember);
â‹®----
public TokenResponse login(LoginRequest request) {
Member member = memberRepository.findByEmail(request.getEmail())
.orElseThrow(() -> new CustomException.Unauthorized("ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"));
â‹®----
if (!member.getIsActive()) {
â‹®----
if (!passwordEncoder.matches(request.getPassword(), member.getPassword())) {
â‹®----
String token = jwtTokenProvider.createToken(member.getEmail(), member.getRole().name());
log.info("ë¡œê·¸ì¸ ì„±ê³µ: email={}, role={}", member.getEmail(), member.getRole());
â‹®----
return TokenResponse.of(token, jwtExpiration, MemberResponse.from(member));
â‹®----
public MemberResponse findById(Long id) {
Member member = memberRepository.findById(id)
.orElseThrow(() -> new CustomException.NotFound("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì…ë‹ˆë‹¤"));
â‹®----
return MemberResponse.from(member);
â‹®----
public MemberResponse findByEmail(String email) {
Member member = memberRepository.findByEmail(email)
â‹®----
public MemberResponse updateProfile(Long id, MemberUpdateRequest request) {
â‹®----
member.updateProfile(
request.getName() != null ? request.getName() : member.getName(),
request.getPhoneNumber() != null ? request.getPhoneNumber() : member.getPhoneNumber(),
request.getLanguage() != null ? request.getLanguage() : member.getLanguage(),
request.getRegion() != null ? request.getRegion() : member.getRegion()
â‹®----
log.info("í”„ë¡œí•„ ì—…ë°ì´íŠ¸: email={}", member.getEmail());
â‹®----
public void toggleJobSeekerStatus(Long id) {
â‹®----
member.toggleJobSeekerStatus();
log.info("êµ¬ì§ì ìƒíƒœ ë³€ê²½: email={}, isJobSeeker={}", member.getEmail(), member.getIsJobSeeker());
â‹®----
public void deactivate(Long id) {
â‹®----
member.deactivate();
log.info("íšŒì› ë¹„í™œì„±í™”: email={}", member.getEmail());
â‹®----
public List<MemberResponse> findByRole(MemberRole role) {
return memberRepository.findByRole(role).stream()
.map(MemberResponse::from)
.toList();
â‹®----
public List<MemberResponse> findActiveJobSeekers() {
return memberRepository.findByIsJobSeekerAndIsActive(true, true).stream()
â‹®----
public long countByRole(MemberRole role) {
return memberRepository.countByRole(role);
â‹®----
private void validateRegisterRequest(MemberRegisterRequest request) {
// ì´ë©”ì¼ ê²€ì¦
if (!ValidationUtil.isValidEmail(request.getEmail())) {
throw new CustomException.BadRequest(ValidationUtil.getEmailValidationMessage());
â‹®----
// ë³´ì•ˆ ìœ„í—˜ íŒ¨í„´ ê²€ì‚¬
if (ValidationUtil.containsSuspiciousPattern(request.getEmail()) ||
ValidationUtil.containsSuspiciousPattern(request.getName()) ||
ValidationUtil.containsSuspiciousPattern(request.getRegion())) {
log.warn("íšŒì›ê°€ì… ì‹œë„ì—ì„œ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŒ¨í„´ ê°ì§€: email={}", SecurityUtil.maskEmail(request.getEmail()));
â‹®----
// SQL ì¸ì ì…˜ ê²€ì‚¬
if (SecurityUtil.containsSqlInjection(request.getEmail()) ||
SecurityUtil.containsSqlInjection(request.getName()) ||
SecurityUtil.containsSqlInjection(request.getRegion())) {
log.error("íšŒì›ê°€ì… ì‹œë„ì—ì„œ SQL ì¸ì ì…˜ íŒ¨í„´ ê°ì§€: email={}", SecurityUtil.maskEmail(request.getEmail()));
â‹®----
// ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦
if (!SecurityUtil.isSecurePassword(request.getPassword())) {
throw new CustomException.BadRequest(ValidationUtil.getPasswordValidationMessage());
â‹®----
// ì „í™”ë²ˆí˜¸ ê²€ì¦
if (StringUtils.hasText(request.getPhoneNumber()) &&
!ValidationUtil.isValidPhoneNumber(request.getPhoneNumber())) {
throw new CustomException.BadRequest(ValidationUtil.getPhoneValidationMessage());
â‹®----
// ì–¸ì–´ ì½”ë“œ ê²€ì¦
if (!ValidationUtil.isValidLanguageCode(request.getLanguage())) {
â‹®----
// ì§€ì—­ ê²€ì¦
if (!ValidationUtil.isValidRegion(request.getRegion())) {
â‹®----
// ì´ë¦„ ê²€ì¦ (í•œê¸€ ì´ë¦„ì¸ ê²½ìš°)
if (StringUtils.hasText(request.getLanguage()) &&
request.getLanguage().startsWith("ko") &&
!ValidationUtil.isValidKoreanName(request.getName())) {
log.info("í•œê¸€ ì´ë¦„ì´ ì•„ë‹Œ ì‚¬ìš©ì ê°€ì…: email={}, name length={}",
SecurityUtil.maskEmail(request.getEmail()),
request.getName().length());
â‹®----
// ì—­í• ë³„ ì¶”ê°€ ê²€ì¦
validateRoleSpecificRules(request);
â‹®----
private void validateRoleSpecificRules(MemberRegisterRequest request) {
switch (request.getRole()) {
â‹®----
if (!StringUtils.hasText(request.getRegion())) {
â‹®----
if (!StringUtils.hasText(request.getLanguage()) || "ko".equals(request.getLanguage())) {
log.info("í•´ì™¸ ì‚¬ìš©ìì´ì§€ë§Œ í•œêµ­ì–´ ì„¤ì •: email={}", SecurityUtil.maskEmail(request.getEmail()));
â‹®----
if (Boolean.TRUE.equals(request.getIsJobSeeker())) {
â‹®----
log.warn("ê´€ë¦¬ì ê³„ì • ìƒì„± ì‹œë„: email={}", SecurityUtil.maskEmail(request.getEmail()));
</file>

<file path="src/main/java/com/globalcarelink/common/config/SecurityConfig.java">
public class SecurityConfig {
â‹®----
public PasswordEncoder passwordEncoder() {
return new BCryptPasswordEncoder(12);
â‹®----
public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
â‹®----
.csrf(AbstractHttpConfigurer::disable)
.cors(cors -> cors.configurationSource(corsConfigurationSource()))
.sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
â‹®----
.headers(headers -> headers
.frameOptions().deny()
.contentTypeOptions().and()
.httpStrictTransportSecurity(hstsConfig -> hstsConfig
.maxAgeInSeconds(31536000))
.referrerPolicy(ReferrerPolicyHeaderWriter.ReferrerPolicy.STRICT_ORIGIN_WHEN_CROSS_ORIGIN)
â‹®----
.authorizeHttpRequests(auth -> auth
.requestMatchers("/api/auth/login", "/api/auth/register").permitAll()
.requestMatchers("/swagger-ui/**", "/v3/api-docs/**", "/swagger-resources/**").permitAll()
.requestMatchers("/actuator/health", "/actuator/info").permitAll()
.requestMatchers("/error").permitAll()
.requestMatchers("/api/health-assessments/statistics").hasRole("ADMIN")
.requestMatchers("/api/coordinator-matching/statistics").hasRole("ADMIN")
.requestMatchers("/api/coordinator-matching/simulate").hasRole("ADMIN")
.requestMatchers("/api/coordinator-matching/available").hasAnyRole("COORDINATOR", "ADMIN")
.requestMatchers("/api/health-assessments/**").hasAnyRole("USER_DOMESTIC", "USER_OVERSEAS", "COORDINATOR", "ADMIN")
.requestMatchers("/api/coordinator-matching/**").hasAnyRole("USER_DOMESTIC", "USER_OVERSEAS", "COORDINATOR", "ADMIN")
.requestMatchers("/api/profiles/**").hasAnyRole("USER_DOMESTIC", "USER_OVERSEAS", "COORDINATOR", "FACILITY", "ADMIN")
.requestMatchers("/api/members/**").hasAnyRole("USER_DOMESTIC", "USER_OVERSEAS", "COORDINATOR", "FACILITY", "ADMIN")
.anyRequest().authenticated()
â‹®----
.addFilterBefore(new JwtAuthenticationFilter(jwtTokenProvider),
â‹®----
.exceptionHandling(exceptions -> exceptions
.authenticationEntryPoint((request, response, authException) -> {
response.setStatus(401);
response.setContentType("application/json;charset=UTF-8");
response.getWriter().write("{\"error\":\"Unauthorized\",\"message\":\"ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤\"}");
â‹®----
.accessDeniedHandler((request, response, accessDeniedException) -> {
response.setStatus(403);
â‹®----
response.getWriter().write("{\"error\":\"Forbidden\",\"message\":\"ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤\"}");
â‹®----
return http.build();
â‹®----
public CorsConfigurationSource corsConfigurationSource() {
CorsConfiguration configuration = new CorsConfiguration();
â‹®----
configuration.setAllowedOriginPatterns(Arrays.asList(
â‹®----
configuration.setAllowedMethods(Arrays.asList("GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"));
â‹®----
configuration.setAllowedHeaders(Arrays.asList(
â‹®----
configuration.setExposedHeaders(Arrays.asList(
â‹®----
configuration.setAllowCredentials(true);
configuration.setMaxAge(3600L);
â‹®----
UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
source.registerCorsConfiguration("/**", configuration);
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorCareSettings.java">
import lombok.*;
â‹®----
public class CoordinatorCareSettings extends BaseEntity {
â‹®----
public boolean isEligibleForCareGrade(Integer careGrade) {
â‹®----
if (excludedCareGrades != null && excludedCareGrades.contains(careGrade)) return false;
if (preferredCareGrades != null && !preferredCareGrades.isEmpty()) {
return preferredCareGrades.contains(careGrade);
â‹®----
public boolean hasSpecialty(String specialty) {
return specialtyAreas != null && specialtyAreas.contains(specialty);
â‹®----
public double getSuccessRate() {
â‹®----
public boolean canTakeNewCase() {
return isActive && getCurrentActiveCases() < maxSimultaneousCases;
â‹®----
private int getCurrentActiveCases() {
â‹®----
private void updateTimestamp() {
this.lastUpdated = LocalDateTime.now();
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorCareSettingsRepository.java">
public interface CoordinatorCareSettingsRepository extends JpaRepository<CoordinatorCareSettings, Long> {
â‹®----
Optional<CoordinatorCareSettings> findByCoordinatorIdAndIsActiveTrue(String coordinatorId);
â‹®----
List<CoordinatorCareSettings> findByIsActiveTrueOrderByPerformanceScoreDesc();
â‹®----
List<CoordinatorCareSettings> findAvailableCoordinators();
â‹®----
List<CoordinatorCareSettings> findEligibleForCareGrade(@Param("careGrade") Integer careGrade);
â‹®----
List<CoordinatorCareSettings> findBySpecialty(@Param("specialty") String specialty);
â‹®----
List<CoordinatorCareSettings> findByMinSatisfaction(@Param("minSatisfaction") Double minSatisfaction);
â‹®----
List<CoordinatorCareSettings> findByWorkingRegion(@Param("region") String region);
â‹®----
List<CoordinatorCareSettings> findByAvailableWeekendsAndIsActiveTrue(Boolean availableWeekends);
â‹®----
List<CoordinatorCareSettings> findByAvailableEmergencyAndIsActiveTrue(Boolean availableEmergency);
â‹®----
Double getAverageCustomerSatisfaction();
â‹®----
Long getActiveCoordinatorCount();
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorCareSettingsService.java">
public class CoordinatorCareSettingsService {
â‹®----
public Optional<CoordinatorCareSettings> getCoordinatorSettings(String coordinatorId) {
return careSettingsRepository.findByCoordinatorIdAndIsActiveTrue(coordinatorId);
â‹®----
public CoordinatorCareSettings saveOrUpdateSettings(CoordinatorCareSettings settings) {
settings.setLastUpdated(LocalDateTime.now());
return careSettingsRepository.save(settings);
â‹®----
public List<CoordinatorCareSettings> getCoordinatorsBySpecialty(String specialty) {
return careSettingsRepository.findBySpecialty(specialty);
â‹®----
public List<CoordinatorCareSettings> getAvailableCoordinators() {
return careSettingsRepository.findAvailableCoordinators();
â‹®----
public List<CoordinatorCareSettings> getCoordinatorsByMinSatisfaction(Double minSatisfaction) {
return careSettingsRepository.findByMinSatisfaction(minSatisfaction);
â‹®----
public CoordinatorMatchingStatistics getMatchingStatistics() {
Long totalCoordinators = careSettingsRepository.getActiveCoordinatorCount();
Double avgSatisfaction = careSettingsRepository.getAverageCustomerSatisfaction();
List<CoordinatorCareSettings> availableCoordinators = getAvailableCoordinators();
â‹®----
return CoordinatorMatchingStatistics.builder()
.totalActiveCoordinators(totalCoordinators)
.averageCustomerSatisfaction(avgSatisfaction)
.availableCoordinators(availableCoordinators.size())
.build();
â‹®----
public MatchingSimulationResult runMatchingSimulation(MatchingSimulationRequest request) {
log.info("ë§¤ì¹­ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ - í‰ê°€ìˆ˜: {}, ì½”ë””ë„¤ì´í„°ìˆ˜: {}",
request.getHealthAssessmentCount(), request.getCoordinatorCount());
â‹®----
long startTime = System.currentTimeMillis();
â‹®----
List<CoordinatorCareSettings> allCoordinators = careSettingsRepository.findByIsActiveTrueOrderByPerformanceScoreDesc();
int totalMatches = Math.min(request.getHealthAssessmentCount(), allCoordinators.size() * 5);
â‹®----
long endTime = System.currentTimeMillis();
â‹®----
return MatchingSimulationResult.builder()
.totalHealthAssessments(request.getHealthAssessmentCount())
.totalCoordinators(request.getCoordinatorCount())
.successfulMatches(totalMatches)
.averageMatchingScore(4.2)
.executionTimeMs(executionTime)
.matchingSuccessRate((double) totalMatches / request.getHealthAssessmentCount() * 100)
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorMatch.java">
import lombok.*;
â‹®----
public class CoordinatorMatch {
â‹®----
public boolean isAvailable() {
â‹®----
public String getAvailabilityStatus() {
â‹®----
public String getExperienceLevel() {
â‹®----
public String getSatisfactionLevel() {
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorMatchingController.java">
public class CoordinatorMatchingController {
â‹®----
public ResponseEntity<List<CoordinatorMatch>> matchCoordinators(
â‹®----
log.info("ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ìš”ì²­ - í‰ê°€ID: {}, ì„ í˜¸ì–¸ì–´: {}",
healthAssessmentId, preference.getPreferredLanguage());
â‹®----
Optional<HealthAssessment> assessmentOpt = healthAssessmentService.getAssessmentById(healthAssessmentId);
if (assessmentOpt.isEmpty()) {
return ResponseEntity.notFound().build();
â‹®----
HealthAssessment assessment = assessmentOpt.get();
List<CoordinatorMatch> matches = matchingService.findOptimalMatches(assessment, preference);
â‹®----
log.info("ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì™„ë£Œ - í‰ê°€ID: {}, ë§¤ì¹­ê²°ê³¼: {}ëª…", healthAssessmentId, matches.size());
â‹®----
return ResponseEntity.ok(matches);
â‹®----
public ResponseEntity<List<CoordinatorMatch>> getCoordinatorsByLanguage(
â‹®----
log.info("ì–¸ì–´ë³„ ì½”ë””ë„¤ì´í„° ì¡°íšŒ - ì–¸ì–´: {}, êµ­ê°€: {}", languageCode, countryCode);
â‹®----
MatchingPreference preference = MatchingPreference.builder()
.preferredLanguage(languageCode)
.countryCode(countryCode)
.needsProfessionalConsultation(needsProfessionalConsultation)
.build();
â‹®----
HealthAssessment dummyAssessment = HealthAssessment.builder()
.mobilityLevel(2)
.eatingLevel(2)
.toiletLevel(2)
.communicationLevel(2)
.ltciGrade(4)
â‹®----
dummyAssessment.calculateAdlScore();
â‹®----
List<CoordinatorMatch> matches = matchingService.findOptimalMatches(dummyAssessment, preference);
â‹®----
public ResponseEntity<List<CoordinatorCareSettings>> getCoordinatorsBySpecialty(
â‹®----
log.info("ì „ë¬¸ë¶„ì•¼ë³„ ì½”ë””ë„¤ì´í„° ì¡°íšŒ - ë¶„ì•¼: {}", specialty);
â‹®----
List<CoordinatorCareSettings> coordinators = coordinatorCareSettingsService.getCoordinatorsBySpecialty(specialty);
â‹®----
return ResponseEntity.ok(coordinators);
â‹®----
public ResponseEntity<List<CoordinatorCareSettings>> getAvailableCoordinators() {
â‹®----
log.info("ê°€ìš©í•œ ì½”ë””ë„¤ì´í„° ì¡°íšŒ ìš”ì²­");
â‹®----
List<CoordinatorCareSettings> availableCoordinators = coordinatorCareSettingsService.getAvailableCoordinators();
â‹®----
return ResponseEntity.ok(availableCoordinators);
â‹®----
public ResponseEntity<CoordinatorMatchingStatistics> getMatchingStatistics() {
â‹®----
log.info("ì½”ë””ë„¤ì´í„° ë§¤ì¹­ í†µê³„ ì¡°íšŒ");
â‹®----
CoordinatorMatchingStatistics statistics = coordinatorCareSettingsService.getMatchingStatistics();
â‹®----
return ResponseEntity.ok(statistics);
â‹®----
public ResponseEntity<MatchingSimulationResult> simulateMatching(
â‹®----
log.info("ë§¤ì¹­ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘ - í‰ê°€ìˆ˜: {}, ì½”ë””ë„¤ì´í„°ìˆ˜: {}",
request.getHealthAssessmentCount(), request.getCoordinatorCount());
â‹®----
MatchingSimulationResult result = coordinatorCareSettingsService.runMatchingSimulation(request);
â‹®----
return ResponseEntity.ok(result);
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorMatchingStatistics.java">
import lombok.*;
â‹®----
public class CoordinatorMatchingStatistics {
â‹®----
public String getSatisfactionLevel() {
â‹®----
public double getAvailabilityRate() {
</file>

<file path="src/main/java/com/globalcarelink/coordinator/CoordinatorWorkloadOptimizer.java">
public class CoordinatorWorkloadOptimizer {
â‹®----
public List<CoordinatorMatch> optimizeWorkloadDistribution(List<CoordinatorMatch> matches) {
return matches.stream()
.map(match -> {
double workloadScore = calculateWorkloadScore(match);
â‹®----
double adjustedScore = match.getMatchScore() + (workloadScore * 0.3);
â‹®----
String workloadReason = generateWorkloadReason(workloadScore);
String combinedReason = match.getMatchReason() + "\n" + workloadReason;
â‹®----
return CoordinatorMatch.builder()
.coordinatorId(match.getCoordinatorId())
.name(match.getName())
.matchScore(Math.min(adjustedScore, 5.0))
.matchReason(combinedReason)
.experienceYears(match.getExperienceYears())
.successfulCases(match.getSuccessfulCases())
.customerSatisfaction(match.getCustomerSatisfaction())
.specialtyAreas(match.getSpecialtyAreas())
.compatibleCareGrades(match.getCompatibleCareGrades())
.languageSkills(match.getLanguageSkills())
.availableWeekends(match.getAvailableWeekends())
.availableEmergency(match.getAvailableEmergency())
.workingRegions(match.getWorkingRegions())
.currentActiveCases(match.getCurrentActiveCases())
.maxSimultaneousCases(match.getMaxSimultaneousCases())
.workloadRatio(match.getWorkloadRatio())
.build();
â‹®----
.sorted(Comparator.comparing(CoordinatorMatch::getMatchScore).reversed())
.collect(Collectors.toList());
â‹®----
private double calculateWorkloadScore(CoordinatorMatch match) {
double workloadRatio = match.getWorkloadRatio();
â‹®----
private String generateWorkloadReason(double workloadScore) {
</file>

<file path="src/main/java/com/globalcarelink/coordinator/MatchingExplanationGenerator.java">
public class MatchingExplanationGenerator {
â‹®----
public String generateMatchReason(CoordinatorCareSettings coordinator, HealthAssessment assessment, double matchScore) {
StringBuilder reason = new StringBuilder();
â‹®----
if (isSpecialtyMatch(coordinator, assessment)) {
reason.append("ğŸ¯ ì „ë¬¸ ë¶„ì•¼ ì™„ë²½ ë§¤ì¹­: ");
reason.append(getSpecialtyDescription(coordinator, assessment));
reason.append("\n");
â‹®----
int experience = coordinator.getExperienceYears();
reason.append("ğŸ“Š ê²½ë ¥: ").append(experience).append("ë…„ (");
if (experience >= 10) reason.append("ìµœê³  ì „ë¬¸ê°€");
else if (experience >= 5) reason.append("ìˆ™ë ¨ ì „ë¬¸ê°€");
else if (experience >= 2) reason.append("ê²½ë ¥ì");
else reason.append("ì‹ ì…");
reason.append(")\n");
â‹®----
double satisfaction = coordinator.getCustomerSatisfaction();
reason.append("â­ ê³ ê° ë§Œì¡±ë„: ").append(satisfaction).append("/5.0");
if (satisfaction >= 4.5) reason.append(" (ìµœìš°ìˆ˜)");
else if (satisfaction >= 4.0) reason.append(" (ìš°ìˆ˜)");
else if (satisfaction >= 3.5) reason.append(" (ì–‘í˜¸)");
â‹®----
int successfulCases = coordinator.getSuccessfulCases();
int totalCases = coordinator.getTotalCases();
â‹®----
reason.append("ğŸ† ì„±ê³µë¥ : ").append(String.format("%.1f", successRate))
.append("% (").append(successfulCases).append("/").append(totalCases).append("ê±´)\n");
â‹®----
reason.append("ğŸ’¼ ì „ì²´ ë§¤ì¹­ ì ìˆ˜: ").append(String.format("%.1f", matchScore)).append("/5.0");
â‹®----
return reason.toString();
â‹®----
private boolean isSpecialtyMatch(CoordinatorCareSettings coordinator, HealthAssessment assessment) {
if (coordinator.getSpecialtyAreas() == null || coordinator.getSpecialtyAreas().isEmpty()) {
â‹®----
if (assessment.getLtciGrade() == 6 || assessment.getCommunicationLevel() == 3) {
if (coordinator.hasSpecialty("dementia")) return true;
â‹®----
if (assessment.getCareGradeLevel() <= 2) {
if (coordinator.hasSpecialty("medical")) return true;
â‹®----
if (assessment.getMobilityLevel() >= 2) {
if (coordinator.hasSpecialty("rehabilitation")) return true;
â‹®----
private String getSpecialtyDescription(CoordinatorCareSettings coordinator, HealthAssessment assessment) {
StringBuilder description = new StringBuilder();
â‹®----
if (coordinator.hasSpecialty("dementia")) {
description.append("ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´");
â‹®----
if (coordinator.hasSpecialty("medical")) {
if (description.length() > 0) description.append(", ");
description.append("ì˜ë£Œ ì „ë¬¸ ì¼€ì–´");
â‹®----
if (coordinator.hasSpecialty("rehabilitation")) {
â‹®----
description.append("ì¬í™œ ì „ë¬¸ ì¼€ì–´");
â‹®----
return description.toString();
</file>

<file path="src/main/java/com/globalcarelink/coordinator/MatchingPreference.java">
import lombok.*;
â‹®----
public class MatchingPreference {
â‹®----
public Integer getMaxResults() {
â‹®----
public Double getMinCustomerSatisfaction() {
</file>

<file path="src/main/java/com/globalcarelink/coordinator/MatchingSimulationRequest.java">
import lombok.*;
â‹®----
public class MatchingSimulationRequest {
â‹®----
private String simulationType; // RANDOM, REALISTIC, STRESS_TEST
</file>

<file path="src/main/java/com/globalcarelink/coordinator/MatchingSimulationResult.java">
import lombok.*;
â‹®----
public class MatchingSimulationResult {
â‹®----
private LocalDateTime simulationTime = LocalDateTime.now();
â‹®----
public Integer getFailedMatches() {
â‹®----
public String getPerformanceLevel() {
â‹®----
public String getSuccessRateLevel() {
</file>

<file path="src/main/java/com/globalcarelink/coordinator/OptimizedCoordinatorMatchingService.java">
public class OptimizedCoordinatorMatchingService {
â‹®----
public List<CoordinatorMatch> findOptimalMatches(HealthAssessment assessment, MatchingPreference preference) {
log.info("ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œì‘ - ì¼€ì–´ë“±ê¸‰: {}, ì–¸ì–´: {}",
assessment.getOverallCareGrade(), preference.getPreferredLanguage());
â‹®----
List<CoordinatorCareSettings> eligibleCoordinators = filterByBasicQualifications(assessment);
log.debug("1ë‹¨ê³„ ê¸°ë³¸ ìê²© í•„í„°ë§: {}ëª…", eligibleCoordinators.size());
â‹®----
List<CoordinatorCareSettings> settingsMatched = filterByCoordinatorSettings(eligibleCoordinators, assessment);
log.debug("2ë‹¨ê³„ ì½”ë””ë„¤ì´í„° ì„¤ì • ë§¤ì¹­: {}ëª…", settingsMatched.size());
â‹®----
List<CoordinatorMatch> scoredMatches = calculateOptimalMatches(settingsMatched, assessment, preference);
log.debug("3ë‹¨ê³„ AI ìŠ¤ì½”ì–´ë§ ì™„ë£Œ: {}ê±´", scoredMatches.size());
â‹®----
List<CoordinatorMatch> optimizedMatches = workloadOptimizer.optimizeWorkloadDistribution(scoredMatches);
log.info("ë§¤ì¹­ ì™„ë£Œ - ì´ {}ëª…ì˜ ì½”ë””ë„¤ì´í„° ë§¤ì¹­", optimizedMatches.size());
â‹®----
return optimizedMatches.stream()
.limit(preference.getMaxResults())
.collect(Collectors.toList());
â‹®----
public void evictMatchingCache() {
log.info("ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ìºì‹œ ì‚­ì œ");
â‹®----
private List<CoordinatorCareSettings> filterByBasicQualifications(HealthAssessment assessment) {
Integer careGrade = assessment.getCareGradeLevel();
return careSettingsRepository.findEligibleForCareGrade(careGrade);
â‹®----
private List<CoordinatorCareSettings> filterByCoordinatorSettings(
â‹®----
return coordinators.stream()
.filter(coordinator -> coordinator.isEligibleForCareGrade(assessment.getCareGradeLevel()))
.filter(CoordinatorCareSettings::canTakeNewCase)
â‹®----
private List<CoordinatorMatch> calculateOptimalMatches(
â‹®----
.map(coordinator -> createCoordinatorMatch(coordinator, assessment, preference))
.sorted(Comparator.comparing(CoordinatorMatch::getMatchScore).reversed())
â‹®----
private List<CoordinatorLanguageSkill> getCoordinatorLanguageSkills(String coordinatorId) {
return languageSkillRepository.findByCoordinatorIdAndIsActiveTrueOrderByPriorityOrder(coordinatorId);
â‹®----
private CoordinatorMatch createCoordinatorMatch(
â‹®----
double matchScore = calculateComprehensiveMatchScore(coordinator, assessment, preference);
String matchReason = explanationGenerator.generateMatchReason(coordinator, assessment, matchScore);
â‹®----
List<CoordinatorLanguageSkill> languageSkills = getCoordinatorLanguageSkills(coordinator.getCoordinatorId());
â‹®----
return CoordinatorMatch.builder()
.coordinatorId(coordinator.getCoordinatorId())
.matchScore(matchScore)
.matchReason(matchReason)
.experienceYears(coordinator.getExperienceYears())
.successfulCases(coordinator.getSuccessfulCases())
.customerSatisfaction(coordinator.getCustomerSatisfaction())
.specialtyAreas(coordinator.getSpecialtyAreas())
.compatibleCareGrades(coordinator.getPreferredCareGrades())
.languageSkills(languageSkills)
.availableWeekends(coordinator.getAvailableWeekends())
.availableEmergency(coordinator.getAvailableEmergency())
.workingRegions(coordinator.getWorkingRegions())
.currentActiveCases(getCurrentActiveCases(coordinator.getCoordinatorId()))
.maxSimultaneousCases(coordinator.getMaxSimultaneousCases())
.workloadRatio(calculateWorkloadRatio(coordinator))
.build();
â‹®----
private double calculateComprehensiveMatchScore(
â‹®----
score += calculateSpecialtyMatchScore(coordinator, assessment) * 0.4;
score += calculateExperienceScore(coordinator) * 0.25;
score += coordinator.getCustomerSatisfaction() * 0.2;
score += calculateLocationScore(coordinator, preference) * 0.1;
score += calculateAvailabilityBonus(coordinator) * 0.05;
â‹®----
return Math.min(score, 5.0);
â‹®----
private double calculateSpecialtyMatchScore(CoordinatorCareSettings coordinator, HealthAssessment assessment) {
â‹®----
if (assessment.getLtciGrade() == 6 || assessment.getCommunicationLevel() == 3) {
if (coordinator.hasSpecialty("dementia")) {
â‹®----
if (assessment.getCareGradeLevel() <= 2 || assessment.getCareTargetStatus() <= 2) {
if (coordinator.hasSpecialty("medical")) {
â‹®----
if (assessment.getMobilityLevel() >= 2) {
if (coordinator.hasSpecialty("rehabilitation")) {
â‹®----
return Math.min(specialtyScore, 5.0);
â‹®----
private double calculateExperienceScore(CoordinatorCareSettings coordinator) {
int experience = coordinator.getExperienceYears();
double successRate = coordinator.getSuccessRate();
â‹®----
return Math.min(baseScore + (successRate * 1.0), 5.0);
â‹®----
private double calculateLocationScore(CoordinatorCareSettings coordinator, MatchingPreference preference) {
if (preference.getPreferredRegion() == null) return 3.0;
â‹®----
if (coordinator.getWorkingRegions() != null &&
coordinator.getWorkingRegions().contains(preference.getPreferredRegion())) {
â‹®----
private double calculateAvailabilityBonus(CoordinatorCareSettings coordinator) {
double workloadRatio = calculateWorkloadRatio(coordinator);
â‹®----
private double calculateWorkloadRatio(CoordinatorCareSettings coordinator) {
int currentCases = getCurrentActiveCases(coordinator.getCoordinatorId());
return (double) currentCases / coordinator.getMaxSimultaneousCases();
â‹®----
private int getCurrentActiveCases(String coordinatorId) {
</file>

<file path="src/main/java/com/globalcarelink/health/CareGradeCalculator.java">
/**
 * ì¼€ì–´ ë“±ê¸‰ ê³„ì‚°ê¸°
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ì‹œìŠ¤í…œ êµ¬í˜„
 */
â‹®----
public class CareGradeCalculator {
â‹®----
/**
     * ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ê³„ì‚° (KBë¼ì´í”„ìƒëª… ìš°ì„ ìˆœìœ„ ë¡œì§ ì ìš©)
     * ADL ì ìˆ˜ + ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ + ëŒë´„ëŒ€ìƒì ìƒíƒœë¥¼ ì¢…í•©í•˜ì—¬ ì‚°ì¶œ
     */
public CareGradeResult calculateComprehensiveGrade(HealthAssessment assessment) {
log.debug("ì¼€ì–´ ë“±ê¸‰ ê³„ì‚° ì‹œì‘ - íšŒì›: {}", assessment.getMemberId());
â‹®----
// 1. ê¸°ë³¸ ADL ì ìˆ˜ ê³„ì‚°
int adlScore = calculateADLScore(assessment);
assessment.setAdlScore(adlScore);
â‹®----
// 2. ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ë°˜ì˜
int ltciGrade = assessment.getLtciGrade() != null ? assessment.getLtciGrade() : 8;
â‹®----
// 3. ëŒë´„ëŒ€ìƒì ìƒíƒœ ë°˜ì˜
int careTargetStatus = assessment.getCareTargetStatus() != null ? assessment.getCareTargetStatus() : 4;
â‹®----
// 4. ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ë„ì¶œ (KBë¼ì´í”„ìƒëª… ìš°ì„ ìˆœìœ„ ë°©ì‹)
CareGradeResult result = determineOverallCareGrade(assessment, adlScore, ltciGrade, careTargetStatus);
â‹®----
// 5. í‰ê°€ ê²°ê³¼ ì €ì¥
assessment.setOverallCareGrade(result.getGradeName());
â‹®----
log.info("ì¼€ì–´ ë“±ê¸‰ ê³„ì‚° ì™„ë£Œ - íšŒì›: {}, ADLì ìˆ˜: {}, ì¢…í•©ë“±ê¸‰: {}, íŠ¹í™”ì¼€ì–´: {}",
assessment.getMemberId(), adlScore, result.getGradeName(), assessment.getSpecializedCareType());
â‹®----
/**
     * ADL ì ìˆ˜ ê³„ì‚° (ì¼ìƒìƒí™œìˆ˜í–‰ëŠ¥ë ¥)
     * ê° ì˜ì—­ë³„ ê°€ì¤‘ì¹˜ ì ìš©:
     * - ê±·ê¸°: 25%
     * - ì‹ì‚¬: 20%  
     * - ë°°ë³€: 30%
     * - ì˜ì‚¬ì†Œí†µ: 25%
     */
private int calculateADLScore(HealthAssessment assessment) {
int mobility = assessment.getMobilityLevel();
int eating = assessment.getEatingLevel();
int toilet = assessment.getToiletLevel();
int communication = assessment.getCommunicationLevel();
â‹®----
// ê° ì˜ì—­ë³„ ê°€ì¤‘ì¹˜ ì ìš© (1-3ì ì„ 25-75ì ìœ¼ë¡œ í™˜ì‚°)
int mobilityScore = mobility * 25;        // 25, 50, 75
int eatingScore = eating * 20;            // 20, 40, 60
int toiletScore = toilet * 30;            // 30, 60, 90
int communicationScore = communication * 25; // 25, 50, 75
â‹®----
log.debug("ADL ì ìˆ˜ ê³„ì‚° - ê±·ê¸°:{}({}ì ), ì‹ì‚¬:{}({}ì ), ë°°ë³€:{}({}ì ), ì˜ì‚¬ì†Œí†µ:{}({}ì ) = ì´ {}ì ",
â‹®----
/**
     * ì¢…í•© ì¼€ì–´ ë“±ê¸‰ ê²°ì • (KBë¼ì´í”„ìƒëª… ìš°ì„ ìˆœìœ„ ë¡œì§ ì ìš©)
     */
private CareGradeResult determineOverallCareGrade(HealthAssessment assessment, int adlScore, int ltciGrade, int careTargetStatus) {
â‹®----
// === 1ë‹¨ê³„: íŠ¹ìˆ˜ ìƒí™© ìš°ì„  ì ìš© (KBë¼ì´í”„ìƒëª… ë°©ì‹) ===
if (careTargetStatus == 1) { // 6ê°œì›” ì´í•˜ ê¸°ëŒ€ìˆ˜ëª…
return createHospiceGrade("ìƒëª…ìœ„í—˜ ê³ ë„", "6ê°œì›” ì´í•˜ ê¸°ëŒ€ìˆ˜ëª… ìƒíƒœ");
â‹®----
if (careTargetStatus == 2) { // íšŒë³µ ì–´ë ¤ìš´ ìƒí™©
return createHospiceGrade("ìƒëª…ìœ„í—˜ ì¤‘ë“±ë„", "ì§ˆë³‘ íšŒë³µì´ ì–´ë ¤ìš´ ìƒí™©");
â‹®----
if (careTargetStatus == 3) { // ì™„ì „ ì˜ì¡´ì  ìƒíƒœ
return CareGradeResult.builder()
.gradeLevel(1)
.gradeName("1ë“±ê¸‰ (ìµœì¤‘ì¦ - ì™„ì „ì˜ì¡´)")
.description("ì™„ì „íˆ íƒ€ì¸ì—ê²Œ ì˜ì¡´ì ì¸ ìƒíƒœ")
.recommendedFacilityTypes("ì „ë¬¸ ìš”ì–‘ë³‘ì›, Aë“±ê¸‰ ìš”ì–‘ì‹œì„¤")
.urgencyLevel("ë§¤ìš° ë†’ìŒ")
.medicalSupport("ì˜ë£Œì§„ 24ì‹œê°„ ìƒì£¼")
.build();
â‹®----
// === 2ë‹¨ê³„: ì¤‘ì¦ ì§€í‘œ ìš°ì„  ì²´í¬ (KBë¼ì´í”„ìƒëª… ë°©ì‹) ===
â‹®----
// ê²½ê´€ì‹(íŠœë¸Œ ì£¼ì…) ë˜ëŠ” ë°°ë³€í™œë™ ì™„ì „ë„ì›€ â†’ ìµœì¤‘ì¦ íŒì •
if ((assessment.getMealType() != null && assessment.getMealType() == 3) ||
(assessment.getToiletLevel() != null && assessment.getToiletLevel() == 3)) {
â‹®----
.gradeName("1ë“±ê¸‰ (ìµœì¤‘ì¦ - ì¤‘ì¦ì§€í‘œ)")
.description("ê²½ê´€ì‹ ë˜ëŠ” ë°°ë³€í™œë™ ì™„ì „ë„ì›€ í•„ìš”")
.recommendedFacilityTypes("ìš”ì–‘ë³‘ì›, ì „ë¬¸ ê°„ë³‘ì‹œì„¤")
â‹®----
.medicalSupport("ì˜ë£Œì§„ ë° ì „ë¬¸ ê°„ë³‘ì¸ ìƒì£¼")
â‹®----
// === 3ë‹¨ê³„: ì¸ì§€ì§€ì›ë“±ê¸‰ (ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´) ===
â‹®----
return createDementiaGrade(assessment);
â‹®----
// === 4ë‹¨ê³„: ì¥ê¸°ìš”ì–‘ë“±ê¸‰ ê¸°ë°˜ íŒì • (1-5ë“±ê¸‰) ===
â‹®----
return createLtciBasedGrade(ltciGrade, adlScore, assessment);
â‹®----
// === 5ë‹¨ê³„: ì¥ê¸°ìš”ì–‘ë“±ê¸‰ì´ ì—†ëŠ” ê²½ìš° ADL ì ìˆ˜ ê¸°ë°˜ ì¶”ì • ===
return createAdlBasedGrade(adlScore, assessment);
â‹®----
/**
     * í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ ë“±ê¸‰ ìƒì„±
     */
private CareGradeResult createHospiceGrade(String severityLevel, String description) {
â‹®----
.gradeLevel(0) // íŠ¹ë³„ ë“±ê¸‰
.gradeName("í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ (" + severityLevel + ")")
.description(description)
.recommendedFacilityTypes("í˜¸ìŠ¤í”¼ìŠ¤ ì „ë¬¸ì‹œì„¤, ì™„í™”ì˜ë£Œì„¼í„°")
.urgencyLevel("ìµœìš°ì„ ")
.medicalSupport("ì™„í™”ì˜ë£Œ ì „ë¬¸ì˜, 24ì‹œê°„ ì¼€ì–´íŒ€")
â‹®----
/**
     * ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´ ë“±ê¸‰ ìƒì„± (ì§ˆí™˜ ì •ë³´ ë°˜ì˜)
     */
private CareGradeResult createDementiaGrade(HealthAssessment assessment) {
â‹®----
// ì§ˆí™˜ ì •ë³´ê°€ ìˆìœ¼ë©´ ë” ì„¸ë°€í•œ ì¶”ì²œ
if (assessment != null && assessment.getDiseaseTypes() != null) {
if (assessment.getDiseaseTypes().contains("PARKINSON")) {
â‹®----
} else if (assessment.getDiseaseTypes().contains("STROKE")) {
â‹®----
.gradeLevel(6)
.gradeName("ì¸ì§€ì§€ì›ë“±ê¸‰ (ì¹˜ë§¤ ì „ë¬¸)")
â‹®----
.recommendedFacilityTypes(facilityTypes)
.urgencyLevel("ë†’ìŒ")
.medicalSupport("ì¹˜ë§¤ ì „ë¬¸ì˜, ì¸ì§€ì¬í™œ í”„ë¡œê·¸ë¨")
â‹®----
/**
     * ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ê¸°ë°˜ ì¼€ì–´ ë“±ê¸‰ ìƒì„± (ì§ˆí™˜ ì •ë³´ ë°˜ì˜)
     */
private CareGradeResult createLtciBasedGrade(int ltciGrade, int adlScore, HealthAssessment assessment) {
â‹®----
.gradeName("1ë“±ê¸‰ (ìµœì¤‘ì¦)")
.description("24ì‹œê°„ ì „ë¬¸ ì¼€ì–´ê°€ í•„ìš”í•œ ìµœì¤‘ì¦ ìƒíƒœ")
.recommendedFacilityTypes("ìš”ì–‘ë³‘ì›, Aë“±ê¸‰ ìš”ì–‘ì‹œì„¤")
â‹®----
.medicalSupport("ì˜ì‚¬ ë° ê°„í˜¸ì‚¬ 24ì‹œê°„ ìƒì£¼")
â‹®----
.gradeLevel(2)
.gradeName("2ë“±ê¸‰ (ì¤‘ì¦)")
.description("ì§‘ì¤‘ì ì¸ ì˜ë£Œ ì§€ì›ì´ í•„ìš”í•œ ì¤‘ì¦ ìƒíƒœ")
.recommendedFacilityTypes("ìš”ì–‘ë³‘ì›, A-Bë“±ê¸‰ ìš”ì–‘ì‹œì„¤")
â‹®----
.medicalSupport("ê°„í˜¸ì‚¬ ìƒì£¼, ì˜ì‚¬ ì •ê¸° ë°©ë¬¸")
â‹®----
.gradeLevel(3)
.gradeName("3ë“±ê¸‰ (ì¤‘ë“±ì¦)")
.description("ì¼ìƒ í™œë™ì— ìƒë‹¹í•œ ë„ì›€ì´ í•„ìš”í•œ ìƒíƒœ")
.recommendedFacilityTypes("ìš”ì–‘ì‹œì„¤, ë…¸ì¸ìš”ì–‘ê³µë™ìƒí™œê°€ì •")
.urgencyLevel("ë³´í†µ")
.medicalSupport("ìš”ì–‘ë³´í˜¸ì‚¬ ë° ê°„í˜¸ì¡°ë¬´ì‚¬")
â‹®----
.gradeLevel(4)
.gradeName("4ë“±ê¸‰ (ê²½ì¦)")
.description("ë¶€ë¶„ì ì¸ ë„ì›€ì´ í•„ìš”í•œ ê²½ì¦ ìƒíƒœ")
.recommendedFacilityTypes("ì£¼ì•¼ê°„ë³´í˜¸ì‹œì„¤, ì¬ê°€ë³µì§€ì‹œì„¤")
.urgencyLevel("ë‚®ìŒ")
.medicalSupport("ìš”ì–‘ë³´í˜¸ì‚¬, ì •ê¸° ê±´ê°• ì²´í¬")
â‹®----
.gradeLevel(5)
.gradeName("5ë“±ê¸‰ (ê²½ì¦)")
.description("ê¸°ë³¸ì ì¸ ì§€ì›ì´ í•„ìš”í•œ ê²½ì¦ ìƒíƒœ")
.recommendedFacilityTypes("ì£¼ì•¼ê°„ë³´í˜¸ì‹œì„¤, ë°©ë¬¸ìš”ì–‘ì„œë¹„ìŠ¤")
â‹®----
.medicalSupport("ìš”ì–‘ë³´í˜¸ì‚¬, ì›”ê°„ ê±´ê°• ê´€ë¦¬")
â‹®----
/**
     * ADL ì ìˆ˜ ê¸°ë°˜ ì¼€ì–´ ë“±ê¸‰ ì¶”ì • (ì¥ê¸°ìš”ì–‘ë“±ê¸‰ì´ ì—†ëŠ” ê²½ìš°, ì§ˆí™˜ ì •ë³´ ë°˜ì˜)
     */
private CareGradeResult createAdlBasedGrade(int adlScore, HealthAssessment assessment) {
â‹®----
.gradeName("ì¶”ì • 1ë“±ê¸‰ (ìµœì¤‘ì¦)")
.description("ADL ì ìˆ˜ ê¸°ë°˜ ìµœì¤‘ì¦ìœ¼ë¡œ ì¶”ì •ë¨ (ì¥ê¸°ìš”ì–‘ë“±ê¸‰ ì‹ ì²­ ê¶Œì¥)")
.recommendedFacilityTypes("ìš”ì–‘ë³‘ì›, ì „ë¬¸ ìš”ì–‘ì‹œì„¤")
â‹®----
.medicalSupport("ì „ë¬¸ ì˜ë£Œì§„ ìƒë‹´ í•„ìš”")
â‹®----
.gradeName("ì¶”ì • 2ë“±ê¸‰ (ì¤‘ì¦)")
.description("ADL ì ìˆ˜ ê¸°ë°˜ ì¤‘ì¦ìœ¼ë¡œ ì¶”ì •ë¨ (ì¥ê¸°ìš”ì–‘ë“±ê¸‰ ì‹ ì²­ ê¶Œì¥)")
.recommendedFacilityTypes("ìš”ì–‘ì‹œì„¤, ì˜ë£Œ ì—°ê³„ ì‹œì„¤")
â‹®----
.medicalSupport("ì˜ë£Œì§„ ì •ê¸° ìƒë‹´ ê¶Œì¥")
â‹®----
.gradeName("ì¶”ì • 3ë“±ê¸‰ (ì¤‘ë“±ì¦)")
.description("ADL ì ìˆ˜ ê¸°ë°˜ ì¤‘ë“±ì¦ìœ¼ë¡œ ì¶”ì •ë¨")
.recommendedFacilityTypes("ì¼ë°˜ ìš”ì–‘ì‹œì„¤, ê³µë™ìƒí™œê°€ì •")
â‹®----
.medicalSupport("ìš”ì–‘ë³´í˜¸ì‚¬ ìƒì£¼")
â‹®----
.gradeName("ì¶”ì • 4ë“±ê¸‰ (ê²½ì¦)")
.description("ADL ì ìˆ˜ ê¸°ë°˜ ê²½ì¦ìœ¼ë¡œ ì¶”ì •ë¨")
.recommendedFacilityTypes("ì£¼ì•¼ê°„ë³´í˜¸ì‹œì„¤, ì¬ê°€ì„œë¹„ìŠ¤")
â‹®----
.medicalSupport("ì •ê¸° ê±´ê°• ê´€ë¦¬")
â‹®----
.gradeName("ì¶”ì • 5ë“±ê¸‰ (ê²½ì¦)")
â‹®----
.recommendedFacilityTypes("ë°©ë¬¸ìš”ì–‘ì„œë¹„ìŠ¤, ìƒí™œ ì§€ì›")
â‹®----
.medicalSupport("ì›”ê°„ ê±´ê°• ì²´í¬")
â‹®----
/**
     * ì¼€ì–´ ë“±ê¸‰ ê²°ê³¼ DTO
     */
â‹®----
public static class CareGradeResult {
private final int gradeLevel;           // ë“±ê¸‰ ë ˆë²¨ (1-6)
private final String gradeName;         // ë“±ê¸‰ëª…
private final String description;       // ìƒíƒœ ì„¤ëª…
private final String recommendedFacilityTypes; // ì¶”ì²œ ì‹œì„¤ ìœ í˜•
private final String urgencyLevel;      // ê¸´ê¸‰ë„ (ë§¤ìš° ë†’ìŒ, ë†’ìŒ, ë³´í†µ, ë‚®ìŒ)
private final String medicalSupport;    // í•„ìš”í•œ ì˜ë£Œ ì§€ì›
â‹®----
/**
         * ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ìš°ì„ ìˆœìœ„ ë°˜í™˜
         */
public String getCoordinatorMatchingPriority() {
â‹®----
/**
         * ì˜ˆìƒ ì›” ë¹„ìš© ë²”ìœ„ (ë‹¨ìœ„: ë§Œì›)
         */
public String getEstimatedMonthlyCost() {
</file>

<file path="src/main/java/com/globalcarelink/health/HealthAssessmentRepository.java">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
 */
â‹®----
public interface HealthAssessmentRepository extends JpaRepository<HealthAssessment, Long> {
â‹®----
/**
     * íšŒì›ë³„ ìµœì‹  ê±´ê°• í‰ê°€ ì¡°íšŒ
     */
Optional<HealthAssessment> findTopByMemberIdOrderByAssessmentDateDesc(String memberId);
â‹®----
/**
     * íšŒì›ë³„ ëª¨ë“  ê±´ê°• í‰ê°€ ì´ë ¥ ì¡°íšŒ (ìµœì‹ ìˆœ)
     */
List<HealthAssessment> findByMemberIdOrderByAssessmentDateDesc(String memberId);
â‹®----
/**
     * íšŒì›ë³„ ê±´ê°• í‰ê°€ í˜ì´ì§• ì¡°íšŒ
     */
Page<HealthAssessment> findByMemberIdOrderByAssessmentDateDesc(String memberId, Pageable pageable);
â‹®----
/**
     * ì™„ì„±ëœ í‰ê°€ë§Œ ì¡°íšŒ
     */
â‹®----
List<HealthAssessment> findCompleteAssessments();
â‹®----
/**
     * íŠ¹ì • ì¼€ì–´ ë“±ê¸‰ ë²”ìœ„ì˜ í‰ê°€ ì¡°íšŒ
     */
â‹®----
List<HealthAssessment> findByCareGradeRange(@Param("minGrade") Integer minGrade, @Param("maxGrade") Integer maxGrade);
â‹®----
/**
     * ADL ì ìˆ˜ ë²”ìœ„ë³„ ì¡°íšŒ
     */
â‹®----
List<HealthAssessment> findByAdlScoreRange(@Param("minScore") Integer minScore, @Param("maxScore") Integer maxScore);
â‹®----
/**
     * ì¬ì™¸ë™í¬ ëŒ€ìƒ í‰ê°€ ì¡°íšŒ (Member ì—”í‹°í‹°ì™€ ì¡°ì¸ í•„ìš” - ì¶”í›„ êµ¬í˜„)
     */
â‹®----
List<HealthAssessment> findOverseasKoreanAssessments();
â‹®----
/**
     * íŠ¹ì • ê¸°ê°„ ë‚´ í‰ê°€ ì¡°íšŒ
     */
List<HealthAssessment> findByAssessmentDateBetween(LocalDateTime startDate, LocalDateTime endDate);
â‹®----
/**
     * ì¼€ì–´ ë“±ê¸‰ë³„ í†µê³„
     */
â‹®----
List<Map<String, Object>> findCareGradeStatistics();
â‹®----
/**
     * ADL ì ìˆ˜ êµ¬ê°„ë³„ í†µê³„
     */
â‹®----
List<Map<String, Object>> findAdlScoreDistribution();
â‹®----
/**
     * ì—°ë ¹ëŒ€ë³„ ì¼€ì–´ ë“±ê¸‰ ë¶„í¬
     */
â‹®----
List<Map<String, Object>> findAgeGroupCareGradeDistribution();
â‹®----
/**
     * ì„±ë³„ ì¼€ì–´ íŒ¨í„´ ë¶„ì„
     */
â‹®----
List<Map<String, Object>> findGenderCarePatternAnalysis();
â‹®----
/**
     * ìµœê·¼ 30ì¼ í‰ê°€ í˜„í™©
     */
â‹®----
Long countRecentAssessments(@Param("thirtyDaysAgo") LocalDateTime thirtyDaysAgo);
â‹®----
/**
     * ë¯¸ì™„ì„± í‰ê°€ ì¡°íšŒ
     */
â‹®----
List<HealthAssessment> findIncompleteAssessments();
â‹®----
/**
     * íŠ¹ì • íšŒì›ì˜ í‰ê°€ ê°œì„  ì¶”ì´ (ADL ì ìˆ˜ ë³€í™”)
     */
â‹®----
List<Map<String, Object>> findMemberAssessmentTrend(@Param("memberId") String memberId);
â‹®----
/**
     * í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ ëŒ€ìƒì ì¡°íšŒ (careTargetStatus 1-2)
     */
â‹®----
List<HealthAssessment> findHospiceCareTargets();
â‹®----
/**
     * ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´ ëŒ€ìƒì ì¡°íšŒ (ì¸ì§€ì§€ì›ë“±ê¸‰ + ì˜ì‚¬ì†Œí†µ 3ë“±ê¸‰)
     */
â‹®----
List<HealthAssessment> findDementiaCareTargets();
â‹®----
/**
     * ì¤‘ì¦ í™˜ì ì¡°íšŒ (1-2ë“±ê¸‰ + ë†’ì€ ADL ì ìˆ˜)
     */
â‹®----
List<HealthAssessment> findSevereCareTargets();
</file>

<file path="src/main/java/com/globalcarelink/profile/ProfileService.java">
public class ProfileService {
â‹®----
public DomesticProfileResponse createDomesticProfile(Long memberId, DomesticProfileRequest request) {
validateDomesticProfileRequest(request);
â‹®----
Member member = memberRepository.findById(memberId)
.orElseThrow(() -> new CustomException.NotFound("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì…ë‹ˆë‹¤"));
â‹®----
validateMemberForDomesticProfile(member);
â‹®----
if (domesticProfileRepository.existsByMemberId(memberId)) {
â‹®----
DomesticProfile profile = DomesticProfile.builder()
.member(member)
.birthDate(request.getBirthDate())
.gender(sanitizeInput(request.getGender()))
.address(sanitizeInput(request.getAddress()))
.detailedAddress(sanitizeInput(request.getDetailedAddress()))
.postalCode(sanitizeInput(request.getPostalCode()))
.emergencyContactName(sanitizeInput(request.getEmergencyContactName()))
.emergencyContactPhone(sanitizeInput(request.getEmergencyContactPhone()))
.emergencyContactRelation(sanitizeInput(request.getEmergencyContactRelation()))
.healthInsuranceNumber(sanitizeInput(request.getHealthInsuranceNumber()))
.ltciGrade(request.getLtciGrade())
.ltciCertificateNumber(sanitizeInput(request.getLtciCertificateNumber()))
.preferredRegion(sanitizeInput(request.getPreferredRegion()))
.careLevel(sanitizeInput(request.getCareLevel()))
.specialNeeds(sanitizeInput(request.getSpecialNeeds()))
.familyVisitFrequency(sanitizeInput(request.getFamilyVisitFrequency()))
.budgetRange(sanitizeInput(request.getBudgetRange()))
.build();
â‹®----
DomesticProfile savedProfile = domesticProfileRepository.save(profile);
â‹®----
log.info("êµ­ë‚´ í”„ë¡œí•„ ìƒì„±: memberId={}, completionRate={}%",
memberId, savedProfile.getProfileCompletionPercentage());
â‹®----
return DomesticProfileResponse.from(savedProfile);
â‹®----
public OverseasProfileResponse createOverseasProfile(Long memberId, OverseasProfileRequest request) {
validateOverseasProfileRequest(request);
â‹®----
validateMemberForOverseasProfile(member);
â‹®----
if (overseasProfileRepository.existsByMemberId(memberId)) {
â‹®----
OverseasProfile profile = OverseasProfile.builder()
â‹®----
.overseasAddress(sanitizeInput(request.getOverseasAddress()))
.residenceCountry(sanitizeInput(request.getResidenceCountry()))
.residenceCity(sanitizeInput(request.getResidenceCity()))
.koreanAddress(sanitizeInput(request.getKoreanAddress()))
.koreanPostalCode(sanitizeInput(request.getKoreanPostalCode()))
.passportNumber(sanitizeInput(request.getPassportNumber()))
.passportExpiryDate(request.getPassportExpiryDate())
.visaStatus(sanitizeInput(request.getVisaStatus()))
.visaExpiryDate(request.getVisaExpiryDate())
.overseasContactName(sanitizeInput(request.getOverseasContactName()))
.overseasContactPhone(sanitizeInput(request.getOverseasContactPhone()))
.overseasContactRelation(sanitizeInput(request.getOverseasContactRelation()))
.koreaContactName(sanitizeInput(request.getKoreaContactName()))
.koreaContactPhone(sanitizeInput(request.getKoreaContactPhone()))
.koreaContactRelation(sanitizeInput(request.getKoreaContactRelation()))
.overseasInsuranceNumber(sanitizeInput(request.getOverseasInsuranceNumber()))
.overseasInsuranceProvider(sanitizeInput(request.getOverseasInsuranceProvider()))
.travelInsurance(sanitizeInput(request.getTravelInsurance()))
.entryPurpose(sanitizeInput(request.getEntryPurpose()))
.expectedStayDuration(sanitizeInput(request.getExpectedStayDuration()))
.preferredCommunicationMethod(sanitizeInput(request.getPreferredCommunicationMethod()))
.timeZonePreference(sanitizeInput(request.getTimeZonePreference()))
.preferredRegionInKorea(sanitizeInput(request.getPreferredRegionInKorea()))
â‹®----
.culturalDietaryRequirements(sanitizeInput(request.getCulturalDietaryRequirements()))
.coordinatorRequired(request.getCoordinatorRequired())
â‹®----
OverseasProfile savedProfile = overseasProfileRepository.save(profile);
â‹®----
log.info("í•´ì™¸ í”„ë¡œí•„ ìƒì„±: memberId={}, country={}, completionRate={}%",
memberId, savedProfile.getResidenceCountry(), savedProfile.getProfileCompletionPercentage());
â‹®----
return OverseasProfileResponse.from(savedProfile);
â‹®----
public DomesticProfileResponse getDomesticProfile(Long memberId) {
DomesticProfile profile = domesticProfileRepository.findByMemberId(memberId)
.orElseThrow(() -> new CustomException.NotFound("êµ­ë‚´ í”„ë¡œí•„ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"));
â‹®----
return DomesticProfileResponse.from(profile);
â‹®----
public OverseasProfileResponse getOverseasProfile(Long memberId) {
OverseasProfile profile = overseasProfileRepository.findByMemberId(memberId)
.orElseThrow(() -> new CustomException.NotFound("í•´ì™¸ í”„ë¡œí•„ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"));
â‹®----
return OverseasProfileResponse.from(profile);
â‹®----
public DomesticProfileResponse updateDomesticProfile(Long memberId, DomesticProfileRequest request) {
â‹®----
updateDomesticProfileFields(profile, request);
â‹®----
log.info("êµ­ë‚´ í”„ë¡œí•„ ìˆ˜ì •: memberId={}, completionRate={}%",
memberId, profile.getProfileCompletionPercentage());
â‹®----
public OverseasProfileResponse updateOverseasProfile(Long memberId, OverseasProfileRequest request) {
â‹®----
updateOverseasProfileFields(profile, request);
â‹®----
log.info("í•´ì™¸ í”„ë¡œí•„ ìˆ˜ì •: memberId={}, completionRate={}%",
â‹®----
public void deleteDomesticProfile(Long memberId) {
â‹®----
domesticProfileRepository.delete(profile);
log.info("êµ­ë‚´ í”„ë¡œí•„ ì‚­ì œ: memberId={}", memberId);
â‹®----
public void deleteOverseasProfile(Long memberId) {
â‹®----
overseasProfileRepository.delete(profile);
log.info("í•´ì™¸ í”„ë¡œí•„ ì‚­ì œ: memberId={}", memberId);
â‹®----
public List<DomesticProfileResponse> getDomesticProfilesByCompletion(int minCompletionRate) {
validateCompletionRate(minCompletionRate);
â‹®----
return domesticProfileRepository.findByProfileCompletionPercentageGreaterThanEqual(minCompletionRate)
.stream()
.map(DomesticProfileResponse::from)
.collect(Collectors.toList());
â‹®----
public List<OverseasProfileResponse> getOverseasProfilesByCountry(String country) {
if (!StringUtils.hasText(country)) {
â‹®----
return overseasProfileRepository.findByResidenceCountry(country)
â‹®----
.map(OverseasProfileResponse::from)
â‹®----
public List<OverseasProfileResponse> getOverseasProfilesRequiringCoordinator() {
return overseasProfileRepository.findRequiringCoordinator()
â‹®----
public List<OverseasProfileResponse> getOverseasProfilesWithExpiringDocuments() {
LocalDate threeMonthsLater = LocalDate.now().plusMonths(3);
LocalDate oneMonthLater = LocalDate.now().plusMonths(1);
â‹®----
List<OverseasProfile> expiringPassports = overseasProfileRepository.findByPassportExpiryDateBefore(threeMonthsLater);
List<OverseasProfile> expiringVisas = overseasProfileRepository.findByVisaExpiryDateBefore(oneMonthLater);
â‹®----
return expiringPassports.stream()
.filter(profile -> expiringVisas.contains(profile) ||
profile.getPassportExpiryDate() != null &&
profile.getPassportExpiryDate().isBefore(threeMonthsLater))
â‹®----
private void validateMemberForDomesticProfile(Member member) {
if (member.getRole() == MemberRole.USER_OVERSEAS) {
â‹®----
private void validateMemberForOverseasProfile(Member member) {
if (member.getRole() == MemberRole.USER_DOMESTIC) {
â‹®----
private void validateDomesticProfileRequest(DomesticProfileRequest request) {
â‹®----
validateSecurityPatterns(request.getGender(), request.getAddress(),
request.getDetailedAddress(), request.getEmergencyContactName());
â‹®----
if (request.getBirthDate() != null && request.getBirthDate().isAfter(LocalDate.now())) {
â‹®----
if (request.getLtciGrade() != null && (request.getLtciGrade() < 1 || request.getLtciGrade() > 6)) {
â‹®----
private void validateOverseasProfileRequest(OverseasProfileRequest request) {
â‹®----
if (!StringUtils.hasText(request.getResidenceCountry())) {
â‹®----
validateSecurityPatterns(request.getGender(), request.getOverseasAddress(),
request.getResidenceCountry(), request.getOverseasContactName());
â‹®----
if (request.getPassportExpiryDate() != null && request.getPassportExpiryDate().isBefore(LocalDate.now())) {
â‹®----
private void validateSecurityPatterns(String... inputs) {
â‹®----
if (StringUtils.hasText(input)) {
if (ValidationUtil.containsSuspiciousPattern(input)) {
â‹®----
if (SecurityUtil.containsSqlInjection(input)) {
log.warn("í”„ë¡œí•„ ì…ë ¥ì—ì„œ SQL ì¸ì ì…˜ íŒ¨í„´ ê°ì§€: {}", SecurityUtil.maskEmail(input));
â‹®----
private void validateCompletionRate(int rate) {
â‹®----
private String sanitizeInput(String input) {
return ValidationUtil.sanitizeInput(input);
â‹®----
private void updateDomesticProfileFields(DomesticProfile profile, DomesticProfileRequest request) {
if (request.getBirthDate() != null || StringUtils.hasText(request.getGender()) ||
StringUtils.hasText(request.getAddress()) || StringUtils.hasText(request.getDetailedAddress()) ||
StringUtils.hasText(request.getPostalCode())) {
profile.updateBasicInfo(
request.getBirthDate(),
sanitizeInput(request.getGender()),
sanitizeInput(request.getAddress()),
sanitizeInput(request.getDetailedAddress()),
sanitizeInput(request.getPostalCode())
â‹®----
if (StringUtils.hasText(request.getEmergencyContactName()) ||
StringUtils.hasText(request.getEmergencyContactPhone()) ||
StringUtils.hasText(request.getEmergencyContactRelation())) {
profile.updateEmergencyContact(
sanitizeInput(request.getEmergencyContactName()),
sanitizeInput(request.getEmergencyContactPhone()),
sanitizeInput(request.getEmergencyContactRelation())
â‹®----
if (StringUtils.hasText(request.getHealthInsuranceNumber()) ||
request.getLtciGrade() != null ||
StringUtils.hasText(request.getLtciCertificateNumber())) {
profile.updateHealthInfo(
sanitizeInput(request.getHealthInsuranceNumber()),
request.getLtciGrade(),
sanitizeInput(request.getLtciCertificateNumber())
â‹®----
if (StringUtils.hasText(request.getPreferredRegion()) ||
StringUtils.hasText(request.getCareLevel()) ||
StringUtils.hasText(request.getSpecialNeeds()) ||
StringUtils.hasText(request.getFamilyVisitFrequency()) ||
StringUtils.hasText(request.getBudgetRange())) {
profile.updateCareInfo(
sanitizeInput(request.getPreferredRegion()),
sanitizeInput(request.getCareLevel()),
sanitizeInput(request.getSpecialNeeds()),
sanitizeInput(request.getFamilyVisitFrequency()),
sanitizeInput(request.getBudgetRange())
â‹®----
private void updateOverseasProfileFields(OverseasProfile profile, OverseasProfileRequest request) {
â‹®----
StringUtils.hasText(request.getOverseasAddress()) || StringUtils.hasText(request.getResidenceCountry()) ||
StringUtils.hasText(request.getResidenceCity())) {
â‹®----
sanitizeInput(request.getOverseasAddress()),
sanitizeInput(request.getResidenceCountry()),
sanitizeInput(request.getResidenceCity())
â‹®----
if (StringUtils.hasText(request.getKoreanAddress()) ||
StringUtils.hasText(request.getKoreanPostalCode())) {
profile.updateKoreanAddress(
sanitizeInput(request.getKoreanAddress()),
sanitizeInput(request.getKoreanPostalCode())
â‹®----
if (StringUtils.hasText(request.getPassportNumber()) ||
request.getPassportExpiryDate() != null ||
StringUtils.hasText(request.getVisaStatus()) ||
request.getVisaExpiryDate() != null) {
profile.updatePassportInfo(
sanitizeInput(request.getPassportNumber()),
request.getPassportExpiryDate(),
sanitizeInput(request.getVisaStatus()),
request.getVisaExpiryDate()
â‹®----
if (StringUtils.hasText(request.getOverseasContactName()) ||
StringUtils.hasText(request.getOverseasContactPhone()) ||
StringUtils.hasText(request.getOverseasContactRelation())) {
profile.updateOverseasContact(
sanitizeInput(request.getOverseasContactName()),
sanitizeInput(request.getOverseasContactPhone()),
sanitizeInput(request.getOverseasContactRelation())
â‹®----
if (StringUtils.hasText(request.getKoreaContactName()) ||
StringUtils.hasText(request.getKoreaContactPhone()) ||
StringUtils.hasText(request.getKoreaContactRelation())) {
profile.updateKoreaContact(
sanitizeInput(request.getKoreaContactName()),
sanitizeInput(request.getKoreaContactPhone()),
sanitizeInput(request.getKoreaContactRelation())
â‹®----
if (StringUtils.hasText(request.getOverseasInsuranceNumber()) ||
StringUtils.hasText(request.getOverseasInsuranceProvider()) ||
StringUtils.hasText(request.getTravelInsurance())) {
profile.updateInsuranceInfo(
sanitizeInput(request.getOverseasInsuranceNumber()),
sanitizeInput(request.getOverseasInsuranceProvider()),
sanitizeInput(request.getTravelInsurance())
â‹®----
if (StringUtils.hasText(request.getEntryPurpose()) ||
StringUtils.hasText(request.getExpectedStayDuration()) ||
StringUtils.hasText(request.getPreferredCommunicationMethod()) ||
StringUtils.hasText(request.getTimeZonePreference())) {
profile.updateTripInfo(
sanitizeInput(request.getEntryPurpose()),
sanitizeInput(request.getExpectedStayDuration()),
sanitizeInput(request.getPreferredCommunicationMethod()),
sanitizeInput(request.getTimeZonePreference())
â‹®----
if (StringUtils.hasText(request.getPreferredRegionInKorea()) ||
StringUtils.hasText(request.getBudgetRange()) ||
â‹®----
StringUtils.hasText(request.getCulturalDietaryRequirements())) {
â‹®----
sanitizeInput(request.getPreferredRegionInKorea()),
sanitizeInput(request.getBudgetRange()),
â‹®----
sanitizeInput(request.getCulturalDietaryRequirements())
â‹®----
if (request.getCoordinatorRequired() != null) {
profile.setCoordinatorRequired(request.getCoordinatorRequired());
</file>

<file path="src/main/resources/application.yml">
spring:
  application:
    name: elderberry
  
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  
  datasource:
    url: ${DATABASE_URL:jdbc:sqlite:./data/elderberry.db}
    driver-class-name: org.sqlite.JDBC
    username: ""
    password: ""
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.community.dialect.SQLiteDialect
        jdbc:
          time_zone: Asia/Seoul
  
  security:
    jwt:
      secret: ${JWT_SECRET:dev_jwt_secret_key_change_in_production}
      expiration: ${JWT_EXPIRATION:86400000}
  
  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=1000,expireAfterWrite=30m
  
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${GMAIL_USERNAME:}
    password: ${GMAIL_APP_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

server:
  port: ${SERVER_PORT:8080}
  
logging:
  level:
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    com.globalcarelink: ${LOG_LEVEL:DEBUG}
    org.springframework.security: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized

springdoc:
  api-docs:
    enabled: true
    path: /api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    operationsSorter: method
    tagsSorter: alpha
</file>

<file path="src/test/java/com/globalcarelink/auth/AuthControllerTest.java">
class AuthControllerTest {
â‹®----
void setUp() {
validRegisterRequest = MemberRegisterRequest.builder()
.email("test@example.com")
.password("password123")
.name("í…ŒìŠ¤íŠ¸ì‚¬ìš©ì")
.phoneNumber("010-1234-5678")
.role(MemberRole.USER_DOMESTIC)
.isJobSeeker(true)
.language("ko")
.region("ì„œìš¸")
.build();
â‹®----
invalidRegisterRequest = MemberRegisterRequest.builder()
.email("invalid-email")
.password("123")
.name("")
.role(null)
â‹®----
validLoginRequest = new LoginRequest("test@example.com", "password123");
invalidLoginRequest = new LoginRequest("", "");
â‹®----
memberResponse = MemberResponse.builder()
.id(1L)
â‹®----
.isActive(true)
â‹®----
tokenResponse = TokenResponse.builder()
.accessToken("jwt_access_token")
.tokenType("Bearer")
.expiresIn(86400000L)
.member(memberResponse)
â‹®----
void register_Success() throws Exception {
given(memberService.register(validRegisterRequest)).willReturn(memberResponse);
â‹®----
mockMvc.perform(post("/api/auth/register")
.with(csrf())
.contentType(MediaType.APPLICATION_JSON)
.content(objectMapper.writeValueAsString(validRegisterRequest)))
.andDo(print())
.andExpect(status().isCreated())
.andExpect(content().contentType(MediaType.APPLICATION_JSON))
.andExpect(jsonPath("$.id").value(1L))
.andExpect(jsonPath("$.email").value("test@example.com"))
.andExpect(jsonPath("$.name").value("í…ŒìŠ¤íŠ¸ì‚¬ìš©ì"))
.andExpect(jsonPath("$.role").value("USER_DOMESTIC"))
.andExpect(jsonPath("$.isJobSeeker").value(true))
.andExpect(jsonPath("$.isActive").value(true))
.andExpect(jsonPath("$.language").value("ko"))
.andExpect(jsonPath("$.region").value("ì„œìš¸"));
â‹®----
void register_Fail_ValidationError() throws Exception {
â‹®----
.content(objectMapper.writeValueAsString(invalidRegisterRequest)))
â‹®----
.andExpect(status().isBadRequest())
â‹®----
.andExpect(jsonPath("$.status").value(400))
.andExpect(jsonPath("$.error").value("Bad Request"))
.andExpect(jsonPath("$.message").value("ì…ë ¥ ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"));
â‹®----
void register_Fail_EmailConflict() throws Exception {
given(memberService.register(validRegisterRequest))
.willThrow(new CustomException.Conflict("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤"));
â‹®----
.andExpect(status().isConflict())
â‹®----
.andExpect(jsonPath("$.status").value(409))
.andExpect(jsonPath("$.error").value("Conflict"))
.andExpect(jsonPath("$.message").value("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤"));
â‹®----
void register_Fail_InvalidJson() throws Exception {
â‹®----
.content("invalid json"))
â‹®----
.andExpect(status().isBadRequest());
â‹®----
void login_Success() throws Exception {
given(memberService.login(validLoginRequest)).willReturn(tokenResponse);
â‹®----
mockMvc.perform(post("/api/auth/login")
â‹®----
.content(objectMapper.writeValueAsString(validLoginRequest)))
â‹®----
.andExpect(status().isOk())
â‹®----
.andExpect(jsonPath("$.accessToken").value("jwt_access_token"))
.andExpect(jsonPath("$.tokenType").value("Bearer"))
.andExpect(jsonPath("$.expiresIn").value(86400000L))
.andExpect(jsonPath("$.member.email").value("test@example.com"))
.andExpect(jsonPath("$.member.role").value("USER_DOMESTIC"));
â‹®----
void login_Fail_ValidationError() throws Exception {
â‹®----
.content(objectMapper.writeValueAsString(invalidLoginRequest)))
â‹®----
void login_Fail_Unauthorized() throws Exception {
given(memberService.login(validLoginRequest))
.willThrow(new CustomException.Unauthorized("ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"));
â‹®----
.andExpect(status().isUnauthorized())
â‹®----
.andExpect(jsonPath("$.status").value(401))
.andExpect(jsonPath("$.error").value("Unauthorized"))
.andExpect(jsonPath("$.message").value("ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"));
â‹®----
void login_Fail_Forbidden() throws Exception {
â‹®----
.willThrow(new CustomException.Forbidden("ë¹„í™œì„±í™”ëœ ê³„ì •ì…ë‹ˆë‹¤"));
â‹®----
.andExpect(status().isForbidden())
â‹®----
.andExpect(jsonPath("$.status").value(403))
.andExpect(jsonPath("$.message").value("ë¹„í™œì„±í™”ëœ ê³„ì •ì…ë‹ˆë‹¤"));
â‹®----
void getCurrentMember_Success() throws Exception {
given(memberService.findByEmail("test@example.com")).willReturn(memberResponse);
â‹®----
mockMvc.perform(get("/api/auth/me")
.param("email", "test@example.com"))
â‹®----
.andExpect(jsonPath("$.role").value("USER_DOMESTIC"));
â‹®----
void getCurrentMember_Fail_NotFound() throws Exception {
given(memberService.findByEmail("notexist@example.com"))
.willThrow(new CustomException.NotFound("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì…ë‹ˆë‹¤"));
â‹®----
.param("email", "notexist@example.com"))
â‹®----
.andExpect(status().isNotFound())
â‹®----
.andExpect(jsonPath("$.status").value(404))
.andExpect(jsonPath("$.message").value("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì…ë‹ˆë‹¤"));
â‹®----
void getCurrentMember_Fail_Unauthenticated() throws Exception {
â‹®----
.andExpect(status().isUnauthorized());
â‹®----
void register_Fail_NoCsrfToken() throws Exception {
â‹®----
.andExpect(status().isForbidden());
â‹®----
void register_Fail_NoRequestBody() throws Exception {
â‹®----
.contentType(MediaType.APPLICATION_JSON))
â‹®----
void register_Fail_NoContentType() throws Exception {
â‹®----
.andExpect(status().isUnsupportedMediaType());
</file>

<file path="src/test/java/com/globalcarelink/auth/MemberRepositoryTest.java">
class MemberRepositoryTest {
â‹®----
void setUp() {
domesticUser = createMember("domestic@test.com", "êµ­ë‚´ì‚¬ìš©ì", MemberRole.USER_DOMESTIC, true, "ko", "ì„œìš¸");
overseasUser = createMember("overseas@test.com", "í•´ì™¸ì‚¬ìš©ì", MemberRole.USER_OVERSEAS, true, "en", "New York");
coordinator = createMember("coordinator@test.com", "ì½”ë””ë„¤ì´í„°", MemberRole.COORDINATOR, false, "ko", "ì„œìš¸");
facilityAdmin = createMember("facility@test.com", "ì‹œì„¤ê´€ë¦¬ì", MemberRole.FACILITY, false, "ko", "ë¶€ì‚°");
â‹®----
entityManager.persistAndFlush(domesticUser);
entityManager.persistAndFlush(overseasUser);
entityManager.persistAndFlush(coordinator);
entityManager.persistAndFlush(facilityAdmin);
â‹®----
void findByEmail_Success() {
Optional<Member> found = memberRepository.findByEmail("domestic@test.com");
â‹®----
assertThat(found).isPresent();
assertThat(found.get().getName()).isEqualTo("êµ­ë‚´ì‚¬ìš©ì");
assertThat(found.get().getRole()).isEqualTo(MemberRole.USER_DOMESTIC);
â‹®----
void findByEmail_NotFound() {
Optional<Member> found = memberRepository.findByEmail("notexist@test.com");
â‹®----
assertThat(found).isEmpty();
â‹®----
void existsByEmail_True() {
boolean exists = memberRepository.existsByEmail("coordinator@test.com");
â‹®----
assertThat(exists).isTrue();
â‹®----
void existsByEmail_False() {
boolean exists = memberRepository.existsByEmail("newuser@test.com");
â‹®----
assertThat(exists).isFalse();
â‹®----
void findByRole_Success() {
List<Member> users = memberRepository.findByRole(MemberRole.USER_DOMESTIC);
â‹®----
assertThat(users).hasSize(1);
assertThat(users.get(0).getEmail()).isEqualTo("domestic@test.com");
â‹®----
void findByIsJobSeekerAndIsActive_Success() {
List<Member> jobSeekers = memberRepository.findByIsJobSeekerAndIsActive(true, true);
â‹®----
assertThat(jobSeekers).hasSize(2);
assertThat(jobSeekers).extracting(Member::getEmail)
.containsExactlyInAnyOrder("domestic@test.com", "overseas@test.com");
â‹®----
void findActiveByRoleAndRegion_Success() {
List<Member> seoulCoordinators = memberRepository.findActiveByRoleAndRegion(MemberRole.COORDINATOR, "ì„œìš¸");
â‹®----
assertThat(seoulCoordinators).hasSize(1);
assertThat(seoulCoordinators.get(0).getEmail()).isEqualTo("coordinator@test.com");
â‹®----
void searchByKeyword_ByName() {
List<Member> results = memberRepository.searchByKeyword("êµ­ë‚´");
â‹®----
assertThat(results).hasSize(1);
assertThat(results.get(0).getName()).contains("êµ­ë‚´");
â‹®----
void searchByKeyword_ByEmail() {
List<Member> results = memberRepository.searchByKeyword("coordinator");
â‹®----
assertThat(results.get(0).getEmail()).contains("coordinator");
â‹®----
void countByRole_Success() {
long userCount = memberRepository.countByRole(MemberRole.USER_DOMESTIC);
long coordinatorCount = memberRepository.countByRole(MemberRole.COORDINATOR);
â‹®----
assertThat(userCount).isEqualTo(1);
assertThat(coordinatorCount).isEqualTo(1);
â‹®----
void countByRoleAndIsActive_Success() {
long activeUsers = memberRepository.countByRoleAndIsActive(MemberRole.USER_DOMESTIC, true);
â‹®----
assertThat(activeUsers).isEqualTo(1);
â‹®----
void findByRolesAndIsActive_Success() {
List<MemberRole> userRoles = List.of(MemberRole.USER_DOMESTIC, MemberRole.USER_OVERSEAS);
List<Member> users = memberRepository.findByRolesAndIsActive(userRoles, true);
â‹®----
assertThat(users).hasSize(2);
assertThat(users).extracting(Member::getRole)
.containsExactlyInAnyOrder(MemberRole.USER_DOMESTIC, MemberRole.USER_OVERSEAS);
â‹®----
private Member createMember(String email, String name, MemberRole role, boolean isJobSeeker, String language, String region) {
return Member.builder()
.email(email)
.password("encoded_password")
.name(name)
.phoneNumber("010-1234-5678")
.role(role)
.isJobSeeker(isJobSeeker)
.language(language)
.region(region)
.build();
</file>

<file path="src/test/java/com/globalcarelink/auth/MemberServiceTest.java">
class MemberServiceTest {
â‹®----
void setUp() {
ReflectionTestUtils.setField(memberService, "jwtExpiration", 86400000L);
â‹®----
testMember = Member.builder()
.id(1L)
.email("test@example.com")
.password("encoded_password")
.name("í…ŒìŠ¤íŠ¸ì‚¬ìš©ì")
.phoneNumber("010-1234-5678")
.role(MemberRole.USER_DOMESTIC)
.isJobSeeker(true)
.language("ko")
.region("ì„œìš¸")
.build();
â‹®----
registerRequest = MemberRegisterRequest.builder()
.email("new@example.com")
.password("plainPassword123")
.name("ì‹ ê·œì‚¬ìš©ì")
.phoneNumber("010-9876-5432")
.role(MemberRole.USER_OVERSEAS)
.isJobSeeker(false)
.language("en")
.region("New York")
â‹®----
loginRequest = new LoginRequest("test@example.com", "plainPassword123");
â‹®----
void register_Success() {
given(memberRepository.existsByEmail(registerRequest.getEmail())).willReturn(false);
given(passwordEncoder.encode(registerRequest.getPassword())).willReturn("encoded_password");
given(memberRepository.save(any(Member.class))).willReturn(testMember);
â‹®----
MemberResponse result = memberService.register(registerRequest);
â‹®----
assertThat(result.getEmail()).isEqualTo(testMember.getEmail());
assertThat(result.getName()).isEqualTo(testMember.getName());
assertThat(result.getRole()).isEqualTo(testMember.getRole());
â‹®----
then(memberRepository).should().existsByEmail(registerRequest.getEmail());
then(passwordEncoder).should().encode(registerRequest.getPassword());
then(memberRepository).should().save(any(Member.class));
â‹®----
void register_Fail_EmailExists() {
given(memberRepository.existsByEmail(registerRequest.getEmail())).willReturn(true);
â‹®----
assertThatThrownBy(() -> memberService.register(registerRequest))
.isInstanceOf(CustomException.Conflict.class)
.hasMessage("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤");
â‹®----
then(passwordEncoder).should(never()).encode(anyString());
then(memberRepository).should(never()).save(any(Member.class));
â‹®----
void login_Success() {
given(memberRepository.findByEmail(loginRequest.getEmail())).willReturn(Optional.of(testMember));
given(passwordEncoder.matches(loginRequest.getPassword(), testMember.getPassword())).willReturn(true);
given(jwtTokenProvider.createToken(testMember.getEmail(), testMember.getRole().name())).willReturn("jwt_token");
â‹®----
TokenResponse result = memberService.login(loginRequest);
â‹®----
assertThat(result.getAccessToken()).isEqualTo("jwt_token");
assertThat(result.getTokenType()).isEqualTo("Bearer");
assertThat(result.getExpiresIn()).isEqualTo(86400000L);
assertThat(result.getMember().getEmail()).isEqualTo(testMember.getEmail());
â‹®----
then(memberRepository).should().findByEmail(loginRequest.getEmail());
then(passwordEncoder).should().matches(loginRequest.getPassword(), testMember.getPassword());
then(jwtTokenProvider).should().createToken(testMember.getEmail(), testMember.getRole().name());
â‹®----
void login_Fail_EmailNotFound() {
given(memberRepository.findByEmail(loginRequest.getEmail())).willReturn(Optional.empty());
â‹®----
assertThatThrownBy(() -> memberService.login(loginRequest))
.isInstanceOf(CustomException.Unauthorized.class)
.hasMessage("ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤");
â‹®----
then(passwordEncoder).should(never()).matches(anyString(), anyString());
then(jwtTokenProvider).should(never()).createToken(anyString(), anyString());
â‹®----
void login_Fail_PasswordMismatch() {
â‹®----
given(passwordEncoder.matches(loginRequest.getPassword(), testMember.getPassword())).willReturn(false);
â‹®----
void login_Fail_InactiveAccount() {
Member inactiveMember = Member.builder()
â‹®----
.isActive(false)
â‹®----
given(memberRepository.findByEmail(loginRequest.getEmail())).willReturn(Optional.of(inactiveMember));
â‹®----
.isInstanceOf(CustomException.Forbidden.class)
.hasMessage("ë¹„í™œì„±í™”ëœ ê³„ì •ì…ë‹ˆë‹¤");
â‹®----
void findById_Success() {
given(memberRepository.findById(1L)).willReturn(Optional.of(testMember));
â‹®----
MemberResponse result = memberService.findById(1L);
â‹®----
assertThat(result.getId()).isEqualTo(1L);
â‹®----
then(memberRepository).should().findById(1L);
â‹®----
void findById_Fail_NotFound() {
given(memberRepository.findById(999L)).willReturn(Optional.empty());
â‹®----
assertThatThrownBy(() -> memberService.findById(999L))
.isInstanceOf(CustomException.NotFound.class)
.hasMessage("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì›ì…ë‹ˆë‹¤");
â‹®----
then(memberRepository).should().findById(999L);
â‹®----
void updateProfile_Success() {
MemberUpdateRequest updateRequest = new MemberUpdateRequest("ìƒˆì´ë¦„", "010-0000-0000", "en", "ë¶€ì‚°");
â‹®----
MemberResponse result = memberService.updateProfile(1L, updateRequest);
â‹®----
assertThat(result.getName()).isEqualTo("ìƒˆì´ë¦„");
assertThat(result.getPhoneNumber()).isEqualTo("010-0000-0000");
assertThat(result.getLanguage()).isEqualTo("en");
assertThat(result.getRegion()).isEqualTo("ë¶€ì‚°");
â‹®----
void updateProfile_PartialUpdate() {
MemberUpdateRequest updateRequest = new MemberUpdateRequest("ìƒˆì´ë¦„", null, null, null);
â‹®----
assertThat(result.getPhoneNumber()).isEqualTo(testMember.getPhoneNumber());
assertThat(result.getLanguage()).isEqualTo(testMember.getLanguage());
assertThat(result.getRegion()).isEqualTo(testMember.getRegion());
â‹®----
void toggleJobSeekerStatus_Success() {
boolean originalStatus = testMember.getIsJobSeeker();
â‹®----
memberService.toggleJobSeekerStatus(1L);
â‹®----
assertThat(testMember.getIsJobSeeker()).isNotEqualTo(originalStatus);
â‹®----
void deactivate_Success() {
â‹®----
memberService.deactivate(1L);
â‹®----
assertThat(testMember.getIsActive()).isFalse();
â‹®----
void findByRole_Success() {
List<Member> members = List.of(testMember);
given(memberRepository.findByRole(MemberRole.USER_DOMESTIC)).willReturn(members);
â‹®----
List<MemberResponse> result = memberService.findByRole(MemberRole.USER_DOMESTIC);
â‹®----
assertThat(result).hasSize(1);
assertThat(result.get(0).getRole()).isEqualTo(MemberRole.USER_DOMESTIC);
â‹®----
then(memberRepository).should().findByRole(MemberRole.USER_DOMESTIC);
â‹®----
void findActiveJobSeekers_Success() {
List<Member> jobSeekers = List.of(testMember);
given(memberRepository.findByIsJobSeekerAndIsActive(true, true)).willReturn(jobSeekers);
â‹®----
List<MemberResponse> result = memberService.findActiveJobSeekers();
â‹®----
assertThat(result.get(0).getIsJobSeeker()).isTrue();
assertThat(result.get(0).getIsActive()).isTrue();
â‹®----
then(memberRepository).should().findByIsJobSeekerAndIsActive(true, true);
â‹®----
void countByRole_Success() {
given(memberRepository.countByRole(MemberRole.COORDINATOR)).willReturn(5L);
â‹®----
long result = memberService.countByRole(MemberRole.COORDINATOR);
â‹®----
assertThat(result).isEqualTo(5L);
then(memberRepository).should().countByRole(MemberRole.COORDINATOR);
</file>

<file path="src/test/java/com/globalcarelink/coordinator/CoordinatorMatchingControllerTest.java">
class CoordinatorMatchingControllerTest {
â‹®----
void setUp() {
setupTestData();
â‹®----
void matchCoordinators_Success() throws Exception {
given(healthAssessmentService.getAssessmentById(1L)).willReturn(Optional.of(testAssessment));
given(matchingService.findOptimalMatches(any(HealthAssessment.class), any(MatchingPreference.class)))
.willReturn(testMatches);
â‹®----
mockMvc.perform(post("/api/coordinator-matching/match")
.with(csrf())
.param("healthAssessmentId", "1")
.contentType(MediaType.APPLICATION_JSON)
.content(objectMapper.writeValueAsString(testPreference)))
.andDo(print())
.andExpect(status().isOk())
.andExpect(content().contentType(MediaType.APPLICATION_JSON))
.andExpect(jsonPath("$").isArray())
.andExpect(jsonPath("$.length()").value(2))
.andExpect(jsonPath("$[0].coordinatorId").value("coordinator-001"))
.andExpect(jsonPath("$[0].matchScore").value(4.5))
.andExpect(jsonPath("$[0].matchReason").exists())
.andExpect(jsonPath("$[0].experienceYears").value(5))
.andExpect(jsonPath("$[0].customerSatisfaction").value(4.2));
â‹®----
void matchCoordinators_NotFound() throws Exception {
given(healthAssessmentService.getAssessmentById(999L)).willReturn(Optional.empty());
â‹®----
.param("healthAssessmentId", "999")
â‹®----
.andExpect(status().isNotFound());
â‹®----
void matchCoordinators_Unauthorized() throws Exception {
â‹®----
.andExpect(status().isUnauthorized());
â‹®----
void matchCoordinators_ValidationError() throws Exception {
MatchingPreference invalidPreference = MatchingPreference.builder()
.maxResults(-1)
.minCustomerSatisfaction(6.0)
.build();
â‹®----
.content(objectMapper.writeValueAsString(invalidPreference)))
â‹®----
.andExpect(status().isBadRequest());
â‹®----
void getCoordinatorsBySpecialty_Success() throws Exception {
List<CoordinatorCareSettings> specialtyCoordinators = List.of(
createTestCoordinatorSettings("coordinator-001", Set.of("medical"))
â‹®----
given(coordinatorCareSettingsService.getCoordinatorsBySpecialty("medical"))
.willReturn(specialtyCoordinators);
â‹®----
mockMvc.perform(get("/api/coordinator-matching/specialty/medical"))
â‹®----
.andExpect(jsonPath("$.length()").value(1))
.andExpect(jsonPath("$[0].coordinatorId").value("coordinator-001"));
â‹®----
void getAvailableCoordinators_Success() throws Exception {
List<CoordinatorCareSettings> availableCoordinators = List.of(
createTestCoordinatorSettings("coordinator-001", Set.of("medical")),
createTestCoordinatorSettings("coordinator-002", Set.of("rehabilitation"))
â‹®----
given(coordinatorCareSettingsService.getAvailableCoordinators())
.willReturn(availableCoordinators);
â‹®----
mockMvc.perform(get("/api/coordinator-matching/available"))
â‹®----
.andExpect(jsonPath("$.length()").value(2));
â‹®----
void getAvailableCoordinators_Forbidden() throws Exception {
â‹®----
.andExpect(status().isForbidden());
â‹®----
void getMatchingStatistics_Success() throws Exception {
given(coordinatorCareSettingsService.getMatchingStatistics())
.willReturn(testStatistics);
â‹®----
mockMvc.perform(get("/api/coordinator-matching/statistics"))
â‹®----
.andExpect(jsonPath("$.totalActiveCoordinators").value(50))
.andExpect(jsonPath("$.averageCustomerSatisfaction").value(4.1))
.andExpect(jsonPath("$.availableCoordinators").value(30))
.andExpect(jsonPath("$.totalSuccessfulMatches").value(1200))
.andExpect(jsonPath("$.overallMatchingSuccessRate").value(85.5))
.andExpect(jsonPath("$.averageResponseTime").value(12.3));
â‹®----
void getMatchingStatistics_Forbidden() throws Exception {
â‹®----
void simulateMatching_Success() throws Exception {
MatchingSimulationRequest simulationRequest = MatchingSimulationRequest.builder()
.healthAssessmentCount(100)
.coordinatorCount(20)
.simulationType("REALISTIC")
.includeLanguageMatching(true)
.includeSpecialtyMatching(true)
.includeWorkloadOptimization(true)
â‹®----
MatchingSimulationResult simulationResult = MatchingSimulationResult.builder()
.totalHealthAssessments(100)
.totalCoordinators(20)
.successfulMatches(95)
.averageMatchingScore(4.2)
.matchingSuccessRate(95.0)
.executionTimeMs(1500L)
â‹®----
given(coordinatorCareSettingsService.runMatchingSimulation(any(MatchingSimulationRequest.class)))
.willReturn(simulationResult);
â‹®----
mockMvc.perform(post("/api/coordinator-matching/simulate")
â‹®----
.content(objectMapper.writeValueAsString(simulationRequest)))
â‹®----
.andExpect(jsonPath("$.totalHealthAssessments").value(100))
.andExpect(jsonPath("$.totalCoordinators").value(20))
.andExpect(jsonPath("$.successfulMatches").value(95))
.andExpect(jsonPath("$.averageMatchingScore").value(4.2))
.andExpect(jsonPath("$.matchingSuccessRate").value(95.0))
.andExpect(jsonPath("$.executionTimeMs").value(1500));
â‹®----
void simulateMatching_ValidationError() throws Exception {
MatchingSimulationRequest invalidRequest = MatchingSimulationRequest.builder()
.healthAssessmentCount(-1)
.coordinatorCount(0)
.simulationType("INVALID")
â‹®----
.content(objectMapper.writeValueAsString(invalidRequest)))
â‹®----
void postWithoutCsrf_Forbidden() throws Exception {
â‹®----
void postWithWrongContentType_UnsupportedMediaType() throws Exception {
â‹®----
.contentType(MediaType.TEXT_PLAIN)
.content("invalid content"))
â‹®----
.andExpect(status().isUnsupportedMediaType());
â‹®----
private void setupTestData() {
testAssessment = HealthAssessment.builder()
.id(1L)
.memberId("test-member-001")
.mobilityLevel(2)
.eatingLevel(2)
.toiletLevel(2)
.communicationLevel(2)
.ltciGrade(3)
.careTargetStatus(4)
.mealType(1)
.adlScore(180)
.overallCareGrade("3ë“±ê¸‰ (ì¤‘ë“±ì¦)")
â‹®----
testPreference = MatchingPreference.builder()
.preferredLanguage("ko")
.preferredRegion("seoul")
.maxResults(20)
.minCustomerSatisfaction(3.0)
.needsWeekendAvailability(false)
.needsEmergencyAvailability(false)
â‹®----
CoordinatorMatch match1 = CoordinatorMatch.builder()
.coordinatorId("coordinator-001")
.name("ê¹€ì½”ë””ë„¤ì´í„°")
.matchScore(4.5)
.matchReason("ì „ë¬¸ ë¶„ì•¼ ë§¤ì¹­ ë° ë†’ì€ ê²½ë ¥")
.experienceYears(5)
.successfulCases(120)
.customerSatisfaction(4.2)
.specialtyAreas(Set.of("medical", "elderly_care"))
.languageSkills(List.of())
.availableWeekends(true)
.availableEmergency(true)
.workingRegions(Set.of("seoul", "incheon"))
.currentActiveCases(3)
.maxSimultaneousCases(8)
.workloadRatio(0.375)
â‹®----
CoordinatorMatch match2 = CoordinatorMatch.builder()
.coordinatorId("coordinator-002")
.name("ì´ì½”ë””ë„¤ì´í„°")
.matchScore(4.0)
.matchReason("ì§€ì—­ ë§¤ì¹­ ë° ì ì • ê²½ë ¥")
.experienceYears(3)
.successfulCases(80)
.customerSatisfaction(3.8)
.specialtyAreas(Set.of("rehabilitation"))
â‹®----
.availableWeekends(false)
.availableEmergency(false)
.workingRegions(Set.of("seoul", "gyeonggi"))
.currentActiveCases(2)
.maxSimultaneousCases(6)
.workloadRatio(0.333)
â‹®----
testMatches = List.of(match1, match2);
â‹®----
testStatistics = CoordinatorMatchingStatistics.builder()
.totalActiveCoordinators(50L)
.averageCustomerSatisfaction(4.1)
.availableCoordinators(30)
.totalSuccessfulMatches(1200L)
.overallMatchingSuccessRate(85.5)
.averageResponseTime(12.3)
â‹®----
private CoordinatorCareSettings createTestCoordinatorSettings(String coordinatorId, Set<String> specialtyAreas) {
return CoordinatorCareSettings.builder()
.coordinatorId(coordinatorId)
.baseCareLevel(1)
.maxCareLevel(5)
â‹®----
.successfulCases(100)
.customerSatisfaction(4.0)
â‹®----
.specialtyAreas(specialtyAreas)
.workingRegions(Set.of("seoul"))
â‹®----
.isActive(true)
</file>

<file path="src/test/java/com/globalcarelink/coordinator/CoordinatorMatchingServiceIntegrationTest.java">
class CoordinatorMatchingServiceIntegrationTest {
â‹®----
void setUp() {
setupTestData();
â‹®----
void findOptimalMatches_BasicMatching() {
MatchingPreference preference = MatchingPreference.builder()
.maxResults(10)
.minCustomerSatisfaction(3.0)
.build();
â‹®----
List<CoordinatorMatch> matches = matchingService.findOptimalMatches(testAssessment, preference);
â‹®----
assertThat(matches).isNotEmpty();
assertThat(matches).hasSizeLessThanOrEqualTo(10);
assertThat(matches.get(0).getMatchScore()).isGreaterThan(0.0);
â‹®----
matches.forEach(match -> {
assertThat(match.getCustomerSatisfaction()).isGreaterThanOrEqualTo(3.0);
assertThat(match.getMatchReason()).isNotBlank();
â‹®----
void findOptimalMatches_LanguageMatching() {
â‹®----
.preferredLanguage("ko")
.maxResults(5)
â‹®----
boolean hasKorean = match.getLanguageSkills().stream()
.anyMatch(skill -> "ko".equals(skill.getLanguageCode()));
assertThat(hasKorean).isTrue();
â‹®----
void findOptimalMatches_WorkloadOptimization() {
â‹®----
.maxResults(20)
â‹®----
assertThat(match.getWorkloadRatio()).isLessThanOrEqualTo(1.0);
â‹®----
previousWorkloadRatio = match.getWorkloadRatio();
â‹®----
void findOptimalMatches_SpecialtyMatching() {
testAssessment.setLtciGrade(2);
â‹®----
.needsProfessionalConsultation(true)
â‹®----
assertThat(match.getSpecialtyAreas()).isNotEmpty();
â‹®----
void findOptimalMatches_WeekendAvailability() {
â‹®----
.needsWeekendAvailability(true)
â‹®----
assertThat(match.getAvailableWeekends()).isTrue();
â‹®----
void findOptimalMatches_EmergencyAvailability() {
â‹®----
.needsEmergencyAvailability(true)
â‹®----
assertThat(match.getAvailableEmergency()).isTrue();
â‹®----
void findOptimalMatches_RegionalMatching() {
â‹®----
.preferredRegion("seoul")
â‹®----
assertThat(match.getWorkingRegions()).contains("seoul");
â‹®----
void findOptimalMatches_ScoreOrdering() {
â‹®----
for (int i = 0; i < matches.size() - 1; i++) {
assertThat(matches.get(i).getMatchScore())
.isGreaterThanOrEqualTo(matches.get(i + 1).getMatchScore());
â‹®----
void findOptimalMatches_NoMatches() {
â‹®----
.minCustomerSatisfaction(5.0)
â‹®----
assertThat(matches).isEmpty();
â‹®----
private void setupTestData() {
createTestHealthAssessment();
createTestCoordinators();
createTestLanguageSkills();
â‹®----
private void createTestHealthAssessment() {
HealthAssessmentCreateRequest request = HealthAssessmentCreateRequest.builder()
.memberId("test-member-001")
.birthYear(1950)
.gender("M")
.mobilityLevel(3)
.eatingLevel(2)
.toiletLevel(3)
.communicationLevel(2)
.careTargetStatus(2)
.mealType(1)
.diseaseTypes("ê³ í˜ˆì••, ë‹¹ë‡¨")
.notes("ì£¼ê°„ ëŒë´„ í•„ìš”")
â‹®----
testAssessment = healthAssessmentService.createAssessment(request);
â‹®----
private void createTestCoordinators() {
coordinator1 = CoordinatorCareSettings.builder()
.coordinatorId("coordinator-001")
.baseCareLevel(1)
.maxCareLevel(3)
.experienceYears(5)
.successfulCases(120)
.customerSatisfaction(4.2)
.maxSimultaneousCases(8)
.specialtyAreas(Set.of("medical", "elderly_care"))
.workingRegions(Set.of("seoul", "incheon"))
.availableWeekends(true)
.availableEmergency(true)
.isActive(true)
â‹®----
coordinator2 = CoordinatorCareSettings.builder()
.coordinatorId("coordinator-002")
.baseCareLevel(2)
.maxCareLevel(5)
.experienceYears(3)
.successfulCases(80)
.customerSatisfaction(3.8)
.maxSimultaneousCases(6)
.specialtyAreas(Set.of("rehabilitation"))
.workingRegions(Set.of("seoul", "gyeonggi"))
.availableWeekends(false)
.availableEmergency(false)
â‹®----
careSettingsRepository.save(coordinator1);
careSettingsRepository.save(coordinator2);
â‹®----
private void createTestLanguageSkills() {
CoordinatorLanguageSkill skill1 = CoordinatorLanguageSkill.builder()
â‹®----
.languageCode("ko")
.languageName("í•œêµ­ì–´")
.proficiencyLevel(CoordinatorLanguageSkill.LanguageProficiency.NATIVE)
.certification("C2")
â‹®----
CoordinatorLanguageSkill skill2 = CoordinatorLanguageSkill.builder()
â‹®----
.languageCode("en")
.languageName("ì˜ì–´")
.proficiencyLevel(CoordinatorLanguageSkill.LanguageProficiency.BUSINESS)
.certification("B2")
â‹®----
CoordinatorLanguageSkill skill3 = CoordinatorLanguageSkill.builder()
â‹®----
languageSkillRepository.save(skill1);
languageSkillRepository.save(skill2);
languageSkillRepository.save(skill3);
</file>

<file path="src/test/java/com/globalcarelink/e2e/HealthAssessmentToCoordinatorMatchingE2ETest.java">
class HealthAssessmentToCoordinatorMatchingE2ETest {
â‹®----
void setUp() {
setupTestCoordinators();
â‹®----
void completeE2EFlow_HealthAssessmentToMatching() throws Exception {
HealthAssessmentCreateRequest assessmentRequest = HealthAssessmentCreateRequest.builder()
.memberId("e2e-test-member")
.gender("M")
.birthYear(1950)
.mobilityLevel(2)
.eatingLevel(2)
.toiletLevel(3)
.communicationLevel(2)
.ltciGrade(3)
.careTargetStatus(4)
.mealType(1)
.diseaseTypes("ê³ í˜ˆì••, ë‹¹ë‡¨")
.build();
â‹®----
MvcResult assessmentResult = mockMvc.perform(post("/api/health-assessments")
.with(csrf())
.contentType(MediaType.APPLICATION_JSON)
.content(objectMapper.writeValueAsString(assessmentRequest)))
.andDo(print())
.andExpect(status().isCreated())
.andExpect(jsonPath("$.id").exists())
.andExpect(jsonPath("$.memberId").value("e2e-test-member"))
.andExpect(jsonPath("$.adlScore").exists())
.andExpect(jsonPath("$.overallCareGrade").exists())
.andReturn();
â‹®----
String assessmentJson = assessmentResult.getResponse().getContentAsString();
HealthAssessment createdAssessment = objectMapper.readValue(assessmentJson, HealthAssessment.class);
Long assessmentId = createdAssessment.getId();
â‹®----
assertThat(assessmentId).isNotNull();
assertThat(createdAssessment.getAdlScore()).isEqualTo(180);
â‹®----
MatchingPreference matchingPreference = MatchingPreference.builder()
.preferredLanguage("ko")
.preferredRegion("seoul")
.maxResults(10)
.minCustomerSatisfaction(3.0)
.needsWeekendAvailability(false)
.needsEmergencyAvailability(false)
â‹®----
mockMvc.perform(post("/api/coordinator-matching/match")
â‹®----
.param("healthAssessmentId", assessmentId.toString())
â‹®----
.content(objectMapper.writeValueAsString(matchingPreference)))
â‹®----
.andExpect(status().isOk())
.andExpect(content().contentType(MediaType.APPLICATION_JSON))
.andExpect(jsonPath("$").isArray())
.andExpect(jsonPath("$.length()").value(2))
.andExpect(jsonPath("$[0].coordinatorId").exists())
.andExpect(jsonPath("$[0].matchScore").exists())
.andExpect(jsonPath("$[0].matchReason").exists())
.andExpect(jsonPath("$[0].experienceYears").exists())
.andExpect(jsonPath("$[0].customerSatisfaction").exists())
.andExpect(jsonPath("$[0].specialtyAreas").isArray())
.andExpect(jsonPath("$[0].languageSkills").isArray())
.andExpect(jsonPath("$[0].workingRegions").isArray());
â‹®----
void severePatientE2EFlow() throws Exception {
HealthAssessmentCreateRequest severeRequest = HealthAssessmentCreateRequest.builder()
.memberId("severe-patient")
.gender("F")
.birthYear(1940)
.mobilityLevel(3)
.eatingLevel(3)
â‹®----
.communicationLevel(3)
.ltciGrade(1)
.careTargetStatus(3)
.mealType(3)
.diseaseTypes("ë‡Œì¡¸ì¤‘, ì¹˜ë§¤")
â‹®----
.content(objectMapper.writeValueAsString(severeRequest)))
â‹®----
.andExpect(jsonPath("$.overallCareGrade").value("1ë“±ê¸‰ (ìµœì¤‘ì¦ - ì¤‘ì¦ì§€í‘œ)"))
â‹®----
MatchingPreference medicalPreference = MatchingPreference.builder()
.needsProfessionalConsultation(true)
.needsEmergencyAvailability(true)
.maxResults(5)
.minCustomerSatisfaction(4.0)
â‹®----
.content(objectMapper.writeValueAsString(medicalPreference)))
â‹®----
.andExpect(jsonPath("$[0].availableEmergency").value(true))
â‹®----
.andExpect(jsonPath("$[0].customerSatisfaction").value(4.2));
â‹®----
void dementiaPatientE2EFlow() throws Exception {
HealthAssessmentCreateRequest dementiaRequest = HealthAssessmentCreateRequest.builder()
.memberId("dementia-patient")
â‹®----
.birthYear(1935)
â‹®----
.toiletLevel(2)
â‹®----
.ltciGrade(6)
â‹®----
.mealType(2)
.diseaseTypes("ì•Œì¸ í•˜ì´ë¨¸")
â‹®----
.content(objectMapper.writeValueAsString(dementiaRequest)))
â‹®----
.andExpect(jsonPath("$.ltciGrade").value(6))
â‹®----
MatchingPreference dementiaPreference = MatchingPreference.builder()
.preferredLanguage("en")
.countryCode("US")
â‹®----
.minCustomerSatisfaction(3.5)
â‹®----
.content(objectMapper.writeValueAsString(dementiaPreference)))
â‹®----
.andExpect(jsonPath("$[0].specialtyAreas").isArray());
â‹®----
void mildPatientE2EFlow() throws Exception {
HealthAssessmentCreateRequest mildRequest = HealthAssessmentCreateRequest.builder()
.memberId("mild-patient")
â‹®----
.birthYear(1960)
.mobilityLevel(1)
.eatingLevel(1)
.toiletLevel(1)
.communicationLevel(1)
.ltciGrade(5)
â‹®----
.diseaseTypes("ê³ í˜ˆì••")
â‹®----
.content(objectMapper.writeValueAsString(mildRequest)))
â‹®----
.andExpect(jsonPath("$.adlScore").value(100))
â‹®----
MatchingPreference generalPreference = MatchingPreference.builder()
â‹®----
.maxResults(15)
â‹®----
.needsWeekendAvailability(true)
â‹®----
.content(objectMapper.writeValueAsString(generalPreference)))
â‹®----
.andExpected(jsonPath("$[0].availableWeekends").value(true))
.andExpect(jsonPath("$[0].workingRegions").isArray())
.andExpected(jsonPath("$[0].workloadRatio").exists());
â‹®----
void multipleAssessmentUpdateE2EFlow() throws Exception {
HealthAssessmentCreateRequest initialRequest = HealthAssessmentCreateRequest.builder()
.memberId("update-test-member")
â‹®----
MvcResult initialResult = mockMvc.perform(post("/api/health-assessments")
â‹®----
.content(objectMapper.writeValueAsString(initialRequest)))
â‹®----
HealthAssessment initialAssessment = objectMapper.readValue(
initialResult.getResponse().getContentAsString(), HealthAssessment.class);
â‹®----
MatchingPreference initialPreference = MatchingPreference.builder()
â‹®----
MvcResult initialMatchingResult = mockMvc.perform(post("/api/coordinator-matching/match")
â‹®----
.param("healthAssessmentId", initialAssessment.getId().toString())
â‹®----
.content(objectMapper.writeValueAsString(initialPreference)))
â‹®----
.andExpected(status().isOk())
â‹®----
String initialMatchingJson = initialMatchingResult.getResponse().getContentAsString();
assertThat(initialMatchingJson).contains("coordinatorId");
â‹®----
com.globalcarelink.health.dto.HealthAssessmentUpdateRequest.builder()
â‹®----
mockMvc.perform(put("/api/health-assessments/{assessmentId}", initialAssessment.getId())
â‹®----
.content(objectMapper.writeValueAsString(updateRequest)))
â‹®----
.andExpected(jsonPath("$.adlScore").value(300));
â‹®----
MatchingPreference updatedPreference = MatchingPreference.builder()
â‹®----
.content(objectMapper.writeValueAsString(updatedPreference)))
â‹®----
.andExpected(jsonPath("$[0].specialtyAreas").isArray());
â‹®----
void matchingStatisticsE2EFlow() throws Exception {
HealthAssessmentCreateRequest request1 = HealthAssessmentCreateRequest.builder()
.memberId("stats-member-1")
â‹®----
HealthAssessmentCreateRequest request2 = HealthAssessmentCreateRequest.builder()
.memberId("stats-member-2")
â‹®----
mockMvc.perform(post("/api/health-assessments")
â‹®----
.content(objectMapper.writeValueAsString(request1)))
.andExpect(status().isCreated());
â‹®----
.content(objectMapper.writeValueAsString(request2)))
â‹®----
mockMvc.perform(get("/api/health-assessments/statistics"))
â‹®----
.andExpect(jsonPath("$.totalAssessments").value(2))
.andExpected(jsonPath("$.completeAssessments").value(2))
.andExpect(jsonPath("$.careGradeDistribution").isArray());
â‹®----
mockMvc.perform(get("/api/coordinator-matching/statistics"))
â‹®----
.andExpect(jsonPath("$.totalActiveCoordinators").exists())
.andExpect(jsonPath("$.averageCustomerSatisfaction").exists())
.andExpected(jsonPath("$.availableCoordinators").exists());
â‹®----
private void setupTestCoordinators() {
CoordinatorCareSettings coordinator1 = CoordinatorCareSettings.builder()
.coordinatorId("e2e-coordinator-001")
.baseCareLevel(1)
.maxCareLevel(5)
.experienceYears(5)
.successfulCases(120)
.customerSatisfaction(4.2)
.maxSimultaneousCases(8)
.specialtyAreas(Set.of("medical", "elderly_care"))
.workingRegions(Set.of("seoul", "incheon"))
.availableWeekends(true)
.availableEmergency(true)
.isActive(true)
â‹®----
CoordinatorCareSettings coordinator2 = CoordinatorCareSettings.builder()
.coordinatorId("e2e-coordinator-002")
.baseCareLevel(2)
â‹®----
.experienceYears(3)
.successfulCases(80)
.customerSatisfaction(3.8)
.maxSimultaneousCases(6)
.specialtyAreas(Set.of("rehabilitation"))
.workingRegions(Set.of("seoul", "gyeonggi"))
.availableWeekends(false)
.availableEmergency(false)
â‹®----
coordinatorCareSettingsRepository.save(coordinator1);
coordinatorCareSettingsRepository.save(coordinator2);
â‹®----
CoordinatorLanguageSkill skill1 = CoordinatorLanguageSkill.builder()
â‹®----
.languageCode("ko")
.languageName("í•œêµ­ì–´")
.proficiencyLevel(CoordinatorLanguageSkill.LanguageProficiency.NATIVE)
.certification("C2")
â‹®----
CoordinatorLanguageSkill skill2 = CoordinatorLanguageSkill.builder()
â‹®----
.languageCode("en")
.languageName("ì˜ì–´")
.proficiencyLevel(CoordinatorLanguageSkill.LanguageProficiency.BUSINESS)
.certification("B2")
â‹®----
CoordinatorLanguageSkill skill3 = CoordinatorLanguageSkill.builder()
â‹®----
coordinatorLanguageSkillRepository.save(skill1);
coordinatorLanguageSkillRepository.save(skill2);
coordinatorLanguageSkillRepository.save(skill3);
</file>

<file path="src/test/java/com/globalcarelink/health/HealthAssessmentControllerIntegrationTest.java">
class HealthAssessmentControllerIntegrationTest {
â‹®----
void setUp() {
setupTestData();
â‹®----
void createAssessment_Integration_Success() throws Exception {
mockMvc.perform(post("/api/health-assessments")
.with(csrf())
.contentType(MediaType.APPLICATION_JSON)
.content(objectMapper.writeValueAsString(validCreateRequest)))
.andDo(print())
.andExpect(status().isCreated())
.andExpect(content().contentType(MediaType.APPLICATION_JSON))
.andExpect(jsonPath("$.memberId").value("test-member-001"))
.andExpect(jsonPath("$.mobilityLevel").value(2))
.andExpect(jsonPath("$.eatingLevel").value(2))
.andExpect(jsonPath("$.toiletLevel").value(3))
.andExpect(jsonPath("$.communicationLevel").value(2))
.andExpect(jsonPath("$.ltciGrade").value(3))
.andExpect(jsonPath("$.adlScore").exists())
.andExpect(jsonPath("$.overallCareGrade").exists())
.andExpect(jsonPath("$.assessmentDate").exists());
â‹®----
void getAssessment_Integration_Success() throws Exception {
HealthAssessment created = healthAssessmentService.createAssessment(validCreateRequest);
â‹®----
mockMvc.perform(get("/api/health-assessments/{assessmentId}", created.getId()))
â‹®----
.andExpect(status().isOk())
â‹®----
.andExpect(jsonPath("$.id").value(created.getId()))
â‹®----
.andExpect(jsonPath("$.adlScore").value(created.getAdlScore()))
.andExpect(jsonPath("$.overallCareGrade").value(created.getOverallCareGrade()));
â‹®----
void updateAssessment_Integration_Success() throws Exception {
â‹®----
mockMvc.perform(put("/api/health-assessments/{assessmentId}", created.getId())
â‹®----
.content(objectMapper.writeValueAsString(validUpdateRequest)))
â‹®----
.andExpect(jsonPath("$.mobilityLevel").value(validUpdateRequest.getMobilityLevel()))
.andExpect(jsonPath("$.eatingLevel").value(validUpdateRequest.getEatingLevel()))
.andExpect(jsonPath("$.adlScore").exists());
â‹®----
void getMemberAssessments_Integration_Success() throws Exception {
healthAssessmentService.createAssessment(validCreateRequest);
â‹®----
HealthAssessmentCreateRequest secondRequest = HealthAssessmentCreateRequest.builder()
.memberId("test-member-001")
.mobilityLevel(3)
.eatingLevel(3)
.toiletLevel(3)
.communicationLevel(3)
.ltciGrade(2)
.careTargetStatus(3)
.mealType(2)
.diseaseTypes("ê³ í˜ˆì••")
.build();
â‹®----
healthAssessmentService.createAssessment(secondRequest);
â‹®----
mockMvc.perform(get("/api/health-assessments/member/test-member-001"))
â‹®----
.andExpect(jsonPath("$").isArray())
.andExpect(jsonPath("$.length()").value(2))
.andExpect(jsonPath("$[0].memberId").value("test-member-001"))
.andExpect(jsonPath("$[1].memberId").value("test-member-001"));
â‹®----
void getStatistics_Integration_Success() throws Exception {
â‹®----
HealthAssessmentCreateRequest request2 = HealthAssessmentCreateRequest.builder()
.memberId("test-member-002")
.mobilityLevel(1)
.eatingLevel(1)
.toiletLevel(1)
.communicationLevel(1)
.ltciGrade(5)
â‹®----
healthAssessmentService.createAssessment(request2);
â‹®----
mockMvc.perform(get("/api/health-assessments/statistics"))
â‹®----
.andExpect(jsonPath("$.totalAssessments").value(2))
.andExpect(jsonPath("$.completeAssessments").value(2))
.andExpect(jsonPath("$.careGradeDistribution").isArray())
.andExpect(jsonPath("$.adlScoreDistribution").isArray());
â‹®----
void getAssessmentsByCareGrade_Integration_Success() throws Exception {
â‹®----
HealthAssessmentCreateRequest grade1Request = HealthAssessmentCreateRequest.builder()
â‹®----
.ltciGrade(1)
â‹®----
healthAssessmentService.createAssessment(grade1Request);
â‹®----
mockMvc.perform(get("/api/health-assessments/care-grade")
.param("minGrade", "1")
.param("maxGrade", "3"))
â‹®----
.andExpect(jsonPath("$.length()").value(2));
â‹®----
void getSpecializedCareTargets_Integration_Success() throws Exception {
HealthAssessmentCreateRequest hospiceRequest = HealthAssessmentCreateRequest.builder()
.memberId("hospice-patient")
â‹®----
.careTargetStatus(1)
.mealType(3)
.diseaseTypes("ë§ê¸°ì•”")
â‹®----
healthAssessmentService.createAssessment(hospiceRequest);
â‹®----
mockMvc.perform(get("/api/health-assessments/hospice-care"))
â‹®----
.andExpect(jsonPath("$.length()").value(1))
.andExpect(jsonPath("$[0].memberId").value("hospice-patient"))
.andExpect(jsonPath("$[0].careTargetStatus").value(1));
â‹®----
void getDementiaCareTargets_Integration_Success() throws Exception {
HealthAssessmentCreateRequest dementiaRequest = HealthAssessmentCreateRequest.builder()
.memberId("dementia-patient")
.mobilityLevel(2)
.eatingLevel(2)
.toiletLevel(2)
â‹®----
.ltciGrade(6)
.diseaseTypes("ì¹˜ë§¤")
â‹®----
healthAssessmentService.createAssessment(dementiaRequest);
â‹®----
mockMvc.perform(get("/api/health-assessments/dementia-care"))
â‹®----
.andExpect(jsonPath("$[0].memberId").value("dementia-patient"))
.andExpect(jsonPath("$[0].ltciGrade").value(6));
â‹®----
void adlScoreCalculation_Integration_Test() throws Exception {
HealthAssessmentCreateRequest request = HealthAssessmentCreateRequest.builder()
.memberId("adl-test-member")
â‹®----
.communicationLevel(2)
â‹®----
.content(objectMapper.writeValueAsString(request)))
â‹®----
.andExpect(jsonPath("$.adlScore").value(180))
.andExpect(jsonPath("$.overallCareGrade").exists());
â‹®----
void careGradeCalculation_Integration_Test() throws Exception {
HealthAssessmentCreateRequest severeRequest = HealthAssessmentCreateRequest.builder()
.memberId("severe-patient")
â‹®----
.content(objectMapper.writeValueAsString(severeRequest)))
â‹®----
.andExpect(jsonPath("$.overallCareGrade").value("1ë“±ê¸‰ (ìµœì¤‘ì¦ - ì¤‘ì¦ì§€í‘œ)"));
â‹®----
void accessControl_Integration_Test() throws Exception {
â‹®----
.andExpect(status().isForbidden());
â‹®----
private void setupTestData() {
validCreateRequest = HealthAssessmentCreateRequest.builder()
â‹®----
.gender("M")
.birthYear(1950)
â‹®----
.ltciGrade(3)
.careTargetStatus(4)
.mealType(1)
.diseaseTypes("ê³ í˜ˆì••, ë‹¹ë‡¨")
â‹®----
validUpdateRequest = HealthAssessmentUpdateRequest.builder()
â‹®----
.ltciGrade(4)
</file>

<file path="build.gradle.kts">
plugins {
    id("org.springframework.boot") version "3.3.5"
    id("io.spring.dependency-management") version "1.1.6"
    id("java")
}

group = "com.globalcarelink"
version = "0.0.1-SNAPSHOT"

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

configurations {
    compileOnly {
        extendsFrom(configurations.annotationProcessor.get())
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // Spring Boot Starters
    implementation("org.springframework.boot:spring-boot-starter-web")
    implementation("org.springframework.boot:spring-boot-starter-data-jpa")
    implementation("org.springframework.boot:spring-boot-starter-security")
    implementation("org.springframework.boot:spring-boot-starter-validation")
    implementation("org.springframework.boot:spring-boot-starter-actuator")
    
    // Database
    runtimeOnly("org.xerial:sqlite-jdbc:3.46.1.0")
    implementation("org.hibernate.community:hibernate-community-dialects:6.4.4.Final")
    
    // JWT
    implementation("io.jsonwebtoken:jjwt-api:0.12.6")
    runtimeOnly("io.jsonwebtoken:jjwt-impl:0.12.6")
    runtimeOnly("io.jsonwebtoken:jjwt-jackson:0.12.6")
    
    // Utility Libraries
    compileOnly("org.projectlombok:lombok")
    annotationProcessor("org.projectlombok:lombok")
    implementation("org.mapstruct:mapstruct:1.6.2")
    annotationProcessor("org.mapstruct:mapstruct-processor:1.6.2")
    
    // API Documentation
    implementation("org.springdoc:springdoc-openapi-starter-webmvc-ui:2.6.0")
    
    // Structured Logging
    implementation("net.logstash.logback:logstash-logback-encoder:8.0")
    
    // AOP
    implementation("org.springframework.boot:spring-boot-starter-aop")
    
    // Caching
    implementation("com.github.ben-manes.caffeine:caffeine:3.1.8")
    implementation("org.springframework.boot:spring-boot-starter-cache")
    
    // Development Tools
    developmentOnly("org.springframework.boot:spring-boot-devtools")
    
    // Testing
    testImplementation("org.springframework.boot:spring-boot-starter-test")
    testImplementation("org.springframework.security:spring-security-test")
    testRuntimeOnly("org.junit.platform:junit-platform-launcher")
}

tasks.withType<Test> {
    useJUnitPlatform()
}
</file>

<file path="frontend/src/App.tsx">
/**
 * ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
 * Elderberry ê¸€ë¡œë²Œ ìš”ì–‘ì› êµ¬ì¸êµ¬ì§ ì„œë¹„ìŠ¤
 */
import React from 'react';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
â‹®----
import HealthAssessmentWizard from '@/features/health/HealthAssessmentWizard';
import CoordinatorMatchingWizard from '@/features/coordinator/CoordinatorMatchingWizard';
â‹®----
// React Query í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
â‹®----
staleTime: 5 * 60 * 1000, // 5ë¶„
gcTime: 10 * 60 * 1000, // 10ë¶„
â‹®----
function App()
â‹®----
{/* ê±´ê°• í‰ê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ */}
â‹®----
memberId="user123" // ì‹¤ì œë¡œëŠ” ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ID
â‹®----
// ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
â‹®----
onCancel=
â‹®----
// í™ˆìœ¼ë¡œ ì´ë™
â‹®----
{/* ì½”ë””ë„¤ì´í„° ë§¤ì¹­ í˜ì´ì§€ */}
â‹®----
assessmentId={123} // ì‹¤ì œë¡œëŠ” URL íŒŒë¼ë¯¸í„°ì—ì„œ ê°€ì ¸ì˜´
â‹®----
console.log('ë§¤ì¹­ ì™„ë£Œ:', coordinatorId);
// ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
â‹®----
// í™ˆìœ¼ë¡œ ì´ë™
â‹®----
{/* ê¸°ë³¸ í™ˆ í˜ì´ì§€ (ì„ì‹œ) */}
</file>

<file path="frontend/package.json">
{
  "name": "global-care-link-frontend",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.20.0",
    "zustand": "^4.4.6",
    "@tanstack/react-query": "^5.8.0",
    "axios": "^1.6.0",
    "framer-motion": "^10.0.0",
    "lucide-react": "^0.292.0",
    "react-hook-form": "^7.47.0",
    "zod": "^3.22.0",
    "@hookform/resolvers": "^3.3.0",
    "tailwindcss": "^3.3.0",
    "@allpepper/memory-bank-mcp": "^0.2.1",
    "@modelcontextprotocol/server-filesystem": "^2025.7.1"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "@vitejs/plugin-react": "^4.0.0",
    "autoprefixer": "^10.4.0",
    "eslint": "^8.45.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.0",
    "postcss": "^8.4.0",
    "typescript": "^5.0.0",
    "vite": "^5.0.0"
  }
}
</file>

<file path="src/main/java/com/globalcarelink/common/exception/GlobalExceptionHandler.java">
public class GlobalExceptionHandler {
â‹®----
public ResponseEntity<ErrorResponse> handleBadRequest(CustomException.BadRequest ex, HttpServletRequest request) {
String errorId = UUID.randomUUID().toString();
log.warn("ì˜ëª»ëœ ìš”ì²­ - ID: {}, URI: {}, ë©”ì‹œì§€: {}", errorId, request.getRequestURI(), ex.getMessage());
â‹®----
ErrorResponse response = ErrorResponse.builder()
.errorId(errorId)
.status(HttpStatus.BAD_REQUEST.value())
.error("Bad Request")
.message(ex.getMessage())
.path(request.getRequestURI())
.timestamp(LocalDateTime.now())
.build();
â‹®----
return ResponseEntity.badRequest().body(response);
â‹®----
public ResponseEntity<ErrorResponse> handleNotFound(CustomException.NotFound ex, HttpServletRequest request) {
â‹®----
log.info("ë¦¬ì†ŒìŠ¤ ì—†ìŒ - ID: {}, URI: {}, ë©”ì‹œì§€: {}", errorId, request.getRequestURI(), ex.getMessage());
â‹®----
.status(HttpStatus.NOT_FOUND.value())
.error("Not Found")
.message("ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
â‹®----
return ResponseEntity.status(HttpStatus.NOT_FOUND).body(response);
â‹®----
public ResponseEntity<ErrorResponse> handleUnauthorized(CustomException.Unauthorized ex, HttpServletRequest request) {
â‹®----
log.warn("ì¸ì¦ ì‹¤íŒ¨ - ID: {}, URI: {}, IP: {}", errorId, request.getRequestURI(), getClientIP(request));
â‹®----
.status(HttpStatus.UNAUTHORIZED.value())
.error("Unauthorized")
.message("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤")
â‹®----
return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);
â‹®----
public ResponseEntity<ErrorResponse> handleForbidden(CustomException.Forbidden ex, HttpServletRequest request) {
â‹®----
log.warn("ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ - ID: {}, URI: {}, IP: {}", errorId, request.getRequestURI(), getClientIP(request));
â‹®----
.status(HttpStatus.FORBIDDEN.value())
.error("Forbidden")
.message("ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤")
â‹®----
return ResponseEntity.status(HttpStatus.FORBIDDEN).body(response);
â‹®----
public ResponseEntity<ErrorResponse> handleAccessDenied(AccessDeniedException ex, HttpServletRequest request) {
â‹®----
log.warn("Spring Security ì ‘ê·¼ ê±°ë¶€ - ID: {}, URI: {}, IP: {}", errorId, request.getRequestURI(), getClientIP(request));
â‹®----
.error("Access Denied")
â‹®----
public ResponseEntity<ErrorResponse> handleBadCredentials(BadCredentialsException ex, HttpServletRequest request) {
â‹®----
log.warn("ì˜ëª»ëœ ì¸ì¦ ì •ë³´ - ID: {}, URI: {}, IP: {}", errorId, request.getRequestURI(), getClientIP(request));
â‹®----
.error("Bad Credentials")
.message("ì¸ì¦ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤")
â‹®----
public ResponseEntity<ErrorResponse> handleValidationException(MethodArgumentNotValidException ex, HttpServletRequest request) {
â‹®----
log.warn("ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ - ID: {}, URI: {}", errorId, request.getRequestURI());
â‹®----
ex.getBindingResult().getFieldErrors().forEach(error ->
errors.put(error.getField(), error.getDefaultMessage())
â‹®----
.error("Validation Failed")
.message("ì…ë ¥ ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤")
â‹®----
.details(errors)
â‹®----
public ResponseEntity<ErrorResponse> handleBindException(BindException ex, HttpServletRequest request) {
â‹®----
log.warn("ë°”ì¸ë”© ì˜¤ë¥˜ - ID: {}, URI: {}", errorId, request.getRequestURI());
â‹®----
.error("Binding Error")
.message("ìš”ì²­ ë°ì´í„° ë°”ì¸ë”©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")
â‹®----
public ResponseEntity<ErrorResponse> handleConstraintViolation(ConstraintViolationException ex, HttpServletRequest request) {
â‹®----
log.warn("ì œì•½ ì¡°ê±´ ìœ„ë°˜ - ID: {}, URI: {}", errorId, request.getRequestURI());
â‹®----
ex.getConstraintViolations().forEach(violation ->
errors.put(violation.getPropertyPath().toString(), violation.getMessage())
â‹®----
.error("Constraint Violation")
.message("ë°ì´í„° ì œì•½ ì¡°ê±´ì„ ìœ„ë°˜í–ˆìŠµë‹ˆë‹¤")
â‹®----
public ResponseEntity<ErrorResponse> handleTypeMismatch(MethodArgumentTypeMismatchException ex, HttpServletRequest request) {
â‹®----
log.warn("íƒ€ì… ë¶ˆì¼ì¹˜ - ID: {}, URI: {}, íŒŒë¼ë¯¸í„°: {}", errorId, request.getRequestURI(), ex.getName());
â‹®----
.error("Type Mismatch")
.message("ìš”ì²­ íŒŒë¼ë¯¸í„° íƒ€ì…ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤")
â‹®----
public ResponseEntity<ErrorResponse> handleDataIntegrityViolation(DataIntegrityViolationException ex, HttpServletRequest request) {
â‹®----
log.error("ë°ì´í„° ë¬´ê²°ì„± ìœ„ë°˜ - ID: {}, URI: {}", errorId, request.getRequestURI(), ex);
â‹®----
.status(HttpStatus.CONFLICT.value())
.error("Data Integrity Violation")
.message("ë°ì´í„° ë¬´ê²°ì„± ì œì•½ì„ ìœ„ë°˜í–ˆìŠµë‹ˆë‹¤")
â‹®----
return ResponseEntity.status(HttpStatus.CONFLICT).body(response);
â‹®----
public ResponseEntity<ErrorResponse> handleGeneralException(Exception ex, HttpServletRequest request) {
â‹®----
log.error("ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ ë°œìƒ - ID: {}, URI: {}", errorId, request.getRequestURI(), ex);
â‹®----
.status(HttpStatus.INTERNAL_SERVER_ERROR.value())
.error("Internal Server Error")
.message("ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤")
â‹®----
return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(response);
â‹®----
private String getClientIP(HttpServletRequest request) {
String xForwardedFor = request.getHeader("X-Forwarded-For");
if (xForwardedFor != null && !xForwardedFor.isEmpty()) {
return xForwardedFor.split(",")[0].trim();
â‹®----
String xRealIP = request.getHeader("X-Real-IP");
if (xRealIP != null && !xRealIP.isEmpty()) {
â‹®----
return request.getRemoteAddr();
â‹®----
public static class ErrorResponse {
</file>

<file path="src/main/java/com/globalcarelink/health/HealthAssessment.java">
import lombok.*;
â‹®----
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ ì—”í‹°í‹° (KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜)
 * 
 * 4ê°œ ì£¼ìš” í‰ê°€ ì˜ì—­:
 * - ê±·ê¸° í™œë™ ëŠ¥ë ¥ (mobility)
 * - ì‹ì‚¬ í™œë™ ëŠ¥ë ¥ (eating) 
 * - ë°°ë³€ í™œë™ ëŠ¥ë ¥ (toilet)
 * - ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ (communication)
 */
â‹®----
public class HealthAssessment extends BaseEntity {
â‹®----
// ===== ê¸°ë³¸ ì •ë³´ =====
â‹®----
// ===== ADL í‰ê°€ (ê° ì˜ì—­ 1-3ì ) =====
â‹®----
/**
     * ê±·ê¸° í™œë™ ëŠ¥ë ¥ (care_mobility)
     * 1: ë…ë¦½ - í˜¼ìì„œ ê°€ëŠ¥
     * 2: ë¶€ë¶„ë„ì›€ - ë¶€ì¶•, ì§€íŒ¡ì´ ë“± í•„ìš”
     * 3: ì™„ì „ë„ì›€ - íœ ì²´ì–´ ì‚¬ìš© ë“±
     */
â‹®----
/**
     * ì‹ì‚¬ í™œë™ ëŠ¥ë ¥ (care_eating)
     * 1: ë…ë¦½ - í˜¼ìì„œ ê°€ëŠ¥
     * 2: ë¶€ë¶„ë„ì›€ - ë°˜ì°¬ ì§‘ê¸°, ìë¥´ê¸° ë“± ì¼ë¶€ ë„ì›€
     * 3: ì™„ì „ë„ì›€ - ìŒì‹ì„ ë–  ë¨¹ì—¬ì¤Œ
     */
â‹®----
/**
     * ë°°ë³€ í™œë™ ëŠ¥ë ¥ (care_toilet)
     * 1: ë…ë¦½ - í˜¼ìì„œ í™”ì¥ì‹¤ ì´ìš© ê°€ëŠ¥
     * 2: ë¶€ë¶„ë„ì›€ - í™”ì¥ì‹¤ ì´ìš© ì‹œ ë¶€ë¶„ì  ë„ì›€ í•„ìš”
     * 3: ì™„ì „ë„ì›€ - ê°„ì´ë³€ê¸°, ê¸°ì €ê·€ ì°©ìš© ë“±
     */
â‹®----
/**
     * ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ (care_communication)
     * 1: ì •ìƒ - ì •ìƒì ìœ¼ë¡œ ê°€ëŠ¥
     * 2: ë¶€ë¶„ì œí•œ - ë•Œë•Œë¡œ ì–´ë ¤ì›€ (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ê°€ëŠ¥)
     * 3: ì‹¬ê°ì œí•œ - ì†Œí†µì´ ì–´ë ¤ì›€ (í™”ì¥ì‹¤ ì´ìš©ì˜ì‚¬ í‘œí˜„ ì˜ ëª»í•¨)
     */
â‹®----
// ===== ì¥ê¸°ìš”ì–‘ë³´í—˜ ì •ë³´ =====
â‹®----
/**
     * ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰
     * 1-5: ì¥ê¸°ìš”ì–‘ë“±ê¸‰ (1ë“±ê¸‰ì´ ìµœì¤‘ì¦)
     * 6: ì¸ì§€ì§€ì›ë“±ê¸‰ (ì¹˜ë§¤ ë“±)
     * 7: ë“±ê¸‰ íŒì • ì¤‘ ë˜ëŠ” ëª¨ë¦„
     * 8: ë“±ê¸‰ ì—†ìŒ
     */
â‹®----
/**
     * ëŒë´„ëŒ€ìƒì ìƒíƒœ (ìƒëª…ì˜ˆí›„ ìƒíƒœ)
     * 1: 6ê°œì›” ì´í•˜ ê¸°ëŒ€ìˆ˜ëª… (í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´)
     * 2: ì§ˆë³‘ì´ íšŒë³µí•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ìœ¼ë¡œ ìˆ˜ëª…ì´ ì–¼ë§ˆ ë‚¨ì§€ ì•ŠìŒ
     * 3: ì™„ì „íˆ íƒ€ì¸ ì˜ì¡´ì ì´ë‚˜ ì‚¬ë§ìœ„í—˜ì´ ë†’ì§€ ì•ŠìŒ
     * 4: í•´ë‹¹ì‚¬í•­ ì—†ìŒ (ì¼ë°˜ ìš”ì–‘)
     */
â‹®----
// ===== KBë¼ì´í”„ìƒëª… ì°¸ì¡°: ì¶”ê°€ í‰ê°€ í•­ëª© =====
â‹®----
/**
     * ì‹ì‚¬ í˜•íƒœ (KBë¼ì´í”„ìƒëª… ê¸°ì¤€ ì¶”ê°€)
     * 1: ì¼ë°˜ì‹ (ì •ìƒ ì‹ì‚¬ ê°€ëŠ¥)
     * 2: ë‹¤ì§„ì‹/ê°ˆì€ì‹ (ë¶€ë“œëŸ¬ìš´ ì‹ì‚¬ í•„ìš”)
     * 3: ê²½ê´€ì‹ (íŠœë¸Œ ì£¼ì…)
     */
â‹®----
/**
     * ì£¼ìš” ì§ˆí™˜ ë¶„ë¥˜ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)
     * DEMENTIA: ì¹˜ë§¤ (ì¸ì§€ê¸°ëŠ¥ ì €í•˜)
     * PARKINSON: íŒŒí‚¨ìŠ¨ (ìš´ë™ì¥ì• )
     * STROKE: ë‡Œí˜ˆê´€ì§ˆí™˜ (ë‡Œì¡¸ì¤‘ ë“±)
     * DIABETES: ë‹¹ë‡¨ë³‘
     * HYPERTENSION: ê³ í˜ˆì••
     * OTHER: ê¸°íƒ€
     * UNKNOWN: ì˜ ëª¨ë¥´ê² ìŒ
     */
â‹®----
private String diseaseTypes; // JSON í˜•íƒœë¡œ ì €ì¥: ["DEMENTIA", "STROKE"]
â‹®----
// ===== ê³„ì‚°ëœ ê²°ê³¼ =====
â‹®----
/**
     * ADL ì ìˆ˜ (ì¼ìƒìƒí™œìˆ˜í–‰ëŠ¥ë ¥ ì ìˆ˜)
     * ê³„ì‚°ì‹: (mobility*25) + (eating*20) + (toilet*30) + (communication*25)
     * ë²”ìœ„: 100-300ì 
     */
â‹®----
/**
     * ì¢…í•© ì¼€ì–´ ë“±ê¸‰
     * ADL ì ìˆ˜ + ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ + ëŒë´„ëŒ€ìƒì ìƒíƒœë¥¼ ì¢…í•©í•˜ì—¬ ì‚°ì¶œ
     */
â‹®----
private LocalDateTime assessmentDate = LocalDateTime.now();
â‹®----
// ===== ë¹„ì¦ˆë‹ˆìŠ¤ ë©”ì„œë“œ =====
â‹®----
/**
     * ADL ì ìˆ˜ ê³„ì‚°
     * ê° ì˜ì—­ë³„ ê°€ì¤‘ì¹˜ë¥¼ ì ìš©í•˜ì—¬ ì´ì  ê³„ì‚°
     */
public void calculateAdlScore() {
â‹®----
/**
     * ì¬ì™¸ë™í¬ ì—¬ë¶€ í™•ì¸
     * íšŒì› ì •ë³´ë¥¼ í†µí•´ í™•ì¸ (ì¶”í›„ Member ì—”í‹°í‹°ì™€ ì—°ë™)
     */
public boolean isOverseasKorean() {
// TODO: Member ì—”í‹°í‹°ì˜ roleì´ USER_OVERSEASì¸ì§€ í™•ì¸
return false; // ì„ì‹œ êµ¬í˜„
â‹®----
/**
     * ì¢…í•© í‰ê°€ ì ìˆ˜ (5ì  ë§Œì )
     * ADL ì ìˆ˜ë¥¼ 5ì  ë§Œì ìœ¼ë¡œ í™˜ì‚°
     */
public double getOverallScore() {
â‹®----
calculateAdlScore();
â‹®----
// 100ì (ìµœê³ ) â†’ 5.0ì , 300ì (ìµœì €) â†’ 1.0ì ìœ¼ë¡œ í™˜ì‚°
â‹®----
return Math.max(1.0, Math.min(5.0, normalizedScore));
â‹®----
/**
     * ì¼€ì–´ ë“±ê¸‰ ë ˆë²¨ ë°˜í™˜
     * 1: ìµœì¤‘ì¦, 2: ì¤‘ì¦, 3: ì¤‘ë“±ì¦, 4: ê²½ì¦, 5: ê²½ì¦, 6: ì¸ì§€ì§€ì›
     */
public int getCareGradeLevel() {
â‹®----
// ì¥ê¸°ìš”ì–‘ë“±ê¸‰ì´ ì—†ëŠ” ê²½ìš° ADL ì ìˆ˜ë¡œ ì¶”ì •
â‹®----
if (adlScore >= 250) return 1; // ìµœì¤‘ì¦
if (adlScore >= 220) return 2; // ì¤‘ì¦
if (adlScore >= 180) return 3; // ì¤‘ë“±ì¦
if (adlScore >= 140) return 4; // ê²½ì¦
return 5; // ê²½ì¦
â‹®----
/**
     * í‰ê°€ ì™„ì„±ë„ í™•ì¸
     */
public boolean isComplete() {
â‹®----
/**
     * í‰ê°€ ê°±ì‹  (ìƒˆë¡œìš´ í‰ê°€ ê²°ê³¼ë¡œ ì—…ë°ì´íŠ¸)
     */
public void updateAssessment(Integer mobility, Integer eating, Integer toilet, Integer communication) {
â‹®----
this.assessmentDate = LocalDateTime.now();
â‹®----
// ìë™ìœ¼ë¡œ ADL ì ìˆ˜ ì¬ê³„ì‚°
â‹®----
/**
     * íŠ¹ì • ì§ˆí™˜ ì—¬ë¶€ í™•ì¸
     */
public boolean hasDiseaseType(String diseaseType) {
return diseaseTypes != null && diseaseTypes.contains(diseaseType);
â‹®----
/**
     * ì¤‘ì¦ ì§€í‘œ ì—¬ë¶€ í™•ì¸ (KBë¼ì´í”„ìƒëª… ê¸°ì¤€)
     * - ê²½ê´€ì‹(íŠœë¸Œ ì£¼ì…) ë˜ëŠ”
     * - ë°°ë³€í™œë™ ì™„ì „ë„ì›€
     */
public boolean hasSevereIndicators() {
â‹®----
/**
     * ì¹˜ë§¤ ê´€ë ¨ ì§ˆí™˜ ì—¬ë¶€ í™•ì¸
     */
public boolean hasDementiaRelatedCondition() {
â‹®----
hasDiseaseType("DEMENTIA");
â‹®----
/**
     * í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ í•„ìš” ì—¬ë¶€ í™•ì¸
     */
public boolean needsHospiceCare() {
â‹®----
/**
     * ì§ˆí™˜ë³„ ì „ë¬¸ ì¼€ì–´ íƒ€ì… ë°˜í™˜
     */
public String getSpecializedCareType() {
if (needsHospiceCare()) {
â‹®----
if (hasDementiaRelatedCondition()) {
â‹®----
if (hasDiseaseType("PARKINSON")) {
â‹®----
if (hasDiseaseType("STROKE")) {
â‹®----
if (hasSevereIndicators()) {
â‹®----
/**
     * ì˜ˆìƒ ì›” ë¹„ìš© ë²”ìœ„ ë°˜í™˜ (ë“±ê¸‰ ê¸°ë°˜)
     */
public String getEstimatedMonthlyCostRange() {
int gradeLevel = getCareGradeLevel();
â‹®----
/**
     * í‰ê°€ ê²°ê³¼ ìš”ì•½ í…ìŠ¤íŠ¸ ìƒì„±
     */
public String generateAssessmentSummary() {
StringBuilder summary = new StringBuilder();
â‹®----
summary.append("ğŸ¥ ì¢…í•© ì¼€ì–´ ë“±ê¸‰: ").append(overallCareGrade != null ? overallCareGrade : "ë¯¸ì‚°ì¶œ").append("\n");
summary.append("ğŸ“Š ADL ì ìˆ˜: ").append(adlScore != null ? adlScore + "ì " : "ë¯¸ê³„ì‚°").append("\n");
â‹®----
summary.append("ğŸ¯ ì¥ê¸°ìš”ì–‘ë“±ê¸‰: ").append(ltciGrade).append("ë“±ê¸‰\n");
â‹®----
summary.append("âš ï¸ ì¤‘ì¦ ì§€í‘œ ì¡´ì¬\n");
â‹®----
summary.append("ğŸ•Šï¸ í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ ê¶Œì¥\n");
â‹®----
summary.append("ğŸ’° ì˜ˆìƒ ë¹„ìš©: ").append(getEstimatedMonthlyCostRange());
â‹®----
return summary.toString();
</file>

<file path="src/main/java/com/globalcarelink/health/HealthAssessmentService.java">
/**
 * ê±´ê°• ìƒíƒœ í‰ê°€ ì„œë¹„ìŠ¤
 * KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ëŒë´„ì§€ìˆ˜ ì²´í¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
 */
â‹®----
public class HealthAssessmentService {
â‹®----
/**
     * ê±´ê°• í‰ê°€ ìƒì„±
     */
â‹®----
public HealthAssessment createAssessment(HealthAssessmentCreateRequest request) {
log.info("ê±´ê°• í‰ê°€ ìƒì„± ì‹œì‘ - íšŒì›: {}", request.getMemberId());
â‹®----
// ì…ë ¥ê°’ ê²€ì¦
validateAssessmentRequest(request);
â‹®----
// ì—”í‹°í‹° ìƒì„±
HealthAssessment assessment = HealthAssessment.builder()
.memberId(request.getMemberId())
.gender(request.getGender())
.birthYear(request.getBirthYear())
.mobilityLevel(request.getMobilityLevel())
.eatingLevel(request.getEatingLevel())
.toiletLevel(request.getToiletLevel())
.communicationLevel(request.getCommunicationLevel())
.ltciGrade(request.getLtciGrade())
.careTargetStatus(request.getCareTargetStatus() != null ? request.getCareTargetStatus() : 4)
.mealType(request.getMealType() != null ? request.getMealType() : 1)
.diseaseTypes(request.getDiseaseTypes())
.assessmentDate(LocalDateTime.now())
.build();
â‹®----
// ADL ì ìˆ˜ ìë™ ê³„ì‚°
assessment.calculateAdlScore();
â‹®----
// ì¼€ì–´ ë“±ê¸‰ ê³„ì‚°
CareGradeCalculator.CareGradeResult gradeResult = careGradeCalculator.calculateComprehensiveGrade(assessment);
â‹®----
// ì €ì¥
HealthAssessment saved = healthAssessmentRepository.save(assessment);
â‹®----
log.info("ê±´ê°• í‰ê°€ ìƒì„± ì™„ë£Œ - ID: {}, íšŒì›: {}, ë“±ê¸‰: {}",
saved.getId(), request.getMemberId(), gradeResult.getGradeName());
â‹®----
/**
     * IDë¡œ ê±´ê°• í‰ê°€ ì¡°íšŒ
     */
â‹®----
public Optional<HealthAssessment> getAssessmentById(Long assessmentId) {
log.debug("ê±´ê°• í‰ê°€ ì¡°íšŒ - ID: {}", assessmentId);
return healthAssessmentRepository.findById(assessmentId);
â‹®----
/**
     * íšŒì›ë³„ ìµœì‹  ê±´ê°• í‰ê°€ ì¡°íšŒ
     */
â‹®----
public Optional<HealthAssessment> getLatestAssessmentByMemberId(String memberId) {
log.debug("íšŒì› ìµœì‹  ê±´ê°• í‰ê°€ ì¡°íšŒ - íšŒì›: {}", memberId);
if (memberId == null || memberId.trim().isEmpty()) {
â‹®----
return healthAssessmentRepository.findTopByMemberIdOrderByAssessmentDateDesc(memberId);
â‹®----
/**
     * íšŒì›ë³„ ê±´ê°• í‰ê°€ ì´ë ¥ ì¡°íšŒ
     */
public List<HealthAssessment> getAssessmentHistoryByMemberId(String memberId) {
â‹®----
return healthAssessmentRepository.findByMemberIdOrderByAssessmentDateDesc(memberId);
â‹®----
/**
     * ê±´ê°• í‰ê°€ í˜ì´ì§• ì¡°íšŒ
     */
public Page<HealthAssessment> getAssessmentsByMemberId(String memberId, Pageable pageable) {
â‹®----
return healthAssessmentRepository.findByMemberIdOrderByAssessmentDateDesc(memberId, pageable);
â‹®----
/**
     * ê±´ê°• í‰ê°€ ìˆ˜ì •
     */
â‹®----
public HealthAssessment updateAssessment(Long assessmentId, HealthAssessmentUpdateRequest request) {
log.info("ê±´ê°• í‰ê°€ ìˆ˜ì • ì‹œì‘ - ID: {}", assessmentId);
â‹®----
// ê¸°ì¡´ í‰ê°€ ì¡°íšŒ
HealthAssessment assessment = healthAssessmentRepository.findById(assessmentId)
.orElseThrow(() -> new CustomException.NotFound("ê±´ê°• í‰ê°€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + assessmentId));
â‹®----
validateUpdateRequest(request);
â‹®----
// í‰ê°€ ì •ë³´ ì—…ë°ì´íŠ¸
if (request.getMobilityLevel() != null) {
assessment.setMobilityLevel(request.getMobilityLevel());
â‹®----
if (request.getEatingLevel() != null) {
assessment.setEatingLevel(request.getEatingLevel());
â‹®----
if (request.getToiletLevel() != null) {
assessment.setToiletLevel(request.getToiletLevel());
â‹®----
if (request.getCommunicationLevel() != null) {
assessment.setCommunicationLevel(request.getCommunicationLevel());
â‹®----
if (request.getLtciGrade() != null) {
assessment.setLtciGrade(request.getLtciGrade());
â‹®----
if (request.getCareTargetStatus() != null) {
assessment.setCareTargetStatus(request.getCareTargetStatus());
â‹®----
if (request.getMealType() != null) {
assessment.setMealType(request.getMealType());
â‹®----
if (request.getDiseaseTypes() != null) {
assessment.setDiseaseTypes(request.getDiseaseTypes());
â‹®----
// í‰ê°€ ë‚ ì§œ ê°±ì‹ 
assessment.setAssessmentDate(LocalDateTime.now());
â‹®----
// ADL ì ìˆ˜ ì¬ê³„ì‚°
â‹®----
// ì¼€ì–´ ë“±ê¸‰ ì¬ê³„ì‚°
â‹®----
HealthAssessment updated = healthAssessmentRepository.save(assessment);
â‹®----
log.info("ê±´ê°• í‰ê°€ ìˆ˜ì • ì™„ë£Œ - ID: {}, ìƒˆ ë“±ê¸‰: {}", assessmentId, gradeResult.getGradeName());
â‹®----
/**
     * ì¼€ì–´ ë“±ê¸‰ ê³„ì‚° (ë³„ë„ í˜¸ì¶œ)
     */
public CareGradeCalculator.CareGradeResult calculateCareGrade(HealthAssessment assessment) {
return careGradeCalculator.calculateComprehensiveGrade(assessment);
â‹®----
/**
     * íŠ¹ì • ì¼€ì–´ ë“±ê¸‰ ë²”ìœ„ì˜ í‰ê°€ ì¡°íšŒ
     */
public List<HealthAssessment> getAssessmentsByCareGradeRange(Integer minGrade, Integer maxGrade) {
return healthAssessmentRepository.findByCareGradeRange(minGrade, maxGrade);
â‹®----
/**
     * í˜¸ìŠ¤í”¼ìŠ¤ ì¼€ì–´ ëŒ€ìƒì ì¡°íšŒ
     */
public List<HealthAssessment> getHospiceCareTargets() {
return healthAssessmentRepository.findHospiceCareTargets();
â‹®----
/**
     * ì¹˜ë§¤ ì „ë¬¸ ì¼€ì–´ ëŒ€ìƒì ì¡°íšŒ
     */
public List<HealthAssessment> getDementiaCareTargets() {
return healthAssessmentRepository.findDementiaCareTargets();
â‹®----
/**
     * ì¤‘ì¦ í™˜ì ì¡°íšŒ
     */
public List<HealthAssessment> getSevereCareTargets() {
return healthAssessmentRepository.findSevereCareTargets();
â‹®----
/**
     * ì¬ì™¸ë™í¬ ëŒ€ìƒ í‰ê°€ ì¡°íšŒ
     */
public List<HealthAssessment> getOverseasKoreanAssessments() {
return healthAssessmentRepository.findOverseasKoreanAssessments();
â‹®----
/**
     * ê±´ê°• í‰ê°€ í†µê³„ ì¡°íšŒ
     */
â‹®----
public HealthAssessmentStatistics getStatistics() {
log.info("ê±´ê°• í‰ê°€ í†µê³„ ì¡°íšŒ");
// ì¼€ì–´ ë“±ê¸‰ë³„ í†µê³„
List<Map<String, Object>> gradeStats = healthAssessmentRepository.findCareGradeStatistics();
â‹®----
// ADL ì ìˆ˜ êµ¬ê°„ë³„ í†µê³„
List<Map<String, Object>> adlStats = healthAssessmentRepository.findAdlScoreDistribution();
â‹®----
// ì—°ë ¹ëŒ€ë³„ ì¼€ì–´ ë“±ê¸‰ ë¶„í¬
List<Map<String, Object>> ageStats = healthAssessmentRepository.findAgeGroupCareGradeDistribution();
â‹®----
// ì„±ë³„ ì¼€ì–´ íŒ¨í„´
List<Map<String, Object>> genderStats = healthAssessmentRepository.findGenderCarePatternAnalysis();
â‹®----
// ìµœê·¼ 30ì¼ í‰ê°€ í˜„í™©
Long recentCount = healthAssessmentRepository.countRecentAssessments(LocalDateTime.now().minusDays(30));
â‹®----
// ì „ì²´ í‰ê°€ ìˆ˜
long totalCount = healthAssessmentRepository.count();
â‹®----
// ì™„ì„±ëœ í‰ê°€ ìˆ˜
long completeCount = healthAssessmentRepository.findCompleteAssessments().size();
â‹®----
return HealthAssessmentStatistics.builder()
.totalAssessments(totalCount)
.completeAssessments(completeCount)
.recentAssessments(recentCount)
.careGradeDistribution(gradeStats)
.adlScoreDistribution(adlStats)
.ageGroupDistribution(ageStats)
.genderPatternAnalysis(genderStats)
.hospiceCareTargets((long) healthAssessmentRepository.findHospiceCareTargets().size())
.dementiaCareTargets((long) healthAssessmentRepository.findDementiaCareTargets().size())
.severeCareTargets((long) healthAssessmentRepository.findSevereCareTargets().size())
.overseasKoreanAssessments((long) healthAssessmentRepository.findOverseasKoreanAssessments().size())
â‹®----
/**
     * íšŒì›ì˜ í‰ê°€ ê°œì„  ì¶”ì´ ë¶„ì„
     */
public List<Map<String, Object>> getMemberAssessmentTrend(String memberId) {
â‹®----
return healthAssessmentRepository.findMemberAssessmentTrend(memberId);
â‹®----
/**
     * ê±´ê°• í‰ê°€ ì‚­ì œ
     */
â‹®----
public void deleteAssessment(Long assessmentId) {
â‹®----
healthAssessmentRepository.delete(assessment);
â‹®----
log.info("ê±´ê°• í‰ê°€ ì‚­ì œ ì™„ë£Œ - ID: {}, íšŒì›: {}", assessmentId, assessment.getMemberId());
â‹®----
public void evictAllCaches() {
log.info("ê±´ê°• í‰ê°€ ê´€ë ¨ ëª¨ë“  ìºì‹œ ì‚­ì œ");
â‹®----
// ===== ë‚´ë¶€ ê²€ì¦ ë©”ì„œë“œ =====
â‹®----
private void validateAssessmentRequest(HealthAssessmentCreateRequest request) {
// í•„ìˆ˜ í•„ë“œ ê²€ì¦
if (request.getMemberId() == null || request.getMemberId().trim().isEmpty()) {
â‹®----
if (request.getMobilityLevel() == null || request.getEatingLevel() == null ||
request.getToiletLevel() == null || request.getCommunicationLevel() == null) {
â‹®----
// ë²”ìœ„ ê²€ì¦
validateAdlLevels(request.getMobilityLevel(), request.getEatingLevel(),
request.getToiletLevel(), request.getCommunicationLevel());
â‹®----
// ì¶œìƒë…„ë„ ê²€ì¦
if (request.getBirthYear() != null &&
(request.getBirthYear() < 1900 || request.getBirthYear() > LocalDateTime.now().getYear())) {
â‹®----
// ì§ˆí™˜ ì •ë³´ ê²€ì¦
if (request.getDiseaseTypes() != null && request.getDiseaseTypes().length() > 200) {
â‹®----
private void validateUpdateRequest(HealthAssessmentUpdateRequest request) {
// ADL ìˆ˜ì¤€ ê²€ì¦ (nullì´ ì•„ë‹Œ ê²½ìš°ë§Œ)
if (request.getMobilityLevel() != null || request.getEatingLevel() != null ||
request.getToiletLevel() != null || request.getCommunicationLevel() != null) {
â‹®----
private void validateAdlLevels(Integer mobility, Integer eating, Integer toilet, Integer communication) {
</file>

<file path="CLAUDE.md">
# CLAUDE.md

ì´ ë¬¸ì„œëŠ” LightCare í”„ë¡œì íŠ¸ì—ì„œ Claude Codeê°€ ì½”ë“œë¥¼ ë‹¤ë£° ë•Œ ì°¸ê³ í•  ê°€ì´ë“œì…ë‹ˆë‹¤.

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

**ê¸€ë¡œë²Œ ìš”ì–‘ì› êµ¬ì¸êµ¬ì§ ì›¹ì‚¬ì´íŠ¸ "ì—˜ë”ë² ë¦¬(Elderberry)"**
- ì¬ì™¸ë™í¬ ëŒ€ìƒ ê¸€ë¡œë²Œ ìš”ì–‘ ì„œë¹„ìŠ¤
- JDK 21 + Spring Boot 3.3.5 ê¸°ë°˜ ì‹ ê·œ í”„ë¡œì íŠ¸
- ìë³¸ê¸ˆ 0ì› ê°œë°œ ì „ëµ (ë¬´ë£Œ ì„œë¹„ìŠ¤ í™œìš©)

---

## ğŸ›  í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Java 21 LTS** + **Spring Boot 3.3.5** + **Gradle 8.x**
- **ë°ì´í„°ë² ì´ìŠ¤**: SQLite (ë¬´ë£Œ)
- **ë³´ì•ˆ**: Spring Security 6.x + JWT
- **API ë¬¸ì„œ**: OpenAPI 3.0 + Swagger UI
- **ìºì‹±**: Caffeine Cache
- **ë¹„ë™ê¸° ì²˜ë¦¬**: Spring Async

### í”„ë¡ íŠ¸ì—”ë“œ  
- **React 18** + **TypeScript 5.x** + **Vite 5.x**
- **UI**: Tailwind CSS + Shadcn/ui
- **ìƒíƒœê´€ë¦¬**: Zustand + TanStack Query

### ë°°í¬ & ë„êµ¬
- **ë°°í¬**: Railway/Render (ë¬´ë£Œ) + GitHub Pages
- **CI/CD**: GitHub Actions
- **í…ŒìŠ¤íŠ¸**: JUnit 5 + MockMvc

---

## ğŸ¯ í”„ë¡œì íŠ¸ ì™„ë£Œ í˜„í™©

### Phase 1 ì™„ë£Œ âœ…
- [x] Spring Boot 3.3.5 + JDK 21 í”„ë¡œì íŠ¸ êµ¬ì¡°
- [x] SQLite ë°ì´í„°ë² ì´ìŠ¤ + Hibernate 6.x ì„¤ì •
- [x] JWT ê¸°ë°˜ Spring Security 6.x ì¸ì¦ ì‹œìŠ¤í…œ
- [x] íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ (êµ­ë‚´/í•´ì™¸/ì½”ë””ë„¤ì´í„°/ì‹œì„¤)
- [x] OpenAPI 3.0 + Swagger UI ë¬¸ì„œí™”

### Phase 2 ì™„ë£Œ âœ…
- [x] React 18 + TypeScript + Vite í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°
- [x] Tailwind CSS + Shadcn/ui ë””ìì¸ ì‹œìŠ¤í…œ
- [x] Zustand ìƒíƒœ ê´€ë¦¬ + TanStack Query ë°ì´í„° í˜ì¹­
- [x] JWT ê¸°ë°˜ ì¸ì¦ ì—°ë™
- [x] ë°˜ì‘í˜• UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

### Phase 3 ì™„ë£Œ âœ…
- [x] KBë¼ì´í”„ìƒëª… ê¸°ë°˜ ê±´ê°• ìƒíƒœ í‰ê°€ ì‹œìŠ¤í…œ
- [x] ADL ì ìˆ˜ ìë™ ê³„ì‚° (ê±·ê¸°/ì‹ì‚¬/ë°°ë³€/ì˜ì‚¬ì†Œí†µ)
- [x] ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ ì—°ë™ ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ
- [x] React ê±´ê°• í‰ê°€ ë§ˆë²•ì‚¬ UI
- [x] ë‹¨ê³„ë³„ í‰ê°€ í¼ + ì‹¤ì‹œê°„ ì ìˆ˜ ê³„ì‚°

### Phase 4 ì™„ë£Œ âœ…
- [x] **Phase 4-A**: AI ê¸°ë°˜ ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
  - 5ì  ë§Œì  ë§¤ì¹­ ì ìˆ˜ (ì „ë¬¸ì„± 40% + ê²½ë ¥ 25% + ë§Œì¡±ë„ 20% + ìœ„ì¹˜ 10% + ê°€ìš©ì„± 5%)
  - ì—…ë¬´ëŸ‰ ìµœì í™” ë¶„ë°° ì‹œìŠ¤í…œ
  - ì§€ëŠ¥í˜• ë§¤ì¹­ ê²°ê³¼ ì„¤ëª… ìƒì„±
  - ì‹¤ì‹œê°„ í†µê³„ ë° ì„±ê³¼ ëª¨ë‹ˆí„°ë§
- [x] **Phase 4-B**: React ë§¤ì¹­ ê²°ê³¼ UI ë° ì„±ê³¼ ëª¨ë‹ˆí„°ë§
  - CoordinatorMatchingWizard ë©”ì¸ ì¸í„°í˜ì´ìŠ¤
  - CoordinatorCard í”„ë¡œí•„ ì¹´ë“œ
  - MatchingPreferencePanel ìƒì„¸ ì„¤ì •
  - MatchingStatsDashboard ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ

### Phase 5 ì™„ë£Œ âœ…
- [x] **í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸**: JUnit 5 ê¸°ë°˜ ì™„ì „í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½
  - CoordinatorMatchingServiceIntegrationTest: ë§¤ì¹­ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
  - CoordinatorMatchingControllerTest: API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
  - HealthAssessmentControllerIntegrationTest: ê±´ê°• í‰ê°€ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
  - HealthAssessmentToCoordinatorMatchingE2ETest: ì „ì²´ í”Œë¡œìš° E2E í…ŒìŠ¤íŠ¸
- [x] **ì„±ëŠ¥ ìµœì í™”**: Caffeine ìºì‹œ + ë¹„ë™ê¸° ì²˜ë¦¬
  - 3ë‹¨ê³„ ìºì‹œ ì „ëµ (ë§¤ì¹­/í‰ê°€/í†µê³„)
  - ThreadPoolTaskExecutor ê¸°ë°˜ ë¹„ë™ê¸° ì²˜ë¦¬
  - ì¿¼ë¦¬ ìµœì í™” ë° ì¸ë±ì‹±
- [x] **ë³´ì•ˆ ê°•í™”**: Spring Security 6.x ì™„ì „ êµ¬ì„±
  - BCrypt 12ë¼ìš´ë“œ ì•”í˜¸í™”
  - CORS ì •ì±… ê°•í™”
  - HTTP ë³´ì•ˆ í—¤ë” ì ìš©
  - ìƒì„¸í•œ ì˜ˆì™¸ ì²˜ë¦¬ ë° ë¡œê¹…

---

## ğŸ† ì£¼ìš” êµ¬í˜„ ì„±ê³¼

### 1. ê±´ê°• í‰ê°€ ì‹œìŠ¤í…œ (KBë¼ì´í”„ìƒëª… ê¸°ì¤€)
- **ADL ì ìˆ˜ ê³„ì‚°**: ê±·ê¸°(25%) + ì‹ì‚¬(20%) + ë°°ë³€(30%) + ì˜ì‚¬ì†Œí†µ(25%)
- **ì¼€ì–´ ë“±ê¸‰ ì‚°ì¶œ**: ì¥ê¸°ìš”ì–‘ë³´í—˜ ë“±ê¸‰ + ëŒë´„ëŒ€ìƒì ìƒíƒœ ì¢…í•© íŒë‹¨
- **íŠ¹í™” ì¼€ì–´ ë¶„ë¥˜**: í˜¸ìŠ¤í”¼ìŠ¤/ì¹˜ë§¤/ì¤‘ì¦/ì¼ë°˜ ì¼€ì–´ ìë™ ë¶„ë¥˜

### 2. AI ì½”ë””ë„¤ì´í„° ë§¤ì¹­ ì‹œìŠ¤í…œ
- **5ì  ë§Œì  ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜**: ì „ë¬¸ì„±, ê²½ë ¥, ë§Œì¡±ë„, ìœ„ì¹˜, ê°€ìš©ì„± ì¢…í•© í‰ê°€
- **ì—…ë¬´ëŸ‰ ìµœì í™”**: ê³µì •í•œ ì¼€ì´ìŠ¤ ë¶„ë°° ì•Œê³ ë¦¬ì¦˜
- **ì§€ëŠ¥í˜• ì„¤ëª… ìƒì„±**: ë§¤ì¹­ ì´ìœ ë¥¼ í•œêµ­ì–´ë¡œ ìë™ ìƒì„±
- **ì‹¤ì‹œê°„ ì„±ê³¼ ì¶”ì **: ë§¤ì¹­ ì„±ê³µë¥ , ë§Œì¡±ë„, ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§

### 3. ì™„ì „í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ í…ŒìŠ¤íŠ¸
- **API í…ŒìŠ¤íŠ¸**: MockMvc ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸
- **E2E í…ŒìŠ¤íŠ¸**: ê±´ê°•í‰ê°€â†’ë§¤ì¹­â†’ê²°ê³¼ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: ìºì‹œ íš¨ìœ¨ì„± ë° ì‘ë‹µì‹œê°„ ê²€ì¦

### 4. ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì„±ëŠ¥ ìµœì í™”
- **3ë‹¨ê³„ ìºì‹œ ì „ëµ**: ë§¤ì¹­ ê²°ê³¼, ê±´ê°• í‰ê°€, í†µê³„ ë°ì´í„° ìºì‹±
- **ë¹„ë™ê¸° ì²˜ë¦¬**: ë§¤ì¹­, í†µê³„, ì¼ë°˜ ì‘ì—… ë¶„ë¦¬ëœ ìŠ¤ë ˆë“œí’€
- **ì¿¼ë¦¬ ìµœì í™”**: N+1 ë¬¸ì œ í•´ê²°, ì¸ë±ìŠ¤ ìµœì í™”

### 5. ê°•í™”ëœ ë³´ì•ˆ ì‹œìŠ¤í…œ
- **ì¸ì¦/ì¸ê°€**: JWT + Spring Security 6.x
- **ë°ì´í„° ë³´í˜¸**: BCrypt 12ë¼ìš´ë“œ + SQL Injection ë°©ì§€
- **ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ**: CORS ì •ì±…, HTTP ë³´ì•ˆ í—¤ë”
- **ì˜ˆì™¸ ì²˜ë¦¬**: ìƒì„¸í•œ ì˜¤ë¥˜ ì¶”ì  ë° ë¡œê¹…

---

## ğŸ“Š ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React 18      â”‚    â”‚  Spring Boot    â”‚    â”‚    SQLite       â”‚
â”‚   Frontend      â”‚â—„â”€â”€â–ºâ”‚   Backend       â”‚â—„â”€â”€â–ºâ”‚   Database      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ ê±´ê°•í‰ê°€ UI    â”‚    â”‚ â€¢ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜  â”‚    â”‚ â€¢ íšŒì› ì •ë³´      â”‚
â”‚ â€¢ ë§¤ì¹­ê²°ê³¼ UI    â”‚    â”‚ â€¢ ì¼€ì–´ë“±ê¸‰ ê³„ì‚°  â”‚    â”‚ â€¢ ê±´ê°• í‰ê°€      â”‚
â”‚ â€¢ ëŒ€ì‹œë³´ë“œ UI    â”‚    â”‚ â€¢ ìºì‹œ ì‹œìŠ¤í…œ    â”‚    â”‚ â€¢ ë§¤ì¹­ ê²°ê³¼      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ (Phase 6)

**ëª©í‘œ**: ë°°í¬ ì¤€ë¹„ ë° ìµœì¢… í†µí•© (ì˜ˆìƒ í† í°: 10,000)

### ë°°í¬ í™˜ê²½ êµ¬ì„±
- [ ] Railway/Render ë°°í¬ ì„¤ì •
- [ ] GitHub Pages í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
- [ ] í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ (dev/prod)
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±

### ìµœì¢… ê²€ì¦ ë° ë¬¸ì„œí™”
- [ ] ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ë§¤ë‰´ì–¼ ì‘ì„±
- [ ] API ë¬¸ì„œ ìµœì¢… ì •ë¦¬
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸

---

## ğŸ”§ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ì½”ë“œ ìŠ¤íƒ€ì¼
- **Java**: Google Java Style Guide
- **TypeScript**: Prettier + ESLint
- **ì»¤ë°‹ ë©”ì‹œì§€**: Conventional Commits

### í…ŒìŠ¤íŠ¸ ì „ëµ
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **í†µí•© í…ŒìŠ¤íŠ¸**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë¶€ë¶„
- **E2E í…ŒìŠ¤íŠ¸**: ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš°

### ì„±ëŠ¥ ëª©í‘œ
- **API ì‘ë‹µì‹œê°„**: í‰ê·  200ms ì´í•˜
- **ë§¤ì¹­ ì²˜ë¦¬ì‹œê°„**: í‰ê·  1ì´ˆ ì´í•˜
- **ìºì‹œ ì ì¤‘ë¥ **: 80% ì´ìƒ

---

## ğŸ“‹ ì£¼ì˜ì‚¬í•­

1. **ë³´ì•ˆ**: ëª¨ë“  APIëŠ” JWT ì¸ì¦ í•„ìš”
2. **ì„±ëŠ¥**: ìºì‹œ ë¬´íš¨í™” ì •ì±… ì¤€ìˆ˜
3. **í…ŒìŠ¤íŠ¸**: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ í…ŒìŠ¤íŠ¸ ì½”ë“œ í•„ìˆ˜
4. **ë¡œê¹…**: ë¯¼ê° ì •ë³´ ë¡œê¹… ê¸ˆì§€
5. **ì˜ˆì™¸ì²˜ë¦¬**: ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ë©”ì‹œì§€ ì œê³µ

---

## ğŸ í”„ë¡œì íŠ¸ í˜„í™©

**ì „ì²´ ì§„í–‰ë¥ : 90% ì™„ë£Œ**

- âœ… ë°±ì—”ë“œ ì‹œìŠ¤í…œ (100%)
- âœ… í”„ë¡ íŠ¸ì—”ë“œ UI (100%)
- âœ… ê±´ê°• í‰ê°€ ì‹œìŠ¤í…œ (100%)
- âœ… ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ (100%)
- âœ… í…ŒìŠ¤íŠ¸ í™˜ê²½ (100%)
- âœ… ì„±ëŠ¥ ìµœì í™” (100%)
- âœ… ë³´ì•ˆ ê°•í™” (100%)
- ğŸ”„ ë°°í¬ ì¤€ë¹„ (0%)

**ë‚¨ì€ ì‘ì—…**: Phase 6 ë°°í¬ í™˜ê²½ êµ¬ì„± ë° ìµœì¢… ê²€ì¦

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2024ë…„ 12ì›”*
</file>

</files>
