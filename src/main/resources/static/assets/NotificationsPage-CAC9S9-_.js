var e=Object.defineProperty,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,r=(e,r)=>{for(var i in r||(r={}))t.call(r,i)&&l(e,i,r[i]);if(s)for(var i of s(r))a.call(r,i)&&l(e,i,r[i]);return e};import{r as i,j as n}from"./react-vendor-BYDInCC8.js";import{u as c,a as o,N as d,b as x}from"./index-C7MfwJT6.js";import{L as m}from"./facility-pages-eAZ0xAcO.js";import{B as u,C as h}from"./auth-pages-DbafRdK0.js";import"./vendor-CMX8VuvJ.js";import"./utils-vhTAaM2j.js";import"./state-management-DUuJHh35.js";import"./ui-libs-B_iLp8lQ.js";import"./chat-pages-CWPr6WPK.js";const j=()=>{const{notifications:e,summary:s,filter:t,isLoading:a,error:l,hasMore:j,fetchNotifications:g,markAllAsRead:v,clearAllNotifications:b,setFilter:f,clearFilter:N}=c(),[y,E]=i.useState(!1);i.useEffect(()=>{g()},[g]);const C=e=>{f(e),g(r(r({},t),e))},I=Object.keys(t).length>0;return n.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"알림"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["총 ",s.total,"개의 알림 중 ",s.unread,"개를 읽지 않았습니다."]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(u,{variant:"outline",size:"small",onClick:()=>E(!y),children:["필터 ",y?"숨기기":"보기"]}),s.unread>0&&n.jsx(u,{variant:"outline",size:"small",onClick:()=>{v()},disabled:a,children:"모두 읽음 표시"}),e.length>0&&n.jsx(u,{variant:"outline",size:"small",onClick:()=>{window.confirm("모든 알림을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.")&&b()},disabled:a,className:"text-red-600 hover:text-red-800",children:"모두 삭제"})]})]}),y&&n.jsx(h,{className:"p-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"필터"}),I&&n.jsx(u,{variant:"ghost",size:"small",onClick:()=>{N(),g()},children:"초기화"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"읽음 상태"}),n.jsxs("select",{value:void 0===t.read?"all":t.read.toString(),onChange:e=>{const s="all"===e.target.value?void 0:"true"===e.target.value;C({read:s})},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"전체"}),n.jsx("option",{value:"false",children:"읽지 않음"}),n.jsx("option",{value:"true",children:"읽음"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"우선순위"}),n.jsxs("select",{value:t.priority||"all",onChange:e=>{const s="all"===e.target.value?void 0:e.target.value;C({priority:s})},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"전체"}),n.jsx("option",{value:o.URGENT,children:"긴급"}),n.jsx("option",{value:o.HIGH,children:"높음"}),n.jsx("option",{value:o.MEDIUM,children:"보통"}),n.jsx("option",{value:o.LOW,children:"낮음"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"기간"}),n.jsxs("select",{onChange:e=>{const s=e.target.value,t=new Date;let a;switch(s){case"today":a=new Date(t.getFullYear(),t.getMonth(),t.getDate()).toISOString();break;case"week":a=new Date(t.getTime()-6048e5).toISOString();break;case"month":a=new Date(t.getTime()-2592e6).toISOString();break;default:a=void 0}C({dateFrom:a,dateTo:void 0})},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"전체"}),n.jsx("option",{value:"today",children:"오늘"}),n.jsx("option",{value:"week",children:"최근 7일"}),n.jsx("option",{value:"month",children:"최근 30일"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"알림 타입"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.values(d).map(e=>{var s;return n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:(null==(s=t.types)?void 0:s.includes(e))||!1,onChange:s=>{const a=t.types||[],l=s.target.checked?[...a,e]:a.filter(s=>s!==e);C({types:l.length>0?l:void 0})},className:"rounded text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-xs text-gray-700",children:p(e)})]},e)})})]})]})}),n.jsx("div",{className:"space-y-2",children:a&&0===e.length?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(m,{size:"medium"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"알림을 불러오는 중..."})]}):l?n.jsxs(h,{className:"p-8 text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:"알림을 불러오는데 실패했습니다."}),n.jsx(u,{variant:"outline",onClick:()=>g(),children:"다시 시도"})]}):0===e.length?n.jsxs(h,{className:"p-12 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:"🔔"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"알림이 없습니다"}),n.jsx("p",{className:"text-gray-600",children:I?"필터 조건에 맞는 알림이 없습니다.":"새로운 알림이 없습니다."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-2",children:e.map(e=>n.jsx(h,{className:"overflow-hidden",children:n.jsx(x,{notification:e,showActions:!0,compact:!1})},e.id))}),j&&n.jsx("div",{className:"text-center py-6",children:n.jsx(u,{variant:"outline",onClick:()=>{g(t,!0)},disabled:a,children:a?"불러오는 중...":"더 보기"})})]})})]})};function p(e){return{[d.FACILITY_MATCH_FOUND]:"시설 매칭",[d.FACILITY_MATCH_CONFIRMED]:"매칭 확정",[d.FACILITY_MATCH_CANCELLED]:"매칭 취소",[d.REVIEW_APPROVED]:"리뷰 승인",[d.REVIEW_REJECTED]:"리뷰 거부",[d.REVIEW_REPORTED]:"리뷰 신고",[d.JOB_APPLICATION_RECEIVED]:"지원 접수",[d.JOB_APPLICATION_APPROVED]:"지원 승인",[d.JOB_APPLICATION_REJECTED]:"지원 거부",[d.JOB_INTERVIEW_SCHEDULED]:"면접 일정",[d.SYSTEM_MAINTENANCE]:"시스템 점검",[d.SYSTEM_UPDATE]:"시스템 업데이트",[d.ACCOUNT_SECURITY]:"계정 보안",[d.GENERAL_INFO]:"일반 정보",[d.PROMOTION]:"프로모션"}[e]||e}const g=()=>n.jsx("div",{className:"container mx-auto py-6",children:n.jsx(j,{})});export{g as default};
