var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,r=(e,r)=>{for(var i in r||(r={}))s.call(r,i)&&l(e,i,r[i]);if(t)for(var i of t(r))a.call(r,i)&&l(e,i,r[i]);return e};import{j as i,r as n}from"./react-vendor-DxVTcXnD.js";import{u as o,a as c,b as d,N as x}from"./notificationStore-Cqmvu1Uf.js";import{C as m}from"./index-D5N1MR7h.js";import{a6 as u,a7 as h}from"./vendor-Cb5iQNse.js";import{B as p,C as j,L as g}from"./board-pages-B7TFhQ6F.js";import"./state-management-DszUOxv_.js";import"./ui-libs-CJrx2-W2.js";import"./chat-pages-DH9VB2rd.js";import"./utils-D3YFsgXT.js";const b=({notification:e,onClick:t,showActions:s=!0,compact:a=!1})=>{const{markAsRead:l,deleteNotification:r}=o(),n=c[e.type],x=()=>{e.read||l(e.id),t?t(e):e.actionUrl&&(window.location.href=e.actionUrl)},p=u(new Date(e.createdAt),{addSuffix:!0,locale:h}),j={[d.LOW]:"border-l-gray-300",[d.MEDIUM]:"border-l-blue-400",[d.HIGH]:"border-l-orange-400",[d.URGENT]:"border-l-red-500"};return i.jsx(m,{animation:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2}},children:i.jsxs("div",{className:`\n          relative p-4 border-l-4 cursor-pointer transition-all duration-200\n          ${j[e.priority]}\n          ${e.read?"bg-gray-50 opacity-75":`${n.bgColor} hover:shadow-md`}\n          ${a?"p-3":"p-4"}\n          hover:bg-opacity-80 focus:outline-none focus:ring-2 focus:ring-blue-500\n        `,onClick:x,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x())},tabIndex:0,role:"button","aria-label":`ì•Œë¦¼: ${e.title}. ${e.read?"ì½ìŒ":"ì½ì§€ ì•ŠìŒ"}`,children:[!e.read&&i.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-500 rounded-full","aria-label":"ì½ì§€ ì•Šì€ ì•Œë¦¼"}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`text-lg ${n.textColor} flex-shrink-0`,children:n.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:`\n                font-medium text-sm ${e.read?"text-gray-600":"text-gray-900"}\n                ${a?"text-xs":"text-sm"}\n                truncate\n              `,children:e.title}),!a&&i.jsx("span",{className:`\n                  text-xs ${e.read?"text-gray-400":"text-gray-500"}\n                  flex-shrink-0 ml-2\n                `,children:p})]}),i.jsx("p",{className:`\n              text-sm ${e.read?"text-gray-500":"text-gray-700"}\n              ${a?"text-xs line-clamp-1":"line-clamp-2"}\n            `,children:e.message}),e.priority===d.URGENT&&i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"ðŸš¨ ê¸´ê¸‰"})}),s&&!a&&i.jsxs("div",{className:"mt-3 flex gap-2",children:[!e.read&&i.jsx("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline","aria-label":"ì½ìŒìœ¼ë¡œ í‘œì‹œ",children:"ì½ìŒ í‘œì‹œ"}),i.jsx("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"text-xs text-red-600 hover:text-red-800 focus:outline-none focus:underline","aria-label":"ì•Œë¦¼ ì‚­ì œ",children:"ì‚­ì œ"})]})]})]})]})})},f=()=>{const{notifications:e,summary:t,filter:s,isLoading:a,error:l,hasMore:c,fetchNotifications:m,markAllAsRead:u,clearAllNotifications:h,setFilter:f,clearFilter:N}=o(),[y,E]=n.useState(!1);n.useEffect(()=>{m()},[m]);const C=e=>{f(e),m(r(r({},s),e))},I=Object.keys(s).length>0;return i.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ì•Œë¦¼"}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ì´ ",t.total,"ê°œì˜ ì•Œë¦¼ ì¤‘ ",t.unread,"ê°œë¥¼ ì½ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(p,{variant:"outline",size:"small",onClick:()=>E(!y),children:["í•„í„° ",y?"ìˆ¨ê¸°ê¸°":"ë³´ê¸°"]}),t.unread>0&&i.jsx(p,{variant:"outline",size:"small",onClick:()=>{u()},disabled:a,children:"ëª¨ë‘ ì½ìŒ í‘œì‹œ"}),e.length>0&&i.jsx(p,{variant:"outline",size:"small",onClick:()=>{window.confirm("ëª¨ë“  ì•Œë¦¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ìž‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")&&h()},disabled:a,className:"text-red-600 hover:text-red-800",children:"ëª¨ë‘ ì‚­ì œ"})]})]}),y&&i.jsx(j,{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"í•„í„°"}),I&&i.jsx(p,{variant:"ghost",size:"small",onClick:()=>{N(),m()},children:"ì´ˆê¸°í™”"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"ì½ìŒ ìƒíƒœ"}),i.jsxs("select",{value:void 0===s.read?"all":s.read.toString(),onChange:e=>{const t="all"===e.target.value?void 0:"true"===e.target.value;C({read:t})},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"ì „ì²´"}),i.jsx("option",{value:"false",children:"ì½ì§€ ì•ŠìŒ"}),i.jsx("option",{value:"true",children:"ì½ìŒ"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"ìš°ì„ ìˆœìœ„"}),i.jsxs("select",{value:s.priority||"all",onChange:e=>{const t="all"===e.target.value?void 0:e.target.value;C({priority:t})},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"ì „ì²´"}),i.jsx("option",{value:d.URGENT,children:"ê¸´ê¸‰"}),i.jsx("option",{value:d.HIGH,children:"ë†’ìŒ"}),i.jsx("option",{value:d.MEDIUM,children:"ë³´í†µ"}),i.jsx("option",{value:d.LOW,children:"ë‚®ìŒ"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"ê¸°ê°„"}),i.jsxs("select",{onChange:e=>{const t=e.target.value,s=new Date;let a;switch(t){case"today":a=new Date(s.getFullYear(),s.getMonth(),s.getDate()).toISOString();break;case"week":a=new Date(s.getTime()-6048e5).toISOString();break;case"month":a=new Date(s.getTime()-2592e6).toISOString();break;default:a=void 0}C({dateFrom:a,dateTo:void 0})},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"ì „ì²´"}),i.jsx("option",{value:"today",children:"ì˜¤ëŠ˜"}),i.jsx("option",{value:"week",children:"ìµœê·¼ 7ì¼"}),i.jsx("option",{value:"month",children:"ìµœê·¼ 30ì¼"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"ì•Œë¦¼ íƒ€ìž…"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.values(x).map(e=>{var t;return i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:(null==(t=s.types)?void 0:t.includes(e))||!1,onChange:t=>{const a=s.types||[],l=t.target.checked?[...a,e]:a.filter(t=>t!==e);C({types:l.length>0?l:void 0})},className:"rounded text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-xs text-gray-700",children:v(e)})]},e)})})]})]})}),i.jsx("div",{className:"space-y-2",children:a&&0===e.length?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(g,{size:"medium"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."})]}):l?i.jsxs(j,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-red-600 mb-4",children:"ì•Œë¦¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}),i.jsx(p,{variant:"outline",onClick:()=>m(),children:"ë‹¤ì‹œ ì‹œë„"})]}):0===e.length?i.jsxs(j,{className:"p-12 text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"ðŸ””"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤"}),i.jsx("p",{className:"text-gray-600",children:I?"í•„í„° ì¡°ê±´ì— ë§žëŠ” ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.":"ìƒˆë¡œìš´ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-2",children:e.map(e=>i.jsx(j,{className:"overflow-hidden",children:i.jsx(b,{notification:e,showActions:!0,compact:!1})},e.id))}),c&&i.jsx("div",{className:"text-center py-6",children:i.jsx(p,{variant:"outline",onClick:()=>{m(s,!0)},disabled:a,children:a?"ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...":"ë” ë³´ê¸°"})})]})})]})};function v(e){return{[x.FACILITY_MATCH_FOUND]:"ì‹œì„¤ ë§¤ì¹­",[x.FACILITY_MATCH_CONFIRMED]:"ë§¤ì¹­ í™•ì •",[x.FACILITY_MATCH_CANCELLED]:"ë§¤ì¹­ ì·¨ì†Œ",[x.REVIEW_APPROVED]:"ë¦¬ë·° ìŠ¹ì¸",[x.REVIEW_REJECTED]:"ë¦¬ë·° ê±°ë¶€",[x.REVIEW_REPORTED]:"ë¦¬ë·° ì‹ ê³ ",[x.JOB_APPLICATION_RECEIVED]:"ì§€ì› ì ‘ìˆ˜",[x.JOB_APPLICATION_APPROVED]:"ì§€ì› ìŠ¹ì¸",[x.JOB_APPLICATION_REJECTED]:"ì§€ì› ê±°ë¶€",[x.JOB_INTERVIEW_SCHEDULED]:"ë©´ì ‘ ì¼ì •",[x.SYSTEM_MAINTENANCE]:"ì‹œìŠ¤í…œ ì ê²€",[x.SYSTEM_UPDATE]:"ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸",[x.ACCOUNT_SECURITY]:"ê³„ì • ë³´ì•ˆ",[x.GENERAL_INFO]:"ì¼ë°˜ ì •ë³´",[x.PROMOTION]:"í”„ë¡œëª¨ì…˜"}[e]||e}const N=()=>i.jsx("div",{className:"container mx-auto py-6",children:i.jsx(f,{})});export{N as default};
