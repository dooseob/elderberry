var e=Object.defineProperty,r=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(r,l,a)=>l in r?e(r,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[l]=a,n=(e,r)=>{for(var l in r||(r={}))i.call(r,l)&&s(e,l,r[l]);if(a)for(var l of a(r))t.call(r,l)&&s(e,l,r[l]);return e},c=(e,a)=>r(e,l(a));import{r as d,al as o,j as m,C as h,a8 as b,a as x,ae as u,V as p,g,U as v}from"./react-vendor-BtXaCJgl.js";import{c as y}from"./coordinatorApi-BdmOJyZy.js";import{B as f}from"./core-ui-CIyy5Fk7.js";import"./facility-pages-UHQS1ynl.js";import{C as N,a as w,b as j,c as C}from"./chat-pages-Bd-211Ah.js";import"./board-pages-D7wDb-_I.js";import{A as k,m as O}from"./animation-lib-shoFM1zt.js";import"./vendor-lkuvNL7c.js";import"./state-management-DFZwgI-2.js";import"./style-utils-DeQRAeyh.js";import"./theme-layout-CH0OfMSw.js";import"./http-client-9JY-woyA.js";const z=({onCoordinatorSelect:e})=>{const[r,l]=d.useState([]),[a,i]=d.useState(!1),[t,s]=d.useState({minCases:0,maxCases:100,minSatisfaction:0,specialtyFilter:""}),{data:z,isLoading:F,error:$,refetch:S}=o({queryKey:["available-coordinators"],queryFn:()=>y.getAvailableCoordinators(),staleTime:12e4});return $?m.jsx("div",{className:"min-h-screen bg-elderberry-25 py-8",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4",children:m.jsx(N,{className:"border-red-200 bg-red-50",children:m.jsxs(w,{children:[m.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[m.jsx(h,{className:"w-5 h-5"}),m.jsxs("span",{children:["가용 코디네이터 조회 중 오류가 발생했습니다: ",$.message]})]}),m.jsx(f,{variant:"outline",size:"sm",onClick:()=>S(),className:"mt-3",children:"다시 시도"})]})})})}):m.jsx("div",{className:"min-h-screen bg-elderberry-25 py-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-elderberry-900 mb-2",children:"가용 코디네이터 관리"}),m.jsx("p",{className:"text-elderberry-600",children:"현재 새로운 케이스를 담당할 수 있는 코디네이터 목록"})]}),m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(f,{variant:"outline",size:"sm",onClick:()=>i(!a),className:"flex items-center gap-2",children:[m.jsx(b,{className:"w-4 h-4"}),"필터"]}),m.jsxs(f,{variant:"outline",size:"sm",onClick:()=>S(),className:"flex items-center gap-2",children:[m.jsx(x,{className:"w-4 h-4"}),"새로고침"]}),z&&z.length>0&&m.jsxs(f,{variant:"outline",size:"sm",onClick:()=>{r.length===(null==z?void 0:z.length)?l([]):l((null==z?void 0:z.map(e=>e.id))||[])},className:"flex items-center gap-2",children:[m.jsx(u,{className:"w-4 h-4"}),r.length===z.length?"전체 해제":"전체 선택"]})]}),z&&m.jsxs("div",{className:"text-sm text-elderberry-600",children:["총 ",z.length,"명 가용",r.length>0&&` · ${r.length}명 선택됨`]})]}),m.jsx(k,{children:a&&m.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:m.jsxs(N,{children:[m.jsx(j,{children:m.jsx(C,{children:"필터 설정"})}),m.jsx(w,{children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-1",children:"최소 케이스 수"}),m.jsx("input",{type:"number",value:t.minCases,onChange:e=>s(r=>c(n({},r),{minCases:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-elderberry-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-elderberry-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-1",children:"최대 케이스 수"}),m.jsx("input",{type:"number",value:t.maxCases,onChange:e=>s(r=>c(n({},r),{maxCases:parseInt(e.target.value)||100})),className:"w-full px-3 py-2 border border-elderberry-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-elderberry-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-1",children:"최소 만족도"}),m.jsxs("select",{value:t.minSatisfaction,onChange:e=>s(r=>c(n({},r),{minSatisfaction:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-elderberry-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-elderberry-500",children:[m.jsx("option",{value:0,children:"전체"}),m.jsx("option",{value:3,children:"3.0점 이상"}),m.jsx("option",{value:4,children:"4.0점 이상"}),m.jsx("option",{value:4.5,children:"4.5점 이상"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-1",children:"전문분야"}),m.jsxs("select",{value:t.specialtyFilter,onChange:e=>s(r=>c(n({},r),{specialtyFilter:e.target.value})),className:"w-full px-3 py-2 border border-elderberry-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-elderberry-500",children:[m.jsx("option",{value:"",children:"전체"}),m.jsx("option",{value:"dementia",children:"치매 케어"}),m.jsx("option",{value:"medical",children:"의료 케어"}),m.jsx("option",{value:"rehabilitation",children:"재활 치료"}),m.jsx("option",{value:"palliative",children:"완화 케어"})]})]})]})})]})})}),F?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx(p,{className:"w-8 h-8 animate-spin text-elderberry-600 mx-auto mb-4"}),m.jsx("p",{className:"text-elderberry-600",children:"가용 코디네이터를 조회하고 있습니다..."})]})}):z&&z.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:z.map(e=>{const a=r.includes(e.id),i=((e,r)=>{const l=e/r;return l>=.9?{text:"포화",color:"text-red-600",bg:"bg-red-50"}:l>=.7?{text:"높음",color:"text-yellow-600",bg:"bg-yellow-50"}:l>=.4?{text:"보통",color:"text-blue-600",bg:"bg-blue-50"}:{text:"여유",color:"text-green-600",bg:"bg-green-50"}})(e.currentActiveCases||0,e.maxSimultaneousCases||10);return m.jsx(O.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cursor-pointer transition-all duration-200 "+(a?"transform scale-105":""),onClick:()=>{return r=e.id,void l(e=>e.includes(r)?e.filter(e=>e!==r):[...e,r]);var r},children:m.jsxs(N,{className:"relative "+(a?"ring-2 ring-elderberry-500 border-elderberry-300":"hover:shadow-lg hover:border-elderberry-200"),hover:!a,children:[m.jsx(j,{className:"pb-3",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-elderberry-900 mb-1",children:e.name||`코디네이터 ${e.id}`}),m.jsxs("div",{className:"text-xs text-elderberry-600",children:[e.experienceYears||0,"년 경력"]})]}),m.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.bg} ${i.color}`,children:i.text})]})}),m.jsx(w,{children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-elderberry-500",children:"현재 케이스:"}),m.jsxs("div",{className:"font-medium",children:[e.currentActiveCases||0,"/",e.maxSimultaneousCases||10]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-elderberry-500",children:"만족도:"}),m.jsxs("div",{className:"font-medium flex items-center gap-1",children:["⭐ ",(e.customerSatisfaction||4).toFixed(1)]})]})]}),e.specialtyAreas&&e.specialtyAreas.length>0&&m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-elderberry-500 mb-1",children:"전문분야"}),m.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.specialtyAreas.slice(0,2).map((e,r)=>m.jsx("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded-full",children:e},r)),e.specialtyAreas.length>2&&m.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-50 text-gray-600 rounded-full",children:["+",e.specialtyAreas.length-2]})]})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-elderberry-600",children:[e.availableWeekends&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(g,{className:"w-3 h-3"}),"주말가능"]}),e.availableEmergency&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(h,{className:"w-3 h-3"}),"응급대응"]})]})]})}),a&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(u,{className:"w-5 h-5 text-elderberry-600"})})]})},e.id)})}):m.jsx(N,{className:"text-center py-12",children:m.jsxs(w,{children:[m.jsx(v,{className:"w-12 h-12 text-elderberry-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-elderberry-900 mb-2",children:"가용한 코디네이터가 없습니다"}),m.jsx("p",{className:"text-elderberry-600 mb-4",children:"현재 새로운 케이스를 담당할 수 있는 코디네이터가 없습니다."}),m.jsx(f,{variant:"primary",onClick:()=>S(),children:"다시 조회"})]})}),r.length>0&&m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-elderberry-200 p-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(u,{className:"w-5 h-5 text-green-600"}),m.jsxs("span",{className:"text-elderberry-900",children:[r.length,"명의 코디네이터를 선택했습니다"]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx(f,{variant:"outline",onClick:()=>l([]),children:"선택 해제"}),m.jsx(f,{variant:"primary",onClick:()=>{r.forEach(r=>null==e?void 0:e(r))},children:"선택 완료"})]})]})})]})})};export{z as default};
