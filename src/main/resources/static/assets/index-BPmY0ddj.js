import{j as i}from"./query-BeZjeUo8.js";import{r as w,B as eo,a as to,b as xt,N as Mi,R as so}from"./router-BYwDB9UN.js";import{a as io,g as no}from"./vendor-BtP0CW_r.js";import{c as ir,a as ro}from"./utils-DXDXZglg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var yt={},ki;function ao(){if(ki)return yt;ki=1;var e=io();return yt.createRoot=e.createRoot,yt.hydrateRoot=e.hydrateRoot,yt}var oo=ao();const lo=no(oo),Us=w.createContext({});function Gs(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hs=typeof window<"u",nr=Hs?w.useLayoutEffect:w.useEffect,It=w.createContext(null);function Ws(e,t){e.indexOf(t)===-1&&e.push(t)}function Ks(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ae=(e,t,s)=>s>t?t:s<e?e:s;let qs=()=>{};const oe={},rr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ar(e){return typeof e=="object"&&e!==null}const or=e=>/^0[^.\s]+$/u.test(e);function Ys(e){let t;return()=>(t===void 0&&(t=e()),t)}const X=e=>e,co=(e,t)=>s=>t(e(s)),dt=(...e)=>e.reduce(co),et=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class Xs{constructor(){this.subscriptions=[]}add(t){return Ws(this.subscriptions,t),()=>Ks(this.subscriptions,t)}notify(t,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,s,n);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const te=e=>e*1e3,se=e=>e/1e3;function lr(e,t){return t?e*(1e3/t):0}const cr=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,uo=1e-7,ho=12;function mo(e,t,s,n,r){let o,a,l=0;do a=t+(s-t)/2,o=cr(a,n,r)-e,o>0?s=a:t=a;while(Math.abs(o)>uo&&++l<ho);return a}function ut(e,t,s,n){if(e===t&&s===n)return X;const r=o=>mo(o,0,1,e,s);return o=>o===0||o===1?o:cr(r(o),t,n)}const dr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ur=e=>t=>1-e(1-t),hr=ut(.33,1.53,.69,.99),Zs=ur(hr),mr=dr(Zs),fr=e=>(e*=2)<1?.5*Zs(e):.5*(2-Math.pow(2,-10*(e-1))),Js=e=>1-Math.sin(Math.acos(e)),pr=ur(Js),xr=dr(Js),fo=ut(.42,0,1,1),po=ut(0,0,.58,1),yr=ut(.42,0,.58,1),xo=e=>Array.isArray(e)&&typeof e[0]!="number",gr=e=>Array.isArray(e)&&typeof e[0]=="number",yo={linear:X,easeIn:fo,easeInOut:yr,easeOut:po,circIn:Js,circInOut:xr,circOut:pr,backIn:Zs,backInOut:mr,backOut:hr,anticipate:fr},go=e=>typeof e=="string",Di=e=>{if(gr(e)){qs(e.length===4);const[t,s,n,r]=e;return ut(t,s,n,r)}else if(go(e))return yo[e];return e},gt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vo(e,t){let s=new Set,n=new Set,r=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(u){a.has(u)&&(c.schedule(u),e()),u(l)}const c={schedule:(u,h=!1,m=!1)=>{const y=m&&r?s:n;return h&&a.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(l=u,r){o=!0;return}r=!0,[s,n]=[n,s],s.forEach(d),s.clear(),r=!1,o&&(o=!1,c.process(u))}};return c}const bo=40;function vr(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,a=gt.reduce((b,S)=>(b[S]=vo(o),b),{}),{setup:l,read:d,resolveKeyframes:c,preUpdate:u,update:h,preRender:m,render:f,postRender:y}=a,p=()=>{const b=oe.useManualTiming?r.timestamp:performance.now();s=!1,oe.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(b-r.timestamp,bo),1)),r.timestamp=b,r.isProcessing=!0,l.process(r),d.process(r),c.process(r),u.process(r),h.process(r),m.process(r),f.process(r),y.process(r),r.isProcessing=!1,s&&t&&(n=!1,e(p))},g=()=>{s=!0,n=!0,r.isProcessing||e(p)};return{schedule:gt.reduce((b,S)=>{const T=a[S];return b[S]=(A,P=!1,j=!1)=>(s||g(),T.schedule(A,P,j)),b},{}),cancel:b=>{for(let S=0;S<gt.length;S++)a[gt[S]].cancel(b)},state:r,steps:a}}const{schedule:L,cancel:he,state:$,steps:Kt}=vr(typeof requestAnimationFrame<"u"?requestAnimationFrame:X,!0);let wt;function jo(){wt=void 0}const G={now:()=>(wt===void 0&&G.set($.isProcessing||oe.useManualTiming?$.timestamp:performance.now()),wt),set:e=>{wt=e,queueMicrotask(jo)}},br=e=>t=>typeof t=="string"&&t.startsWith(e),Qs=br("--"),No=br("var(--"),ei=e=>No(e)?wo.test(e.split("/*")[0].trim()):!1,wo=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ue={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tt={...Ue,transform:e=>ae(0,1,e)},vt={...Ue,default:1},Ye=e=>Math.round(e*1e5)/1e5,ti=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function So(e){return e==null}const To=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,si=(e,t)=>s=>!!(typeof s=="string"&&To.test(s)&&s.startsWith(e)||t&&!So(s)&&Object.prototype.hasOwnProperty.call(s,t)),jr=(e,t,s)=>n=>{if(typeof n!="string")return n;const[r,o,a,l]=n.match(ti);return{[e]:parseFloat(r),[t]:parseFloat(o),[s]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Co=e=>ae(0,255,e),qt={...Ue,transform:e=>Math.round(Co(e))},ve={test:si("rgb","red"),parse:jr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+qt.transform(e)+", "+qt.transform(t)+", "+qt.transform(s)+", "+Ye(tt.transform(n))+")"};function Ao(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const ds={test:si("#"),parse:Ao,transform:ve.transform},ht=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),de=ht("deg"),ie=ht("%"),C=ht("px"),Po=ht("vh"),Mo=ht("vw"),Ei={...ie,parse:e=>ie.parse(e)/100,transform:e=>ie.transform(e*100)},Ee={test:si("hsl","hue"),parse:jr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+ie.transform(Ye(t))+", "+ie.transform(Ye(s))+", "+Ye(tt.transform(n))+")"},O={test:e=>ve.test(e)||ds.test(e)||Ee.test(e),parse:e=>ve.test(e)?ve.parse(e):Ee.test(e)?Ee.parse(e):ds.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ve.transform(e):Ee.transform(e),getAnimatableNone:e=>{const t=O.parse(e);return t.alpha=0,O.transform(t)}},ko=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Do(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ti))==null?void 0:t.length)||0)+(((s=e.match(ko))==null?void 0:s.length)||0)>0}const Nr="number",wr="color",Eo="var",Lo="var(",Li="${}",Vo=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function st(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let o=0;const l=t.replace(Vo,d=>(O.test(d)?(n.color.push(o),r.push(wr),s.push(O.parse(d))):d.startsWith(Lo)?(n.var.push(o),r.push(Eo),s.push(d)):(n.number.push(o),r.push(Nr),s.push(parseFloat(d))),++o,Li)).split(Li);return{values:s,split:l,indexes:n,types:r}}function Sr(e){return st(e).values}function Tr(e){const{split:t,types:s}=st(e),n=t.length;return r=>{let o="";for(let a=0;a<n;a++)if(o+=t[a],r[a]!==void 0){const l=s[a];l===Nr?o+=Ye(r[a]):l===wr?o+=O.transform(r[a]):o+=r[a]}return o}}const Ro=e=>typeof e=="number"?0:O.test(e)?O.getAnimatableNone(e):e;function Fo(e){const t=Sr(e);return Tr(e)(t.map(Ro))}const me={test:Do,parse:Sr,createTransformer:Tr,getAnimatableNone:Fo};function Yt(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Io({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let r=0,o=0,a=0;if(!t)r=o=a=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;r=Yt(d,l,e+1/3),o=Yt(d,l,e),a=Yt(d,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function Pt(e,t){return s=>s>0?t:e}const R=(e,t,s)=>e+(t-e)*s,Xt=(e,t,s)=>{const n=e*e,r=s*(t*t-n)+n;return r<0?0:Math.sqrt(r)},Oo=[ds,ve,Ee],_o=e=>Oo.find(t=>t.test(e));function Vi(e){const t=_o(e);if(!t)return!1;let s=t.parse(e);return t===Ee&&(s=Io(s)),s}const Ri=(e,t)=>{const s=Vi(e),n=Vi(t);if(!s||!n)return Pt(e,t);const r={...s};return o=>(r.red=Xt(s.red,n.red,o),r.green=Xt(s.green,n.green,o),r.blue=Xt(s.blue,n.blue,o),r.alpha=R(s.alpha,n.alpha,o),ve.transform(r))},us=new Set(["none","hidden"]);function Bo(e,t){return us.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function $o(e,t){return s=>R(e,t,s)}function ii(e){return typeof e=="number"?$o:typeof e=="string"?ei(e)?Pt:O.test(e)?Ri:Go:Array.isArray(e)?Cr:typeof e=="object"?O.test(e)?Ri:zo:Pt}function Cr(e,t){const s=[...e],n=s.length,r=e.map((o,a)=>ii(o)(o,t[a]));return o=>{for(let a=0;a<n;a++)s[a]=r[a](o);return s}}function zo(e,t){const s={...e,...t},n={};for(const r in s)e[r]!==void 0&&t[r]!==void 0&&(n[r]=ii(e[r])(e[r],t[r]));return r=>{for(const o in n)s[o]=n[o](r);return s}}function Uo(e,t){const s=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=e.indexes[o][n[o]],l=e.values[a]??0;s[r]=l,n[o]++}return s}const Go=(e,t)=>{const s=me.createTransformer(t),n=st(e),r=st(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?us.has(e)&&!r.values.length||us.has(t)&&!n.values.length?Bo(e,t):dt(Cr(Uo(n,r),r.values),s):Pt(e,t)};function Ar(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?R(e,t,s):ii(e)(e,t)}const Ho=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>L.update(t,s),stop:()=>he(t),now:()=>$.isProcessing?$.timestamp:G.now()}},Pr=(e,t,s=10)=>{let n="";const r=Math.max(Math.round(t/s),2);for(let o=0;o<r;o++)n+=Math.round(e(o/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Mt=2e4;function ni(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Mt;)t+=s,n=e.next(t);return t>=Mt?1/0:t}function Wo(e,t=100,s){const n=s({...e,keyframes:[0,t]}),r=Math.min(ni(n),Mt);return{type:"keyframes",ease:o=>n.next(r*o).value/t,duration:se(r)}}const Ko=5;function Mr(e,t,s){const n=Math.max(t-Ko,0);return lr(s-e(n),t-n)}const F={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zt=.001;function qo({duration:e=F.duration,bounce:t=F.bounce,velocity:s=F.velocity,mass:n=F.mass}){let r,o,a=1-t;a=ae(F.minDamping,F.maxDamping,a),e=ae(F.minDuration,F.maxDuration,se(e)),a<1?(r=c=>{const u=c*a,h=u*e,m=u-s,f=hs(c,a),y=Math.exp(-h);return Zt-m/f*y},o=c=>{const h=c*a*e,m=h*s+s,f=Math.pow(a,2)*Math.pow(c,2)*e,y=Math.exp(-h),p=hs(Math.pow(c,2),a);return(-r(c)+Zt>0?-1:1)*((m-f)*y)/p}):(r=c=>{const u=Math.exp(-c*e),h=(c-s)*e+1;return-Zt+u*h},o=c=>{const u=Math.exp(-c*e),h=(s-c)*(e*e);return u*h});const l=5/e,d=Xo(r,o,l);if(e=te(e),isNaN(d))return{stiffness:F.stiffness,damping:F.damping,duration:e};{const c=Math.pow(d,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:e}}}const Yo=12;function Xo(e,t,s){let n=s;for(let r=1;r<Yo;r++)n=n-e(n)/t(n);return n}function hs(e,t){return e*Math.sqrt(1-t*t)}const Zo=["duration","bounce"],Jo=["stiffness","damping","mass"];function Fi(e,t){return t.some(s=>e[s]!==void 0)}function Qo(e){let t={velocity:F.velocity,stiffness:F.stiffness,damping:F.damping,mass:F.mass,isResolvedFromDuration:!1,...e};if(!Fi(e,Jo)&&Fi(e,Zo))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,o=2*ae(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:F.mass,stiffness:r,damping:o}}else{const s=qo(e);t={...t,...s,mass:F.mass},t.isResolvedFromDuration=!0}return t}function kt(e=F.visualDuration,t=F.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=s;const o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:d,damping:c,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=Qo({...s,velocity:-se(s.velocity||0)}),y=m||0,p=c/(2*Math.sqrt(d*u)),g=a-o,x=se(Math.sqrt(d/u)),v=Math.abs(g)<5;n||(n=v?F.restSpeed.granular:F.restSpeed.default),r||(r=v?F.restDelta.granular:F.restDelta.default);let b;if(p<1){const T=hs(x,p);b=A=>{const P=Math.exp(-p*x*A);return a-P*((y+p*x*g)/T*Math.sin(T*A)+g*Math.cos(T*A))}}else if(p===1)b=T=>a-Math.exp(-x*T)*(g+(y+x*g)*T);else{const T=x*Math.sqrt(p*p-1);b=A=>{const P=Math.exp(-p*x*A),j=Math.min(T*A,300);return a-P*((y+p*x*g)*Math.sinh(j)+T*g*Math.cosh(j))/T}}const S={calculatedDuration:f&&h||null,next:T=>{const A=b(T);if(f)l.done=T>=h;else{let P=T===0?y:0;p<1&&(P=T===0?te(y):Mr(b,T,A));const j=Math.abs(P)<=n,k=Math.abs(a-A)<=r;l.done=j&&k}return l.value=l.done?a:A,l},toString:()=>{const T=Math.min(ni(S),Mt),A=Pr(P=>S.next(T*P).value,T,30);return T+"ms "+A},toTransition:()=>{}};return S}kt.applyToOptions=e=>{const t=Wo(e,100,kt);return e.ease=t.ease,e.duration=te(t.duration),e.type="keyframes",e};function ms({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:d,restDelta:c=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=j=>l!==void 0&&j<l||d!==void 0&&j>d,y=j=>l===void 0?d:d===void 0||Math.abs(l-j)<Math.abs(d-j)?l:d;let p=s*t;const g=h+p,x=a===void 0?g:a(g);x!==g&&(p=x-h);const v=j=>-p*Math.exp(-j/n),b=j=>x+v(j),S=j=>{const k=v(j),D=b(j);m.done=Math.abs(k)<=c,m.value=m.done?x:D};let T,A;const P=j=>{f(m.value)&&(T=j,A=kt({keyframes:[m.value,y(m.value)],velocity:Mr(b,j,m.value),damping:r,stiffness:o,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:j=>{let k=!1;return!A&&T===void 0&&(k=!0,S(j),P(j)),T!==void 0&&j>=T?A.next(j-T):(!k&&S(j),m)}}}function el(e,t,s){const n=[],r=s||oe.mix||Ar,o=e.length-1;for(let a=0;a<o;a++){let l=r(e[a],e[a+1]);if(t){const d=Array.isArray(t)?t[a]||X:t;l=dt(d,l)}n.push(l)}return n}function tl(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const o=e.length;if(qs(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=el(t,n,r),d=l.length,c=u=>{if(a&&u<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=et(e[h],e[h+1],u);return l[h](m)};return s?u=>c(ae(e[0],e[o-1],u)):c}function sl(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=et(0,t,n);e.push(R(s,1,r))}}function il(e){const t=[0];return sl(t,e.length-1),t}function nl(e,t){return e.map(s=>s*t)}function rl(e,t){return e.map(()=>t||yr).splice(0,e.length-1)}function Xe({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=xo(n)?n.map(Di):Di(n),o={done:!1,value:t[0]},a=nl(s&&s.length===t.length?s:il(t),e),l=tl(a,t,{ease:Array.isArray(r)?r:rl(t,r)});return{calculatedDuration:e,next:d=>(o.value=l(d),o.done=d>=e,o)}}const al=e=>e!==null;function ri(e,{repeat:t,repeatType:s="loop"},n,r=1){const o=e.filter(al),l=r<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const ol={decay:ms,inertia:ms,tween:Xe,keyframes:Xe,spring:kt};function kr(e){typeof e.type=="string"&&(e.type=ol[e.type])}class ai{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const ll=e=>e/100;class oi extends ai{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==G.now()&&this.tick(G.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kr(t);const{type:s=Xe,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=t;let{keyframes:l}=t;const d=s||Xe;d!==Xe&&typeof l[0]!="number"&&(this.mixKeyframes=dt(ll,Ar(l[0],l[1])),l=[0,100]);const c=d({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=ni(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:y,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let b=this.currentTime,S=n;if(h){const j=Math.min(this.currentTime,r)/l;let k=Math.floor(j),D=j%1;!D&&j>=1&&(D=1),D===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(m==="reverse"?(D=1-D,f&&(D-=f/l)):m==="mirror"&&(S=a)),b=ae(0,1,D)*l}const T=v?{done:!1,value:u[0]}:S.next(b);o&&(T.value=o(T.value));let{done:A}=T;!v&&d!==null&&(A=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return P&&y!==ms&&(T.value=ri(u,this.options,g,this.speed)),p&&p(T.value),P&&this.finish(),T}then(t,s){return this.finished.then(t,s)}get duration(){return se(this.calculatedDuration)}get time(){return se(this.currentTime)}set time(t){var s;t=te(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(G.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=se(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:t=Ho,startTime:s}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(o=(r=this.options).onPlay)==null||o.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(G.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function cl(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const be=e=>e*180/Math.PI,fs=e=>{const t=be(Math.atan2(e[1],e[0]));return ps(t)},dl={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fs,rotateZ:fs,skewX:e=>be(Math.atan(e[1])),skewY:e=>be(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ps=e=>(e=e%360,e<0&&(e+=360),e),Ii=fs,Oi=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_i=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ul={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Oi,scaleY:_i,scale:e=>(Oi(e)+_i(e))/2,rotateX:e=>ps(be(Math.atan2(e[6],e[5]))),rotateY:e=>ps(be(Math.atan2(-e[2],e[0]))),rotateZ:Ii,rotate:Ii,skewX:e=>be(Math.atan(e[4])),skewY:e=>be(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xs(e){return e.includes("scale")?1:0}function ys(e,t){if(!e||e==="none")return xs(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=ul,r=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dl,r=l}if(!r)return xs(t);const o=n[t],a=r[1].split(",").map(ml);return typeof o=="function"?o(a):a[o]}const hl=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ys(s,t)};function ml(e){return parseFloat(e.trim())}const Ge=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],He=new Set(Ge),Bi=e=>e===Ue||e===C,fl=new Set(["x","y","z"]),pl=Ge.filter(e=>!fl.has(e));function xl(e){const t=[];return pl.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Se={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ys(t,"x"),y:(e,{transform:t})=>ys(t,"y")};Se.translateX=Se.x;Se.translateY=Se.y;const Te=new Set;let gs=!1,vs=!1,bs=!1;function Dr(){if(vs){const e=Array.from(Te).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const r=xl(n);r.length&&(s.set(n,r),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([o,a])=>{var l;(l=n.getValue(o))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}vs=!1,gs=!1,Te.forEach(e=>e.complete(bs)),Te.clear()}function Er(){Te.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vs=!0)})}function yl(){bs=!0,Er(),Dr(),bs=!1}class li{constructor(t,s,n,r,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Te.add(this),gs||(gs=!0,L.read(Er),L.resolveKeyframes(Dr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:r}=this;if(t[0]===null){const o=r==null?void 0:r.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const l=n.readValue(s,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),r&&o===void 0&&r.set(t[0])}cl(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Te.delete(this)}cancel(){this.state==="scheduled"&&(Te.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gl=e=>e.startsWith("--");function vl(e,t,s){gl(t)?e.style.setProperty(t,s):e.style[t]=s}const bl=Ys(()=>window.ScrollTimeline!==void 0),jl={};function Nl(e,t){const s=Ys(e);return()=>jl[t]??s()}const Lr=Nl(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qe=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,$i={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qe([0,.65,.55,1]),circOut:qe([.55,0,1,.45]),backIn:qe([.31,.01,.66,-.59]),backOut:qe([.33,1.53,.69,.99])};function Vr(e,t){if(e)return typeof e=="function"?Lr()?Pr(e,t):"ease-out":gr(e)?qe(e):Array.isArray(e)?e.map(s=>Vr(s,t)||$i.easeOut):$i[e]}function wl(e,t,s,{delay:n=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:d}={},c=void 0){const u={[t]:s};d&&(u.offset=d);const h=Vr(l,r);Array.isArray(h)&&(u.easing=h);const m={delay:n,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(u,m)}function Rr(e){return typeof e=="function"&&"applyToOptions"in e}function Sl({type:e,...t}){return Rr(e)&&Lr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Tl extends ai{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,qs(typeof t.type!="string");const c=Sl(t);this.animation=wl(s,n,r,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=ri(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):vl(s,n,u),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return se(Number(t))}get time(){return se(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=te(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&bl()?(this.animation.timeline=t,X):s(this)}}const Fr={anticipate:fr,backInOut:mr,circInOut:xr};function Cl(e){return e in Fr}function Al(e){typeof e.ease=="string"&&Cl(e.ease)&&(e.ease=Fr[e.ease])}const zi=10;class Pl extends Tl{constructor(t){Al(t),kr(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:r,element:o,...a}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new oi({...a,autoplay:!1}),d=te(this.finishedTime??this.time);s.setWithVelocity(l.sample(d-zi).value,l.sample(d).value,zi),l.stop()}}const Ui=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(me.test(e)||e==="0")&&!e.startsWith("url("));function Ml(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function kl(e,t,s,n){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Ui(r,t),l=Ui(o,t);return!a||!l?!1:Ml(e)||(s==="spring"||Rr(s))&&n}function js(e){e.duration=0,e.type}const Dl=new Set(["opacity","clipPath","filter","transform"]),El=Ys(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ll(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:r,damping:o,type:a}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:c}=t.owner.getProps();return El()&&s&&Dl.has(s)&&(s!=="transform"||!c)&&!d&&!n&&r!=="mirror"&&o!==0&&a!=="inertia"}const Vl=40;class Rl extends ai{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:d,motionValue:c,element:u,...h}){var y;super(),this.stop=()=>{var p,g;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=G.now();const m={autoplay:t,delay:s,type:n,repeat:r,repeatDelay:o,repeatType:a,name:d,motionValue:c,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||li;this.keyframeResolver=new f(l,(p,g,x)=>this.onKeyframesResolved(p,g,m,!x),d,c,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,s,n,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:d,isHandoff:c,onUpdate:u}=n;this.resolvedAt=G.now(),kl(t,o,a,l)||((oe.instantAnimations||!d)&&(u==null||u(ri(t,n,s))),t[0]=t[t.length-1],js(n),n.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Vl?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},f=!c&&Ll(m)?new Pl({...m,element:m.motionValue.owner.current}):new oi(m);f.finished.then(()=>this.notifyFinished()).catch(X),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),yl()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Fl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Il(e){const t=Fl.exec(e);if(!t)return[,];const[,s,n,r]=t;return[`--${s??n}`,r]}function Ir(e,t,s=1){const[n,r]=Il(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const a=o.trim();return rr(a)?parseFloat(a):a}return ei(r)?Ir(r,t,s+1):r}function ci(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Or=new Set(["width","height","top","left","right","bottom",...Ge]),Ol={test:e=>e==="auto",parse:e=>e},_r=e=>t=>t.test(e),Br=[Ue,C,ie,de,Mo,Po,Ol],Gi=e=>Br.find(_r(e));function _l(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||or(e):!0}const Bl=new Set(["brightness","contrast","saturate","opacity"]);function $l(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(ti)||[];if(!n)return e;const r=s.replace(n,"");let o=Bl.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+r+")"}const zl=/\b([a-z-]*)\(.*?\)/gu,Ns={...me,getAnimatableNone:e=>{const t=e.match(zl);return t?t.map($l).join(" "):e}},Hi={...Ue,transform:Math.round},Ul={rotate:de,rotateX:de,rotateY:de,rotateZ:de,scale:vt,scaleX:vt,scaleY:vt,scaleZ:vt,skew:de,skewX:de,skewY:de,distance:C,translateX:C,translateY:C,translateZ:C,x:C,y:C,z:C,perspective:C,transformPerspective:C,opacity:tt,originX:Ei,originY:Ei,originZ:C},di={borderWidth:C,borderTopWidth:C,borderRightWidth:C,borderBottomWidth:C,borderLeftWidth:C,borderRadius:C,radius:C,borderTopLeftRadius:C,borderTopRightRadius:C,borderBottomRightRadius:C,borderBottomLeftRadius:C,width:C,maxWidth:C,height:C,maxHeight:C,top:C,right:C,bottom:C,left:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,backgroundPositionX:C,backgroundPositionY:C,...Ul,zIndex:Hi,fillOpacity:tt,strokeOpacity:tt,numOctaves:Hi},Gl={...di,color:O,backgroundColor:O,outlineColor:O,fill:O,stroke:O,borderColor:O,borderTopColor:O,borderRightColor:O,borderBottomColor:O,borderLeftColor:O,filter:Ns,WebkitFilter:Ns},$r=e=>Gl[e];function zr(e,t){let s=$r(e);return s!==Ns&&(s=me),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Hl=new Set(["auto","none","0"]);function Wl(e,t,s){let n=0,r;for(;n<e.length&&!r;){const o=e[n];typeof o=="string"&&!Hl.has(o)&&st(o).values.length&&(r=e[n]),n++}if(r&&s)for(const o of t)e[o]=zr(s,r)}class Kl extends li{constructor(t,s,n,r,o){super(t,s,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let c=t[d];if(typeof c=="string"&&(c=c.trim(),ei(c))){const u=Ir(c,s.current);u!==void 0&&(t[d]=u),d===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Or.has(n)||t.length!==2)return;const[r,o]=t,a=Gi(r),l=Gi(o);if(a!==l)if(Bi(a)&&Bi(l))for(let d=0;d<t.length;d++){const c=t[d];typeof c=="string"&&(t[d]=parseFloat(c))}else Se[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||_l(t[r]))&&n.push(r);n.length&&Wl(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Se[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,a=n[o];n[o]=Se[s](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,c])=>{t.getValue(d).set(c)}),this.resolveNoneKeyframes()}}function ql(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const r=(s==null?void 0:s[e])??n.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const Ur=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Gr(e){return ar(e)&&"offsetHeight"in e}const Wi=30,Yl=e=>!isNaN(parseFloat(e));class Xl{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const r=G.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=G.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Yl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Xs);const n=this.events[t].add(s);return t==="change"?()=>{n(),L.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=G.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Wi)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Wi);return lr(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _e(e,t){return new Xl(e,t)}const{schedule:ui}=vr(queueMicrotask,!1),Z={x:!1,y:!1};function Hr(){return Z.x||Z.y}function Zl(e){return e==="x"||e==="y"?Z[e]?null:(Z[e]=!0,()=>{Z[e]=!1}):Z.x||Z.y?null:(Z.x=Z.y=!0,()=>{Z.x=Z.y=!1})}function Wr(e,t){const s=ql(e),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[s,r,()=>n.abort()]}function Ki(e){return!(e.pointerType==="touch"||Hr())}function Jl(e,t,s={}){const[n,r,o]=Wr(e,s),a=l=>{if(!Ki(l))return;const{target:d}=l,c=t(d,l);if(typeof c!="function"||!d)return;const u=h=>{Ki(h)&&(c(h),d.removeEventListener("pointerleave",u))};d.addEventListener("pointerleave",u,r)};return n.forEach(l=>{l.addEventListener("pointerenter",a,r)}),o}const Kr=(e,t)=>t?e===t?!0:Kr(e,t.parentElement):!1,hi=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ql=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ec(e){return Ql.has(e.tagName)||e.tabIndex!==-1}const St=new WeakSet;function qi(e){return t=>{t.key==="Enter"&&e(t)}}function Jt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tc=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=qi(()=>{if(St.has(s))return;Jt(s,"down");const r=qi(()=>{Jt(s,"up")}),o=()=>Jt(s,"cancel");s.addEventListener("keyup",r,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Yi(e){return hi(e)&&!Hr()}function sc(e,t,s={}){const[n,r,o]=Wr(e,s),a=l=>{const d=l.currentTarget;if(!Yi(l))return;St.add(d);const c=t(d,l),u=(f,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),St.has(d)&&St.delete(d),Yi(f)&&typeof c=="function"&&c(f,{success:y})},h=f=>{u(f,d===window||d===document||s.useGlobalTarget||Kr(d,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),Gr(l)&&(l.addEventListener("focus",c=>tc(c,r)),!ec(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function qr(e){return ar(e)&&"ownerSVGElement"in e}function ic(e){return qr(e)&&e.tagName==="svg"}const z=e=>!!(e&&e.getVelocity),nc=[...Br,O,me],rc=e=>nc.find(_r(e)),mi=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ac extends w.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,r=Gr(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oc({children:e,isPresent:t,anchorX:s,root:n}){const r=w.useId(),o=w.useRef(null),a=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=w.useContext(mi);return w.useInsertionEffect(()=>{const{width:d,height:c,top:u,left:h,right:m}=a.current;if(t||!o.current||!d||!c)return;const f=s==="left"?`left: ${h}`:`right: ${m}`;o.current.dataset.motionPopId=r;const y=document.createElement("style");l&&(y.nonce=l);const p=n??document.head;return p.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{p.contains(y)&&p.removeChild(y)}},[t]),i.jsx(ac,{isPresent:t,childRef:o,sizeRef:a,children:w.cloneElement(e,{ref:o})})}const lc=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:o,mode:a,anchorX:l,root:d})=>{const c=Gs(cc),u=w.useId();let h=!0,m=w.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:s,custom:r,onExitComplete:f=>{c.set(f,!0);for(const y of c.values())if(!y)return;n&&n()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[s,c,n]);return o&&h&&(m={...m}),w.useMemo(()=>{c.forEach((f,y)=>c.set(y,!1))},[s]),w.useEffect(()=>{!s&&!c.size&&n&&n()},[s]),a==="popLayout"&&(e=i.jsx(oc,{isPresent:s,anchorX:l,root:d,children:e})),i.jsx(It.Provider,{value:m,children:e})};function cc(){return new Map}function Yr(e=!0){const t=w.useContext(It);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=t,o=w.useId();w.useEffect(()=>{if(e)return r(o)},[e]);const a=w.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,a]:[!0]}const bt=e=>e.key||"";function Xi(e){const t=[];return w.Children.forEach(e,s=>{w.isValidElement(s)&&t.push(s)}),t}const ne=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",root:d})=>{const[c,u]=Yr(a),h=w.useMemo(()=>Xi(e),[e]),m=a&&!c?[]:h.map(bt),f=w.useRef(!0),y=w.useRef(h),p=Gs(()=>new Map),[g,x]=w.useState(h),[v,b]=w.useState(h);nr(()=>{f.current=!1,y.current=h;for(let A=0;A<v.length;A++){const P=bt(v[A]);m.includes(P)?p.delete(P):p.get(P)!==!0&&p.set(P,!1)}},[v,m.length,m.join("-")]);const S=[];if(h!==g){let A=[...h];for(let P=0;P<v.length;P++){const j=v[P],k=bt(j);m.includes(k)||(A.splice(P,0,j),S.push(j))}return o==="wait"&&S.length&&(A=S),b(Xi(A)),x(h),null}const{forceRender:T}=w.useContext(Us);return i.jsx(i.Fragment,{children:v.map(A=>{const P=bt(A),j=a&&!c?!1:h===v||m.includes(P),k=()=>{if(p.has(P))p.set(P,!0);else return;let D=!0;p.forEach(H=>{H||(D=!1)}),D&&(T==null||T(),b(y.current),a&&(u==null||u()),n&&n())};return i.jsx(lc,{isPresent:j,initial:!f.current||s?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:j?void 0:k,anchorX:l,children:A},P)})})},Xr=w.createContext({strict:!1}),Zi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Be={};for(const e in Zi)Be[e]={isEnabled:t=>Zi[e].some(s=>!!t[s])};function dc(e){for(const t in e)Be[t]={...Be[t],...e[t]}}const uc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uc.has(e)}let Zr=e=>!Dt(e);function hc(e){typeof e=="function"&&(Zr=t=>t.startsWith("on")?!Dt(t):e(t))}try{hc(require("@emotion/is-prop-valid").default)}catch{}function mc(e,t,s){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||(Zr(r)||s===!0&&Dt(r)||!t&&!Dt(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}const Ot=w.createContext({});function _t(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function it(e){return typeof e=="string"||Array.isArray(e)}const fi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pi=["initial",...fi];function Bt(e){return _t(e.animate)||pi.some(t=>it(e[t]))}function Jr(e){return!!(Bt(e)||e.variants)}function fc(e,t){if(Bt(e)){const{initial:s,animate:n}=e;return{initial:s===!1||it(s)?s:void 0,animate:it(n)?n:void 0}}return e.inherit!==!1?t:{}}function pc(e){const{initial:t,animate:s}=fc(e,w.useContext(Ot));return w.useMemo(()=>({initial:t,animate:s}),[Ji(t),Ji(s)])}function Ji(e){return Array.isArray(e)?e.join(" "):e}const nt={};function xc(e){for(const t in e)nt[t]=e[t],Qs(t)&&(nt[t].isCSSVariable=!0)}function Qr(e,{layout:t,layoutId:s}){return He.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!nt[e]||e==="opacity")}const yc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gc=Ge.length;function vc(e,t,s){let n="",r=!0;for(let o=0;o<gc;o++){const a=Ge[o],l=e[a];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(a.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||s){const c=Ur(l,di[a]);if(!d){r=!1;const u=yc[a]||a;n+=`${u}(${c}) `}s&&(t[a]=c)}}return n=n.trim(),s?n=s(t,r?"":n):r&&(n="none"),n}function xi(e,t,s){const{style:n,vars:r,transformOrigin:o}=e;let a=!1,l=!1;for(const d in t){const c=t[d];if(He.has(d)){a=!0;continue}else if(Qs(d)){r[d]=c;continue}else{const u=Ur(c,di[d]);d.startsWith("origin")?(l=!0,o[d]=u):n[d]=u}}if(t.transform||(a||s?n.transform=vc(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:d="50%",originY:c="50%",originZ:u=0}=o;n.transformOrigin=`${d} ${c} ${u}`}}const yi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ea(e,t,s){for(const n in t)!z(t[n])&&!Qr(n,s)&&(e[n]=t[n])}function bc({transformTemplate:e},t){return w.useMemo(()=>{const s=yi();return xi(s,t,e),Object.assign({},s.vars,s.style)},[t])}function jc(e,t){const s=e.style||{},n={};return ea(n,s,e),Object.assign(n,bc(e,t)),n}function Nc(e,t){const s={},n=jc(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const wc={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sc={offset:"strokeDashoffset",array:"strokeDasharray"};function Tc(e,t,s=1,n=0,r=!0){e.pathLength=1;const o=r?wc:Sc;e[o.offset]=C.transform(-n);const a=C.transform(t),l=C.transform(s);e[o.array]=`${a} ${l}`}function ta(e,{attrX:t,attrY:s,attrScale:n,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...l},d,c,u){if(xi(e,l,c),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),r!==void 0&&Tc(h,r,o,a,!1)}const sa=()=>({...yi(),attrs:{}}),ia=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Cc(e,t,s,n){const r=w.useMemo(()=>{const o=sa();return ta(o,t,ia(n),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ea(o,e.style,e),r.style={...o,...r.style}}return r}const Ac=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gi(e){return typeof e!="string"||e.includes("-")?!1:!!(Ac.indexOf(e)>-1||/[A-Z]/u.test(e))}function Pc(e,t,s,{latestValues:n},r,o=!1){const l=(gi(e)?Cc:Nc)(t,n,r,e),d=mc(t,typeof e=="string",o),c=e!==w.Fragment?{...d,...l,ref:s}:{},{children:u}=t,h=w.useMemo(()=>z(u)?u.get():u,[u]);return w.createElement(e,{...c,children:h})}function Qi(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function vi(e,t,s,n){if(typeof t=="function"){const[r,o]=Qi(n);t=t(s!==void 0?s:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=Qi(n);t=t(s!==void 0?s:e.custom,r,o)}return t}function Tt(e){return z(e)?e.get():e}function Mc({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,r){return{latestValues:kc(s,n,r,e),renderState:t()}}function kc(e,t,s,n){const r={},o=n(e,{});for(const m in o)r[m]=Tt(o[m]);let{initial:a,animate:l}=e;const d=Bt(e),c=Jr(e);t&&c&&!d&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||a===!1;const h=u?l:a;if(h&&typeof h!="boolean"&&!_t(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const y=vi(e,m[f]);if(y){const{transitionEnd:p,transition:g,...x}=y;for(const v in x){let b=x[v];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(r[v]=b)}for(const v in p)r[v]=p[v]}}}return r}const na=e=>(t,s)=>{const n=w.useContext(Ot),r=w.useContext(It),o=()=>Mc(e,t,n,r);return s?o():Gs(o)};function bi(e,t,s){var o;const{style:n}=e,r={};for(const a in n)(z(n[a])||t.style&&z(t.style[a])||Qr(a,e)||((o=s==null?void 0:s.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(r[a]=n[a]);return r}const Dc=na({scrapeMotionValuesFromProps:bi,createRenderState:yi});function ra(e,t,s){const n=bi(e,t,s);for(const r in e)if(z(e[r])||z(t[r])){const o=Ge.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}const Ec=na({scrapeMotionValuesFromProps:ra,createRenderState:sa}),Lc=Symbol.for("motionComponentSymbol");function Le(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Vc(e,t,s){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Le(s)&&(s.current=n))},[t])}const ji=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rc="framerAppearId",aa="data-"+ji(Rc),oa=w.createContext({});function Fc(e,t,s,n,r){var p,g;const{visualElement:o}=w.useContext(Ot),a=w.useContext(Xr),l=w.useContext(It),d=w.useContext(mi).reducedMotion,c=w.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const u=c.current,h=w.useContext(oa);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&Ic(c.current,s,r,h);const m=w.useRef(!1);w.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const f=s[aa],y=w.useRef(!!f&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,f))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,f)));return nr(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,f)}),y.current=!1))}),u}function Ic(e,t,s,n){const{layoutId:r,layout:o,drag:a,dragConstraints:l,layoutScroll:d,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:la(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||l&&Le(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:d,layoutRoot:c})}function la(e){if(e)return e.options.allowProjection!==!1?e.projection:la(e.parent)}function Qt(e,{forwardMotionProps:t=!1}={},s,n){s&&dc(s);const r=gi(e)?Ec:Dc;function o(l,d){let c;const u={...w.useContext(mi),...l,layoutId:Oc(l)},{isStatic:h}=u,m=pc(l),f=r(l,h);if(!h&&Hs){_c();const y=Bc(u);c=y.MeasureLayout,m.visualElement=Fc(e,f,u,n,y.ProjectionNode)}return i.jsxs(Ot.Provider,{value:m,children:[c&&m.visualElement?i.jsx(c,{visualElement:m.visualElement,...u}):null,Pc(e,l,Vc(f,m.visualElement,d),f,h,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=w.forwardRef(o);return a[Lc]=e,a}function Oc({layoutId:e}){const t=w.useContext(Us).id;return t&&e!==void 0?t+"-"+e:e}function _c(e,t){w.useContext(Xr).strict}function Bc(e){const{drag:t,layout:s}=Be;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function $c(e,t){if(typeof Proxy>"u")return Qt;const s=new Map,n=(o,a)=>Qt(o,a,e,t),r=(o,a)=>n(o,a);return new Proxy(r,{get:(o,a)=>a==="create"?n:(s.has(a)||s.set(a,Qt(a,void 0,e,t)),s.get(a))})}function ca({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function zc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Uc(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function es(e){return e===void 0||e===1}function ws({scale:e,scaleX:t,scaleY:s}){return!es(e)||!es(t)||!es(s)}function ye(e){return ws(e)||da(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function da(e){return en(e.x)||en(e.y)}function en(e){return e&&e!=="0%"}function Et(e,t,s){const n=e-s,r=t*n;return s+r}function tn(e,t,s,n,r){return r!==void 0&&(e=Et(e,r,n)),Et(e,s,n)+t}function Ss(e,t=0,s=1,n,r){e.min=tn(e.min,t,s,n,r),e.max=tn(e.max,t,s,n,r)}function ua(e,{x:t,y:s}){Ss(e.x,t.translate,t.scale,t.originPoint),Ss(e.y,s.translate,s.scale,s.originPoint)}const sn=.999999999999,nn=1.0000000000001;function Gc(e,t,s,n=!1){const r=s.length;if(!r)return;t.x=t.y=1;let o,a;for(let l=0;l<r;l++){o=s[l],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Re(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ua(e,a)),n&&ye(o.latestValues)&&Re(e,o.latestValues))}t.x<nn&&t.x>sn&&(t.x=1),t.y<nn&&t.y>sn&&(t.y=1)}function Ve(e,t){e.min=e.min+t,e.max=e.max+t}function rn(e,t,s,n,r=.5){const o=R(e.min,e.max,r);Ss(e,t,s,o,n)}function Re(e,t){rn(e.x,t.x,t.scaleX,t.scale,t.originX),rn(e.y,t.y,t.scaleY,t.scale,t.originY)}function ha(e,t){return ca(Uc(e.getBoundingClientRect(),t))}function Hc(e,t,s){const n=ha(e,s),{scroll:r}=t;return r&&(Ve(n.x,r.offset.x),Ve(n.y,r.offset.y)),n}const an=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fe=()=>({x:an(),y:an()}),on=()=>({min:0,max:0}),I=()=>({x:on(),y:on()}),Ts={current:null},ma={current:!1};function Wc(){if(ma.current=!0,!!Hs)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ts.current=e.matches;e.addEventListener("change",t),t()}else Ts.current=!1}const Kc=new WeakMap;function qc(e,t,s){for(const n in t){const r=t[n],o=s[n];if(z(r))e.addValue(n,r);else if(z(o))e.addValue(n,_e(r,{owner:e}));else if(o!==r)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(n);e.addValue(n,_e(a!==void 0?a:r,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const ln=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yc{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=li,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=G.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,L.render(this.render,!1,!0))};const{latestValues:d,renderState:c}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Bt(s),this.isVariantNode=Jr(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const f=h[m];d[m]!==void 0&&z(f)&&f.set(d[m])}}mount(t){this.current=t,Kc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),ma.current||Wc(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ts.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),he(this.notifyUpdate),he(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=He.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&L.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Be){const s=Be[t];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):I()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<ln.length;n++){const r=ln[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=t[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=qc(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=_e(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(rr(n)||or(n))?n=parseFloat(n):!rc(n)&&me.test(s)&&(n=zr(t,s)),this.setBaseTarget(t,z(n)?n.get():n)),z(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var o;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const a=vi(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);a&&(n=a[t])}if(s&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!z(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Xs),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){ui.render(this.render)}}class fa extends Yc{constructor(){super(...arguments),this.KeyframeResolver=Kl}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;z(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function pa(e,{style:t,vars:s},n,r){const o=e.style;let a;for(a in t)o[a]=t[a];r==null||r.applyProjectionStyles(o,n);for(a in s)o.setProperty(a,s[a])}function Xc(e){return window.getComputedStyle(e)}class Zc extends fa{constructor(){super(...arguments),this.type="html",this.renderInstance=pa}readValueFromInstance(t,s){var n;if(He.has(s))return(n=this.projection)!=null&&n.isProjecting?xs(s):hl(t,s);{const r=Xc(t),o=(Qs(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return ha(t,s)}build(t,s,n){xi(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return bi(t,s,n)}}const xa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jc(e,t,s,n){pa(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(xa.has(r)?r:ji(r),t.attrs[r])}class Qc extends fa{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=I}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(He.has(s)){const n=$r(s);return n&&n.default||0}return s=xa.has(s)?s:ji(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return ra(t,s,n)}build(t,s,n){ta(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,r){Jc(t,s,n,r)}mount(t){this.isSVGTag=ia(t.tagName),super.mount(t)}}const ed=(e,t)=>gi(e)?new Qc(t):new Zc(t,{allowProjection:e!==w.Fragment});function rt(e,t,s){const n=e.getProps();return vi(n,t,s!==void 0?s:n.custom,e)}const Cs=e=>Array.isArray(e);function td(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,_e(s))}function sd(e){return Cs(e)?e[e.length-1]||0:e}function id(e,t){const s=rt(e,t);let{transitionEnd:n={},transition:r={},...o}=s||{};o={...o,...n};for(const a in o){const l=sd(o[a]);td(e,a,l)}}function nd(e){return!!(z(e)&&e.add)}function As(e,t){const s=e.getValue("willChange");if(nd(s))return s.add(t);if(!s&&oe.WillChange){const n=new oe.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function ya(e){return e.props[aa]}const rd=e=>e!==null;function ad(e,{repeat:t,repeatType:s="loop"},n){const r=e.filter(rd),o=t&&s!=="loop"&&t%2===1?0:r.length-1;return r[o]}const od={type:"spring",stiffness:500,damping:25,restSpeed:10},ld=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cd={type:"keyframes",duration:.8},dd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ud=(e,{keyframes:t})=>t.length>2?cd:He.has(e)?e.startsWith("scale")?ld(t[1]):od:dd;function hd({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}const Ni=(e,t,s,n={},r,o)=>a=>{const l=ci(n,e)||{},d=l.delay||n.delay||0;let{elapsed:c=0}=n;c=c-te(d);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:r};hd(l)||Object.assign(u,ud(e,u)),u.duration&&(u.duration=te(u.duration)),u.repeatDelay&&(u.repeatDelay=te(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(js(u),u.delay===0&&(h=!0)),(oe.instantAnimations||oe.skipAnimations)&&(h=!0,js(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!o&&t.get()!==void 0){const m=ad(u.keyframes,l);if(m!==void 0){L.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new oi(u):new Rl(u)};function md({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function ga(e,t,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const d=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||c&&md(c,u))continue;const f={delay:s,...ci(o||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const x=ya(e);if(x){const v=window.MotionHandoffAnimation(x,u,L);v!==null&&(f.startTime=v,p=!0)}}As(e,u),h.start(Ni(u,h,m,e.shouldReduceMotion&&Or.has(u)?{type:!1}:f,e,p));const g=h.animation;g&&d.push(g)}return a&&Promise.all(d).then(()=>{L.update(()=>{a&&id(e,a)})}),d}function Ps(e,t,s={}){var d;const n=rt(e,t,s.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const o=n?()=>Promise.all(ga(e,n,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=r;return fd(e,t,c,u,h,m,s)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(s.delay)])}function fd(e,t,s=0,n=0,r=0,o=1,a){const l=[],d=e.variantChildren.size,c=(d-1)*r,u=typeof n=="function",h=u?m=>n(m,d):o===1?(m=0)=>m*r:(m=0)=>c-m*r;return Array.from(e.variantChildren).sort(pd).forEach((m,f)=>{m.notify("AnimationStart",t),l.push(Ps(m,t,{...a,delay:s+(u?0:n)+h(f)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function pd(e,t){return e.sortNodePosition(t)}function xd(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(o=>Ps(e,o,s));n=Promise.all(r)}else if(typeof t=="string")n=Ps(e,t,s);else{const r=typeof t=="function"?rt(e,t,s.custom):t;n=Promise.all(ga(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}function va(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const yd=pi.length;function ba(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?ba(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<yd;s++){const n=pi[s],r=e.props[n];(it(r)||r===!1)&&(t[n]=r)}return t}const gd=[...fi].reverse(),vd=fi.length;function bd(e){return t=>Promise.all(t.map(({animation:s,options:n})=>xd(e,s,n)))}function jd(e){let t=bd(e),s=cn(),n=!0;const r=d=>(c,u)=>{var m;const h=rt(e,u,d==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:y,...p}=h;c={...c,...p,...y}}return c};function o(d){t=d(e)}function a(d){const{props:c}=e,u=ba(e.parent)||{},h=[],m=new Set;let f={},y=1/0;for(let g=0;g<vd;g++){const x=gd[g],v=s[x],b=c[x]!==void 0?c[x]:u[x],S=it(b),T=x===d?v.isActive:null;T===!1&&(y=g);let A=b===u[x]&&b!==c[x]&&S;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),v.protectedKeys={...f},!v.isActive&&T===null||!b&&!v.prevProp||_t(b)||typeof b=="boolean")continue;const P=Nd(v.prevProp,b);let j=P||x===d&&v.isActive&&!A&&S||g>y&&S,k=!1;const D=Array.isArray(b)?b:[b];let H=D.reduce(r(x),{});T===!1&&(H={});const{prevResolvedValues:ke={}}=v,We={...ke,...H},pt=V=>{j=!0,m.has(V)&&(k=!0,m.delete(V)),v.needsAnimating[V]=!0;const re=e.getValue(V);re&&(re.liveStyle=!1)};for(const V in We){const re=H[V],Ht=ke[V];if(f.hasOwnProperty(V))continue;let Wt=!1;Cs(re)&&Cs(Ht)?Wt=!va(re,Ht):Wt=re!==Ht,Wt?re!=null?pt(V):m.add(V):re!==void 0&&m.has(V)?pt(V):v.protectedKeys[V]=!0}v.prevProp=b,v.prevResolvedValues=H,v.isActive&&(f={...f,...H}),n&&e.blockInitialAnimation&&(j=!1),j&&(!(A&&P)||k)&&h.push(...D.map(V=>({animation:V,options:{type:x}})))}if(m.size){const g={};if(typeof c.initial!="boolean"){const x=rt(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(g.transition=x.transition)}m.forEach(x=>{const v=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),g[x]=v??null}),h.push({animation:g})}let p=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(h):Promise.resolve()}function l(d,c){var h;if(s[d].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(d,c)}),s[d].isActive=c;const u=a(d);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=cn(),n=!0}}}function Nd(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!va(t,e):!1}function xe(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cn(){return{animate:xe(!0),whileInView:xe(),whileHover:xe(),whileTap:xe(),whileDrag:xe(),whileFocus:xe(),exit:xe()}}class fe{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wd extends fe{constructor(t){super(t),t.animationState||(t.animationState=jd(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_t(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Sd=0;class Td extends fe{constructor(){super(...arguments),this.id=Sd++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);s&&!t&&r.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Cd={animation:{Feature:wd},exit:{Feature:Td}};function at(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function mt(e){return{point:{x:e.pageX,y:e.pageY}}}const Ad=e=>t=>hi(t)&&e(t,mt(t));function Ze(e,t,s,n){return at(e,t,Ad(s),n)}const ja=1e-4,Pd=1-ja,Md=1+ja,Na=.01,kd=0-Na,Dd=0+Na;function U(e){return e.max-e.min}function Ed(e,t,s){return Math.abs(e-t)<=s}function dn(e,t,s,n=.5){e.origin=n,e.originPoint=R(t.min,t.max,e.origin),e.scale=U(s)/U(t),e.translate=R(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Pd&&e.scale<=Md||isNaN(e.scale))&&(e.scale=1),(e.translate>=kd&&e.translate<=Dd||isNaN(e.translate))&&(e.translate=0)}function Je(e,t,s,n){dn(e.x,t.x,s.x,n?n.originX:void 0),dn(e.y,t.y,s.y,n?n.originY:void 0)}function un(e,t,s){e.min=s.min+t.min,e.max=e.min+U(t)}function Ld(e,t,s){un(e.x,t.x,s.x),un(e.y,t.y,s.y)}function hn(e,t,s){e.min=t.min-s.min,e.max=e.min+U(t)}function Qe(e,t,s){hn(e.x,t.x,s.x),hn(e.y,t.y,s.y)}function Y(e){return[e("x"),e("y")]}const wa=({current:e})=>e?e.ownerDocument.defaultView:null,mn=(e,t)=>Math.abs(e-t);function Vd(e,t){const s=mn(e.x,t.x),n=mn(e.y,t.y);return Math.sqrt(s**2+n**2)}class Sa{constructor(t,s,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ss(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=Vd(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!y)return;const{point:p}=m,{timestamp:g}=$;this.history.push({...p,timestamp:g});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=ts(f,this.transformPagePoint),L.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:y,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ss(m.type==="pointercancel"?this.lastMoveEventInfo:ts(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,x),p&&p(m,x)},!hi(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const l=mt(t),d=ts(l,this.transformPagePoint),{point:c}=d,{timestamp:u}=$;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=s;h&&h(t,ss(d,this.history)),this.removeListeners=dt(Ze(this.contextWindow,"pointermove",this.handlePointerMove),Ze(this.contextWindow,"pointerup",this.handlePointerUp),Ze(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),he(this.updatePoint)}}function ts(e,t){return t?{point:t(e.point)}:e}function fn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ss({point:e},t){return{point:e,delta:fn(e,Ta(t)),offset:fn(e,Rd(t)),velocity:Fd(t,.1)}}function Rd(e){return e[0]}function Ta(e){return e[e.length-1]}function Fd(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=Ta(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>te(t)));)s--;if(!n)return{x:0,y:0};const o=se(r.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-n.x)/o,y:(r.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Id(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?R(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?R(s,e,n.max):Math.min(e,s)),e}function pn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Od(e,{top:t,left:s,bottom:n,right:r}){return{x:pn(e.x,s,r),y:pn(e.y,t,n)}}function xn(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function _d(e,t){return{x:xn(e.x,t.x),y:xn(e.y,t.y)}}function Bd(e,t){let s=.5;const n=U(e),r=U(t);return r>n?s=et(t.min,t.max-n,e.min):n>r&&(s=et(e.min,e.max-r,t.min)),ae(0,1,s)}function $d(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Ms=.35;function zd(e=Ms){return e===!1?e=0:e===!0&&(e=Ms),{x:yn(e,"left","right"),y:yn(e,"top","bottom")}}function yn(e,t,s){return{min:gn(e,t),max:gn(e,s)}}function gn(e,t){return typeof e=="number"?e:e[t]||0}const Ud=new WeakMap;class Gd{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=I(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(mt(h).point)},a=(h,m)=>{const{drag:f,dragPropagation:y,onDragStart:p}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zl(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Y(x=>{let v=this.getAxisMotionValue(x).get()||0;if(ie.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[x];S&&(v=U(S)*(parseFloat(v)/100))}}this.originPoint[x]=v}),p&&L.postRender(()=>p(h,m)),As(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=m;if(y&&this.currentDirection===null){this.currentDirection=Hd(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),g&&g(h,m)},d=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Y(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sa(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:wa(this.visualElement)})}stop(t,s){const n=t||this.latestPointerEvent,r=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&L.postRender(()=>l(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:r}=this.getProps();if(!n||!jt(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=Id(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;t&&Le(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Od(n.layoutBox,t):this.constraints=!1,this.elastic=zd(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Y(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=$d(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Le(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=Hc(n,r.root,this.visualElement.getTransformPagePoint());let a=_d(r.layout.layoutBox,o);if(s){const l=s(zc(a));this.hasMutatedConstraints=!!l,l&&(a=ca(l))}return a}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=Y(u=>{if(!jt(u,s,this.currentDirection))return;let h=d&&d[u]||{};a&&(h={min:0,max:0});const m=r?200:1e6,f=r?40:1e7,y={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return As(this.visualElement,t),n.start(Ni(t,n,0,s,this.visualElement,!1))}stopAnimation(){Y(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Y(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Y(s=>{const{drag:n}=this.getProps();if(!jt(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(s);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[s];o.set(t[s]-R(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Le(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Y(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const d=l.get();r[a]=Bd({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Y(a=>{if(!jt(a,t,null))return;const l=this.getAxisMotionValue(a),{min:d,max:c}=this.constraints[a];l.set(R(d,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;Ud.set(this.visualElement,this);const t=this.visualElement.current,s=Ze(t,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Le(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),L.read(n);const a=at(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Y(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=d[u].translate,h.set(h.get()+d[u].translate))}),this.visualElement.render())});return()=>{a(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=Ms,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function jt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Hd(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Wd extends fe{constructor(t){super(t),this.removeGroupControls=X,this.removeListeners=X,this.controls=new Gd(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||X}unmount(){this.removeGroupControls(),this.removeListeners()}}const vn=e=>(t,s)=>{e&&L.postRender(()=>e(t,s))};class Kd extends fe{constructor(){super(...arguments),this.removePointerDownListener=X}onPointerDown(t){this.session=new Sa(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wa(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:vn(t),onStart:vn(s),onMove:n,onEnd:(o,a)=>{delete this.session,r&&L.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=Ze(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ct={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bn(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ke={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(C.test(e))e=parseFloat(e);else return e;const s=bn(e,t.target.x),n=bn(e,t.target.y);return`${s}% ${n}%`}},qd={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=me.parse(e);if(r.length>5)return n;const o=me.createTransformer(e),a=typeof r[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;r[0+a]/=l,r[1+a]/=d;const c=R(l,d,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),o(r)}};let jn=!1;class Yd extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=t;xc(Xd),o&&(s.group&&s.group.add(o),n&&n.register&&r&&n.register(o),jn&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ct.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:r,isPresent:o}=this.props,{projection:a}=n;return a&&(a.isPresent=o,jn=!0,r||t.layoutDependency!==s||s===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||L.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ui.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ca(e){const[t,s]=Yr(),n=w.useContext(Us);return i.jsx(Yd,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(oa),isPresent:t,safeToRemove:s})}const Xd={borderRadius:{...Ke,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomLeftRadius:Ke,borderBottomRightRadius:Ke,boxShadow:qd};function Zd(e,t,s){const n=z(e)?e:_e(e);return n.start(Ni("",n,t,s)),n.animation}const Jd=(e,t)=>e.depth-t.depth;class Qd{constructor(){this.children=[],this.isDirty=!1}add(t){Ws(this.children,t),this.isDirty=!0}remove(t){Ks(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Jd),this.isDirty=!1,this.children.forEach(t)}}function eu(e,t){const s=G.now(),n=({timestamp:r})=>{const o=r-s;o>=t&&(he(n),e(o-t))};return L.setup(n,!0),()=>he(n)}const Aa=["TopLeft","TopRight","BottomLeft","BottomRight"],tu=Aa.length,Nn=e=>typeof e=="string"?parseFloat(e):e,wn=e=>typeof e=="number"||C.test(e);function su(e,t,s,n,r,o){r?(e.opacity=R(0,s.opacity??1,iu(n)),e.opacityExit=R(t.opacity??1,0,nu(n))):o&&(e.opacity=R(t.opacity??1,s.opacity??1,n));for(let a=0;a<tu;a++){const l=`border${Aa[a]}Radius`;let d=Sn(t,l),c=Sn(s,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||wn(d)===wn(c)?(e[l]=Math.max(R(Nn(d),Nn(c),n),0),(ie.test(c)||ie.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=R(t.rotate||0,s.rotate||0,n))}function Sn(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iu=Pa(0,.5,pr),nu=Pa(.5,.95,X);function Pa(e,t,s){return n=>n<e?0:n>t?1:s(et(e,t,n))}function Tn(e,t){e.min=t.min,e.max=t.max}function q(e,t){Tn(e.x,t.x),Tn(e.y,t.y)}function Cn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function An(e,t,s,n,r){return e-=t,e=Et(e,1/s,n),r!==void 0&&(e=Et(e,1/r,n)),e}function ru(e,t=0,s=1,n=.5,r,o=e,a=e){if(ie.test(t)&&(t=parseFloat(t),t=R(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=R(o.min,o.max,n);e===o&&(l-=t),e.min=An(e.min,t,s,l,r),e.max=An(e.max,t,s,l,r)}function Pn(e,t,[s,n,r],o,a){ru(e,t[s],t[n],t[r],t.scale,o,a)}const au=["x","scaleX","originX"],ou=["y","scaleY","originY"];function Mn(e,t,s,n){Pn(e.x,t,au,s?s.x:void 0,n?n.x:void 0),Pn(e.y,t,ou,s?s.y:void 0,n?n.y:void 0)}function kn(e){return e.translate===0&&e.scale===1}function Ma(e){return kn(e.x)&&kn(e.y)}function Dn(e,t){return e.min===t.min&&e.max===t.max}function lu(e,t){return Dn(e.x,t.x)&&Dn(e.y,t.y)}function En(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ka(e,t){return En(e.x,t.x)&&En(e.y,t.y)}function Ln(e){return U(e.x)/U(e.y)}function Vn(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cu{constructor(){this.members=[]}add(t){Ws(this.members,t),t.scheduleRender()}remove(t){if(Ks(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(r=>t===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function du(e,t,s){let n="";const r=e.x.translate/t.x,o=e.y.translate/t.y,a=(s==null?void 0:s.z)||0;if((r||o||a)&&(n=`translate3d(${r}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:y}=s;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),f&&(n+=`skewX(${f}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(n+=`scale(${l}, ${d})`),n||"none"}const is=["","X","Y","Z"],uu=1e3;let hu=0;function ns(e,t,s,n){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Da(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=ya(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",L,!(r||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Da(n)}function Ea({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(a={},l=t==null?void 0:t()){this.id=hu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pu),this.nodes.forEach(vu),this.nodes.forEach(bu),this.nodes.forEach(xu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qd)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Xs),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const d=this.eventHandlers.get(a);d&&d.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=qr(a)&&!ic(a),this.instance=a;const{layoutId:l,layout:d,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;L.read(()=>{h=window.innerWidth}),e(a,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=eu(m,250),Ct.hasAnimatedSinceResize&&(Ct.hasAnimatedSinceResize=!1,this.nodes.forEach(In)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||Tu,{onLayoutAnimationStart:p,onLayoutAnimationComplete:g}=c.getProps(),x=!this.targetLayout||!ka(this.targetLayout,f),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...ci(y,"layout"),onPlay:p,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else h||In(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),he(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ju),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Da(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rn);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fn);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gu),this.nodes.forEach(mu),this.nodes.forEach(fu)):this.nodes.forEach(Fn),this.clearAllSnapshots();const l=G.now();$.delta=ae(0,1e3/60,l-$.timestamp),$.timestamp=l,$.isProcessing=!0,Kt.update.process($),Kt.preRender.process($),Kt.render.process($),$.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ui.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yu),this.sharedNodes.forEach(Nu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,L.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){L.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!U(this.snapshot.measuredBox.x)&&!U(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=I(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ma(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(l||ye(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return a&&(d=this.removeTransform(d)),Cu(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return I();const l=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Au))){const{scroll:u}=this.root;u&&(Ve(l.x,u.offset.x),Ve(l.y,u.offset.y))}return l}removeElementScroll(a){var d;const l=I();if(q(l,a),(d=this.scroll)!=null&&d.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&q(l,a),Ve(l.x,h.offset.x),Ve(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const d=I();q(d,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Re(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ye(u.latestValues)&&Re(d,u.latestValues)}return ye(this.latestValues)&&Re(d,this.latestValues),d}removeTransform(a){const l=I();q(l,a);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!ye(c.latestValues))continue;ws(c.latestValues)&&c.updateSnapshot();const u=I(),h=c.measurePageBox();q(u,h),Mn(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ye(this.latestValues)&&Mn(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=$.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=I(),this.relativeTargetOrigin=I(),Qe(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),q(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=I(),this.targetWithTransforms=I()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ld(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):q(this.target,this.layout.layoutBox),ua(this.target,this.targetDelta)):q(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=I(),this.relativeTargetOrigin=I(),Qe(this.relativeTargetOrigin,this.target,f.target),q(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ws(this.parent.latestValues)||da(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===$.timestamp&&(d=!1),d)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;q(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Gc(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=I());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cn(this.prevProjectionDelta.x,this.projectionDelta.x),Cn(this.prevProjectionDelta.y,this.projectionDelta.y)),Je(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!Vn(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vn(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fe(),this.projectionDelta=Fe(),this.projectionDeltaWithTransform=Fe()}setAnimationOrigin(a,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},h=Fe();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=I(),f=d?d.source:void 0,y=this.layout?this.layout.source:void 0,p=f!==y,g=this.getStack(),x=!g||g.members.length<=1,v=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(Su));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const T=S/1e3;On(h.x,a.x,T),On(h.y,a.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qe(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wu(this.relativeTarget,this.relativeTargetOrigin,m,T),b&&lu(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=I()),q(b,this.relativeTarget)),p&&(this.animationValues=u,su(u,c,this.latestValues,T,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,d,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||c.stop(),this.pendingAnimation&&(he(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=L.update(()=>{Ct.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_e(0)),this.currentAnimation=Zd(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=a;if(!(!l||!d||!c)){if(this!==a&&this.layout&&c&&La(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||I();const h=U(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+h;const m=U(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+m}q(l,d),Re(l,u),Je(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new cu),this.sharedNodes.get(a).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const c={};d.z&&ns("z",a,c,this.animationValues);for(let u=0;u<is.length;u++)ns(`rotate${is[u]}`,a,c,this.animationValues),ns(`skew${is[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Tt(l==null?void 0:l.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Tt(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ye(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=du(this.projectionDeltaWithTransform,this.treeScale,u);d&&(h=d(u,h)),a.transform=h;const{x:m,y:f}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in nt){if(u[y]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:x}=nt[y],v=h==="none"?u[y]:p(u[y],c);if(g){const b=g.length;for(let S=0;S<b;S++)a[g[S]]=v}else x?this.options.visualElement.renderState.vars[y]=v:a[y]=v}this.options.layoutId&&(a.pointerEvents=c===this?Tt(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Rn),this.root.sharedNodes.clear()}}}function mu(e){e.updateLayout()}function fu(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?Y(h=>{const m=a?t.measuredBox[h]:t.layoutBox[h],f=U(m);m.min=n[h].min,m.max=m.min+f}):La(o,t.layoutBox,n)&&Y(h=>{const m=a?t.measuredBox[h]:t.layoutBox[h],f=U(n[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Fe();Je(l,n,t.layoutBox);const d=Fe();a?Je(d,e.applyTransform(r,!0),t.measuredBox):Je(d,n,t.layoutBox);const c=!Ma(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const y=I();Qe(y,t.layoutBox,m.layoutBox);const p=I();Qe(p,n,f.layoutBox),ka(y,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function pu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yu(e){e.clearSnapshot()}function Rn(e){e.clearMeasurements()}function Fn(e){e.isLayoutDirty=!1}function gu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function In(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vu(e){e.resolveTargetDelta()}function bu(e){e.calcProjection()}function ju(e){e.resetSkewAndRotation()}function Nu(e){e.removeLeadSnapshot()}function On(e,t,s){e.translate=R(t.translate,0,s),e.scale=R(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function _n(e,t,s,n){e.min=R(t.min,s.min,n),e.max=R(t.max,s.max,n)}function wu(e,t,s,n){_n(e.x,t.x,s.x,n),_n(e.y,t.y,s.y,n)}function Su(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Tu={duration:.45,ease:[.4,0,.1,1]},Bn=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$n=Bn("applewebkit/")&&!Bn("chrome/")?Math.round:X;function zn(e){e.min=$n(e.min),e.max=$n(e.max)}function Cu(e){zn(e.x),zn(e.y)}function La(e,t,s){return e==="position"||e==="preserve-aspect"&&!Ed(Ln(t),Ln(s),.2)}function Au(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Pu=Ea({attachResizeListener:(e,t)=>at(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rs={current:void 0},Va=Ea({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rs.current){const e=new Pu({});e.mount(window),e.setOptions({layoutScroll:!0}),rs.current=e}return rs.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Mu={pan:{Feature:Kd},drag:{Feature:Wd,ProjectionNode:Va,MeasureLayout:Ca}};function Un(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,o=n[r];o&&L.postRender(()=>o(t,mt(t)))}class ku extends fe{mount(){const{current:t}=this.node;t&&(this.unmount=Jl(t,(s,n)=>(Un(this.node,n,"Start"),r=>Un(this.node,r,"End"))))}unmount(){}}class Du extends fe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dt(at(this.node.current,"focus",()=>this.onFocus()),at(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gn(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),o=n[r];o&&L.postRender(()=>o(t,mt(t)))}class Eu extends fe{mount(){const{current:t}=this.node;t&&(this.unmount=sc(t,(s,n)=>(Gn(this.node,n,"Start"),(r,{success:o})=>Gn(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ks=new WeakMap,as=new WeakMap,Lu=e=>{const t=ks.get(e.target);t&&t(e)},Vu=e=>{e.forEach(Lu)};function Ru({root:e,...t}){const s=e||document;as.has(s)||as.set(s,{});const n=as.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(Vu,{root:e,...t})),n[r]}function Fu(e,t,s){const n=Ru(t);return ks.set(e,s),n.observe(e),()=>{ks.delete(e),n.unobserve(e)}}const Iu={some:0,all:1};class Ou extends fe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:o}=t,a={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:Iu[r]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=c?u:h;m&&m(d)};return Fu(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(_u(t,s))&&this.startObserver()}unmount(){}}function _u({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Bu={inView:{Feature:Ou},tap:{Feature:Eu},focus:{Feature:Du},hover:{Feature:ku}},$u={layout:{ProjectionNode:Va,MeasureLayout:Ca}},zu={...Cd,...Bu,...Mu,...$u},N=$c(zu,ed);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ra=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:a,...l},d)=>w.createElement("svg",{ref:d,...Gu,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:Ra("lucide",r),...l},[...a.map(([c,u])=>w.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=(e,t)=>{const s=w.forwardRef(({className:n,...r},o)=>w.createElement(Hu,{ref:o,iconNode:t,className:Ra(`lucide-${Uu(e)}`,n),...r}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=M("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=M("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=M("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=M("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=M("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=M("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=M("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=M("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=M("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=M("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=M("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=M("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=M("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=M("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=M("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=M("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=M("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=M("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=M("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=M("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=M("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=M("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=M("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=M("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=M("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ot=new Map,Nt=e=>{const t=ot.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([s,n])=>[s,n.getState()])):{}},hh=(e,t,s)=>{if(e===void 0)return{type:"untracked",connection:t.connect(s)};const n=ot.get(s.name);if(n)return{type:"tracked",store:e,...n};const r={connection:t.connect(s),stores:{}};return ot.set(s.name,r),{type:"tracked",store:e,...r}},mh=(e,t)=>{if(t===void 0)return;const s=ot.get(e);s&&(delete s.stores[t],Object.keys(s.stores).length===0&&ot.delete(e))},fh=e=>{var t,s;if(!e)return;const n=e.split(`
`),r=n.findIndex(a=>a.includes("api.setState"));if(r<0)return;const o=((t=n[r+1])==null?void 0:t.trim())||"";return(s=/.+ (.+) .+/.exec(o))==null?void 0:s[1]},ph=(e,t={})=>(s,n,r)=>{const{enabled:o,anonymousActionType:a,store:l,...d}=t;let c;try{c=(o??(Yn?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(s,n,r);const{connection:u,...h}=hh(l,c,d);let m=!0;r.setState=(p,g,x)=>{const v=s(p,g);if(!m)return v;const b=x===void 0?{type:a||fh(new Error().stack)||"anonymous"}:typeof x=="string"?{type:x}:x;return l===void 0?(u==null||u.send(b,n()),v):(u==null||u.send({...b,type:`${l}/${b.type}`},{...Nt(d.name),[l]:r.getState()}),v)},r.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),mh(d.name,l)}};const f=(...p)=>{const g=m;m=!1,s(...p),m=g},y=e(r.setState,n,r);if(h.type==="untracked"?u==null||u.init(y):(h.stores[h.store]=r,u==null||u.init(Object.fromEntries(Object.entries(h.stores).map(([p,g])=>[p,p===h.store?y:g.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let p=!1;const g=r.dispatch;r.dispatch=(...x)=>{(Yn?"production":void 0)!=="production"&&x[0].type==="__setState"&&!p&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),p=!0),g(...x)}}return u.subscribe(p=>{var g;switch(p.type){case"ACTION":if(typeof p.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return os(p.payload,x=>{if(x.type==="__setState"){if(l===void 0){f(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=x.state[l];if(v==null)return;JSON.stringify(r.getState())!==JSON.stringify(v)&&f(v);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(x)});case"DISPATCH":switch(p.payload.type){case"RESET":return f(y),l===void 0?u==null?void 0:u.init(r.getState()):u==null?void 0:u.init(Nt(d.name));case"COMMIT":if(l===void 0){u==null||u.init(r.getState());return}return u==null?void 0:u.init(Nt(d.name));case"ROLLBACK":return os(p.state,x=>{if(l===void 0){f(x),u==null||u.init(r.getState());return}f(x[l]),u==null||u.init(Nt(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return os(p.state,x=>{if(l===void 0){f(x);return}JSON.stringify(r.getState())!==JSON.stringify(x[l])&&f(x[l])});case"IMPORT_STATE":{const{nextLiftedState:x}=p.payload,v=(g=x.computedStates.slice(-1)[0])==null?void 0:g.state;if(!v)return;f(l===void 0?v:v[l]),u==null||u.send(null,x);return}case"PAUSE_RECORDING":return m=!m}return}}),y},Ua=ph,os=(e,t)=>{let s;try{s=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}s!==void 0&&t(s)},xh=e=>(t,s,n)=>{const r=n.subscribe;return n.subscribe=(a,l,d)=>{let c=a;if(l){const u=(d==null?void 0:d.equalityFn)||Object.is;let h=a(n.getState());c=m=>{const f=a(m);if(!u(h,f)){const y=h;l(h=f,y)}},d!=null&&d.fireImmediately&&l(h,h)}return r(c)},e(t,s,n)},Ga=xh;var Ha=Symbol.for("immer-nothing"),Xn=Symbol.for("immer-draftable"),W=Symbol.for("immer-state");function J(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $e=Object.getPrototypeOf;function ze(e){return!!e&&!!e[W]}function Pe(e){var t;return e?Wa(e)||Array.isArray(e)||!!e[Xn]||!!((t=e.constructor)!=null&&t[Xn])||zt(e)||Ut(e):!1}var yh=Object.prototype.constructor.toString();function Wa(e){if(!e||typeof e!="object")return!1;const t=$e(e);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===yh}function Vt(e,t){$t(e)===0?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,n)=>t(n,s,e))}function $t(e){const t=e[W];return t?t.type_:Array.isArray(e)?1:zt(e)?2:Ut(e)?3:0}function Rs(e,t){return $t(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ka(e,t,s){const n=$t(e);n===2?e.set(t,s):n===3?e.add(s):e[t]=s}function gh(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zt(e){return e instanceof Map}function Ut(e){return e instanceof Set}function ge(e){return e.copy_||e.base_}function Fs(e,t){if(zt(e))return new Map(e);if(Ut(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=Wa(e);if(t===!0||t==="class_only"&&!s){const n=Object.getOwnPropertyDescriptors(e);delete n[W];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const a=r[o],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create($e(e),n)}else{const n=$e(e);if(n!==null&&s)return{...e};const r=Object.create(n);return Object.assign(r,e)}}function Ti(e,t=!1){return Gt(e)||ze(e)||!Pe(e)||($t(e)>1&&(e.set=e.add=e.clear=e.delete=vh),Object.freeze(e),t&&Object.entries(e).forEach(([s,n])=>Ti(n,!0))),e}function vh(){J(2)}function Gt(e){return Object.isFrozen(e)}var bh={};function Me(e){const t=bh[e];return t||J(0,e),t}var lt;function qa(){return lt}function jh(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zn(e,t){t&&(Me("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Is(e){Os(e),e.drafts_.forEach(Nh),e.drafts_=null}function Os(e){e===lt&&(lt=e.parent_)}function Jn(e){return lt=jh(lt,e)}function Nh(e){const t=e[W];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[W].modified_&&(Is(t),J(4)),Pe(e)&&(e=Rt(t,e),t.parent_||Ft(t,e)),t.patches_&&Me("Patches").generateReplacementPatches_(s[W].base_,e,t.patches_,t.inversePatches_)):e=Rt(t,s,[]),Is(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ha?e:void 0}function Rt(e,t,s){if(Gt(t))return t;const n=t[W];if(!n)return Vt(t,(r,o)=>er(e,n,t,r,o,s)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ft(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let o=r,a=!1;n.type_===3&&(o=new Set(r),r.clear(),a=!0),Vt(o,(l,d)=>er(e,n,r,l,d,s,a)),Ft(e,r,!1),s&&e.patches_&&Me("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function er(e,t,s,n,r,o,a){if(ze(r)){const l=o&&t&&t.type_!==3&&!Rs(t.assigned_,n)?o.concat(n):void 0,d=Rt(e,r,l);if(Ka(s,n,d),ze(d))e.canAutoFreeze_=!1;else return}else a&&s.add(r);if(Pe(r)&&!Gt(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Rt(e,r),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,n)&&Ft(e,r)}}function Ft(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ti(t,s)}function wh(e,t){const s=Array.isArray(e),n={type_:s?1:0,scope_:t?t.scope_:qa(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,o=Ci;s&&(r=[n],o=ct);const{revoke:a,proxy:l}=Proxy.revocable(r,o);return n.draft_=l,n.revoke_=a,l}var Ci={get(e,t){if(t===W)return e;const s=ge(e);if(!Rs(s,t))return Sh(e,s,t);const n=s[t];return e.finalized_||!Pe(n)?n:n===ls(e.base_,t)?(cs(e),e.copy_[t]=Bs(n,e)):n},has(e,t){return t in ge(e)},ownKeys(e){return Reflect.ownKeys(ge(e))},set(e,t,s){const n=Ya(ge(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,s),!0;if(!e.modified_){const r=ls(ge(e),t),o=r==null?void 0:r[W];if(o&&o.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(gh(s,r)&&(s!==void 0||Rs(e.base_,t)))return!0;cs(e),_s(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ls(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cs(e),_s(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=ge(e),n=Reflect.getOwnPropertyDescriptor(s,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:s[t]}},defineProperty(){J(11)},getPrototypeOf(e){return $e(e.base_)},setPrototypeOf(){J(12)}},ct={};Vt(Ci,(e,t)=>{ct[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ct.deleteProperty=function(e,t){return ct.set.call(this,e,t,void 0)};ct.set=function(e,t,s){return Ci.set.call(this,e[0],t,s,e[0])};function ls(e,t){const s=e[W];return(s?ge(s):e)[t]}function Sh(e,t,s){var r;const n=Ya(t,s);return n?"value"in n?n.value:(r=n.get)==null?void 0:r.call(e.draft_):void 0}function Ya(e,t){if(!(t in e))return;let s=$e(e);for(;s;){const n=Object.getOwnPropertyDescriptor(s,t);if(n)return n;s=$e(s)}}function _s(e){e.modified_||(e.modified_=!0,e.parent_&&_s(e.parent_))}function cs(e){e.copy_||(e.copy_=Fs(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Th=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,n)=>{if(typeof t=="function"&&typeof s!="function"){const o=s;s=t;const a=this;return function(d=o,...c){return a.produce(d,u=>s.call(this,u,...c))}}typeof s!="function"&&J(6),n!==void 0&&typeof n!="function"&&J(7);let r;if(Pe(t)){const o=Jn(this),a=Bs(t,void 0);let l=!0;try{r=s(a),l=!1}finally{l?Is(o):Os(o)}return Zn(o,n),Qn(r,o)}else if(!t||typeof t!="object"){if(r=s(t),r===void 0&&(r=t),r===Ha&&(r=void 0),this.autoFreeze_&&Ti(r,!0),n){const o=[],a=[];Me("Patches").generateReplacementPatches_(t,r,o,a),n(o,a)}return r}else J(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,d=>t(d,...l));let n,r;return[this.produce(t,s,(a,l)=>{n=a,r=l}),n,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Pe(e)||J(8),ze(e)&&(e=Ch(e));const t=Jn(this),s=Bs(e,void 0);return s[W].isManual_=!0,Os(t),s}finishDraft(e,t){const s=e&&e[W];(!s||!s.isManual_)&&J(9);const{scope_:n}=s;return Zn(n,t),Qn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const r=t[s];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}s>-1&&(t=t.slice(s+1));const n=Me("Patches").applyPatches_;return ze(e)?n(e,t):this.produce(e,r=>n(r,t))}};function Bs(e,t){const s=zt(e)?Me("MapSet").proxyMap_(e,t):Ut(e)?Me("MapSet").proxySet_(e,t):wh(e,t);return(t?t.scope_:qa()).drafts_.push(s),s}function Ch(e){return ze(e)||J(10,e),Xa(e)}function Xa(e){if(!Pe(e)||Gt(e))return e;const t=e[W];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=Fs(e,t.scope_.immer_.useStrictShallowCopy_)}else s=Fs(e,!0);return Vt(s,(n,r)=>{Ka(s,n,Xa(r))}),t&&(t.finalized_=!1),s}var K=new Th,Ah=K.produce;K.produceWithPatches.bind(K);K.setAutoFreeze.bind(K);K.setUseStrictShallowCopy.bind(K);K.applyPatches.bind(K);K.createDraft.bind(K);K.finishDraft.bind(K);const Ph=e=>(t,s,n)=>(n.setState=(r,o,...a)=>{const l=typeof r=="function"?Ah(r):r;return t(l,o,...a)},e(n.setState,s,n)),Za=Ph,tr={memberId:"",gender:void 0,birthYear:void 0,mobilityLevel:1,eatingLevel:1,toiletLevel:1,communicationLevel:1,ltciGrade:void 0,careTargetStatus:void 0,mealType:void 0,diseaseTypes:"",notes:"",assessorName:"",assessorRelation:""},Mh={0:["memberId","gender","birthYear"],1:["mobilityLevel"],2:["eatingLevel"],3:["toiletLevel"],4:["communicationLevel"],5:["ltciGrade"],6:[]},ce=ir()(Ua(Ga(Za((e,t)=>({formData:{...tr},currentStep:0,isSubmitting:!1,errors:{},updateFormData:s=>e(n=>{Object.assign(n.formData,s)}),setCurrentStep:s=>e(n=>{s>=0&&s<=6&&(n.currentStep=s)}),nextStep:()=>e(s=>{s.currentStep<6&&(s.currentStep+=1)}),previousStep:()=>e(s=>{s.currentStep>0&&(s.currentStep-=1)}),goToStep:s=>e(n=>{s>=0&&s<=6&&(n.currentStep=s)}),setSubmitting:s=>e(n=>{n.isSubmitting=s}),setError:(s,n)=>e(r=>{r.errors[s]=n}),clearError:s=>e(n=>{delete n.errors[s]}),clearAllErrors:()=>e(s=>{s.errors={}}),resetForm:()=>e(s=>{s.formData={...tr},s.currentStep=0,s.isSubmitting=!1,s.errors={}}),isStepValid:s=>{const{formData:n}=t();return(Mh[s]||[]).every(o=>{const a=n[o];return a!=null&&a!==""})}}))),{name:"health-assessment-store",enabled:!1})),E=({children:e,variant:t="primary",size:s="md",disabled:n=!1,loading:r=!1,fullWidth:o=!1,onClick:a,type:l="button",className:d=""})=>{const c="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-elderberry-600 text-white hover:bg-elderberry-700 focus:ring-elderberry-500 shadow-sm",secondary:"bg-elderberry-100 text-elderberry-800 hover:bg-elderberry-200 focus:ring-elderberry-500",outline:"border-2 border-elderberry-600 text-elderberry-600 hover:bg-elderberry-50 focus:ring-elderberry-500",ghost:"text-elderberry-600 hover:bg-elderberry-50 focus:ring-elderberry-500",care:"bg-care-green text-white hover:bg-green-600 focus:ring-green-500 shadow-sm"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},m=n||r,f=m?"opacity-50 cursor-not-allowed":"cursor-pointer",y=o?"w-full":"",p=`
    ${c}
    ${u[t]}
    ${h[s]}
    ${f}
    ${y}
    ${d}
  `.trim().replace(/\s+/g," ");return i.jsxs(N.button,{type:l,onClick:a,disabled:m,className:p,whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},transition:{duration:.1},children:[r&&i.jsx(_a,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),e]})},_=({children:e,className:t="",padding:s="md",shadow:n="sm",hover:r=!1,onClick:o})=>{const a="bg-white rounded-xl border border-elderberry-100",l={none:"",sm:"p-4",md:"p-6",lg:"p-8"},d={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},c=o?"cursor-pointer transition-all duration-200":"",u=r?"hover:shadow-lg hover:border-elderberry-200 hover:-translate-y-1":"",h=`
    ${a}
    ${l[s]}
    ${d[n]}
    ${c}
    ${u}
    ${t}
  `.trim().replace(/\s+/g," "),m=o?N.div:"div",f=o?{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1}}:{};return i.jsx(m,{className:h,onClick:o,...f,children:e})},Ie=({children:e,className:t=""})=>i.jsx("div",{className:`border-b border-elderberry-100 pb-4 mb-4 ${t}`,children:e}),Oe=({children:e,className:t=""})=>i.jsx("h3",{className:`text-lg font-semibold text-elderberry-900 ${t}`,children:e}),kh=({children:e,className:t=""})=>i.jsx("p",{className:`text-sm text-elderberry-600 mt-1 ${t}`,children:e}),B=({children:e,className:t=""})=>i.jsx("div",{className:t,children:e}),Dh=({children:e,className:t=""})=>i.jsx("div",{className:`border-t border-elderberry-100 pt-4 mt-4 ${t}`,children:e}),Eh=({progress:e,steps:t=[],currentStep:s=0,showPercentage:n=!0,showSteps:r=!1,className:o=""})=>{const a=Math.max(0,Math.min(100,e));return i.jsxs("div",{className:`w-full ${o}`,children:[n&&i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-elderberry-700",children:"진행률"}),i.jsxs("span",{className:"text-sm font-semibold text-elderberry-900",children:[Math.round(a),"%"]})]}),i.jsx("div",{className:"w-full bg-elderberry-100 rounded-full h-3 overflow-hidden",children:i.jsx(N.div,{className:"h-full bg-gradient-to-r from-elderberry-500 to-elderberry-600 rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.8,ease:"easeOut"}})}),r&&t.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"flex justify-between items-center",children:t.map((l,d)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold
                    transition-all duration-300
                    ${d<=s?"bg-elderberry-600 text-white":"bg-elderberry-100 text-elderberry-400"}
                  `,children:d+1}),i.jsx("span",{className:`
                    mt-2 text-xs text-center max-w-16
                    ${d<=s?"text-elderberry-700 font-medium":"text-elderberry-400"}
                  `,children:l})]},d))}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-elderberry-100"}),i.jsx(N.div,{className:"absolute top-0 left-0 h-0.5 bg-elderberry-600",initial:{width:0},animate:{width:t.length>1?`${s/(t.length-1)*100}%`:"0%"},transition:{duration:.8,ease:"easeOut"}})]})]})]})},le=({name:e,value:t,options:s,onChange:n,error:r,required:o=!1,className:a="",direction:l="vertical"})=>{const d=l==="vertical"?"space-y-3":"space-x-4 flex flex-wrap";return i.jsxs("div",{className:a,children:[i.jsx("div",{className:d,children:s.map(c=>{const u=t===c.value,h=c.disabled;return i.jsxs(N.label,{className:`
                relative flex items-start cursor-pointer p-4 rounded-lg border-2 transition-all duration-200
                ${u?"border-elderberry-500 bg-elderberry-50":"border-elderberry-200 bg-white hover:border-elderberry-300"}
                ${h?"opacity-50 cursor-not-allowed":"hover:bg-elderberry-25"}
                ${r?"border-red-300":""}
              `,whileHover:h?{}:{scale:1.02},whileTap:h?{}:{scale:.98},children:[i.jsx("input",{type:"radio",name:e,value:c.value,checked:u,onChange:()=>!h&&n(c.value),disabled:h,required:o,className:"sr-only"}),i.jsx("div",{className:`
                flex-shrink-0 w-5 h-5 rounded-full border-2 mr-4 mt-0.5 relative
                ${u?"border-elderberry-500":"border-elderberry-300"}
              `,children:u&&i.jsx(N.div,{className:"absolute inset-1 bg-elderberry-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{duration:.2}})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`
                  text-sm font-medium
                  ${u?"text-elderberry-900":"text-elderberry-700"}
                  ${h?"text-elderberry-400":""}
                `,children:c.label}),c.description&&i.jsx("div",{className:`
                    text-xs mt-1
                    ${u?"text-elderberry-600":"text-elderberry-500"}
                    ${h?"text-elderberry-300":""}
                  `,children:c.description})]}),u&&i.jsx(N.div,{className:"flex-shrink-0 ml-4",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.2},children:i.jsx("div",{className:"w-5 h-5 bg-elderberry-500 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]},c.value)})}),r&&i.jsx(N.div,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:r})]})},Lh=()=>{const{formData:e,errors:t,updateFormData:s,clearError:n}=ce(),r=[{value:"M",label:"남성",description:"생물학적 남성"},{value:"F",label:"여성",description:"생물학적 여성"}],o=[{value:"본인",label:"본인",description:"평가 대상자 본인이 직접 평가"},{value:"배우자",label:"배우자",description:"배우자가 평가"},{value:"자녀",label:"자녀",description:"자녀가 평가"},{value:"가족",label:"기타 가족",description:"기타 가족구성원이 평가"},{value:"간병인",label:"간병인",description:"전문 간병인이 평가"},{value:"기타",label:"기타",description:"기타 관계자가 평가"}],a=new Date().getFullYear(),l=Array.from({length:100},(d,c)=>({value:a-c,label:`${a-c}년`}));return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-elderberry-700 mb-3",children:[i.jsx(za,{className:"w-4 h-4"}),"회원 ID",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"p-4 bg-elderberry-50 border border-elderberry-200 rounded-lg",children:[i.jsx("span",{className:"text-elderberry-800 font-medium",children:e.memberId||"회원 ID가 설정되지 않았습니다"}),i.jsx("p",{className:"text-xs text-elderberry-500 mt-1",children:"평가 대상자의 회원 ID입니다 (자동 설정됨)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-elderberry-700 mb-3",children:[i.jsx(dh,{className:"w-4 h-4"}),"성별 (선택사항)"]}),i.jsx(le,{name:"gender",value:e.gender,options:r,onChange:d=>{s({gender:d}),n("gender")},error:t.gender,direction:"horizontal"}),i.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"성별 정보는 통계 분석 및 맞춤형 추천에 활용됩니다"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-elderberry-700 mb-3",children:[i.jsx(je,{className:"w-4 h-4"}),"출생년도 (선택사항)"]}),i.jsx("div",{className:"relative",children:i.jsxs("select",{value:e.birthYear||"",onChange:d=>{const c=d.target.value?parseInt(d.target.value):void 0;s({birthYear:c}),n("birthYear")},className:`
              w-full p-4 border-2 rounded-lg transition-all duration-200
              ${t.birthYear?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}
              focus:outline-none focus:ring-0 bg-white
            `,children:[i.jsx("option",{value:"",children:"출생년도를 선택하세요"}),l.map(d=>i.jsx("option",{value:d.value,children:d.label},d.value))]})}),t.birthYear&&i.jsx(N.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:t.birthYear}),i.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"연령대별 케어 등급 분석에 활용됩니다"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-3",children:"평가자 이름 (선택사항)"}),i.jsx("input",{type:"text",value:e.assessorName||"",onChange:d=>{s({assessorName:d.target.value}),n("assessorName")},placeholder:"평가를 진행하는 분의 성함을 입력하세요",className:`
            w-full p-4 border-2 rounded-lg transition-all duration-200
            ${t.assessorName?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}
            focus:outline-none focus:ring-0
          `}),t.assessorName&&i.jsx(N.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:t.assessorName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-elderberry-700 mb-3",children:"평가자와 대상자의 관계 (선택사항)"}),i.jsx(le,{name:"assessorRelation",value:e.assessorRelation,options:o,onChange:d=>{s({assessorRelation:d}),n("assessorRelation")},error:t.assessorRelation,direction:"vertical"}),i.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"평가의 신뢰성 검증과 맞춤형 추천에 활용됩니다"})]}),i.jsx(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"개인정보 보호 안내"}),i.jsx("p",{className:"text-sm text-blue-600",children:"입력하신 모든 정보는 암호화되어 안전하게 보관되며, 건강 상태 평가 및 맞춤형 서비스 제공 목적으로만 사용됩니다."})]})]})})]})},ue={mobility:{1:"혼자서 가능해요",2:"부분적인 도움이 필요해요 (타인의 부축, 지팡이 이용 등)",3:"혼자서는 보행이 어려워요 (휠체어 사용 등)"},eating:{1:"혼자서 가능해요",2:"부분적인 도움이 필요해요 (반찬 집기, 자르기 등 일부 도움)",3:"완전한 도움이 필요해요 (음식을 떠 먹여줌)"},toilet:{1:"혼자서 화장실을 이용할 수 있어요",2:"화장실 이용 시 부분적인 도움이 필요해요",3:"완전한 도움이 필요해요 (간이변기, 기저귀 착용 등)"},communication:{1:"정상적으로 가능해요",2:"때때로 어려워요 (화장실 이용의사 표현 가능)",3:"소통이 어려워요 (화장실 이용의사 표현 잘 못함)"}},$s={1:{name:"1등급",description:"가장 중증 (95점 이상)"},2:{name:"2등급",description:"중증 (75점~94점)"},3:{name:"3등급",description:"중등증 (60점~74점)"},4:{name:"4등급",description:"경증 (51점~59점)"},5:{name:"5등급",description:"경증 (45점~50점)"},6:{name:"인지지원등급",description:"치매 특화 (45점 미만, 인지기능 저하)"},7:{name:"모름",description:"등급을 모르겠어요"},8:{name:"없음",description:"장기요양보험 미신청"}},Ja={1:{name:"상태 1",description:"6개월 이하의 기대수명 상태 (호스피스 케어)"},2:{name:"상태 2",description:"질병이 회복하기 어려운 상황으로 수명이 얼마 남지 않음"},3:{name:"상태 3",description:"완전히 타인 의존적인 상태이나 사망위험이 높지 않음"},4:{name:"상태 4",description:"해당사항 없음 (일반 요양)"}},Qa={1:{name:"일반식",description:"정상적인 고체 음식 섭취 가능"},2:{name:"잘게 썬 음식",description:"음식을 잘게 썰어서 섭취"},3:{name:"관급식",description:"튜브를 통한 영양 공급"}},Vh=({icon:e,title:t,description:s,questionText:n,adlCategory:r,fieldName:o,getDescription:a,renderAdditionalInfo:l,guidelines:d,infoSections:c,exampleSituations:u})=>{const{formData:h,errors:m,updateAdlScore:f,clearError:y}=ce(),p=Object.entries(ue[r]).map(([v,b])=>({value:parseInt(v),label:b,description:a(parseInt(v))})),g=h[o],x=()=>i.jsxs(N.div,{className:"p-4 bg-green-50 border border-green-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"📊 점수 정보"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[i.jsxs("div",{className:"text-green-700",children:[i.jsx("span",{className:"font-medium",children:"1점:"})," 자립 가능"]}),i.jsxs("div",{className:"text-yellow-700",children:[i.jsx("span",{className:"font-medium",children:"2점:"})," 부분 도움"]}),i.jsxs("div",{className:"text-red-700",children:[i.jsx("span",{className:"font-medium",children:"3점:"})," 완전 도움"]})]}),i.jsx("p",{className:"text-xs text-green-600 mt-2",children:"* 점수가 낮을수록 자립도가 높으며, 전체 ADL 점수로 돌봄 등급을 평가합니다"})]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(e,{className:"w-6 h-6 text-elderberry-600"}),i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:t})]}),i.jsx("p",{className:"text-elderberry-600",children:s})]}),i.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:n}),i.jsx(le,{name:o,value:g,options:p,onChange:v=>{f(o,v),y(o)},error:m[o],required:!0,direction:"vertical"})]}),g&&l(g),c&&i.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:c}),d&&i.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:d}),x(),u&&i.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:u})]})},Rh=()=>{const e=r=>{switch(r){case 1:return"보조기구 없이 자유롭게 걸을 수 있음";case 2:return"지팡이, 워커 등의 도움이나 타인의 부축이 필요함";case 3:return"휠체어를 주로 사용하거나 침상에서 생활함";default:return""}},t=r=>{const a={1:{icon:i.jsx(Ae,{className:"w-5 h-5 text-green-500"}),title:"독립적 이동 가능",description:"대부분의 요양 시설에서 케어 가능한 수준입니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800"},2:{icon:i.jsx(Q,{className:"w-5 h-5 text-orange-500"}),title:"부분적 도움 필요",description:"재활 프로그램이 있는 시설을 권장합니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800"},3:{icon:i.jsx(Q,{className:"w-5 h-5 text-red-500"}),title:"전문적 케어 필요",description:"간호사가 상주하는 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800"}}[r];return i.jsx(N.div,{className:`p-4 rounded-lg border ${a.bgColor} ${a.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("div",{className:"flex items-start gap-3",children:[a.icon,i.jsxs("div",{children:[i.jsx("h4",{className:`font-medium ${a.textColor} mb-1`,children:a.title}),i.jsx("p",{className:`text-sm ${a.textColor}`,children:a.description})]})]})})},s=i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),i.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"평상시 상태"}),"를 기준으로 평가해주세요"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"몸이 아픈 날"}),"이 아닌 일반적인 상태를 고려하세요"]}),i.jsx("li",{children:"• 보조기구를 사용하는 경우, 해당 기구를 사용한 상태로 평가하세요"}),i.jsx("li",{children:"• 안전상 이유로 제한하는 경우도 실제 능력을 기준으로 평가하세요"})]})]}),n=i.jsxs("details",{className:"group",children:[i.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),i.jsx(N.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:i.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-700",children:"1점 (독립):"}),i.jsx("p",{children:"마트에서 쇼핑을 하거나 산책을 혼자서 할 수 있음"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-orange-700",children:"2점 (부분도움):"}),i.jsx("p",{children:"지팡이를 짚고 걷거나, 가족이 팔을 잡아주면 걸을 수 있음"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-700",children:"3점 (완전도움):"}),i.jsx("p",{children:"휠체어를 사용하거나 침대에서 대부분 생활함"})]})]})})]});return i.jsx(Vh,{icon:wi,title:"걷기 활동 능력 평가",description:"평소 일상생활에서의 이동 능력을 가장 잘 나타내는 항목을 선택해주세요",questionText:"평상시 걷기나 이동을 할 때 어떤 상태인가요?",adlCategory:"mobility",fieldName:"mobilityLevel",getDescription:e,renderAdditionalInfo:t,guidelines:s,exampleSituations:n})},Fh=()=>{const{formData:e,errors:t,updateAdlScore:s,clearError:n}=ce(),r=Object.entries(ue.eating).map(([l,d])=>({value:parseInt(l),label:d,description:o(parseInt(l))}));function o(l){switch(l){case 1:return"젓가락, 숟가락을 사용해서 혼자 식사 가능";case 2:return"음식을 자르거나 떠주는 등의 부분적 도움 필요";case 3:return"음식을 입에 넣어주거나 관급식 필요";default:return""}}const a=l=>{if(!l)return null;const c={1:{icon:i.jsx(Ae,{className:"w-5 h-5 text-green-500"}),title:"독립적 식사 가능",description:"일반식 제공이 가능한 모든 시설에서 케어 가능합니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",careAdvice:"균형잡힌 영양식단 관리가 중요합니다."},2:{icon:i.jsx(ft,{className:"w-5 h-5 text-orange-500"}),title:"식사 보조 필요",description:"영양사가 있는 시설에서 적절한 식사 도움을 받을 수 있습니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",careAdvice:"음식을 잘게 썰거나 부드럽게 조리한 식단이 도움됩니다."},3:{icon:i.jsx(Q,{className:"w-5 h-5 text-red-500"}),title:"전문적 급식 관리 필요",description:"간호사나 영양사가 상주하는 전문 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",careAdvice:"유동식, 관급식 등 전문적인 영양 공급이 필요할 수 있습니다."}}[l];return i.jsx(N.div,{className:`p-4 rounded-lg border ${c.bgColor} ${c.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("div",{className:"flex items-start gap-3",children:[c.icon,i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`font-medium ${c.textColor} mb-1`,children:c.title}),i.jsx("p",{className:`text-sm ${c.textColor} mb-2`,children:c.description}),i.jsxs("div",{className:`text-xs ${c.textColor} bg-white bg-opacity-50 p-2 rounded`,children:[i.jsx("strong",{children:"케어 조언:"})," ",c.careAdvice]})]})]})})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(Si,{className:"w-6 h-6 text-elderberry-600"}),i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"식사 활동 능력 평가"})]}),i.jsx("p",{className:"text-elderberry-600",children:"평소 식사를 할 때의 상태를 가장 잘 나타내는 항목을 선택해주세요"})]}),i.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:'"평상시 식사를 할 때 어떤 상태인가요?"'}),i.jsx(le,{name:"eatingLevel",value:e.eatingLevel,options:r,onChange:l=>{s("eatingLevel",l),n("eatingLevel")},error:t.eatingLevel,required:!0,direction:"vertical"})]}),e.eatingLevel&&a(e.eatingLevel),i.jsxs(N.div,{className:"grid md:grid-cols-3 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"🥄 일반식"}),i.jsx("p",{className:"text-sm text-green-700",children:"고체 음식을 씹어서 삼킬 수 있는 상태"})]}),i.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"🍲 연식/죽식"}),i.jsx("p",{className:"text-sm text-orange-700",children:"음식을 잘게 썰거나 부드럽게 조리한 식사"})]}),i.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"🩺 유동식/관급식"}),i.jsx("p",{className:"text-sm text-red-700",children:"액체 형태의 영양식이나 관을 통한 급식"})]})]}),i.jsxs(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),i.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"평상시 식사 상태"}),"를 기준으로 평가해주세요"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"식욕이 없는 날"}),"이 아닌 일반적인 상태를 고려하세요"]}),i.jsx("li",{children:"• 씹는 능력, 삼키는 능력, 손동작 능력을 종합적으로 판단하세요"}),i.jsx("li",{children:"• 의치나 보조기구를 사용하는 경우도 실제 가능한 정도로 평가하세요"})]})]}),e.eatingLevel&&i.jsxs(N.div,{className:"text-center text-sm text-elderberry-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[i.jsx("span",{children:"현재 점수:"}),i.jsxs("span",{className:"font-semibold text-elderberry-800",children:[e.eatingLevel," / 3점"]})]}),i.jsx("p",{className:"mt-2 text-xs",children:"점수가 높을수록 더 많은 식사 도움이 필요한 상태입니다"})]}),i.jsxs("details",{className:"group",children:[i.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),i.jsx(N.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:i.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-700",children:"1점 (독립):"}),i.jsx("p",{children:"젓가락으로 반찬을 집어먹고, 밥공기를 들어서 혼자 식사"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-orange-700",children:"2점 (부분도움):"}),i.jsx("p",{children:"음식을 한 입 크기로 잘라주면 혼자 먹을 수 있음"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-700",children:"3점 (완전도움):"}),i.jsx("p",{children:"입에 음식을 넣어줘야 하거나 코위관 등으로 영양 공급"})]})]})})]})]})},Ih=()=>{const{formData:e,errors:t,updateAdlScore:s,clearError:n}=ce(),r=Object.entries(ue.toilet).map(([l,d])=>({value:parseInt(l),label:d,description:o(parseInt(l))}));function o(l){switch(l){case 1:return"혼자서 화장실에 가서 모든 과정을 처리 가능";case 2:return"화장실까지 가거나 옷을 입고 벗는데 도움 필요";case 3:return"기저귀 착용하거나 간이변기 사용, 전면적 도움 필요";default:return""}}const a=l=>{if(!l)return null;const c={1:{icon:i.jsx(Ae,{className:"w-5 h-5 text-green-500"}),title:"독립적 화장실 이용",description:"개인 화장실이 있는 일반 시설에서 케어 가능합니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",careAdvice:"안전 손잡이가 설치된 화장실이 도움됩니다."},2:{icon:i.jsx(ft,{className:"w-5 h-5 text-orange-500"}),title:"화장실 이용 보조 필요",description:"요양보호사의 도움을 받을 수 있는 시설이 적합합니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",careAdvice:"휠체어 접근 가능한 화장실과 이동 보조가 필요합니다."},3:{icon:i.jsx(Q,{className:"w-5 h-5 text-red-500"}),title:"전문적 배변 관리 필요",description:"24시간 간호사가 상주하는 전문 케어 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",careAdvice:"위생 관리와 피부 케어에 특별한 주의가 필요합니다."}}[l];return i.jsx(N.div,{className:`p-4 rounded-lg border ${c.bgColor} ${c.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("div",{className:"flex items-start gap-3",children:[c.icon,i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`font-medium ${c.textColor} mb-1`,children:c.title}),i.jsx("p",{className:`text-sm ${c.textColor} mb-2`,children:c.description}),i.jsxs("div",{className:`text-xs ${c.textColor} bg-white bg-opacity-50 p-2 rounded`,children:[i.jsx("strong",{children:"케어 조언:"})," ",c.careAdvice]})]})]})})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(Fa,{className:"w-6 h-6 text-elderberry-600"}),i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"배변 활동 능력 평가"})]}),i.jsx("p",{className:"text-elderberry-600",children:"평소 화장실 이용 시의 상태를 가장 잘 나타내는 항목을 선택해주세요"})]}),i.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:'"평상시 화장실을 이용할 때 어떤 상태인가요?"'}),i.jsx(le,{name:"toiletLevel",value:e.toiletLevel,options:r,onChange:l=>{s("toiletLevel",l),n("toiletLevel")},error:t.toiletLevel,required:!0,direction:"vertical"})]}),e.toiletLevel&&a(e.toiletLevel),i.jsxs(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),i.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"평상시 상태"}),"를 기준으로 평가해주세요"]}),i.jsxs("li",{children:["• 화장실까지 ",i.jsx("strong",{children:"이동하는 능력"}),"을 포함해서 판단하세요"]}),i.jsxs("li",{children:["• 옷을 ",i.jsx("strong",{children:"입고 벗는 능력"}),"도 함께 고려하세요"]}),i.jsx("li",{children:"• 안전상 이유로 제한하는 경우도 실제 능력을 기준으로 평가하세요"})]})]}),e.toiletLevel&&i.jsxs(N.div,{className:"text-center text-sm text-elderberry-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[i.jsx("span",{children:"현재 점수:"}),i.jsxs("span",{className:"font-semibold text-elderberry-800",children:[e.toiletLevel," / 3점"]})]}),i.jsx("p",{className:"mt-2 text-xs",children:"점수가 높을수록 더 많은 배변 도움이 필요한 상태입니다"})]}),i.jsxs("details",{className:"group",children:[i.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),i.jsx(N.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:i.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-700",children:"1점 (독립):"}),i.jsx("p",{children:"화장실에 혼자 가서 용변을 보고 뒤처리까지 혼자 처리"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-orange-700",children:"2점 (부분도움):"}),i.jsx("p",{children:"화장실까지 도움을 받아가거나, 옷 입고 벗기에 도움 필요"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-700",children:"3점 (완전도움):"}),i.jsx("p",{children:"기저귀 사용하거나 간이변기 사용, 전면적인 도움 필요"})]})]})})]})]})},Oh=()=>{const{formData:e,errors:t,updateAdlScore:s,clearError:n}=ce(),r=Object.entries(ue.communication).map(([l,d])=>({value:parseInt(l),label:d,description:o(parseInt(l))}));function o(l){switch(l){case 1:return"일상 대화와 의사표현이 자유롭게 가능함";case 2:return"기본적인 의사표현은 가능하나 때때로 어려움";case 3:return"의사소통이 매우 어렵거나 거의 불가능함";default:return""}}const a=l=>{if(!l)return null;const c={1:{icon:i.jsx(Ae,{className:"w-5 h-5 text-green-500"}),title:"원활한 의사소통 가능",description:"일반적인 요양 시설에서 문제없이 지낼 수 있습니다.",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",careAdvice:"다양한 여가활동과 사회적 교류 프로그램에 참여 가능합니다."},2:{icon:i.jsx(ft,{className:"w-5 h-5 text-orange-500"}),title:"부분적 소통 장애",description:"인지케어 프로그램이 있는 시설이 적합합니다.",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800",careAdvice:"인지자극 활동과 규칙적인 일상 패턴 유지가 도움됩니다."},3:{icon:i.jsx(Q,{className:"w-5 h-5 text-red-500"}),title:"전문적 인지케어 필요",description:"치매 전문 케어가 가능한 시설이 필요합니다.",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",careAdvice:"24시간 전문 관찰과 행동증상 관리가 필요할 수 있습니다."}}[l];return i.jsx(N.div,{className:`p-4 rounded-lg border ${c.bgColor} ${c.borderColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsxs("div",{className:"flex items-start gap-3",children:[c.icon,i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`font-medium ${c.textColor} mb-1`,children:c.title}),i.jsx("p",{className:`text-sm ${c.textColor} mb-2`,children:c.description}),i.jsxs("div",{className:`text-xs ${c.textColor} bg-white bg-opacity-50 p-2 rounded`,children:[i.jsx("strong",{children:"케어 조언:"})," ",c.careAdvice]})]})]})})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(Ba,{className:"w-6 h-6 text-elderberry-600"}),i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"의사소통 능력 평가"})]}),i.jsx("p",{className:"text-elderberry-600",children:"평소 대화나 의사표현 시의 상태를 가장 잘 나타내는 항목을 선택해주세요"})]}),i.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:'"평상시 대화나 의사표현을 할 때 어떤 상태인가요?"'}),i.jsx(le,{name:"communicationLevel",value:e.communicationLevel,options:r,onChange:l=>{s("communicationLevel",l),n("communicationLevel")},error:t.communicationLevel,required:!0,direction:"vertical"})]}),e.communicationLevel&&a(e.communicationLevel),i.jsxs(N.div,{className:"grid md:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🗣️ 언어 표현"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:"• 원하는 것을 말로 표현"}),i.jsx("li",{children:"• 불편함이나 아픔 호소"}),i.jsx("li",{children:"• 기본적인 대화 참여"})]})]}),i.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"🧠 인지 능력"}),i.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[i.jsx("li",{children:"• 시간, 장소 인식"}),i.jsx("li",{children:"• 사람 구별 및 인식"}),i.jsx("li",{children:"• 상황 판단 능력"})]})]})]}),i.jsxs(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📋 평가 가이드라인"}),i.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"평상시 상태"}),"를 기준으로 평가해주세요"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"언어 표현"}),"과 ",i.jsx("strong",{children:"이해 능력"}),"을 종합적으로 판단하세요"]}),i.jsx("li",{children:"• 치매나 인지장애가 있는 경우 현재 상태를 반영하세요"}),i.jsx("li",{children:"• 감정 상태가 좋지 않은 때가 아닌 일반적인 상태로 평가하세요"})]})]}),e.communicationLevel&&i.jsxs(N.div,{className:"text-center text-sm text-elderberry-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[i.jsx("span",{children:"현재 점수:"}),i.jsxs("span",{className:"font-semibold text-elderberry-800",children:[e.communicationLevel," / 3점"]})]}),i.jsx("p",{className:"mt-2 text-xs",children:"점수가 높을수록 더 많은 의사소통 지원이 필요한 상태입니다"})]}),i.jsxs("details",{className:"group",children:[i.jsx("summary",{className:"cursor-pointer font-medium text-elderberry-700 hover:text-elderberry-800 transition-colors",children:"💡 구체적인 예시 상황 보기"}),i.jsx(N.div,{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:i.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-700",children:"1점 (정상):"}),i.jsx("p",{children:"일상 대화가 자유롭고, 본인의 의견을 명확히 표현할 수 있음"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-orange-700",children:"2점 (부분제한):"}),i.jsx("p",{children:"화장실 가고 싶다는 의사는 표현할 수 있지만, 복잡한 대화는 어려움"})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-700",children:"3점 (심각제한):"}),i.jsx("p",{children:"기본적인 의사표현도 어렵고, 사람이나 상황 인식에 문제가 있음"})]})]})})]})]})},_h=()=>{var o;const{formData:e,errors:t,setLtciGrade:s,clearError:n}=ce(),r=Object.entries($s).map(([a,l])=>({value:parseInt(a),label:l.name,description:l.description}));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx($a,{className:"w-6 h-6 text-elderberry-600"}),i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"장기요양보험 등급"})]}),i.jsx("p",{className:"text-elderberry-600",children:"기존에 받으신 장기요양보험 등급이 있으시면 선택해주세요 (선택사항)"})]}),i.jsx(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ft,{className:"w-5 h-5 text-blue-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"장기요양보험 등급이란?"}),i.jsx("p",{className:"text-sm text-blue-600",children:"국민건강보험공단에서 신체기능·인지기능 상태를 평가하여 부여하는 등급입니다. 등급이 없으시거나 모르시는 경우 '해당없음'을 선택하시면 됩니다."})]})]})}),i.jsxs("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4 text-center",children:"현재 가지고 계신 장기요양보험 등급을 선택해주세요"}),i.jsx(le,{name:"ltciGrade",value:e.ltciGrade,options:r,onChange:a=>{s(a),n("ltciGrade")},error:t.ltciGrade,direction:"vertical"})]}),e.ltciGrade&&e.ltciGrade<=6&&i.jsxs(N.div,{className:"p-4 bg-green-50 border border-green-200 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[i.jsxs("h4",{className:"font-medium text-green-800 mb-2",children:["선택하신 등급: ",(o=$s[e.ltciGrade])==null?void 0:o.name]}),i.jsx("p",{className:"text-sm text-green-600",children:"이 등급 정보는 더욱 정확한 케어 등급 산출과 시설 추천에 활용됩니다."})]}),i.jsxs(N.div,{className:"grid md:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"1-2등급 (중증)"}),i.jsx("p",{className:"text-sm text-red-700",children:"24시간 돌봄이 필요한 중증 상태"})]}),i.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"3-4등급 (중등증)"}),i.jsx("p",{className:"text-sm text-orange-700",children:"일상생활에 상당한 도움이 필요한 상태"})]}),i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"5등급 (경증)"}),i.jsx("p",{className:"text-sm text-yellow-700",children:"부분적인 도움이 필요한 상태"})]}),i.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"인지지원등급"}),i.jsx("p",{className:"text-sm text-purple-700",children:"치매 등 인지기능 저하로 인한 특별 등급"})]})]}),i.jsxs(N.div,{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"💡 장기요양보험 신청 안내"}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"아직 장기요양보험을 신청하지 않으셨다면, 다음과 같은 경우 신청을 고려해보세요:"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"일상생활에 지속적인 도움이 필요한 경우"}),i.jsx("li",{children:"치매 진단을 받은 경우"}),i.jsx("li",{children:"요양원 입소를 검토 중인 경우"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"신청은 가까운 국민건강보험공단 지사에서 가능합니다."})]})]})},Bh=()=>{const{formData:e,errors:t,setCareTargetStatus:s,setMealType:n,setDiseaseTypes:r,setNotes:o,clearError:a}=ce(),l=Object.entries(Ja).map(([c,u])=>({value:parseInt(c),label:u.name,description:u.description})),d=Object.entries(Qa).map(([c,u])=>({value:parseInt(c),label:u.name,description:u.description}));return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(Ia,{className:"w-6 h-6 text-elderberry-600"}),i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800",children:"추가 정보 입력"})]}),i.jsx("p",{className:"text-elderberry-600",children:"더 정확한 평가를 위한 추가 정보를 입력해주세요 (모든 항목 선택사항)"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"돌봄대상자 상태 (선택사항)"}),i.jsx("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:i.jsx(le,{name:"careTargetStatus",value:e.careTargetStatus,options:l,onChange:c=>{s(c),a("careTargetStatus")},error:t.careTargetStatus,direction:"vertical"})}),e.careTargetStatus===1&&i.jsx(N.div,{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ch,{className:"w-5 h-5 text-red-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-red-800 mb-1",children:"호스피스 케어 권장"}),i.jsx("p",{className:"text-sm text-red-600",children:"이 상태에서는 호스피스 전문 시설이나 가정 호스피스 서비스를 권장합니다."})]})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"식사형태 (선택사항)"}),i.jsx("div",{className:"bg-elderberry-50 p-6 rounded-lg border border-elderberry-200",children:i.jsx(le,{name:"mealType",value:e.mealType,options:d,onChange:c=>{n(c),a("mealType")},error:t.mealType,direction:"vertical"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"주요 질환 및 병력 (선택사항)"}),i.jsx("textarea",{value:e.diseaseTypes||"",onChange:c=>{r(c.target.value),a("diseaseTypes")},placeholder:`예: 고혈압, 당뇨병, 치매, 뇌졸중, 관절염 등
진단받은 질환이나 복용 중인 약물이 있으시면 입력해주세요`,rows:4,className:`
            w-full p-4 border-2 rounded-lg transition-all duration-200 resize-none
            ${t.diseaseTypes?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}
            focus:outline-none focus:ring-0
          `}),t.diseaseTypes&&i.jsx(N.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:t.diseaseTypes}),i.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"질환 정보는 적절한 의료 지원이 가능한 시설 추천에 활용됩니다"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-elderberry-800 mb-4",children:"특이사항 및 기타 메모 (선택사항)"}),i.jsx("textarea",{value:e.notes||"",onChange:c=>{o(c.target.value),a("notes")},placeholder:`예: 특별한 케어가 필요한 사항, 주의할 점, 선호하는 환경 등
평가에 도움이 될 추가 정보가 있으시면 자유롭게 입력해주세요`,rows:4,className:`
            w-full p-4 border-2 rounded-lg transition-all duration-200 resize-none
            ${t.notes?"border-red-300 focus:border-red-500":"border-elderberry-200 focus:border-elderberry-500"}
            focus:outline-none focus:ring-0
          `}),t.notes&&i.jsx(N.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:t.notes}),i.jsx("p",{className:"text-xs text-elderberry-500 mt-2",children:"이 정보는 더욱 맞춤화된 케어 계획 수립에 도움이 됩니다"})]}),i.jsxs(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📝 추가 정보의 활용"}),i.jsxs("ul",{className:"text-sm text-blue-600 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"질환 정보"}),": 의료진이 상주하는 시설 우선 추천"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"식사형태"}),": 적절한 급식 서비스가 가능한 시설 매칭"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"돌봄상태"}),": 호스피스나 전문 케어 시설 구분"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"특이사항"}),": 개별 맞춤형 케어 계획 수립"]})]})]})]})},ee=ro.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});ee.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});class $h{static async createAssessment(t){return(await ee.post("/health-assessments",t)).data}static async getLatestAssessment(t){var s;try{return(await ee.get(`/health-assessments/member/${t}/latest`)).data}catch(n){if(((s=n.response)==null?void 0:s.status)===404)return null;throw n}}static async getAssessmentHistory(t){return(await ee.get(`/health-assessments/member/${t}/history`)).data}static async updateAssessment(t,s){return(await ee.put(`/health-assessments/${t}`,s)).data}static async calculateCareGrade(t){return(await ee.post(`/health-assessments/${t}/calculate`)).data}static async getAssessmentSummary(t){return(await ee.get(`/health-assessments/${t}/summary`)).data}static async checkCompleteness(t){return(await ee.get(`/health-assessments/${t}/completeness`)).data}static async deleteAssessment(t){await ee.delete(`/health-assessments/${t}`)}}const zh=({onComplete:e})=>{var y,p,g;const{formData:t,calculateCompletionPercentage:s,setSubmitting:n,isSubmitting:r,resetForm:o}=ce(),[a,l]=w.useState(null),[d,c]=w.useState(!1),u=w.useMemo(()=>{const{mobilityLevel:x,eatingLevel:v,toiletLevel:b,communicationLevel:S}=t;return!x||!v||!b||!S?null:x+v+b+S},[t]),h=w.useMemo(()=>u?u<=6?"1-2등급 (중증)":u<=9?"3-4등급 (중등증)":"5등급 또는 인지지원등급 (경증)":"계산 불가",[u]),m=w.useMemo(()=>{const{memberId:x,mobilityLevel:v,eatingLevel:b,toiletLevel:S,communicationLevel:T}=t;return!!(x&&v&&b&&S&&T)},[t]),f=async()=>{var x,v;if(!m){l("필수 항목이 누락되었습니다.");return}n(!0),l(null);try{const b=await $h.createAssessment(t);c(!0),setTimeout(()=>{e==null||e(b.id),o()},2e3)}catch(b){console.error("평가 제출 실패:",b),l(((v=(x=b.response)==null?void 0:x.data)==null?void 0:v.message)||"평가 제출에 실패했습니다. 다시 시도해주세요.")}finally{n(!1)}};return d?i.jsxs(N.div,{className:"text-center space-y-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(Ae,{className:"w-16 h-16 text-green-500"})}),i.jsx("h2",{className:"text-2xl font-bold text-elderberry-800",children:"건강 평가가 완료되었습니다!"}),i.jsx("p",{className:"text-elderberry-600",children:"입력해주신 정보를 바탕으로 맞춤형 케어 등급이 산출되었습니다."}),i.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-green-700",children:"잠시 후 결과 페이지로 이동합니다..."})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-elderberry-800 mb-2",children:"입력 정보 검토 및 제출"}),i.jsx("p",{className:"text-elderberry-600",children:"아래 정보를 확인하신 후 평가를 완료해주세요"})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-elderberry-100 rounded-full",children:[i.jsx("span",{className:"text-sm text-elderberry-700",children:"완성도:"}),i.jsxs("span",{className:"font-semibold text-elderberry-800",children:[Math.round(s()),"%"]}),s()===100?i.jsx(Ae,{className:"w-4 h-4 text-green-500"}):i.jsx(Q,{className:"w-4 h-4 text-orange-500"})]})}),i.jsxs(_,{children:[i.jsx(Ie,{children:i.jsxs(Oe,{className:"flex items-center gap-2",children:[i.jsx(za,{className:"w-5 h-5"}),"기본 정보"]})}),i.jsx(B,{children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"회원 ID:"}),i.jsx("span",{className:"ml-2",children:t.memberId})]}),t.gender&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"성별:"}),i.jsx("span",{className:"ml-2",children:t.gender==="M"?"남성":"여성"})]}),t.birthYear&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"출생년도:"}),i.jsxs("span",{className:"ml-2",children:[t.birthYear,"년"]})]}),t.assessorRelation&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"평가자 관계:"}),i.jsx("span",{className:"ml-2",children:t.assessorRelation})]})]})})]}),i.jsxs(_,{children:[i.jsx(Ie,{children:i.jsx(Oe,{children:"일상생활수행능력 (ADL) 평가"})}),i.jsxs(B,{children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[i.jsx(wi,{className:"w-5 h-5 text-elderberry-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"걷기:"}),i.jsx("span",{className:"ml-2",children:t.mobilityLevel?ue.mobility[t.mobilityLevel]:"미입력"}),i.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",t.mobilityLevel||0,"점)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[i.jsx(Si,{className:"w-5 h-5 text-elderberry-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"식사:"}),i.jsx("span",{className:"ml-2",children:t.eatingLevel?ue.eating[t.eatingLevel]:"미입력"}),i.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",t.eatingLevel||0,"점)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[i.jsx(Fa,{className:"w-5 h-5 text-elderberry-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"화장실:"}),i.jsx("span",{className:"ml-2",children:t.toiletLevel?ue.toilet[t.toiletLevel]:"미입력"}),i.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",t.toiletLevel||0,"점)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-elderberry-50 rounded-lg",children:[i.jsx(Ba,{className:"w-5 h-5 text-elderberry-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"의사소통:"}),i.jsx("span",{className:"ml-2",children:t.communicationLevel?ue.communication[t.communicationLevel]:"미입력"}),i.jsxs("span",{className:"ml-2 text-sm text-elderberry-500",children:["(",t.communicationLevel||0,"점)"]})]})]})]}),u&&i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-blue-800",children:"ADL 총점:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-900",children:[u," / 12점"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx("span",{className:"font-medium text-blue-800",children:"예상 케어 등급:"}),i.jsx("span",{className:"font-semibold text-blue-900",children:h})]})]})]})]}),(t.ltciGrade||t.careTargetStatus||t.mealType||t.diseaseTypes||t.notes)&&i.jsxs(_,{children:[i.jsx(Ie,{children:i.jsxs(Oe,{className:"flex items-center gap-2",children:[i.jsx(Ia,{className:"w-5 h-5"}),"추가 정보"]})}),i.jsx(B,{children:i.jsxs("div",{className:"space-y-3 text-sm",children:[t.ltciGrade&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"장기요양보험 등급:"}),i.jsx("span",{className:"ml-2",children:(y=$s[t.ltciGrade])==null?void 0:y.name})]}),t.careTargetStatus&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"돌봄대상자 상태:"}),i.jsx("span",{className:"ml-2",children:(p=Ja[t.careTargetStatus])==null?void 0:p.name})]}),t.mealType&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"식사형태:"}),i.jsx("span",{className:"ml-2",children:(g=Qa[t.mealType])==null?void 0:g.name})]}),t.diseaseTypes&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"주요 질환:"}),i.jsx("span",{className:"ml-2",children:t.diseaseTypes})]}),t.notes&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-elderberry-700",children:"특이사항:"}),i.jsx("span",{className:"ml-2",children:t.notes})]})]})})]}),a&&i.jsxs(N.div,{className:"p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx(Q,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"제출 오류"})]}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsxs(E,{variant:"secondary",onClick:()=>window.print(),className:"flex items-center gap-2",children:[i.jsx(Qu,{className:"w-4 h-4"}),"요약 인쇄"]}),i.jsx(E,{variant:"primary",onClick:f,disabled:!m||r,loading:r,size:"lg",className:"px-8",children:r?i.jsxs(i.Fragment,{children:[i.jsx(_a,{className:"w-4 h-4 mr-2 animate-spin"}),"평가 제출 중..."]}):"건강 평가 완료"})]}),i.jsxs(N.div,{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"✅ 평가 완료 후 제공 서비스"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-blue-600",children:[i.jsx("div",{children:"• 개인별 맞춤 케어 등급 산출"}),i.jsx("div",{children:"• 적합한 요양 시설 추천"}),i.jsx("div",{children:"• 전문 코디네이터 매칭"}),i.jsx("div",{children:"• 케어 플랜 상담 제공"})]})]})]})},Uh=({onComplete:e,onCancel:t,memberId:s})=>{const{currentStep:n,totalSteps:r,steps:o,formData:a,isSubmitting:l,errors:d,nextStep:c,previousStep:u,validateCurrentStep:h,calculateCompletionPercentage:m,setBasicInfo:f,loadFromLocalStorage:y,resetForm:p}=ce();w.useEffect(()=>{f(s),y()},[s,f,y]);const g=()=>{switch(o[n].id){case"basic-info":return i.jsx(Lh,{});case"adl-mobility":return i.jsx(Rh,{});case"adl-eating":return i.jsx(Fh,{});case"adl-toilet":return i.jsx(Ih,{});case"adl-communication":return i.jsx(Oh,{});case"ltci-grade":return i.jsx(_h,{});case"additional-info":return i.jsx(Bh,{});case"review":return i.jsx(zh,{onComplete:e});default:return i.jsx("div",{children:"알 수 없는 단계입니다."})}},x=o[n],v=n===r-1,b=n===0,S=m(),T=()=>{h()&&c()},A=Object.keys(d).some(P=>{var j;return d[P]&&((j=o[n])==null?void 0:j.id.includes(P.split(".")[0]))});return i.jsx("div",{className:"min-h-screen bg-elderberry-25 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-elderberry-900 mb-2",children:"건강 상태 평가"}),i.jsx("p",{className:"text-elderberry-600",children:"KB라이프생명 기반 돌봄지수 체크 시스템"})]}),i.jsx("div",{className:"mb-8",children:i.jsx(Eh,{progress:S,steps:o.map(P=>P.title),currentStep:n,showPercentage:!0,showSteps:!1})}),i.jsxs(_,{className:"mb-8",shadow:"md",children:[i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Oe,{className:"flex items-center gap-2",children:[x.isCompleted&&i.jsx(Ae,{className:"w-5 h-5 text-green-500"}),x.title,x.isRequired&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),i.jsx(kh,{children:x.description})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-elderberry-500",children:[n+1," / ",r]}),i.jsxs("div",{className:"text-lg font-semibold text-elderberry-700",children:[Math.round(S),"%"]})]})]})}),i.jsxs(B,{children:[A&&i.jsxs(N.div,{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx(Q,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"입력 정보를 확인해주세요"})]}),i.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:Object.entries(d).map(([P,j])=>i.jsx("li",{children:j},P))})]}),i.jsx(ne,{mode:"wait",children:i.jsx(N.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:g()},n)})]}),i.jsx(Dh,{children:i.jsxs("div",{className:"flex justify-between items-center w-full",children:[i.jsxs(E,{variant:"outline",onClick:u,disabled:b,className:"flex items-center gap-2",children:[i.jsx(qu,{className:"w-4 h-4"}),"이전"]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-elderberry-600",children:[x.isRequired&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-red-500",children:"*"}),"필수 항목"]}),a.memberId&&i.jsxs("span",{children:["평가 대상: ",a.memberId]})]}),v?null:i.jsxs(E,{variant:"primary",onClick:T,disabled:l,className:"flex items-center gap-2",children:["다음",i.jsx(Yu,{className:"w-4 h-4"})]})]})})]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx(E,{variant:"ghost",onClick:()=>{window.confirm("평가를 취소하시겠습니까? 입력한 데이터는 저장되지 않습니다.")&&(p(),t==null||t())},children:"평가 취소"}),i.jsx(E,{variant:"secondary",onClick:()=>{alert("진행 상황이 자동으로 저장되었습니다.")},children:"임시 저장"})]}),i.jsx(_,{className:"mt-8 bg-elderberry-50 border-elderberry-200",padding:"md",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-elderberry-800 mb-2",children:"💡 평가 가이드"}),i.jsx("p",{className:"text-sm text-elderberry-600",children:"이 평가는 KB라이프생명의 돌봄지수 체크 시스템을 기반으로 합니다. 정확한 평가를 위해 평소 상태를 기준으로 답변해주세요."}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-elderberry-500",children:[i.jsx("div",{children:"📱 자동 저장"}),i.jsx("div",{children:"🔒 개인정보 보호"}),i.jsx("div",{children:"⚡ 실시간 계산"}),i.jsx("div",{children:"📊 맞춤 추천"})]})]})})]})})},sr={searchResults:[],recommendations:[],selectedFacility:null,searchFilters:{},matchingPreference:{preferredRegions:new Set,preferredFacilityTypes:new Set,maxMonthlyFee:null,minFacilityGrade:"C",requiredSpecialties:new Set,maxDistanceKm:null,prioritizeAvailability:!0,prioritizeCost:!1,prioritizeQuality:!0},userHistory:[],isSearching:!1,isLoadingRecommendations:!1,isLoadingHistory:!1,searchError:null,recommendationError:null,isDetailModalOpen:!1,isRecommendationModalOpen:!1,isMatchingFormOpen:!1},De={async searchFacilities(e){const t=new URLSearchParams;e.facilityType&&t.append("facilityType",e.facilityType),e.facilityGrade&&t.append("facilityGrade",e.facilityGrade),e.region&&t.append("region",e.region),e.careGradeLevel&&t.append("careGradeLevel",e.careGradeLevel.toString());const s=await fetch(`/api/facilities?${t.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!s.ok)throw new Error(`시설 검색 실패: ${s.statusText}`);return(await s.json()).content||[]},async getRecommendations(e,t,s){const n={memberId:e,coordinatorId:s,preference:{preferredRegions:Array.from(t.preferredRegions),preferredFacilityTypes:Array.from(t.preferredFacilityTypes),maxMonthlyFee:t.maxMonthlyFee,minFacilityGrade:t.minFacilityGrade,requiredSpecialties:Array.from(t.requiredSpecialties),maxDistanceKm:t.maxDistanceKm,prioritizeAvailability:t.prioritizeAvailability,prioritizeCost:t.prioritizeCost,prioritizeQuality:t.prioritizeQuality},maxResults:10},r=await fetch("/api/facilities/recommendations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify(n)});if(!r.ok)throw new Error(`추천 시설 조회 실패: ${r.statusText}`);return r.json()},async trackFacilityAction(e,t){const s=await fetch(`/api/facilities/${e}/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!s.ok)throw new Error(`시설 ${t} 추적 실패: ${s.statusText}`)},async completeMatching(e,t,s,n){const r={outcome:t,satisfactionScore:s,feedback:n},o=await fetch(`/api/facilities/${e}/complete-matching`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify(r)});if(!o.ok)throw new Error(`매칭 완료 처리 실패: ${o.statusText}`)},async getUserHistory(){const e=await fetch("/api/facilities/matching-history",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!e.ok)throw new Error(`매칭 이력 조회 실패: ${e.statusText}`);return e.json()}},pe=ir()(Ua(Ga(Za((e,t)=>({...sr,searchFacilities:async s=>{e(n=>{n.isSearching=!0,n.searchError=null});try{const n=await De.searchFacilities(s);e(r=>{r.searchResults=n,r.searchFilters=s,r.isSearching=!1})}catch(n){e(r=>{r.searchError=n instanceof Error?n.message:"시설 검색 중 오류가 발생했습니다.",r.isSearching=!1})}},updateSearchFilters:s=>{e(n=>{Object.assign(n.searchFilters,s)})},clearSearchResults:()=>{e(s=>{s.searchResults=[],s.searchFilters={},s.searchError=null})},getRecommendations:async(s,n)=>{e(r=>{r.isLoadingRecommendations=!0,r.recommendationError=null});try{const r=await De.getRecommendations(s,t().matchingPreference,n);e(o=>{o.recommendations=r,o.isLoadingRecommendations=!1})}catch(r){e(o=>{o.recommendationError=r instanceof Error?r.message:"시설 추천 중 오류가 발생했습니다.",o.isLoadingRecommendations=!1})}},updateMatchingPreference:s=>{e(n=>{Object.assign(n.matchingPreference,s)})},clearRecommendations:()=>{e(s=>{s.recommendations=[],s.recommendationError=null})},selectFacility:s=>{e(n=>{n.selectedFacility=s})},clearSelectedFacility:()=>{e(s=>{s.selectedFacility=null})},trackFacilityView:async s=>{console.log(`시설 조회 추적: ${s}`)},trackFacilityContact:async s=>{try{await De.trackFacilityAction(s,"contact"),t().loadUserHistory()}catch(n){console.error("시설 연락 추적 실패:",n)}},trackFacilityVisit:async s=>{try{await De.trackFacilityAction(s,"visit"),t().loadUserHistory()}catch(n){console.error("시설 방문 추적 실패:",n)}},completeMatching:async(s,n,r,o)=>{try{await De.completeMatching(s,n,r,o),t().loadUserHistory()}catch(a){throw console.error("매칭 완료 처리 실패:",a),a}},loadUserHistory:async()=>{e(s=>{s.isLoadingHistory=!0});try{const s=await De.getUserHistory();e(n=>{n.userHistory=s,n.isLoadingHistory=!1})}catch(s){e(n=>{n.isLoadingHistory=!1}),console.error("매칭 이력 조회 실패:",s)}},clearUserHistory:()=>{e(s=>{s.userHistory=[]})},openDetailModal:()=>{e(s=>{s.isDetailModalOpen=!0})},closeDetailModal:()=>{e(s=>{s.isDetailModalOpen=!1})},openRecommendationModal:()=>{e(s=>{s.isRecommendationModalOpen=!0})},closeRecommendationModal:()=>{e(s=>{s.isRecommendationModalOpen=!1})},openMatchingForm:()=>{e(s=>{s.isMatchingFormOpen=!0})},closeMatchingForm:()=>{e(s=>{s.isMatchingFormOpen=!1})},setSearchError:s=>{e(n=>{n.searchError=s})},setRecommendationError:s=>{e(n=>{n.recommendationError=s})},clearAllErrors:()=>{e(s=>{s.searchError=null,s.recommendationError=null})},resetFacilityState:()=>{e(()=>({...sr}))}}))),{name:"FacilityStore"})),Gh=()=>pe(e=>e.searchResults),Hh=()=>pe(e=>e.selectedFacility),Wh=()=>pe(e=>({isSearching:e.isSearching,isLoadingRecommendations:e.isLoadingRecommendations,isLoadingHistory:e.isLoadingHistory})),Kh=()=>pe(e=>({searchError:e.searchError,recommendationError:e.recommendationError})),zs=({facility:e,viewMode:t="list",onSelect:s,showActions:n=!0,isRecommendation:r=!1,matchScore:o,recommendationReason:a})=>{const[l,d]=w.useState(null),{selectFacility:c,openDetailModal:u,trackFacilityContact:h,trackFacilityVisit:m}=pe(),f=()=>{c(e),u(),s==null||s(e)},y=async S=>{S.stopPropagation(),d("contact");try{await h(e.id),window.open(`tel:${e.phoneNumber}`)}catch(T){console.error("연락 추적 실패:",T)}finally{d(null)}},p=async S=>{S.stopPropagation(),d("visit");try{await m(e.id),alert("방문 예약이 접수되었습니다. 시설에서 연락드리겠습니다.")}catch(T){console.error("방문 추적 실패:",T)}finally{d(null)}},g=S=>{switch(S){case"A":return"text-green-600 bg-green-100";case"B":return"text-blue-600 bg-blue-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";case"E":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},x=e.totalCapacity-e.currentOccupancy,v=e.currentOccupancy/e.totalCapacity*100,b=S=>S?`${(S/1e4).toFixed(0)}만원`:"문의";return t==="grid"?i.jsx(N.div,{whileHover:{y:-4},transition:{duration:.2},children:i.jsxs(_,{className:"h-full cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:f,children:[r&&o&&i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsxs("div",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium flex items-center",children:[i.jsx(Ce,{className:"w-3 h-3 mr-1"}),Math.round(o),"% 매칭"]})}),i.jsxs("div",{className:"relative h-48 bg-gray-200 rounded-t-lg overflow-hidden",children:[e.imageUrl?i.jsx("img",{src:e.imageUrl,alt:e.facilityName,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ls,{className:"w-12 h-12 text-gray-400"})}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(e.facilityGrade)}`,children:[e.facilityGrade,"등급"]})})]}),i.jsxs(B,{className:"p-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1 line-clamp-1",children:e.facilityName}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.facilityType}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[i.jsx(Ne,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"line-clamp-1",children:e.address})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"입소 현황"}),i.jsx("span",{className:`font-medium ${x>0?"text-green-600":"text-red-600"}`,children:x>0?`${x}명 입소 가능`:"입소 대기"})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${v>=90?"bg-red-500":v>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(v,100)}%`}})})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"월 기본료"}),i.jsx("span",{className:"font-semibold text-lg text-gray-900",children:b(e.monthlyBasicFee)})]})}),e.specialties&&e.specialties.length>0&&i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.specialties.slice(0,2).map(S=>i.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:S},S)),e.specialties.length>2&&i.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 text-xs rounded-full",children:["+",e.specialties.length-2]})]})}),r&&a&&i.jsx("div",{className:"mb-4 p-2 bg-purple-50 rounded-lg",children:i.jsxs("p",{className:"text-xs text-purple-700 line-clamp-2",children:["💡 ",a]})}),n&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E,{variant:"outline",size:"sm",onClick:y,disabled:l==="contact",className:"flex-1",children:l==="contact"?i.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(we,{className:"w-4 h-4"})}):i.jsx(we,{className:"w-4 h-4"})}),i.jsx(E,{size:"sm",onClick:p,disabled:l==="visit",className:"flex-1",children:l==="visit"?i.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(je,{className:"w-4 h-4"})}):i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"w-4 h-4 mr-1"}),"방문"]})})]})]})]})}):i.jsx(N.div,{whileHover:{x:4},transition:{duration:.2},children:i.jsx(_,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:f,children:i.jsx(B,{className:"p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"relative w-24 h-24 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:e.imageUrl?i.jsx("img",{src:e.imageUrl,alt:e.facilityName,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ls,{className:"w-8 h-8 text-gray-400"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-1",children:e.facilityName}),i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("span",{className:"text-gray-600",children:e.facilityType}),i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(e.facilityGrade)}`,children:[e.facilityGrade,"등급"]}),r&&o&&i.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium flex items-center",children:[i.jsx(Ce,{className:"w-3 h-3 mr-1"}),Math.round(o),"% 매칭"]})]})]})}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[i.jsx(Ne,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:e.address})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"입소 현황"}),i.jsx("span",{className:`font-medium ${x>0?"text-green-600":"text-red-600"}`,children:x>0?`${x}명 가능`:"대기"})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${v>=90?"bg-red-500":v>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(v,100)}%`}})})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"월 기본료"}),i.jsx("div",{className:"font-semibold text-lg text-gray-900",children:b(e.monthlyBasicFee)})]})]}),e.specialties&&e.specialties.length>0&&i.jsx("div",{className:"mb-3",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.specialties.slice(0,4).map(S=>i.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:S},S)),e.specialties.length>4&&i.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 text-xs rounded-full",children:["+",e.specialties.length-4,"개 더"]})]})}),r&&a&&i.jsx("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-purple-700",children:["💡 ",a]})}),n&&i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx(E,{variant:"outline",size:"sm",onClick:y,disabled:l==="contact",children:l==="contact"?i.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(we,{className:"w-4 h-4"})}):i.jsxs(i.Fragment,{children:[i.jsx(we,{className:"w-4 h-4 mr-1"}),"연락하기"]})}),i.jsx(E,{size:"sm",onClick:p,disabled:l==="visit",children:l==="visit"?i.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(je,{className:"w-4 h-4"})}):i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"w-4 h-4 mr-1"}),"방문 예약"]})}),i.jsxs(E,{variant:"outline",size:"sm",onClick:S=>{S.stopPropagation(),f()},children:[i.jsx(eh,{className:"w-4 h-4 mr-1"}),"상세보기"]})]})]})]})})})})},qh=({facilities:e,viewMode:t="list",isLoading:s=!1,emptyMessage:n="시설이 없습니다.",onFacilitySelect:r,showActions:o=!0})=>{const a=()=>i.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((d,c)=>i.jsx(_,{className:"animate-pulse",children:i.jsx(B,{className:"p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg flex-shrink-0"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"}),i.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]}),i.jsxs("div",{className:"text-right space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]})]})})},c))}),l=()=>i.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center py-12",children:i.jsx(_,{children:i.jsx(B,{className:"p-12",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(At,{className:"w-8 h-8 text-gray-400"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"검색 결과가 없습니다"}),i.jsx("p",{className:"text-gray-500 max-w-md",children:n})]}),i.jsx("div",{className:"text-sm text-gray-400 mt-4",children:i.jsx("p",{children:"검색 조건을 변경하거나 필터를 조정해보세요."})})]})})})});return s?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[i.jsx(Lt,{className:"w-5 h-5 animate-spin"}),i.jsx("span",{children:"시설을 검색하고 있습니다..."})]})}),i.jsx(a,{})]}):e.length===0?i.jsx(l,{}):t==="grid"?i.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.jsx(ne,{children:e.map((d,c)=>i.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:c*.05},children:i.jsx(zs,{facility:d,viewMode:"grid",onSelect:r,showActions:o})},d.id))})}):i.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"space-y-4",children:i.jsx(ne,{children:e.map((d,c)=>i.jsx(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:c*.05},children:i.jsx(zs,{facility:d,viewMode:"list",onSelect:r,showActions:o})},d.id))})})},Yh=[{value:"요양시설",label:"노인요양시설",description:"24시간 케어 서비스"},{value:"요양병원",label:"요양병원",description:"의료진 상주 치료"},{value:"양로시설",label:"양로시설",description:"독립생활 지원"},{value:"치매전문시설",label:"치매전문시설",description:"치매 특화 케어"},{value:"재활전문시설",label:"재활전문시설",description:"재활치료 중심"},{value:"단기보호시설",label:"단기보호시설",description:"임시 보호 서비스"}],Xh=[{value:"A",label:"A등급",description:"최우수 (90점 이상)",color:"text-green-600"},{value:"B",label:"B등급",description:"우수 (80-89점)",color:"text-blue-600"},{value:"C",label:"C등급",description:"양호 (70-79점)",color:"text-yellow-600"},{value:"D",label:"D등급",description:"보통 (60-69점)",color:"text-orange-600"},{value:"E",label:"E등급",description:"미흡 (60점 미만)",color:"text-red-600"}],Zh=[{value:1,label:"1등급",description:"최중증 (95점 이상)"},{value:2,label:"2등급",description:"중증 (75-94점)"},{value:3,label:"3등급",description:"중등도 (60-74점)"},{value:4,label:"4등급",description:"경증 (51-59점)"},{value:5,label:"5등급",description:"경증 (45-50점)"}],Jh=["서울특별시","부산광역시","대구광역시","인천광역시","광주광역시","대전광역시","울산광역시","세종특별자치시","경기도","강원도","충청북도","충청남도","전라북도","전라남도","경상북도","경상남도","제주특별자치도"],Qh=[{value:1e6,label:"100만원 이하"},{value:15e5,label:"150만원 이하"},{value:2e6,label:"200만원 이하"},{value:25e5,label:"250만원 이하"},{value:3e6,label:"300만원 이하"},{value:5e6,label:"500만원 이하"}],em=["치매케어","재활치료","물리치료","작업치료","언어치료","인지치료","호스피스케어","의료케어","영양관리","심리상담"],tm=({filters:e,onFiltersChange:t,onClear:s})=>{const[n,r]=w.useState(new Set(["type","grade"])),o=c=>{const u=new Set(n);u.has(c)?u.delete(c):u.add(c),r(u)},a=(c,u)=>{t({[c]:u})},l=()=>{t({facilityType:void 0,facilityGrade:void 0,region:void 0,careGradeLevel:void 0,maxMonthlyFee:void 0,minFacilityGrade:void 0,specialties:void 0,maxDistanceKm:void 0,hasAvailableSlots:void 0}),s==null||s()},d=Object.values(e).filter(c=>c!=null&&c!=="").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["상세 필터",d>0&&i.jsxs("span",{className:"ml-2 bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full",children:[d,"개 적용됨"]})]}),d>0&&i.jsxs(E,{variant:"outline",size:"sm",onClick:l,className:"text-gray-500 hover:text-gray-700",children:[i.jsx(Vs,{className:"w-4 h-4 mr-1"}),"전체 초기화"]})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("button",{onClick:()=>o("type"),className:"w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ls,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"font-medium",children:"시설 타입"})]}),i.jsx(N.div,{animate:{rotate:n.has("type")?180:0},transition:{duration:.2},children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n.has("type")&&i.jsx(N.div,{initial:{height:0},animate:{height:"auto"},className:"px-4 pb-4 border-t border-gray-100",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:Yh.map(c=>i.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"facilityType",value:c.value,checked:e.facilityType===c.value,onChange:u=>a("facilityType",u.target.value),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.label}),i.jsx("div",{className:"text-xs text-gray-500",children:c.description})]})]},c.value))})})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("button",{onClick:()=>o("grade"),className:"w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ce,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"font-medium",children:"시설 등급"})]}),i.jsx(N.div,{animate:{rotate:n.has("grade")?180:0},transition:{duration:.2},children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n.has("grade")&&i.jsx(N.div,{initial:{height:0},animate:{height:"auto"},className:"px-4 pb-4 border-t border-gray-100",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:Xh.map(c=>i.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"facilityGrade",value:c.value,checked:e.facilityGrade===c.value,onChange:u=>a("facilityGrade",u.target.value),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),i.jsxs("div",{children:[i.jsx("div",{className:`text-sm font-medium ${c.color}`,children:c.label}),i.jsx("div",{className:"text-xs text-gray-500",children:c.description})]})]},c.value))})})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("button",{onClick:()=>o("region"),className:"w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ne,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"font-medium",children:"지역"})]}),i.jsx(N.div,{animate:{rotate:n.has("region")?180:0},transition:{duration:.2},children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n.has("region")&&i.jsx(N.div,{initial:{height:0},animate:{height:"auto"},className:"px-4 pb-4 border-t border-gray-100",children:i.jsxs("select",{value:e.region||"",onChange:c=>a("region",c.target.value||void 0),className:"mt-3 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"전체 지역"}),Jh.map(c=>i.jsx("option",{value:c,children:c},c))]})})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("button",{onClick:()=>o("care"),className:"w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Oa,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"font-medium",children:"케어 등급"})]}),i.jsx(N.div,{animate:{rotate:n.has("care")?180:0},transition:{duration:.2},children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n.has("care")&&i.jsx(N.div,{initial:{height:0},animate:{height:"auto"},className:"px-4 pb-4 border-t border-gray-100",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:Zh.map(c=>i.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"careGradeLevel",value:c.value,checked:e.careGradeLevel===c.value,onChange:u=>a("careGradeLevel",parseInt(u.target.value)),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.label}),i.jsx("div",{className:"text-xs text-gray-500",children:c.description})]})]},c.value))})})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("button",{onClick:()=>o("cost"),className:"w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ju,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"font-medium",children:"월 비용"})]}),i.jsx(N.div,{animate:{rotate:n.has("cost")?180:0},transition:{duration:.2},children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n.has("cost")&&i.jsx(N.div,{initial:{height:0},animate:{height:"auto"},className:"px-4 pb-4 border-t border-gray-100",children:i.jsx("div",{className:"space-y-2 mt-3",children:Qh.map(c=>i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"maxMonthlyFee",value:c.value,checked:e.maxMonthlyFee===c.value,onChange:u=>a("maxMonthlyFee",parseInt(u.target.value)),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),i.jsx("span",{className:"text-sm text-gray-900",children:c.label})]},c.value))})})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("button",{onClick:()=>o("specialties"),className:"w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ce,{className:"w-5 h-5 text-gray-400 mr-2"}),i.jsx("span",{className:"font-medium",children:"전문 서비스"})]}),i.jsx(N.div,{animate:{rotate:n.has("specialties")?180:0},transition:{duration:.2},children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n.has("specialties")&&i.jsx(N.div,{initial:{height:0},animate:{height:"auto"},className:"px-4 pb-4 border-t border-gray-100",children:i.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:em.map(c=>i.jsx("button",{onClick:()=>{const u=e.specialties||[],m=u.includes(c)?u.filter(f=>f!==c):[...u,c];a("specialties",m.length>0?m:void 0)},className:`px-3 py-1 text-sm rounded-full border transition-colors ${(e.specialties||[]).includes(c)?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200"}`,children:c},c))})})]}),i.jsx("div",{className:"border border-gray-200 rounded-lg",children:i.jsxs("div",{className:"px-4 py-3",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"기타 옵션"}),i.jsx("div",{className:"space-y-3",children:i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.hasAvailableSlots||!1,onChange:c=>a("hasAvailableSlots",c.target.checked?!0:void 0),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("span",{className:"text-sm text-gray-900",children:"입소 가능한 시설만 보기"})]})})]})})]})},sm=({recommendations:e,isLoading:t=!1,onRefresh:s,memberId:n,showPreferences:r=!0})=>{const{matchingPreference:o,updateMatchingPreference:a}=pe(),[l,d]=w.useState(!1),[c,u]=w.useState(!1),h={averageScore:e.length>0?Math.round(e.reduce((p,g)=>p+g.matchScore,0)/e.length):0,highScoreCount:e.filter(p=>p.matchScore>=80).length,mediumScoreCount:e.filter(p=>p.matchScore>=60&&p.matchScore<80).length,lowScoreCount:e.filter(p=>p.matchScore<60).length},f=(()=>{const p=[];return h.averageScore>=80?p.push({type:"success",icon:Ds,title:"우수한 매칭 결과",description:"회원님의 요구사항에 잘 맞는 시설들이 많이 찾아졌습니다."}):h.averageScore>=60?p.push({type:"warning",icon:Q,title:"양호한 매칭 결과",description:"일부 조건을 조정하면 더 적합한 시설을 찾을 수 있습니다."}):p.push({type:"info",icon:ft,title:"매칭 조건 검토 필요",description:"선호 조건을 조정하여 더 나은 추천 결과를 받아보세요."}),h.highScoreCount===0&&p.push({type:"tip",icon:Kn,title:"추천 팁",description:"지역 범위를 넓히거나 비용 조건을 조정해보세요."}),p})(),y=(p,g)=>{a({[p]:g})};return t?i.jsxs("div",{className:"space-y-6",children:[i.jsx(_,{children:i.jsx(B,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[i.jsx(N.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Hn,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI가 맞춤형 시설을 분석 중입니다"}),i.jsx("p",{className:"text-gray-600",children:"회원님의 건강 상태와 선호도를 종합적으로 분석하고 있어요..."})]})]})})}),i.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((p,g)=>i.jsx(_,{className:"animate-pulse",children:i.jsx(B,{className:"p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}),i.jsxs("div",{className:"text-right space-y-2",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]})]})})},g))})]}):e.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx(_,{children:i.jsx(B,{className:"p-12",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(Es,{className:"w-8 h-8 text-purple-600"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"추천 결과가 없습니다"}),i.jsx("p",{className:"text-gray-500 max-w-md",children:"현재 조건에 맞는 시설을 찾지 못했습니다. 선호 조건을 조정하거나 다시 시도해보세요."})]}),s&&i.jsxs(E,{onClick:s,variant:"outline",children:[i.jsx(Lt,{className:"w-4 h-4 mr-2"}),"다시 추천받기"]})]})})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_,{children:[i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx(Es,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx(Oe,{className:"text-xl",children:"맞춤형 추천 결과"}),i.jsxs("p",{className:"text-gray-600",children:["AI가 분석한 회원님께 최적의 시설 ",e.length,"곳"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[s&&i.jsxs(E,{variant:"outline",size:"sm",onClick:s,children:[i.jsx(Lt,{className:"w-4 h-4 mr-1"}),"새로고침"]}),r&&i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>d(!l),children:[i.jsx(qn,{className:"w-4 h-4 mr-1"}),"선호도 설정"]})]})]})}),i.jsxs(B,{children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[h.averageScore,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"평균 매칭도"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.highScoreCount}),i.jsx("div",{className:"text-sm text-gray-600",children:"우수 매칭 (80%+)"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.mediumScoreCount}),i.jsx("div",{className:"text-sm text-gray-600",children:"양호 매칭 (60-79%)"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-600",children:h.lowScoreCount}),i.jsx("div",{className:"text-sm text-gray-600",children:"보통 매칭 (60% 미만)"})]})]}),i.jsxs("button",{onClick:()=>u(!c),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hn,{className:"w-5 h-5 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"AI 추천 분석 결과"})]}),c?i.jsx(Xu,{className:"w-5 h-5 text-gray-400"}):i.jsx(Ku,{className:"w-5 h-5 text-gray-400"})]}),i.jsx(ne,{children:c&&i.jsx(N.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsx("div",{className:"pt-4 space-y-3",children:f.map((p,g)=>{const x=p.icon,v={success:"text-green-600 bg-green-50",warning:"text-yellow-600 bg-yellow-50",info:"text-blue-600 bg-blue-50",tip:"text-purple-600 bg-purple-50"}[p.type];return i.jsx("div",{className:`p-3 rounded-lg ${v}`,children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(x,{className:"w-5 h-5 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:p.title}),i.jsx("div",{className:"text-sm opacity-90",children:p.description})]})]})},g)})})})})]})]}),i.jsx(ne,{children:l&&i.jsx(N.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsxs(_,{children:[i.jsx(Ie,{children:i.jsxs(Oe,{className:"text-lg flex items-center",children:[i.jsx(qn,{className:"w-5 h-5 mr-2"}),"추천 선호도 설정"]})}),i.jsxs(B,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"우선순위"}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:o.prioritizeQuality,onChange:p=>y("prioritizeQuality",p.target.checked),className:"rounded border-gray-300"}),i.jsx("span",{className:"text-sm",children:"품질 우선"})]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:o.prioritizeCost,onChange:p=>y("prioritizeCost",p.target.checked),className:"rounded border-gray-300"}),i.jsx("span",{className:"text-sm",children:"비용 우선"})]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:o.prioritizeAvailability,onChange:p=>y("prioritizeAvailability",p.target.checked),className:"rounded border-gray-300"}),i.jsx("span",{className:"text-sm",children:"입소 가능성 우선"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"최대 월 비용"}),i.jsxs("select",{value:o.maxMonthlyFee||"",onChange:p=>y("maxMonthlyFee",p.target.value?parseInt(p.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",children:[i.jsx("option",{value:"",children:"제한 없음"}),i.jsx("option",{value:"1500000",children:"150만원"}),i.jsx("option",{value:"2000000",children:"200만원"}),i.jsx("option",{value:"2500000",children:"250만원"}),i.jsx("option",{value:"3000000",children:"300만원"}),i.jsx("option",{value:"4000000",children:"400만원"}),i.jsx("option",{value:"5000000",children:"500만원"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"최소 시설 등급"}),i.jsxs("select",{value:o.minFacilityGrade,onChange:p=>y("minFacilityGrade",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",children:[i.jsx("option",{value:"E",children:"E등급 이상"}),i.jsx("option",{value:"D",children:"D등급 이상"}),i.jsx("option",{value:"C",children:"C등급 이상"}),i.jsx("option",{value:"B",children:"B등급 이상"}),i.jsx("option",{value:"A",children:"A등급만"})]})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t",children:i.jsxs(E,{onClick:s,className:"w-full",children:[i.jsx(oh,{className:"w-4 h-4 mr-2"}),"새로운 조건으로 다시 추천받기"]})})]})]})})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"추천 시설 목록"}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(lh,{className:"w-4 h-4"}),i.jsx("span",{children:"매칭도 순으로 정렬됨"})]})]}),i.jsx(ne,{children:e.map((p,g)=>i.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:g*.1},children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -left-4 top-4 z-10",children:i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${g===0?"bg-yellow-500":g===1?"bg-gray-400":g===2?"bg-amber-600":"bg-gray-300"}`,children:g+1})}),i.jsx(zs,{facility:p.facility,viewMode:"list",isRecommendation:!0,matchScore:p.matchScore,recommendationReason:p.recommendationReason,showActions:!0})]})},p.facility.id))})]}),i.jsx(_,{children:i.jsx(B,{className:"p-6",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Kn,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"추천 결과를 개선하려면?"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• 선호 지역 범위를 조정해보세요"}),i.jsx("li",{children:"• 예산 조건을 다시 검토해보세요"}),i.jsx("li",{children:"• 필수 서비스 조건을 명확히 해보세요"}),i.jsx("li",{children:"• 시설 방문 후 피드백을 남겨주시면 더 정확한 추천이 가능합니다"})]})]})]})})})]})},im=()=>{const e=Hh(),{isDetailModalOpen:t,closeDetailModal:s,clearSelectedFacility:n,trackFacilityContact:r,trackFacilityVisit:o,openMatchingForm:a}=pe(),[l,d]=w.useState("overview"),[c,u]=w.useState(null),[h,m]=w.useState(0),f=()=>{s(),setTimeout(()=>{n()},300)};w.useEffect(()=>{const j=k=>{k.key==="Escape"&&f()};return t&&(document.addEventListener("keydown",j),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",j),document.body.style.overflow="unset"}},[t]);const y=async()=>{if(e){u("contact");try{await r(e.id),window.open(`tel:${e.phoneNumber}`)}catch(j){console.error("연락 추적 실패:",j)}finally{u(null)}}},p=async()=>{if(e){u("visit");try{await o(e.id),alert("방문 예약이 접수되었습니다. 시설에서 연락드리겠습니다.")}catch(j){console.error("방문 추적 실패:",j)}finally{u(null)}}},g=()=>{a()},x=()=>{if(e!=null&&e.latitude&&(e!=null&&e.longitude)){const j=`https://map.kakao.com/link/map/${e.facilityName},${e.latitude},${e.longitude}`;window.open(j,"_blank")}};if(!t||!e)return null;const v=j=>{switch(j){case"A":return"text-green-600 bg-green-100";case"B":return"text-blue-600 bg-blue-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";case"E":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=e.totalCapacity-e.currentOccupancy,S=e.currentOccupancy/e.totalCapacity*100,T=j=>j?`${(j/1e4).toFixed(0)}만원`:"문의",A=e.imageUrl?[e.imageUrl]:["/images/facility-placeholder-1.jpg","/images/facility-placeholder-2.jpg","/images/facility-placeholder-3.jpg"],P=[{icon:uh,label:"무료 WiFi",available:!0},{icon:Wn,label:"주차장",available:!0},{icon:Si,label:"식당",available:!0},{icon:wi,label:"운동시설",available:!1},{icon:Wu,label:"CCTV",available:!0},{icon:$a,label:"24시간 보안",available:!0}];return i.jsx(ne,{children:i.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:f,children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),i.jsxs(N.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-4xl max-h-[90vh] bg-white rounded-lg shadow-xl overflow-hidden",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative h-64 bg-gray-200",children:[i.jsx("img",{src:A[h],alt:e.facilityName,className:"w-full h-full object-cover",onError:j=>{j.currentTarget.src="/images/facility-default.jpg"}}),A.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:A.map((j,k)=>i.jsx("button",{onClick:()=>m(k),className:`w-2 h-2 rounded-full ${k===h?"bg-white":"bg-white bg-opacity-50"}`},k))}),i.jsx("div",{className:"absolute top-4 left-4",children:i.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v(e.facilityGrade)}`,children:[e.facilityGrade,"등급"]})}),i.jsx("button",{onClick:f,className:"absolute top-4 right-4 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-colors",children:i.jsx(Vs,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 border-b",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.facilityName}),i.jsx("p",{className:"text-gray-600 mb-2",children:e.facilityType}),i.jsxs("div",{className:"flex items-center text-gray-500",children:[i.jsx(Ne,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:e.address})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"월 기본료"}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:T(e.monthlyBasicFee)})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"총 정원"}),i.jsxs("div",{className:"text-lg font-semibold",children:[e.totalCapacity,"명"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"현재 입소"}),i.jsxs("div",{className:"text-lg font-semibold",children:[e.currentOccupancy,"명"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"입소 가능"}),i.jsx("div",{className:`text-lg font-semibold ${b>0?"text-green-600":"text-red-600"}`,children:b>0?`${b}명`:"대기"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[i.jsx("span",{children:"입소율"}),i.jsxs("span",{children:[Math.round(S),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${S>=90?"bg-red-500":S>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(S,100)}%`}})})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(E,{onClick:y,disabled:c==="contact",className:"flex-1",children:[c==="contact"?i.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(we,{className:"w-4 h-4 mr-2"})}):i.jsx(we,{className:"w-4 h-4 mr-2"}),"연락하기"]}),i.jsxs(E,{variant:"outline",onClick:p,disabled:c==="visit",className:"flex-1",children:[c==="visit"?i.jsx(N.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:i.jsx(je,{className:"w-4 h-4 mr-2"})}):i.jsx(je,{className:"w-4 h-4 mr-2"}),"방문 예약"]}),i.jsxs(E,{variant:"outline",onClick:g,className:"flex-1",children:[i.jsx(Oa,{className:"w-4 h-4 mr-2"}),"매칭 신청"]})]})]})]}),i.jsx("div",{className:"border-b",children:i.jsx("nav",{className:"flex px-6",children:[{key:"overview",label:"개요",icon:ih},{key:"services",label:"서비스",icon:ah},{key:"location",label:"위치",icon:Ne},{key:"reviews",label:"리뷰",icon:Ce}].map(({key:j,label:k,icon:D})=>i.jsxs("button",{onClick:()=>d(j),className:`flex items-center px-4 py-3 border-b-2 font-medium text-sm ${l===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(D,{className:"w-4 h-4 mr-2"}),k]},j))})}),i.jsx("div",{className:"flex-1 overflow-y-auto max-h-96",children:i.jsxs(ne,{mode:"wait",children:[l==="overview"&&i.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"시설 소개"}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description||`${e.facilityName}은(는) ${e.facilityType}로서 전문적인 돌봄 서비스를 제공합니다. 
                        숙련된 전문 인력과 체계적인 케어 프로그램을 통해 입소자분들의 건강하고 안전한 생활을 지원하고 있습니다.`})]}),e.specialties&&e.specialties.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"전문 서비스"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.specialties.map(j=>i.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:j},j))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"편의시설"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.map(({icon:j,label:k,available:D})=>i.jsxs("div",{className:`flex items-center space-x-2 ${D?"text-gray-900":"text-gray-400"}`,children:[i.jsx(j,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:k}),D?i.jsx(Ds,{className:"w-4 h-4 text-green-500"}):i.jsx(Vs,{className:"w-4 h-4 text-gray-400"})]},k))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"운영 정보"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Zu,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsxs("span",{children:["운영시간: ",e.operatingHours||"24시간 운영"]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(we,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsxs("span",{children:["연락처: ",e.phoneNumber]})]})]})]})]},"overview"),l==="services"&&i.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"제공 서비스"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"font-medium mb-3",children:"케어 등급별 서비스"}),i.jsx("div",{className:"space-y-2",children:e.availableCareGrades.map(j=>i.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded",children:[i.jsxs("span",{children:[j,"등급 케어"]}),i.jsx(Ds,{className:"w-4 h-4 text-green-500"})]},j))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(_,{children:i.jsxs(B,{className:"p-4",children:[i.jsx("h5",{className:"font-medium mb-2",children:"일상생활 지원"}),i.jsx("p",{className:"text-sm text-gray-600",children:"식사, 목욕, 배설, 이동 등 일상생활 전반에 대한 전문적인 돌봄 서비스"})]})}),i.jsx(_,{children:i.jsxs(B,{className:"p-4",children:[i.jsx("h5",{className:"font-medium mb-2",children:"건강 관리"}),i.jsx("p",{className:"text-sm text-gray-600",children:"정기 건강검진, 투약 관리, 응급상황 대응 등 체계적인 건강 관리"})]})}),i.jsx(_,{children:i.jsxs(B,{className:"p-4",children:[i.jsx("h5",{className:"font-medium mb-2",children:"여가 활동"}),i.jsx("p",{className:"text-sm text-gray-600",children:"다양한 프로그램과 여가 활동을 통한 정서적 지원 및 사회적 교류"})]})})]})]},"services"),l==="location"&&i.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"위치 정보"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(Ne,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsx("span",{className:"font-medium",children:"주소"})]}),i.jsx("p",{className:"text-gray-700 ml-6",children:e.address})]}),e.latitude&&e.longitude&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(rh,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsx("span",{className:"font-medium",children:"좌표"})]}),i.jsxs("p",{className:"text-gray-700 ml-6",children:["위도: ",e.latitude,", 경도: ",e.longitude]})]}),i.jsxs(E,{onClick:x,variant:"outline",className:"w-full",children:[i.jsx(Ne,{className:"w-4 h-4 mr-2"}),"지도에서 보기"]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"교통 정보"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Wn,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsx("span",{children:"주차장 이용 가능"})]}),i.jsx("div",{className:"text-gray-600 ml-6",children:"대중교통 이용 시 가장 가까운 지하철역에서 도보 10분 거리"})]})]})]})]},"location"),l==="reviews"&&i.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"이용 후기"}),i.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-lg font-semibold",children:"전체 평점"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ce,{className:"w-5 h-5 text-yellow-400 fill-current"}),i.jsx("span",{className:"ml-1 text-lg font-semibold",children:"4.2"}),i.jsx("span",{className:"ml-1 text-gray-600",children:"(24개 리뷰)"})]})]})}),i.jsx("div",{className:"space-y-4",children:[{id:1,author:"김**",rating:5,date:"2024-01-15",content:"직원분들이 정말 친절하시고 시설도 깨끗합니다. 어머니께서 만족해하세요."},{id:2,author:"이**",rating:4,date:"2024-01-10",content:"전반적으로 좋은 시설이지만 주차공간이 조금 부족한 것 같아요."},{id:3,author:"박**",rating:5,date:"2024-01-05",content:"케어 서비스가 정말 전문적이고 체계적입니다. 추천합니다."}].map(j=>i.jsx(_,{children:i.jsxs(B,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium",children:j.author}),i.jsx("div",{className:"flex items-center ml-2",children:Array.from({length:j.rating}).map((k,D)=>i.jsx(Ce,{className:"w-4 h-4 text-yellow-400 fill-current"},D))})]}),i.jsx("span",{className:"text-sm text-gray-500",children:j.date})]}),i.jsx("p",{className:"text-gray-700",children:j.content})]})},j.id))})]},"reviews")]})})]})]})})},nm=({memberId:e,coordinatorId:t,showRecommendations:s=!0})=>{const n=Gh(),{isSearching:r,isLoadingRecommendations:o}=Wh(),{searchError:a,recommendationError:l}=Kh(),{recommendations:d,searchFilters:c,isDetailModalOpen:u,isRecommendationModalOpen:h,searchFacilities:m,getRecommendations:f,updateSearchFilters:y,clearSearchResults:p,clearRecommendations:g,openRecommendationModal:x,closeRecommendationModal:v,clearAllErrors:b}=pe(),[S,T]=w.useState("list"),[A,P]=w.useState(!1),[j,k]=w.useState(""),[D,H]=w.useState("search");w.useEffect(()=>(b(),s&&e&&(H("recommendations"),We()),()=>{p(),g()}),[e,s]);const ke=async()=>{if(!j.trim()&&Object.keys(c).length===0)return;const V={...c,...j&&{region:j}};await m(V),H("search")},We=async()=>{if(!e){console.warn("회원 ID가 필요합니다.");return}await f(e,t)},pt=V=>{y(V),D==="search"&&setTimeout(()=>{ke()},500)},Ai=V=>{k(V.target.value)},Pi=V=>{V.key==="Enter"&&ke()};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"시설 검색 및 추천"}),i.jsx("p",{className:"text-gray-600",children:"맞춤형 요양 시설을 찾아보세요. AI 기반 추천으로 최적의 시설을 제안해드립니다."})]}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsxs("button",{onClick:()=>H("search"),className:`py-2 px-1 border-b-2 font-medium text-sm ${D==="search"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(At,{className:"w-4 h-4 inline mr-2"}),"시설 검색"]}),s&&i.jsxs("button",{onClick:()=>{H("recommendations"),e&&We()},className:`py-2 px-1 border-b-2 font-medium text-sm ${D==="recommendations"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(Es,{className:"w-4 h-4 inline mr-2"}),"맞춤 추천",d.length>0&&i.jsx("span",{className:"ml-2 bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full",children:d.length})]})]})})}),i.jsxs(ne,{mode:"wait",children:[D==="search"&&i.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[i.jsx(_,{className:"mb-6",children:i.jsxs(B,{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"지역명을 입력하세요 (예: 서울시 강남구)",value:j,onChange:Ai,onKeyPress:Pi,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsx(E,{onClick:ke,disabled:r,className:"px-8 py-3",children:r?i.jsxs(i.Fragment,{children:[i.jsx(Lt,{className:"w-4 h-4 mr-2 animate-spin"}),"검색 중..."]}):i.jsxs(i.Fragment,{children:[i.jsx(At,{className:"w-4 h-4 mr-2"}),"검색"]})}),i.jsxs(E,{variant:"outline",onClick:()=>P(!A),className:"px-4 py-3",children:[i.jsx(th,{className:"w-4 h-4 mr-2"}),"필터"]})]}),i.jsx(ne,{children:A&&i.jsx(N.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx(tm,{filters:c,onFiltersChange:pt})})})})]})}),a&&i.jsx(N.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Q,{className:"w-5 h-5 text-red-500 mr-2"}),i.jsx("span",{className:"text-red-700",children:a})]})})}),n.length>0&&i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"검색 결과"}),i.jsxs("p",{className:"text-gray-600",children:["총 ",n.length,"개의 시설을 찾았습니다."]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(E,{variant:S==="list"?"default":"outline",size:"sm",onClick:()=>T("list"),children:i.jsx(nh,{className:"w-4 h-4"})}),i.jsx(E,{variant:S==="grid"?"default":"outline",size:"sm",onClick:()=>T("grid"),children:i.jsx(sh,{className:"w-4 h-4"})})]})]}),i.jsx(qh,{facilities:n,viewMode:S,isLoading:r,emptyMessage:"검색 조건에 맞는 시설이 없습니다."})]},"search"),D==="recommendations"&&i.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[l&&i.jsx(N.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Q,{className:"w-5 h-5 text-red-500 mr-2"}),i.jsx("span",{className:"text-red-700",children:l})]})})}),i.jsx(sm,{recommendations:d,isLoading:o,onRefresh:We,memberId:e})]},"recommendations")]}),i.jsx(im,{})]})})};function rm(){return i.jsx(eo,{children:i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs(to,{children:[i.jsx(xt,{path:"/",element:i.jsx(Mi,{to:"/health-assessment",replace:!0})}),i.jsx(xt,{path:"/health-assessment",element:i.jsx(Uh,{memberId:"1",onComplete:e=>{console.log("건강 평가 완료:",e),window.location.href="/facility-search"},onCancel:()=>{console.log("건강 평가 취소")}})}),i.jsx(xt,{path:"/facility-search",element:i.jsx(nm,{memberId:1,coordinatorId:"coordinator-1",showRecommendations:!0})}),i.jsx(xt,{path:"*",element:i.jsx(Mi,{to:"/health-assessment",replace:!0})})]})})})}lo.createRoot(document.getElementById("root")).render(i.jsx(so.StrictMode,{children:i.jsx(rm,{})}));
