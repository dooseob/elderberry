var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,e)=>{for(var n in e||(e={}))o.call(e,n)&&s(t,n,e[n]);if(r)for(var n of r(e))i.call(e,n)&&s(t,n,e[n]);return t},c=(t,r)=>e(t,n(r)),l=(t,e)=>{var n={};for(var s in t)o.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&r)for(var s of r(t))e.indexOf(s)<0&&i.call(t,s)&&(n[s]=t[s]);return n};import{p as u}from"./vendor-DxT7_DgC.js";const d=t=>{let e;const n=new Set,r=(t,r)=>{const o="function"==typeof t?t(e):t;if(!Object.is(o,e)){const t=e;e=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},e,o),n.forEach(n=>n(e,t))}},o=()=>e,i={setState:r,getState:o,getInitialState:()=>s,subscribe:t=>(n.add(t),()=>n.delete(t))},s=e=t(r,o,i);return i},p=t=>t?d(t):d,f={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},v=new Map,y=t=>{const e=v.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([t,e])=>[t,e.getState()])):{}},m=t=>{var e,n;if(!t)return;const r=t.split("\n"),o=r.findIndex(t=>t.includes("api.setState"));if(o<0)return;const i=(null==(e=r[o+1])?void 0:e.trim())||"";return null==(n=/.+ (.+) .+/.exec(i))?void 0:n[1]},S=(t,e={})=>(n,r,o)=>{const i=e,{enabled:s,anonymousActionType:u,store:d}=i,p=l(i,["enabled","anonymousActionType","store"]);let S;try{S=(null!=s?s:"production"!==(f?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(_){}if(!S)return t(n,r,o);const O=((t,e,n)=>{if(void 0===t)return{type:"untracked",connection:e.connect(n)};const r=v.get(n.name);if(r)return a({type:"tracked",store:t},r);const o={connection:e.connect(n),stores:{}};return v.set(n.name,o),a({type:"tracked",store:t},o)})(d,S,p),{connection:b}=O,h=l(O,["connection"]);let I=!0;o.setState=(t,e,i)=>{const s=n(t,e);if(!I)return s;const l=void 0===i?{type:u||m((new Error).stack)||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===d?(null==b||b.send(l,r()),s):(null==b||b.send(c(a({},l),{type:`${d}/${l.type}`}),c(a({},y(p.name)),{[d]:o.getState()})),s)},o.devtools={cleanup:()=>{b&&"function"==typeof b.unsubscribe&&b.unsubscribe(),((t,e)=>{if(void 0===e)return;const n=v.get(t);n&&(delete n.stores[e],0===Object.keys(n.stores).length&&v.delete(t))})(p.name,d)}};const E=(...t)=>{const e=I;I=!1,n(...t),I=e},j=t(o.setState,r,o);if("untracked"===h.type?null==b||b.init(j):(h.stores[h.store]=o,null==b||b.init(Object.fromEntries(Object.entries(h.stores).map(([t,e])=>[t,t===h.store?j:e.getState()])))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){let t=!1;const e=o.dispatch;o.dispatch=(...n)=>{"production"===(f?"production":void 0)||"__setState"!==n[0].type||t||(t=!0),e(...n)}}return b.subscribe(t=>{var e;switch(t.type){case"ACTION":if("string"!=typeof t.payload)return;return g(t.payload,t=>{if("__setState"===t.type){if(void 0===d)return void E(t.state);Object.keys(t.state).length;const e=t.state[d];if(null==e)return;return void(JSON.stringify(o.getState())!==JSON.stringify(e)&&E(e))}o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(t)});case"DISPATCH":switch(t.payload.type){case"RESET":return E(j),void 0===d?null==b?void 0:b.init(o.getState()):null==b?void 0:b.init(y(p.name));case"COMMIT":return void 0===d?void(null==b||b.init(o.getState())):null==b?void 0:b.init(y(p.name));case"ROLLBACK":return g(t.state,t=>{if(void 0===d)return E(t),void(null==b||b.init(o.getState()));E(t[d]),null==b||b.init(y(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return g(t.state,t=>{void 0!==d?JSON.stringify(o.getState())!==JSON.stringify(t[d])&&E(t[d]):E(t)});case"IMPORT_STATE":{const{nextLiftedState:n}=t.payload,r=null==(e=n.computedStates.slice(-1)[0])?void 0:e.state;if(!r)return;return E(void 0===d?r:r[d]),void(null==b||b.send(null,n))}case"PAUSE_RECORDING":return I=!I}return}}),j},g=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){}void 0!==n&&e(n)},O=t=>(e,n,r)=>{const o=r.subscribe;r.subscribe=(t,e,n)=>{let i=t;if(e){const o=(null==n?void 0:n.equalityFn)||Object.is;let s=t(r.getState());i=n=>{const r=t(n);if(!o(s,r)){const t=s;e(s=r,t)}},(null==n?void 0:n.fireImmediately)&&e(s,s)}return o(i)};return t(e,n,r)};function b(t,e){let n;try{n=t()}catch(r){return}return{getItem:t=>{var e;const r=t=>null===t?null:JSON.parse(t,void 0),o=null!=(e=n.getItem(t))?e:null;return o instanceof Promise?o.then(r):r(o)},setItem:(t,e)=>n.setItem(t,JSON.stringify(e,void 0)),removeItem:t=>n.removeItem(t)}}const h=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then:t=>h(t)(n),catch(t){return this}}}catch(n){return{then(t){return this},catch:t=>h(t)(n)}}},I=(t,e)=>(n,r,o)=>{let i=a({storage:b(()=>localStorage),partialize:t=>t,version:0,merge:(t,e)=>a(a({},e),t)},e),s=!1;const c=new Set,l=new Set;let u=i.storage;if(!u)return t((...t)=>{n(...t)},r,o);const d=()=>{const t=i.partialize(a({},r()));return u.setItem(i.name,{state:t,version:i.version})},p=o.setState;o.setState=(t,e)=>{p(t,e),d()};const f=t((...t)=>{n(...t),d()},r,o);let v;o.getInitialState=()=>f;const y=()=>{var t,e;if(!u)return;s=!1,c.forEach(t=>{var e;return t(null!=(e=r())?e:f)});const o=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,null!=(t=r())?t:f))||void 0;return h(u.getItem.bind(u))(i.name).then(t=>{if(t){if("number"!=typeof t.version||t.version===i.version)return[!1,t.state];if(i.migrate){const e=i.migrate(t.state,t.version);return e instanceof Promise?e.then(t=>[!0,t]):[!0,e]}}return[!1,void 0]}).then(t=>{var e;const[o,s]=t;if(v=i.merge(s,null!=(e=r())?e:f),n(v,!0),o)return d()}).then(()=>{null==o||o(v,void 0),v=r(),s=!0,l.forEach(t=>t(v))}).catch(t=>{null==o||o(void 0,t)})};return o.persist={setOptions:t=>{i=a(a({},i),t),t.storage&&(u=t.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>s,onHydrate:t=>(c.add(t),()=>{c.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},i.skipHydration||y(),v||f},E=t=>(e,n,r)=>(r.setState=(t,n,...r)=>{const o="function"==typeof t?u(t):t;return e(o,n,...r)},t(r.setState,n,r));export{p as c,S as d,E as i,I as p,O as s};
